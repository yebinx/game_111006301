window.__require=function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var c="function"==typeof __require&&__require;if(!s&&c)return c(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+r+"'")}r=l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return o(t[r][1][e]||e)},u,u.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<i.length;r++)o(i[r]);return o}({AbstractBonusGameView:[function(e,t,n){"use strict";cc._RF.push(t,"1e9272F1SlCebW+EdLCXJqO","AbstractBonusGameView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../SlotManager/BonusGameManager"),r=e("../SlotDefinitions/SlotEnum"),s=e("../SlotConfigs/GameEventNames"),l=e("../SlotUtils/SlotUtils"),c=function(e){function t(){var t=e.call(this)||this;return t._isEventInited=!1,t._totalRewardsMap={},t._sceneRewardsMap={},t._lastOperateResults=[],t}return o(t,e),t.prototype.onLoad=function(){this.addEventListener(),this._isEventInited=!0},t.prototype.start=function(){this.addEventListener(),this._isEventInited=!0},Object.defineProperty(t.prototype,"bonusGameInfo",{get:function(){return a.default.instance.bonusGameInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalRewardsMap",{get:function(){return this._totalRewardsMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sceneRewardsMap",{get:function(){return this._sceneRewardsMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastOperateResults",{get:function(){return this._lastOperateResults},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"history",{get:function(){return this.bonusGameInfo?this.bonusGameInfo.history:[]},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this.removeEventListener()},t.prototype.onInit=function(){this._initRewards()},t.prototype.getLastActionResult=function(){return a.default.instance.lastActionResult},t.prototype.getLastActionResp=function(){return a.default.instance.actionResp},t.prototype.getLastRewards=function(e){var t=this.getLastActionResult();if(t.reward.length<=0)return 0;var n=l.default.findIndexFromArray(t.reward,function(t){return t.rewardType===e});return n<0?0:t.reward[n].number.toNumber()},t.prototype.isWin=function(e){var t=(e=e||this.getLastActionResult().reward).length;if(t<=0)return!1;for(var n=0;n<t;++n)if(e[n].number>0)return!0;return!1},t.prototype.getWinType=function(){return l.default.getWinType(this.getLastRewards(r.RewardsType.Coin),this.bonusGameInfo.betInfo)},t.prototype.operate=function(e){return void 0===e&&(e=[]),!!this.bonusGameInfo&&(this.bonusGameInfo.quantity<=0?(console.log("lack of operate times!"),!1):(a.default.instance.requestAction(e),!0))},t.prototype.next=function(){this._checkAndChangeScene()},t.prototype.addEventListener=function(){this._isEventInited||game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_BONUS_GAME_ACTION_RESPONSED,this._onActionResultUpdated,this)},t.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_BONUS_GAME_ACTION_RESPONSED,this._onActionResultUpdated,this)},t.prototype._checkAndChangeScene=function(){return this.bonusGameInfo.nextSceneInfo?(this.onChangeScene&&this.onChangeScene(this.bonusGameInfo.nextSceneInfo),void(this.bonusGameInfo.nowSceneId=this.bonusGameInfo.nextSceneInfo.sceneId)):this.bonusGameInfo.nextState?this._goToNextState(this.bonusGameInfo.nextState):void 0},t.prototype._goToNextState=function(){a.default.instance.onBonusGameFinished()},t.prototype._onActionResultUpdated=function(){this._renderResult(this.getLastActionResult()),this.onActionResult&&this.onActionResult()},t.prototype._renderResult=function(e){this._renderOperateResults(e),this._renderResultRewards(e)},t.prototype._renderOperateResults=function(e){this._lastOperateResults=e.result},t.prototype._renderResultRewards=function(e){var t,n=e.sceneId,i=e.reward;if(e.reward&&!((t=i.length)<=0)){var o=this._sceneRewardsMap[n];o||(this._sceneRewardsMap[n]={},o=this._sceneRewardsMap[n]);for(var a,s=0,l=0,c=0;c<t;++c)s=o[(a=i[c]).rewardType]||0,o[a.rewardType]=s+a.number.toNumber(),l=this._totalRewardsMap[a.rewardType]||0,this._totalRewardsMap[a.rewardType]=l+a.number.toNumber();this.bonusGameInfo.sumWinCoin=this._totalRewardsMap[r.RewardsType.Coin]||0}},t.prototype._initRewards=function(){for(var e=this.history,t=e.length-1;t>=0;--t)this._renderResult(e[t])},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),this.dispose()},t}(e("../../../main/BaseView").default);n.default=c,cc._RF.pop()},{"../../../main/BaseView":"BaseView","../SlotConfigs/GameEventNames":"GameEventNames","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotManager/BonusGameManager":"BonusGameManager","../SlotUtils/SlotUtils":"SlotUtils"}],AbstractMainView:[function(e,t,n){"use strict";cc._RF.push(t,"4a921r8Wh9NXpPxwz3Espc5","AbstractMainView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.AbstractMainView=void 0;var r=e("../../../main/script/CommonConst"),s=e("../../../slot_common/common/enum/CommonEnum"),l=e("../../../slot_common/slotMachine/script/MainView/CommonMainView"),c=e("../../../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy"),u=e("../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),p=e("../../../slot_common/slotMachine/script/SlotManager/BonusGameManager"),h=e("../../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),d=e("../../../slot_common/slotMachine/script/SlotManager/JackPotGameManager"),f=e("../../../slot_common/slotMachine/script/SlotManager/MultipleGameManager"),m=e("../../../slot_common/slotMachine/script/SlotManager/SpinManager"),g=e("../../../slot_common/sound/script/SoundMger"),_=e("../../../winAnimations/script/WinAniManager"),y=e("../Scroller/JTPGScrollerGroup"),T=e("../Scroller/ReplaceFactory"),S=cc._decorator,E=S.ccclass,v=S.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.elementViewLayer=null,t.isLoadingClosed=!1,t.startCall=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),T.ReplaceFactory.replaceFunction()},t.prototype.onInit=function(){},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(r.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onCloseLoadingView,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_RERUN_FLOWS,this._onRerunFlows,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(r.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.onCloseLoadingView,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_RERUN_FLOWS,this._onRerunFlows,this)},t.prototype.beforeInitSlotMachine=function(){this.slotMachine.playRenderInterval=150,this.slotMachine.isLoopGlobalLines=!0,this.slotMachine.showLineDuration=750,game.SoundManager.getInstance().setMusicVolume(0,core.Global.gameId.toString()),game.SoundManager.getInstance().setEffectVolume(0,core.Global.gameId.toString())},t.prototype._onRerunFlows=function(){var e=this;this.slotMachine.scroller.parse([],function(){e.slotMachine.onParseTaskOver()},!1,!1,!1)},t.prototype.runFlowsAfterInit=function(){var e=m.default.instance.totalWin;m.default.instance.totalWin=0,h.default.instance.hasFreeGame?(e=h.default.instance.freeGameInfo.sumCoin,this.startCall=this.parseLines,game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_UPDATE_WINSCORE,e),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!0),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"slotMachine")):p.default.instance.hasBonusGame?(m.default.instance.spinTouchEnable=!0,game.EventManager.getInstance().raiseEvent(r.CommonEventNames.EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"slotMachine"),this.parseLines()):(game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_UPDATE_WINSCORE,e),this.parseLines())},t.prototype.parseLines=function(){var e=this,t=m.default.instance.flattenLineRewardsResults;this.slotMachine.scroller.parse(t,function(){e.slotMachine.onParseTaskOver(),e.initSlotMachineComplete()},!1,!0,!0,!0)},t.prototype.onCloseLoadingView=function(){m.default.instance.spinTouchEnable=!0,this.isLoadingClosed=!0;var e="false"!=cc.sys.localStorage.getItem("isSoundOn_"+core.Global.gameId);g.SoundMger.instance.stopMusic(s.SOUND_NAME.Game_Back_Music),g.SoundMger.instance.playMusic(s.SOUND_NAME.Game_Back_Music),game.SoundManager.getInstance().setMusicVolume(e?1:0,core.Global.gameId.toString()),game.SoundManager.getInstance().setEffectVolume(e?1:0,core.Global.gameId.toString()),this.startCall&&this.startCall(),this.addUserActiveCheck(),this.onCloseLoadingViemListen(h.default.instance.hasFreeGame)},t.prototype.onCloseLoadingViemListen=function(e){e?(g.SoundMger.instance.stopMusic(s.SOUND_NAME.FreeGame_Back_Music),g.SoundMger.instance.playMusic(s.SOUND_NAME.FreeGame_Back_Music)):(g.SoundMger.instance.stopMusic(s.SOUND_NAME.Game_Back_Music),g.SoundMger.instance.playMusic(s.SOUND_NAME.Game_Back_Music))},t.prototype.initSlotMachineComplete=function(){m.default.instance.spinTouchEnable=this.isLoadingClosed,game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"slotMachine")},t.prototype.reEnterRoom=function(){var e=this;if(game.UIManager.getInstance().getUI(r.UIID.UI_BUY_SPIN_VIEW)&&(game.UIManager.getInstance().closeByUIID(r.UIID.UI_BUY_SPIN_VIEW),h.default.instance.hasFreeGame||game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,!0)),this.slotMachine.scroller.isRunning){var t=m.default.instance.rollingResult.spinResult;if(m.default.instance.isOldSpinResp)this.slotMachine.scroller.isSkipChangeTask=!0,this.slotMachine.scroller.onUpdate(t.gridChanged,t.gridChanged,t.realGridShapeChanged,t.realGridShapeChanged,t.occupyPosListChanged,t.occupyPosListChanged);else if(m.default.instance.getCustomResult()){var n=m.default.instance.getCustomResult(),i=t.grid,o=t.gridChanged;n&&n.length>0&&(i=n[0].spinResult.grid,o=n[0].spinResult.gridChanged),this.slotMachine.scroller.onUpdate(i,o,t.realGridShape,t.realGridShapeChanged,t.occupyPosList,t.occupyPosListChanged)}else this.slotMachine.scroller.onUpdate(t.grid,t.gridChanged,t.realGridShape,t.realGridShapeChanged,t.occupyPosList,t.occupyPosListChanged);return this.slotMachine.scroller.runningRuleTasks(),this.slotMachine.scroller.rendersDataReady(),void game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_GET_ROLLING_RESULT_RESP)}var a=this.slotMachine.scroller.taskPipeline.getCurrentTask();a&&a.priority<c.JTTaskPriority.JTLOOP_DISPLAY_LINES&&a.priority!=c.JTTaskPriority.JTBONUSGAME_TASK||(h.default.instance.hasFreeGame||p.default.instance.hasBonusGame?this.slotMachine.scroller.parse(m.default.instance.flattenLineRewardsResults,function(){e.slotMachine.onParseTaskOver()},!1,!0,!0,!0):a&&a.priority==c.JTTaskPriority.JTBONUSGAME_TASK&&this.slotMachine.scroller.parse(m.default.instance.flattenLineRewardsResults,function(){e.slotMachine.onParseTaskOver()},!1,!0,!0,!0),this.refreshRoom())},t.prototype.changeCostSuccess=function(){this.slotMachine.scroller.isRunning||(game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_UPDATE_WINSCORE,0),game.UIManager.getInstance().open(r.UIID.UI_LOADING_TIP),this.slotMachine.resetRender(),this.onChangeCost&&this.onChangeCost())},t.prototype.createScoller=function(){return new y.default},t.prototype.afterChangeScroller=function(e,t){if(f.default.instance.isChangeGame){var n=f.default.instance.nextSpinResult;if(n&&n.lineResult.length>0){m.default.instance.doFlattenLineRewardsResult(n),t.lineParser.lineResults=m.default.instance.flattenLineRewardsResults;var i=t.taskPipeline,o=[c.JTTaskPriority.JTCONVERT_PLAYLINES,c.JTTaskPriority.JTLOOP_DISPLAY_LINES];i.startWithPrioritys(o)}}},t.prototype.playFullLineAni=function(e,t,n){n.run()},t.prototype.addSettlementAni=function(e,t,n){n.run()},t.prototype.addUserUpLevelAni=function(e,t,n){n.run()},t.prototype.addFreeSpinsAni=function(e,t,n){n.run()},t.prototype.addFreeAdmission=function(e,t,n){n.run()},t.prototype.playWinAni=function(e,t,n){_.default.instance.playWinAni(e,t,n)},t.prototype.onJackPotGameTrigger=function(e){d.default.instance.jpRewardPush.jpId>1e4?game.UIManager.getInstance().open(r.UIID.UI_JPGAME,e):game.UIManager.getInstance().open(r.UIID.UI_JACKPOT_GAME,e)},a([v({type:cc.Node,tooltip:"\u5c55\u793a\u8d54\u4ed8\u5143\u7d20\u7684\u7236\u8282\u70b9"})],t.prototype,"elementViewLayer",void 0),a([E],t)}(l.CommonMainView);n.AbstractMainView=C,cc._RF.pop()},{"../../../main/script/CommonConst":"CommonConst","../../../slot_common/common/enum/CommonEnum":"CommonEnum","../../../slot_common/slotMachine/script/MainView/CommonMainView":"CommonMainView","../../../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy":"JTBaseLogicFactroy","../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../../slot_common/slotMachine/script/SlotManager/JackPotGameManager":"JackPotGameManager","../../../slot_common/slotMachine/script/SlotManager/MultipleGameManager":"MultipleGameManager","../../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../../slot_common/sound/script/SoundMger":"SoundMger","../../../winAnimations/script/WinAniManager":"WinAniManager","../Scroller/JTPGScrollerGroup":"JTPGScrollerGroup","../Scroller/ReplaceFactory":"ReplaceFactory"}],AnimationExtend:[function(e,t,n){"use strict";cc._RF.push(t,"f68e5ohsZVCWrcuhAHg8TsU","AnimationExtend");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.AniParam=n.ANIMATION_TYPE=void 0;var r,s=e("../../main/BaseView"),l=cc._decorator,c=l.ccclass;l.property,function(e){e[e.SPRITE_FRAMES_CLIP=0]="SPRITE_FRAMES_CLIP",e[e.SKELETON=1]="SKELETON"}(r=n.ANIMATION_TYPE||(n.ANIMATION_TYPE={}));n.AniParam=function(e,t,n,i,o,a,r,s,l){this.premultipliedAlpha=!1,this.timeScale=1,this.isLoadDir=!1,this.dstBlendFactor=cc.macro.ONE_MINUS_SRC_ALPHA,this.trim=!0,this.sizeMode=cc.Sprite.SizeMode.TRIMMED,this.aniType=e,this.url=t,this.bundle=n,this.aniName=i,this.sample=o,this.loadCompleteHandler=a;var c=cc.macro.ONE_MINUS_SRC_ALPHA;r&&(c=cc.macro.DST_ALPHA),this.dstBlendFactor=c,this.trim=s;var u=cc.Sprite.SizeMode.TRIMMED;l&&(u=cc.Sprite.SizeMode.RAW),this.sizeMode=u};var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.defaultSkin="",t.playCompleteHandler=null,t.isResLoaded=!1,t.isReadyPlay=!1,t.loop=!1,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.addAnimationComp=function(e){switch(this.aniType){case r.SKELETON:this.node.getComponent(cc.Sprite)&&this.node.removeComponent(cc.Sprite),this.skComp=this.node.addComponent(sp.Skeleton),this.skComp.premultipliedAlpha=!1,this.skComp.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE);break;case r.SPRITE_FRAMES_CLIP:this.node.getComponent(sp.Skeleton)&&this.node.removeComponent(sp.Skeleton),this.node.getComponent(cc.Sprite)||this.node.addComponent(cc.Sprite),this.aniComp=this.node.getComponent(cc.Animation)||this.node.addComponent(cc.Animation),this.node.getComponent(cc.Sprite).dstBlendFactor=e.dstBlendFactor,this.node.getComponent(cc.Sprite).trim=e.trim,this.node.getComponent(cc.Sprite).sizeMode=e.sizeMode}},t.prototype.init=function(e,t,n){switch(this.aniType=e.aniType,this.addAnimationComp(e),e.aniType){case r.SKELETON:t?this.loadSekeleton(e.url,e.bundle,e.aniName,e.loadCompleteHandler,e.timeScale,t,n):this.loadSekeleton(e.url,e.bundle,e.aniName,e.loadCompleteHandler,e.timeScale,e.premultipliedAlpha,n);break;case r.SPRITE_FRAMES_CLIP:this.loadSpriteFrames(e.url,e.bundle,e.aniName,e.sample,e.loadCompleteHandler,e.timeScale,e.isLoadDir)}},t.prototype.loadSpriteFrames=function(e,t,n,i,o,a,r){var s=this;void 0===i&&(i=30),void 0===o&&(o=null),void 0===r&&(r=!1),e&&("string"==typeof e?r?this.loadResDir(e,cc.SpriteFrame,function(e,t){e||(s.isResLoaded=!0,s.addAnimation(t,i,n,o,a),s.isReadyPlay&&s.playSpriteFramesClip())},t):this.loadRes(e,cc.SpriteAtlas,function(e,t){if(e);else{s.isResLoaded=!0;var r=t.getSpriteFrames();s.addAnimation(r,i,n,o,a),s.isReadyPlay&&s.playSpriteFramesClip()}},t):this.loadRes(e,cc.SpriteFrame,function(e,t){e||(s.isResLoaded=!0,s.addAnimation(t,i,n,o,a),s.isReadyPlay&&s.playSpriteFramesClip())},t))},t.prototype.addAnimation=function(e,t,n,i,o){void 0===o&&(o=1),e.sort(function(e,t){return e.name.localeCompare(t.name,"zh-CN",{numeric:!0})});var a=cc.AnimationClip.createWithSpriteFrames(e,t);a.name=n,a.speed=o,this.aniName=n,this.aniComp.addClip(a),a.wrapMode=cc.WrapMode.Loop,i&&i.run()},t.prototype.addClip=function(e,t,n,i,o,a){void 0===i&&(i=30),void 0===a&&(a=!1),this.aniType==r.SPRITE_FRAMES_CLIP&&(this.aniComp.getClips().some(function(e){return e.name===n})?this.isResLoaded=!0:(this.isResLoaded=this.isReadyPlay=!1,this.loadSpriteFrames(e,t,n,i,null,o,a)))},t.prototype.loadSekeleton=function(e,t,n,i,o,a,r){var s=this;void 0===o&&(o=1),void 0===a&&(a=!1),void 0===r&&(r="default"),this.loadRes(e,sp.SkeletonData,function(e,t){e||(s.isResLoaded=!0,s.aniName=n,s.defaultSkin=r,s.skComp.timeScale=o,s.skComp.skeletonData=t,s.skComp.premultipliedAlpha=a,s.skComp.setSkin(r),i&&i.run(),s.isReadyPlay&&s.playSkeleton())},t)},t.prototype.play=function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=null),this.aniName=e,this.playCompleteHandler=n,this.loop=t,this.isReadyPlay=!0,this.isResLoaded)switch(this.aniType){case r.SPRITE_FRAMES_CLIP:this.playSpriteFramesClip();break;case r.SKELETON:this.playSkeleton()}},t.prototype.stop=function(){switch(this.aniType){case r.SPRITE_FRAMES_CLIP:this.aniComp.stop();break;case r.SKELETON:this.skComp.paused=!0}},t.prototype.hide=function(){this.node.active},t.prototype.playSkeleton=function(){var e=this;if(this.skComp.setSkin(this.defaultSkin),this.aniName instanceof Array){this.skComp.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME);for(var t=0;t<this.aniName.length;t++){var n=this.aniName[t];this.skComp.setAnimation(t,n,this.loop)}}else this.skComp.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),this.skComp.setAnimation(0,this.aniName,this.loop);this.skComp.setCompleteListener(function(){if(e.playCompleteHandler){var t=e.playCompleteHandler;e.playCompleteHandler=null,t.run()}})},t.prototype.playSpriteFramesClip=function(){this.aniComp.on("finished",this.spFrameClipFinish,this),this.aniComp.play(this.aniName).wrapMode=this.loop?cc.WrapMode.Loop:cc.WrapMode.Normal},t.prototype.spFrameClipFinish=function(){if(this.playCompleteHandler){var e=this.playCompleteHandler;this.playCompleteHandler=null,e.run()}},a([c],t)}(s.default);n.default=u,cc._RF.pop()},{"../../main/BaseView":"BaseView"}],BalanceUIAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"576acJNIZ9EdZcDWRm2tQ4G","BalanceUIAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BalanceUIAnimation=void 0;var r=e("./FadeUIAnimation"),s=cc._decorator,l=s.ccclass,c=(s.property,s.menu,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([l],t)}(r.FadeUIAnimation));n.BalanceUIAnimation=c,cc._RF.pop()},{"./FadeUIAnimation":"FadeUIAnimation"}],BaseSpinSlotView:[function(e,t,n){"use strict";cc._RF.push(t,"059cc7pLHpLsp8BaGEbTrdV","BaseSpinSlotView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.SpinSlotAniType=n.SpinSlotHiddenSection=n.SpinSlotData=void 0;var a,r,s=e("../Scroller/renders/JTDefaultItemRender"),l=e("../SlotUtils/SlotUtils"),c=e("../SlotManager/BonusGameManager"),u=e("./SlotMachineView"),p=e("../SlotManager/SlotGameManager"),h=e("../SlotManager/SlotConfigManager"),d=e("../Scroller/renders/JTGLoader"),f=e("./SpinElementManager"),m=e("../../../common/utils/GData");n.SpinSlotData=function(){},function(e){e[e.None=0]="None",e[e.Top=1]="Top",e[e.Bottom=2]="Bottom"}(a=n.SpinSlotHiddenSection||(n.SpinSlotHiddenSection={})),function(e){e[e.Ani=1]="Ani",e[e.Component=2]="Component",e[e.FrameAni=3]="FrameAni"}(r=n.SpinSlotAniType||(n.SpinSlotAniType={}));var g=function(e){function t(){var t=e.call(this)||this;return t.aboveLoader=null,t.belowLoader=null,t.hiddenSection=a.None,t.visibleRow=1,t.mixColumn=1,t.mixRow=1,t.mixIndexs=[],t.isUseDefaultFont=!1,t.isPlayFullLineAni=!1,t.isInRolling=!1,t.isBlur=!1,t.needCenter=!0,t._iconName=null,t._isPoolComponent=!0,t._iconComponent=null,t._inAni=!1,t._playingRewardsAni=!1,t.fontTween=null,t._playingWild=!1,t._playingScatter=!1,t.isFade=!0,t.isBlur=!1,t.isUseDefaultFont=!0,t.isPlayFullLineAni=!0,t.aboveLoader=new d.default,t.belowLoader=new d.default,t.addChild(t.aboveLoader),t.addChild(t.belowLoader,-1),t}return o(t,e),Object.defineProperty(t.prototype,"iconComponent",{get:function(){return this._iconComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realData",{get:function(){return this._realData||this.data},set:function(e){this._realData=e},enumerable:!1,configurable:!0}),t.prototype.isVisibleRender=function(){var e=this.owner;return!(!e||!e.renders)&&e.renders.indexOf(this)>-1},Object.defineProperty(t.prototype,"iconUrl",{get:function(){return this.skinLoader.url},enumerable:!1,configurable:!0}),t.prototype.setData=function(e){this._data=e||this._data,this.setIcon()},t.prototype.play=function(t,n){e.prototype.play.call(this,t,n,u.default.instance)},t.prototype.fixRenderProperty=function(e,t){var n=this.owner;if(n){var i=n.config,o=i.getMixElementConfig(e),a=i.getMixElementConfig(t);if(o||a){var r=a?a.row:1,s=a?a.column:1;this.mixRow=r,this.mixColumn=s,this.width=i.girdWidth*s+i.gapX*(s-1),this.height=i.girdHeight*r+i.gapY*(r-1)}var l=!1;if(i.isUnfixedLengthItem(t)&&(l=!0),i.isUnfixedLengthItem(e)&&i.isUnfixedLengthItem(t),l){var c=i.getUnfixedLengthItemConfigByMapId(t);r=c?c.row:1,s=c?c.column:1,this.mixRow=r,this.mixColumn=s,this.width=i.girdWidth*s+i.gapX*(s-1),this.height=i.girdHeight*r+i.gapY*(r-1)}this.visibleRow>this.mixRow&&(this.visibleRow=this.mixRow)}},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){if(null!=e){if(this._data==e&&e)return this.reset(),void this.gotoAndStop(0);if(this.fixRenderProperty(this._data,e),this._data=e,0==this._data)return this.skinLoader.url=null,this.reset(),void(this.currentFrame=0);this.reset(),this.currentFrame=0}},enumerable:!1,configurable:!0}),t.prototype.gotoAndStop=function(t){this.stopAnimation(),e.prototype.gotoAndStop.call(this,t)},t.prototype.onStartRoll=function(){this.isInRolling=!0,this.setIcon()},t.prototype.onStopRoll=function(){this.isInRolling=!1,this.setIcon()},t.prototype.playAnimation=function(e,t,n,i){this.onPlayAnimation&&this.onPlayAnimation(e,t,n,i),this._inAni=!0,this.isWild()&&this.playWildAnimation(e,t,n,i),this.isScatter()&&this.playScatterAnimation(e,t,n,i)},t.prototype.stopAnimation=function(){this._inAni?(this.aboveLoader.url=null,this.belowLoader.url=null,this.onStopAnimation&&this.onStopAnimation(),this._inAni=!1,this.stopWildAnimation(),this.stopScatterAnimation(),this.stopRewardsAnimation()):this.stopRewardsAnimation()},t.prototype.playRewardsAnimation=function(e,n,i,o){e.winCoin<=0?t.winLabelNode&&t.winLabelNode.parent&&t.winLabelNode.removeFromParent():c.default.instance.bonusGameInfo&&c.default.instance.bonusGameInfo.initlized||(this.onPlayRewardsAnimation&&this.onPlayRewardsAnimation(e,n,i,o),this._playingRewardsAni=!0,this.playWinCoin(e,i,o))},t.prototype.playWinCoin=function(){},t.prototype.playIdleAnimaition=function(){this._inAni&&this.stopAnimation(),this.onPlayIdleAnimaition()},t.prototype.onPlayIdleAnimaition=function(){},t.prototype.stopRewardsAnimation=function(){this._playingRewardsAni&&(t.winLabelNode&&t.winLabelNode.removeFromParent(),this.onStopRewardsAnimation&&this.onStopRewardsAnimation(),this._playingRewardsAni=!1)},t.prototype.playWildAnimation=function(e,t,n,i){this._playingWild||(this._playingWild=!0,this.onPlayWildAnimation&&this.onPlayWildAnimation(e,t,n,i))},t.prototype.stopWildAnimation=function(){this._playingWild&&(this.onStopWildAnimation&&this.onStopWildAnimation(),this._playingWild=!1)},t.prototype.playScatterAnimation=function(e,t,n,i){this._playingScatter||(this._playingScatter=!0,this.onPlayScatterAnimation&&this.onPlayScatterAnimation(e,t,n,i))},t.prototype.stopScatterAnimation=function(){this._playingScatter&&(this.onStopScatterAnimation&&this.onStopScatterAnimation(),this._playingScatter=!1)},t.prototype.playBonusAnimation=function(e,t,n,i){this.onPlayBonusAnimation&&this.onPlayBonusAnimation(e,t,n,i)},t.prototype.stopBonusAnimation=function(){this.onStopBonusAnimation&&this.onStopBonusAnimation()},t.prototype.setIcon=function(e,t,n,i,o){switch(void 0===t&&(t=r.Ani),void 0===n&&(n=""),void 0===i&&(i=!0),e=e||this._makeIconUrl(),this._releaseOldIconComponent(),this._isPoolComponent=i,this._iconName=e,t){case r.Ani:this._setCommonIcon("cardAni",n,o);break;case r.FrameAni:this._setCommonIcon("cardFrame");break;case r.Component:this._setComponentIcon();break;default:throw"Invalid SpinSlotAnyType:"+t}},t.prototype._releaseOldIconComponent=function(){this._iconComponent&&(this._iconComponent.node.parent.removeChild(this._iconComponent.node),this._isPoolComponent||this._iconComponent.destroy(),this._iconComponent=null)},t.prototype._setCommonIcon=function(e,t,n){this.skinLoader.playTaskCall=n,this.skinLoader.url=l.default.makePackageAssetsUrl(this._iconName,e),t&&(this.skinLoader.aniName=t),this.skinLoader.active||(this.skinLoader.active=!0)},t.prototype._setComponentIcon=function(){this.skinLoader&&(this.skinLoader.active=!1),this.skinLoader.url=l.default.makePackageAssetsUrl(this._iconName),this.skinLoader.active||(this.skinLoader.active=!0),this._iconComponent&&(this._iconComponent.addComponent(cc.Sprite).spriteFrame=p.default.instance.getCardByName(this._iconName),this.addChild(this._iconComponent.node),this._iconComponent.node.zIndex=0)},t.prototype._makeIconUrl=function(){return this.isInRolling?this.isBlur?l.default.makeElementBlurIconName(this._data):"":l.default.makeElementIconName(this._data)},t.prototype.addEffectNode=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=0),e&&(e.parent&&e.removeFromParent(),t?this.aboveLoader.addChild(e):this.belowLoader.addChild(e),e.x=n,e.y=i)},t.prototype.isWild=function(){return l.default.isWild(this._data)},t.prototype.isScatter=function(){return l.default.isScatter(this._data)},t.prototype.getElementType=function(){return h.default.instance.DataElement.getData(this.data)?h.default.instance.DataElement.getData(this.data).type:(console.error("get element error,please check element:"+this.data+" is in in element table"),0)},t.prototype._isBonus=function(){return!1},t.prototype.onRollEnd=function(){},t.prototype.onOldElemDropEnd=function(){},t.prototype.onNewElemDropEnd=function(){},t.prototype.onDropEnd=function(){},t.prototype.onEliminate=function(){},t.prototype.beforeRollComplete=function(){},t.prototype.onScattterTaskCall=function(){},t.prototype.setAnimation=function(e,t,n,i,o){void 0===n&&(n=!0),void 0===i&&(i=null);var a=f.default.instance.getSpinElementConfig(this.data),r={};switch(r.assetType=e,e){case d.JTGLoaderAssetType.Skeleton:r.skeleton={};var s=a.skeletonUrl,l="zh"==m.GData.curLanguage?"zh":"en";s=s.replace(/&/g,l),r.skeleton.url=s,r.skeleton.premultipliedAlpha=a.premultipliedAlpha||!1,r.skeleton.defautAniName=t,r.skeleton.defaultSkinName=a.defaultSkinName,r.skeleton.animationCacheMode=a.animationCacheMode;break;case d.JTGLoaderAssetType.Clip:r.clip={};var c=a.frameClipUrl,u="zh"==m.GData.curLanguage?"zh":"en",p=void 0;if(c instanceof Array){p=[];for(var h=0,g=c;h<g.length;h++){var _=g[h];p.push(_.replace(/&/g,u))}}else p=c.replace(/&/g,u);var y=a.sample,T=a.speed;o&&(o.sample&&(y=o.sample),o.speed&&(T=o.speed)),r.clip.SpriteAtlasUrl=p,r.clip.sample=y,r.clip.speed=T,r.clip.clipName=t;break;case d.JTGLoaderAssetType.DragonBones:r.dragonBones={},r.dragonBones.assetUrl=a.dragonAssetUrl,r.dragonBones.atlasAssetUrl=a.dragonAssetAtlasUrl,r.dragonBones.armature=a.dragonArmature,r.dragonBones.premultipliedAlpha=a.premultipliedAlpha||!1,r.dragonBones.animation=t}r.loop=n,r.playCallback=i,this.skinLoader.setAsset(r)},t.prototype.setSkeletonAnimation=function(e,t,n,i,o,a){void 0===t&&(t=!0),void 0===n&&(n=null);var r=f.default.instance.getSpinElementConfig(this.data),s={};s.assetType=d.JTGLoaderAssetType.Skeleton,s.skeleton={};var l=r.skeletonUrl,c="zh"==m.GData.curLanguage?"zh":"en";l=l.replace(/&/g,c),s.skeleton.url=l,s.skeleton.premultipliedAlpha=o||r.premultipliedAlpha||!1,s.skeleton.defautAniName=e||r.normalAniName,s.skeleton.defaultSkinName=a||r.defaultSkinName,s.skeleton.animationCacheMode=null!=i?i:r.animationCacheMode,s.loop=t,s.playCallback=n,this.skinLoader.setAsset(s)},t.prototype.setDragonBonesAnimation=function(e,t,n,i,o,a){void 0===n&&(n=!0),void 0===i&&(i=null);var r=f.default.instance.getSpinElementConfig(this.data),s={};s.assetType=d.JTGLoaderAssetType.DragonBones,s.dragonBones={};var l=r.dragonAssetUrl,c="zh"==m.GData.curLanguage?"zh":"en";l=l.replace(/&/g,c),s.dragonBones.assetUrl=l,s.dragonBones.atlasAssetUrl=r.dragonAssetAtlasUrl,s.dragonBones.premultipliedAlpha=a||r.premultipliedAlpha||!1,s.dragonBones.animation=e||r.dragonAnimation,s.dragonBones.armature=t||r.dragonArmature,s.dragonBones.animationCacheMode=null!=o?o:r.animationCacheMode,s.loop=n,s.playCallback=i,this.skinLoader.setAsset(s)},t.winLabelNode=null,t}(s.default);n.default=g,cc._RF.pop()},{"../../../common/utils/GData":"GData","../Scroller/renders/JTDefaultItemRender":"JTDefaultItemRender","../Scroller/renders/JTGLoader":"JTGLoader","../SlotManager/BonusGameManager":"BonusGameManager","../SlotManager/SlotConfigManager":"SlotConfigManager","../SlotManager/SlotGameManager":"SlotGameManager","../SlotUtils/SlotUtils":"SlotUtils","./SlotMachineView":"SlotMachineView","./SpinElementManager":"SpinElementManager"}],BaseView:[function(e,t,n){"use strict";cc._RF.push(t,"5c030EPv59Is5gFM23lre6P","BaseView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/utils/Layout"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.resize=function(){this.layout(),this.setLayout(),this.node.getComponent(cc.Layout)&&this.node.getComponent(cc.Layout).updateLayout(),this.node.getComponent(cc.Widget)&&this.node.getComponent(cc.Widget).updateAlignment(),game.EventManager.getInstance().addEventListener(game.Const.mess_windowResize,this.onResize,this)},t.prototype.onResize=function(){this.layout(),this.setLayout()},t.prototype.setLayout=function(){r.Layout.isLandscape?this.layoutLandscape():this.layoutPortrait()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(game.Const.mess_windowResize,this.onResize,this)},t.prototype.layout=function(){},t.prototype.layoutLandscape=function(){},t.prototype.layoutPortrait=function(){},a([l],t)}(game.UIView));n.default=c,cc._RF.pop()},{"../common/utils/Layout":"Layout"}],BetUIAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"250d1zj09lNr6tFD01OknSK","BetUIAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BetUIAnimation=void 0;var r=e("./FadeUIAnimation"),s=cc._decorator,l=s.ccclass,c=(s.property,s.menu,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([l],t)}(r.FadeUIAnimation));n.BetUIAnimation=c,cc._RF.pop()},{"./FadeUIAnimation":"FadeUIAnimation"}],BetView:[function(e,t,n){"use strict";cc._RF.push(t,"7b19aH1EKVAZYsXTq9FIPsV","BetView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.BetSettingType=void 0;var r=e("../../main/script/CommonConst"),s=e("../../slot_common/common/enum/CommonEnum"),l=e("../../slot_common/common/utils/GData"),c=e("../../slot_common/main/BaseView"),u=e("../../slot_common/network/SlotProtoManager"),p=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),h=e("../../slot_common/slotMachine/script/SlotManager/PlayerManager"),d=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),f=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),m=e("../../slot_common/sound/script/SoundMger"),g=e("./ScoreBase"),_=e("./ScoresBetAmount"),y=e("./ScoresBetLevel"),T=e("./ScoresBetSize"),S=cc._decorator,E=S.ccclass,v=S.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.baseBetLabel=null,t.maxBetBtn=null,t.confirmBtn=null,t.closeBtn=null,t.winScore=null,t.allScore=null,t.betScore=null,t.nodes=[],t.curBetLabel=null,t.betLine_1=null,t.betLine_2=null,t.baseBet=1,t.betSizeData=[],t.betLevelData=[],t.oldBetCost=0,t.oldBetLabel=null,t.changeCostTipNode=null,t.sumData=0,t._betSizeAndLevel=[],t._betAmountArr=[],t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this;var e=l.GData.getParameter("main").isAssginLine;this.baseBet=d.default.instance.getRealLineRate()*(e?1:d.default.instance.lineNum),this.baseBetLabel.string=""+this.baseBet,this.maxBetBtn.on("click",this.onMaxBetClick,this),this.confirmBtn.on("click",this.onConfirmBetClick,this),this.closeBtn.on("click",this.popDown,this),this.allScore.string=f.default.formatNumber(Number(h.default.instance.showCoin),2,100,!0),this.betScore&&(this.betScore.string=f.default.formatNumber(d.default.instance.betCost)),this.winScore.string=f.default.formatNumber(0,2,100,!0),1==l.GData.getParameter("main").betLineStyle?(this.betLine_1.active=!0,this.betLine_2.active=!1):(this.betLine_1.active=!1,this.betLine_2.active=!0);for(var t=l.GData.getParameter("main").themeColor,i=0,o=this.nodes;i<o.length;i++)o[i].color=cc.Color.WHITE.fromHEX(t);this.node.active=!1,g.default.instance&&(this.winScore.string=f.default.formatNumber(g.default.instance.totalWin,2,100,!0)),game.EventManager.getInstance().addEventListener(r.CommonEventNames.EVENT_WINSCORE_CHANGE,this.onWinscoreChange,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CommonEventNames.EVENT_WINSCORE_CHANGE,this.onWinscoreChange,this)},t.prototype.start=function(){var e=this;console.log("start"),this.scheduleOnce(function(){_.default.instance.registerScrollEvent(e.onScrollBegan,e,e.onScrollEnd,e),y.default.instance.registerScrollEvent(e.onScrollBegan,e,e.onScrollEnd,e),T.default.instance.registerScrollEvent(e.onScrollBegan,e,e.onScrollEnd,e)},.1)},t.prototype.popDown=function(){m.SoundMger.instance.playEffect(s.SOUND_NAME.Currency_Button);var e=r.UIID["UI_BET_TYPE_"+l.GData.getParameter("main").settingStyle];game.UIManager.getInstance().closeByUIID(e)},t.prototype.showChangeCostTip=function(){if(l.GData.getParameter("main").isShowChangeCostTip&&!this.changeCostTipNode.active){this.changeCostTipNode.active=!0;var e=this.changeCostTipNode.y;cc.tween(this.changeCostTipNode).set({y:e-500}).to(.2,{y:e}).start()}},t.prototype.onWinscoreChange=function(e,t){this.winScore.string=f.default.formatNumber(t,2,100,!0)},t.prototype.onScrollBegan=function(){this.showChangeCostTip(),this.maxBetBtn.getComponent(cc.Button).interactable=!1,this.maxBetBtn.opacity=120,this.confirmBtn.getComponent(cc.Button).interactable=!1,this.confirmBtn.opacity=120,this.closeBtn.getComponent(cc.Button).interactable=!1},t.prototype.onScrollEnd=function(){this.confirmBtn.getComponent(cc.Button).interactable=!0,this.confirmBtn.opacity=255,this.closeBtn.getComponent(cc.Button).interactable=!0;var e=this.betSize*this.betLevel*this.baseBet,t=_.default.instance.getMaxAmount()==e;this.maxBetBtn.getComponent(cc.Button).interactable=!t,this.maxBetBtn.opacity=t?120:255},t.prototype.onEnable=function(){console.log("onenabe");var e=l.GData.getParameter("main").isAssginLine;this.baseBet=d.default.instance.getRealLineRate()*(e?1:d.default.instance.lineNum),this.baseBetLabel.string=""+this.baseBet,T.default.instance.initData(),y.default.instance.initData(),this.betAmountDataArr(),_.default.instance.initData(),this.oldBetCost=d.default.instance.betCost,this.oldBetLabel.string=f.default.formatNumber(d.default.instance.betCost),this.changeCostTipNode.active=!1,this.allScore.string=f.default.formatNumber(Number(h.default.instance.showCoin),2,100,!0),this.betScore&&(this.betScore.string=f.default.formatNumber(d.default.instance.betCost,2,100,!0)),this.scheduleOnce(this.syncScroes,.1)},t.prototype.syncScroes=function(){var e=this,t=this._betSizeAndLevel.find(function(t){return t.size===e.betSize&&t.level===e.betLevel});_.default.instance.forceUpdateByData(t)},t.prototype.onMaxBetClick=function(){var e=this._betSizeAndLevel[this._betSizeAndLevel.length-1];_.default.instance.forceUpdateByData(e),this.maxBetBtn.getComponent(cc.Button).interactable=!1,this.maxBetBtn.opacity=120,m.SoundMger.instance.playEffect(s.SOUND_NAME.Currency_Button),this.showChangeCostTip(),this.onScrollBegan()},t.prototype.onCloseBetClick=function(){this.popDown()},t.prototype.onConfirmBetClick=function(){var e=d.default.instance.lineCostIndex!=T.default.instance.selectedIndex||d.default.instance.lineValueMultipleIndex!=y.default.instance.selectedIndex;d.default.instance.lineCostIndex=T.default.instance.selectedIndex,d.default.instance.lineValueMultipleIndex=y.default.instance.selectedIndex,game.EventManager.getInstance().raiseEvent(p.GameEventNames.EVENT_LINE_COST_CHANGED,e),m.SoundMger.instance.playEffect(s.SOUND_NAME.Currency_Button),this.popDown(),l.GData.getParameter("main").isShowChangeCostTip&&this.changeCostTipNode.active&&e&&u.default.getInstance().changeCostReq()},t.prototype.updateBetAmount=function(){var e=this;if(T.default.instance&&y.default.instance){var t=this.betSize*this.betLevel*this.baseBet;if(console.log("\u6295\u6ce8\u603b\u989d\uff1a",t,this.betSize,this.betLevel),this.updateCurrentBetLabel(),_.default.instance){var n=this._betSizeAndLevel.find(function(t){return t.size===e.betSize&&t.level===e.betLevel});_.default.instance.updateAmountData(n)}}},t.prototype.updateCurrentBetLabel=function(){var e=this.betSize*this.betLevel*this.baseBet;this.curBetLabel&&(this.curBetLabel.string=f.default.formatNumber(e,2,100,!0))},Object.defineProperty(t.prototype,"getBetAmountLen",{get:function(){return this.sumData=this.betSizeData.length*this.betLevelData.length,this.sumData},enumerable:!1,configurable:!0}),t.prototype.betAmountDataArr=function(){this._betSizeAndLevel=[],this._betAmountArr=[],this.betSizeData=T.default.instance.betSizeData,this.betLevelData=y.default.instance.betLevelData;for(var e=0;e<this.betSizeData.length;e++)for(var t=this.betSizeData[e],n=0;n<this.betLevelData.length;n++){var i=this.betLevelData[n];if(!(t<=0||i<=0)){var o=t*i*this.baseBet,a=this._betAmountArr.indexOf(o);if(-1==a){this._betAmountArr.push(o),a=this._betAmountArr.length-1;var r={size:t,level:i,amount:o};this._betSizeAndLevel.push(r)}else r={size:t,level:i,amount:o},this._betSizeAndLevel.push(r)}}this._betAmountArr.sort(function(e,t){return e-t})},Object.defineProperty(t.prototype,"getSizeAndLevel",{get:function(){return this._betSizeAndLevel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"getBetAmountArr",{get:function(){return this._betAmountArr},enumerable:!1,configurable:!0}),t.prototype.getMapByAmount=function(e){return this._betSizeAndLevel.find(function(t){return t.amount===e})},Object.defineProperty(t.prototype,"betSize",{get:function(){return T.default.instance.betSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"betLevel",{get:function(){return y.default.instance.betLevel},enumerable:!1,configurable:!0}),t._instance=null,a([v({type:cc.Label})],t.prototype,"baseBetLabel",void 0),a([v({type:cc.Node})],t.prototype,"maxBetBtn",void 0),a([v({type:cc.Node})],t.prototype,"confirmBtn",void 0),a([v(cc.Node)],t.prototype,"closeBtn",void 0),a([v(cc.Label)],t.prototype,"winScore",void 0),a([v(cc.Label)],t.prototype,"allScore",void 0),a([v(cc.Label)],t.prototype,"betScore",void 0),a([v(cc.Node)],t.prototype,"nodes",void 0),a([v(cc.Label)],t.prototype,"curBetLabel",void 0),a([v(cc.Node)],t.prototype,"betLine_1",void 0),a([v(cc.Node)],t.prototype,"betLine_2",void 0),a([v(cc.Label)],t.prototype,"oldBetLabel",void 0),a([v(cc.Node)],t.prototype,"changeCostTipNode",void 0),n=a([E],t)}(c.default);n.default=C,function(e){e[e.SIZE=0]="SIZE",e[e.LEVEL=1]="LEVEL",e[e.AMOUNT=2]="AMOUNT"}(n.BetSettingType||(n.BetSettingType={})),cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/network/SlotProtoManager":"SlotProtoManager","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../slot_common/sound/script/SoundMger":"SoundMger","./ScoreBase":"ScoreBase","./ScoresBetAmount":"ScoresBetAmount","./ScoresBetLevel":"ScoresBetLevel","./ScoresBetSize":"ScoresBetSize"}],BonusGameInfo:[function(e,t,n){"use strict";cc._RF.push(t,"cd2f3Br7OxNzra+zTuSpiPS","BonusGameInfo"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this.sumWinCoin=0,this.costInfo=0,this.rate=1,this.nextSceneInfo=null,this.nextState=null,this.initlized=!1,this.bonusGameId=e,this.initlized=!1}return e.prototype.init=function(e){this.quantity=e.times,this.nowSceneId=e.sceneId,this._initHistory(e.history),this.betInfo=e.costInfo,this.rewardList=e.rewardList,this.pickCardResult=e.pickCardResult,this.luckyGoldResultList=e.luckyGoldResultList,this.rate=e.lgGlobalRate,this.costInfo=e.costInfo,this.tenantReward=e.tenantReward,this.otherInfo=e.other4,this.initlized=!0,this.lgOther2=e.lgOther2,this.collectContribute=e.collectContribute},e.prototype.dispose=function(){this.history=null},Object.defineProperty(e.prototype,"isComplete",{get:function(){return!!this.nextSceneInfo||!!this.nextState},enumerable:!1,configurable:!0}),e.prototype._initHistory=function(e){if(this.history=[],e&&e.length>0)for(var t=0;t<e.length;++t)this.history.push(e[t])},e}();n.default=i,cc._RF.pop()},{}],BonusGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"7f14c69BHNHnY2vramqdHR/","BonusGameManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotDefinitions/BonusGameInfo"),o=e("../SlotUtils/SlotUtils"),a=e("./SpinManager"),r=e("../SlotUtils/Handle"),s=e("./FreeGameManager"),l=e("./GlobalQueueManager"),c=e("../SlotDefinitions/SlotEnum"),u=e("../SlotConfigs/GameEventNames"),p=e("./PlayerManager"),h=e("../../../network/NetSlotConst"),d=e("../../../network/SlotProtoManager"),f=e("../../../common/utils/GData"),m=e("../../../common/layer/LayerManage"),g=e("./MultipleGameManager"),_=function(){function e(){this.autoEnterBonusGame=!0,this._lastActionResult=null,this.bonusGameLayer=null,this.bonusGameUIID=0,this._isTreateNewBonus=!1,this._canActionReqNext=!0,this.uidMap=[],this._doingBonusGame=!1,this.bonusGamePrefab=null,this.useKey=null}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bonusGameInfo",{get:function(){return this._bonusGameInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastActionResult",{get:function(){return this._lastActionResult},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTreateNewBonus",{get:function(){return this._isTreateNewBonus},set:function(e){this._isTreateNewBonus=e},enumerable:!1,configurable:!0}),e.prototype.init=function(){this._addProtocolListener();var t={},n=f.GData.getParameter("slotMachine").bonusGamePrefab;if("string"==typeof n)t[e.BUNUSGAME_UI_ID]={bundleName:f.GData.bundleName,path:n,preventKeyboard:!0,preventTouch:!0,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:m.LayerManage.popup,preventTouchOpacity:0};else if("object"==typeof n){var i=0;for(var o in this.uidMap=[],n){var a=n[o],r=e.BUNUSGAME_UI_ID+i;i++,this.uidMap.push({uuidStr:o,uuid:r}),t[r]={bundleName:f.GData.bundleName,path:a,preventKeyboard:!0,preventTouch:!0,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:m.LayerManage.popup,preventTouchOpacity:0}}}game.BaseUIConf.getInstance().mergeUIConf(t);var s=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(s)},e.prototype.dispose=function(){this._removeProtocolListener(),0!=this.bonusGameUIID&&game.UIManager.getInstance().closeByUIID(this.bonusGameUIID),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_CLOSE_BONUS_LAYER),game.ResLoader.getInstance().releaseAsset(this.bonusGamePrefab,this.useKey),e._instance=null},Object.defineProperty(e.prototype,"hasBonusGame",{get:function(){return!o.default.isNullOrUndefined(this._bonusGameInfo)},enumerable:!1,configurable:!0}),e.prototype.render=function(e,t){void 0===t&&(t=!1),this._bonusGameInfo=null,this.isTreateNewBonus=!1,e&&c.OperationState.BonusGame===e.state&&(this._bonusGameInfo=new i.default(e.lgId),this.isTreateNewBonus=!0,t||game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_TASK))},Object.defineProperty(e.prototype,"doingBonusGame",{get:function(){return this._doingBonusGame},enumerable:!1,configurable:!0}),e.prototype.try=function(){return!(!this.bonusGameInfo||!this._doingBonusGame&&(this._doingBonusGame=!0,this._requestBonusGameInfo()||this._startBonusGame(this.bonusGameInfo.bonusGameId),0))},e.prototype.onSlotMachineStopped=function(){this.hasBonusGame&&game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_TASK)},e.prototype.requestAction=function(e){if(void 0===e&&(e=[]),!this._canActionReqNext)return console.warn("wait resp"),!1;this._canActionReqNext=!1,d.default.getInstance().requestAction(this._bonusGameInfo.bonusGameId,e)},e.prototype.onBonusGameFinished=function(){this._doingBonusGame=!1;var e=this._bonusGameInfo;if(this._bonusGameInfo=null,this.bonusGameLayer&&(this.bonusGameLayer.destroy(),this.bonusGameLayer=null),0!=this.bonusGameUIID&&game.UIManager.getInstance().closeByUIID(this.bonusGameUIID),a.default.instance.totalWin=e.sumWinCoin,this._actionResp)return e.nextState.state===c.OperationState.BonusGame?this._treateNextBonusGame(e):void this._treateNextFreeGame(e);game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_OVER_TASK,e)},e.prototype._treateNextBonusGame=function(e){this.render(this._actionResp.state),this.isTreateNewBonus?game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_TREATE_NEXT_BONUSGAME,e):game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_OVER_TASK,e)},e.prototype._treateNextFreeGame=function(e){var t=!1;if(this._actionResp.state.state!==c.OperationState.Free&&this._actionResp.state.state!==c.OperationState.ReSpin){if(!s.default.instance.freeGameInfo)return void game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_OVER_TASK,e);t=!0}s.default.instance.renderBonusResume(this._actionResp,e),s.default.instance.hasNewFreeGame||t?(s.default.instance.onSlotMachineStopped(),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_OVER_TASK,e)):game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_OVER_TASK,e)},e.prototype._planToResumeFreeGame=function(){l.default.instance.pushToQueue(r.Handler.create(this,this._makeResumeFreeGameQueue))},e.prototype._makeResumeFreeGameQueue=function(){game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_RESUME_FREE_GAME,r.Handler.create(s.default.instance,s.default.instance.onResumeFreeGameHandler)),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_TASK,s.default.instance.freeGameInfo)},e.prototype._bonusGameOverHandler=function(){this.hasBonusGame&&this.onSlotMachineStopped(),l.default.instance.execute()},e.prototype._requestBonusGameInfo=function(){return!this._bonusGameInfo.initlized&&(d.default.getInstance().requestBonusGameInfo(this._bonusGameInfo.bonusGameId),!0)},e.prototype._onBonusGameInfoResp=function(e,t){this._bonusGameInfo.init(t),console.log("_onBonusGameInfoResp",t),this._startBonusGame(this._bonusGameInfo.bonusGameId)},Object.defineProperty(e.prototype,"actionResp",{get:function(){return this._actionResp},enumerable:!1,configurable:!0}),e.prototype._onActionResp=function(e,t){this._canActionReqNext=!0,this._actionResp=t,this.bonusGameInfo.quantity=t.times,this._bonusGameInfo.nextSceneInfo=t.next,this._bonusGameInfo.nextState=t.state,this._bonusGameInfo.luckyGoldResultList=t.luckyGoldResultList,this._bonusGameInfo.pickCardResult=t.pickCardResult,this._bonusGameInfo.lgOther2=t.lgOther2,this._lastActionResult=t.reward,this.bonusGameInfo.history.push(t.reward),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BONUS_GAME_ACTION_RESPONSED),t.allReward&&!t.allReward.equals(0)&&(this.bonusGameInfo.sumWinCoin=Number(t.allReward)),t.balance&&!t.balance.equals(0)&&(p.default.instance.updateRealCoin(Number(t.balance)),p.default.instance.syncShowingCoin()),t.state&&g.default.instance.resume(t.state)},e.prototype._startBonusGame=function(){console.log("_startBonusGame"),a.default.instance.nowGameType=a.GameType.BonusGame,this._showBonusUI()},e.prototype._showBonusUI=function(){var t=f.GData.getParameter("slotMachine").bonusGamePrefab;if("string"==typeof t&&t)this.bonusGameUIID=e.BUNUSGAME_UI_ID,game.UIManager.getInstance().open(e.BUNUSGAME_UI_ID);else if("object"==typeof t){for(var n=!1,i=0,o=this.uidMap;i<o.length;i++){var a=o[i];if(a.uuidStr==this.bonusGameInfo.bonusGameId.toString()){this.bonusGameUIID=a.uuid,n=!0;break}}n&&game.UIManager.getInstance().open(this.bonusGameUIID)}game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"bonus"),console.log("\u663e\u793a\u5c0f\u6e38\u620f")},e.prototype._addProtocolListener=function(){game.EventManager.getInstance().addEventListener(h.default.LGDATARESP,this._onBonusGameInfoResp,this),game.EventManager.getInstance().addEventListener(h.default.LGACTIONRESP,this._onActionResp,this)},e.prototype._removeProtocolListener=function(){game.EventManager.getInstance().removeEventListener(h.default.LGDATARESP,this._onBonusGameInfoResp,this),game.EventManager.getInstance().removeEventListener(h.default.LGACTIONRESP,this._onActionResp,this)},e._instance=null,e.BUNUSGAME_UI_ID=400,e}();n.default=_,cc._RF.pop()},{"../../../common/layer/LayerManage":"LayerManage","../../../common/utils/GData":"GData","../../../network/NetSlotConst":"NetSlotConst","../../../network/SlotProtoManager":"SlotProtoManager","../SlotConfigs/GameEventNames":"GameEventNames","../SlotDefinitions/BonusGameInfo":"BonusGameInfo","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotUtils/Handle":"Handle","../SlotUtils/SlotUtils":"SlotUtils","./FreeGameManager":"FreeGameManager","./GlobalQueueManager":"GlobalQueueManager","./MultipleGameManager":"MultipleGameManager","./PlayerManager":"PlayerManager","./SpinManager":"SpinManager"}],ButtonColor:[function(e,t,n){"use strict";cc._RF.push(t,"46df57hiaxCDJH9fbdp8+UW","ButtonColor");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.EButtonName=void 0;var r,s=e("../../slot_common/common/utils/GData"),l=cc._decorator,c=l.ccclass,u=l.property;l.executeInEditMode,function(e){e[e.FAST=1]="FAST",e[e.REDUCE=2]="REDUCE",e[e.ADD=3]="ADD",e[e.SET=4]="SET"}(r=n.EButtonName||(n.EButtonName={}));var p=function(){function e(){this.targetNode=null,this._color=cc.Color.WHITE}return Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(e){var t=this;this._color=e,this.targetNode.color=this.color,this.targetNode.getComponentsInChildren(cc.RenderComponent).forEach(function(e){(e.node.getComponent(cc.Sprite)||e.node.getComponent(cc.Label))&&(e.node.color=t.color)})},enumerable:!1,configurable:!0}),a([u(cc.Node)],e.prototype,"targetNode",void 0),a([c("ColorNode")],e)}(),h=function(){function e(){this.buttonName=r.FAST,this.targetNodes=[]}return a([u({type:cc.Enum(r)})],e.prototype,"buttonName",void 0),a([u(p)],e.prototype,"targetNodes",void 0),a([c("ButtonNode")],e)}(),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonNodes=[],t}return o(t,e),t.prototype.onLoad=function(){var e=s.GData.getParameter("gameControl");if(console.log("info=",e),e.color="#FFFFFF",e)for(var t=0;t<this.buttonNodes.length;t++){var n=cc.Color.WHITE,i=cc.Color.WHITE;switch(this.buttonNodes[t].buttonName){case r.FAST:case r.REDUCE:case r.ADD:case r.SET:n=(new cc.Color).fromHEX(e.color||"#ffffff"),i=(new cc.Color).fromHEX(e.color||"#ffffff")}this.buttonNodes[t].targetNodes[0]&&(this.buttonNodes[t].targetNodes[0].color=n),this.buttonNodes[t].targetNodes[1]&&(this.buttonNodes[t].targetNodes[1].color=i)}},a([u([h])],t.prototype,"buttonNodes",void 0),a([c],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../slot_common/common/utils/GData":"GData"}],BuyFreeBtnBase:[function(e,t,n){"use strict";cc._RF.push(t,"de09ck/2G1On6VtBXNImoXe","BuyFreeBtnBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/component/CustomButton"),s=e("../../common/utils/GData"),l=e("../../slotMachine/script/SlotManager/BonusGameManager"),c=e("../../slotMachine/script/SlotManager/FreeGameManager"),u=e("../../slotMachine/script/SlotManager/SpinManager"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.resize(),this.btn.getComponent(r.default).spriteSetIdx="zh"==s.GData.curLanguage?0:1,(c.default.instance.hasFreeGame||l.default.instance.isTreateNewBonus||l.default.instance.bonusGameInfo||!u.default.instance.isSlotMachineStopped)&&(this.btn.getComponent(r.default).interactable=!1)},t.prototype.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this)},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},t.prototype.onClick=function(e){var t=this;game.SoundManager.getInstance().playBtnSound(),this.btn.getComponent(r.default).interactable=!1,game.UIManager.getInstance().open(e,function(){t.btn.getComponent(r.default).interactable=!0})},t.prototype.layoutLandscape=function(){var e=s.GData.getParameter("layout").buyFreeBtn;e&&e.landScape&&game.Utils.setWidget(this.node,e.landScape)},t.prototype.layoutPortrait=function(){var e=s.GData.getParameter("layout").buyFreeBtn;e&&e.portrait&&game.Utils.setWidget(this.node,e.portrait)},a([d(cc.Node)],t.prototype,"btn",void 0),a([h],t)}(game.View);n.default=f,cc._RF.pop()},{"../../common/component/CustomButton":"CustomButton","../../common/utils/GData":"GData","../../slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slotMachine/script/SlotManager/SpinManager":"SpinManager"}],BuySpinSlot:[function(e,t,n){"use strict";cc._RF.push(t,"c8b2f1MkoZLvKj+hNr+J2Rm","BuySpinSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/script/CommonConst"),s=e("../../slot_common/buySpin/script/BuyFreeBtnBase"),l=cc._decorator,c=l.ccclass,u=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onClick=function(){e.prototype.onClick.call(this,r.UIID.UI_BUY_SPIN_VIEW),window.SpinElementView.hide()},a([c],t)}(s.default));n.default=u,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/buySpin/script/BuyFreeBtnBase":"BuyFreeBtnBase"}],BuySpinView:[function(e,t,n){"use strict";cc._RF.push(t,"40821Mk1aRBIISlyJd23ToC","BuySpinView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../../main/script/CommonConst"),s=e("../../common/utils/GData"),l=e("../../network/NetSlotConst"),c=e("../../network/SlotProtoManager"),u=e("../../slotMachine/script/SlotConfigs/GameEventNames"),p=e("../../slotMachine/script/SlotManager/FreeGameManager"),h=e("../../slotMachine/script/SlotManager/PlayerManager"),d=e("../../slotMachine/script/SlotManager/SpinManager"),f=e("../../slotMachine/script/SlotUtils/SlotUtils"),m=cc._decorator,g=m.ccclass,_=m.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buyfreespins=null,t.scaleNode=null,t.queding=null,t.quxiao=null,t.buyCost=null,t.btnCall=null,t.isClickYesBtn=!1,t}return o(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this.btnCall=n[0],setTimeout(function(){t.onTween()},30),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_CLOSE_BUY_FREE_VIEW,this.closeView,this)},t.prototype.onLoad=function(){cc.log("===buySpinView onLoad"),this.resize(),e.prototype.onLoad&&e.prototype.onLoad.call(this),this.setReceiveCallBack(),this.quxiao.on(cc.Node.EventType.TOUCH_END,this.close,this),this.queding.on(cc.Node.EventType.TOUCH_END,this.buyFreeImdReq,this),this.buyCost.string=f.default.formatNumber(c.default.buyMultiNum/1e4*d.default.instance.betCost);var t="zh"==s.GData.curLanguage?"animation_fadein_zh":"animation_fadein_en";this.buyfreespins.getComponent(sp.Skeleton).setAnimation(0,t,!1)},t.prototype.setReceiveCallBack=function(){this.netNode=game.NetManager.getInstance().getNetNode(),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.buyFreeImdResp],this.buyFreeImdResp,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this),this.quxiao.off(cc.Node.EventType.TOUCH_END,this.close,this),this.queding.off(cc.Node.EventType.TOUCH_END,this.buyFreeImdReq,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_CLOSE_BUY_FREE_VIEW,this.closeView,this)},t.prototype.layoutLandscape=function(){e.prototype.layoutLandscape&&e.prototype.layoutLandscape.call(this)},t.prototype.layoutPortrait=function(){e.prototype.layoutPortrait&&e.prototype.layoutPortrait.call(this)},t.prototype.onTween=function(){cc.tween(this.scaleNode).to(.2,{x:0}).start()},t.prototype.buyFreeImdReq=function(e){var t,n;game.SoundManager.getInstance().playBtnSound(),console.log("===buy \u2714 ,buyFreeImdReq--",e);var i=game.NetManager.getInstance().getNetNode(),o={};o.lines=d.default.instance.lineNum,o.cost=d.default.instance.getLineCostByIndex(),o.rate=d.default.instance.getRealLineRate(),o.assginLine=d.default.instance.assginLine,o.rateModulus=d.default.instance.rateModulus,o.lineMultiple=d.default.instance.getLinelMutiple(),null!=d.default.instance.extra&&(o.extra=d.default.instance.extra),console.log("===buy \u2714 ,reqType.rate--",o.lineMultiple);var a=Number(c.default.buyMultiNum/1e4*d.default.instance.betCost),r=h.default.instance.showCoin,s=null===(n=null===(t=c.default.getInstance().restoreResult)||void 0===t?void 0:t.spinCfg[0])||void 0===n?void 0:n.minBalance;if(Number(r)<Number(a)||s&&Number(r)<Number(s))game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_NO_MONEY_TIP_POP);else{this.isClickYesBtn=!0;var l=new protoSlot.buyFreeImdReq;l.req=o;var p=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.buyFreeImdReq,protoSlot.buyFreeImdReq,l);i.send(p),console.log("===buy \u2714111")}r<a||game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_BUY_FREE_EXPAND)},t.prototype.buyFreeImdResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.buyFreeImdResp,e);game.LogManager.getInstance().log("buyFreeImdResp",t),d.default.instance.totalWin=0,h.default.instance.updateRealCoin(Number(t.balance)),h.default.instance.syncShowingCoin(Number(t.balance)),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_SLOT_REFSH_BALANCE),game.EventManager.getInstance().raiseEvent(l.default.BUYFREESPINRESP,t),this.isClickYesBtn=!1,this.close(!1)},t.prototype.close=function(e){void 0===e&&(e=!0),this.isClickYesBtn||(console.log("===buy close "),e&&game.SoundManager.getInstance().playBtnSound(),e&&!p.default.instance.hasFreeGame&&this.btnCall&&this.btnCall(),game.UIManager.getInstance().closeByUIID(r.UIID.UI_BUY_SPIN_VIEW))},t.prototype.closeView=function(){this.close(!1)},a([_(cc.Node)],t.prototype,"buyfreespins",void 0),a([_(cc.Node)],t.prototype,"scaleNode",void 0),a([_(cc.Node)],t.prototype,"queding",void 0),a([_(cc.Node)],t.prototype,"quxiao",void 0),a([_(cc.Label)],t.prototype,"buyCost",void 0),a([g],t)}(game.View);n.default=y,cc._RF.pop()},{"../../../main/script/CommonConst":"CommonConst","../../common/utils/GData":"GData","../../network/NetSlotConst":"NetSlotConst","../../network/SlotProtoManager":"SlotProtoManager","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../../slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],CommonConst:[function(e,t,n){"use strict";var i;cc._RF.push(t,"b7c9dmWWDFG55+IDzYaNPCK","CommonConst"),Object.defineProperty(n,"__esModule",{value:!0}),n.CommonEventNames=n.UICF=n.UIID=void 0;var o,a=e("../../slot_common/common/layer/LayerManage");(function(e){e[e.UI_COMPENSATE=500]="UI_COMPENSATE",e[e.UI_RULE=501]="UI_RULE",e[e.UI_BET_TYPE_1=502]="UI_BET_TYPE_1",e[e.UI_BET_TYPE_2=503]="UI_BET_TYPE_2",e[e.UI_BALANCE=504]="UI_BALANCE",e[e.UI_TRUN_SETTING_TYPE_1=505]="UI_TRUN_SETTING_TYPE_1",e[e.UI_TRUN_SETTING_TYPE_2=506]="UI_TRUN_SETTING_TYPE_2",e[e.UI_LOADING_TIP=507]="UI_LOADING_TIP",e[e.UI_BUY_SPIN_VIEW=508]="UI_BUY_SPIN_VIEW",e[e.UI_TURN_COIN_VIEW=509]="UI_TURN_COIN_VIEW",e[e.UI_JPGAME=510]="UI_JPGAME",e[e.UI_JACKPOT_GAME=511]="UI_JACKPOT_GAME"})(o=n.UIID||(n.UIID={})),n.UICF=((i={})[o.UI_COMPENSATE]={bundleName:"slot",path:"compensateTable/prefab/compensateTable",preventKeyboard:!0,preventTouch:!0,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,loadingAni:!0,zOrder:a.LayerManage.popup},i[o.UI_RULE]={bundleName:"slot",path:"rule/prefab/rule",preventKeyboard:!0,preventTouch:!0,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:a.LayerManage.popup},i[o.UI_BET_TYPE_1]={bundleName:"slot",path:"score/prefab/betOption1",preventKeyboard:!0,preventTouch:!0,quickClose:!0,cache:!0,showType:game.UIShowTypes.UI_SINGLE,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:a.LayerManage.tip},i[o.UI_BET_TYPE_2]={bundleName:"slot",path:"score/prefab/betOption2",preventKeyboard:!0,preventTouch:!0,quickClose:!0,cache:!0,showType:game.UIShowTypes.UI_SINGLE,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:a.LayerManage.tip},i[o.UI_BALANCE]={bundleName:"slot",path:"score/prefab/balance",preventKeyboard:!0,preventTouch:!0,quickClose:!0,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:a.LayerManage.tip},i[o.UI_TRUN_SETTING_TYPE_1]={bundleName:"slot",path:"turnSetting/prefab/turnSetting1",preventKeyboard:!0,preventTouch:!0,quickClose:!0,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:a.LayerManage.tip},i[o.UI_TRUN_SETTING_TYPE_2]={bundleName:"slot",path:"turnSetting/prefab/turnSetting2",preventKeyboard:!0,preventTouch:!0,quickClose:!0,preventTouchOpacity:135,cache:!0,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:a.LayerManage.tip},i[core.COREUIID.UI_DIALOG]={bundleName:"slot",path:"common/prefabs/SPopupPrompt",cache:!0,preventTouch:!0,preventKeyboard:!0,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,showType:game.UIShowTypes.UI_ADDITION,zOrder:a.LayerManage.top},i[o.UI_LOADING_TIP]={bundleName:"slot",path:"common/prefabs/loadingTip",cache:!0,preventTouch:!1,preventKeyboard:!0,loadingAni:!1,showType:game.UIShowTypes.UI_ADDITION,zOrder:game.BaseUIConf.BASELAYER_TIPS},i[o.UI_BUY_SPIN_VIEW]={bundleName:"slot",path:"slot_common/buySpin/prefab/buySpinView",preventKeyboard:!0,preventTouch:!0,cache:!1,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,showType:game.UIShowTypes.UI_ADDITION,zOrder:a.LayerManage.popup},i[o.UI_TURN_COIN_VIEW]={bundleName:"slot",path:"slot_common/turnCoin/prefab/turnCoinView",preventKeyboard:!0,preventTouch:!1,cache:!0,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,showType:game.UIShowTypes.UI_ADDITION,zOrder:a.LayerManage.popup},i[o.UI_JPGAME]={bundleName:"slot",path:"slot_common/jackPot/prefab/JPGameCommon",preventKeyboard:!0,preventTouch:!0,cache:!1,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,showType:game.UIShowTypes.UI_FULLSCREEN,zOrder:a.LayerManage.popup,preventTouchOpacity:255},i[o.UI_JACKPOT_GAME]={bundleName:"slot",path:"slot_common/jackPot/prefab/JackPotGameCommon",preventKeyboard:!0,preventTouch:!0,cache:!1,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,showType:game.UIShowTypes.UI_FULLSCREEN,zOrder:a.LayerManage.popup,preventTouchOpacity:255},i),function(e){e.EVENT_SHOW_OR_HIDE_MENU="EVENT_SHOW_OR_HIDE_MENU",e.EVENT_POP_BETOPTION="EVENT_POP_BETOPTION",e.EVENT_POP_TURN_SETING="EVENT_POP_TURN_SETING",e.EVENT_POP_BALANCE="EVENT_POP_BALANCE",e.EVENT_WINSCORE_CHANGE="EVENT_WINSCORE_CHANGE",e.EVENT_CLOSE_LOADING_VIEW="EVENT_CLOSE_LOADING_VIEW",e.EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING="EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING",e.EVENT_ADD_LOADTASK_ONLOADING="EVENT_ADD_LOADTASK_ONLOADING",e.EVENT_CLOSE_MENU="EVENT_CLOSE_MENU",e.EVENT_CLOSE_CHANGE_COST_TIP="EVENT_CLOSE_CHANGE_COST_TIP",e.EVENT_CLICK_SPIN_BTN="EVENT_CLICK_SPIN_BTN",e.EVENT_BUY_FREE_BTN_STATE_FROM_EXTRA_BTN="EVENT_BUY_FREE_BTN_STATE_FROM_EXTRA_BTN"}(n.CommonEventNames||(n.CommonEventNames={})),cc._RF.pop()},{"../../slot_common/common/layer/LayerManage":"LayerManage"}],CommonEnum:[function(e,t,n){"use strict";cc._RF.push(t,"d09cbZZYYRIMYSpqLikoCnC","CommonEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.WinAniType=n.MAIN_NODE_NAME=n.SOUND_NAME=n.MENU_EVENT_TYPE=n.MENU_TYPE=n.NODE_TYPE=n.CANVAS_SIZE=n.Orientation=n.LAYOUT=void 0,function(e){e.landscape="landscape",e.portrait="portrait"}(n.LAYOUT||(n.LAYOUT={})),function(e){e[e.Landscape=0]="Landscape",e[e.Portrait=1]="Portrait",e[e.Both=2]="Both"}(n.Orientation||(n.Orientation={})),function(e){e[e.width_1920=1920]="width_1920",e[e.height_1080=1080]="height_1080",e[e.width_1136=1136]="width_1136",e[e.height_640=640]="height_640"}(n.CANVAS_SIZE||(n.CANVAS_SIZE={})),function(e){e.sprite="sprite",e.label="label",e.node="node",e.prefab="prefab",e.component="component"}(n.NODE_TYPE||(n.NODE_TYPE={})),function(e){e.compensateTable="compensateTable",e.back="back",e.setting="setting",e.record="record",e.open="open",e.friend="friend",e.mode="mode",e.feedback="feedback"}(n.MENU_TYPE||(n.MENU_TYPE={})),function(e){e.open_compensateTable="open_compensateTable",e.open_setting="open_setting",e.open_record="open_record",e.open_menu="open_menu",e.close_help="close_help",e.close_setting="close_setting",e.close_record="close_record",e.open_rollerMode="open_rollerMode"}(n.MENU_EVENT_TYPE||(n.MENU_EVENT_TYPE={})),function(e){e.Game_Back_Music="Game_Back_Music",e.Prize_Normal="Prize_Normal",e.Prize_Big="Prize_Big",e.Prize_Super="Prize_Super",e.Prize_Mega="Prize_Mega",e.Spin_Button_Sound="Spin_Button_Sound",e.Spin_Button_Hover="Spin_Button_Hover",e.Bet_Minus_Button="Bet_Minus_Button",e.Bet_Plus_Button="Bet_Plus_Button",e.Currency_Button="Currency_Button",e.Reel_Spin="Reel_Spin",e.Reel_Stop="Reel_Stop",e.Reel_Quick="Reel_Quick",e.Line_Switch="Line_Switch",e.Coin="Coin",e.UICoin="UICoin",e.Sctter="Sctter",e.Prize_Stop="Prize_Stop",e.UICoinEnd="UICoinend",e.Appear_Wheel="Appear_Wheel",e.Prize_Loop="Prize_Loop",e.Prize_Loop_End="Prize_Loop_End",e.Full_Line="Full_Line",e.Free_Game_Settlement="Free_Game_Settlement",e.Free_Start_Sound="Free_Start_Sound",e.Click_Reel_Stop="Click_Reel_Stop",e.Symbol_Drop="Symbol_Drop",e.Coin_Add="Coin_Add",e.Score_Appear="Score_Appear",e.Score_Ratio="Score_Ratio",e.Prize_All="Prize_All",e.Prize_All_Stop="Prize_All_Stop",e.Prize_Big_Coin="Prize_Big_Coin",e.Prize_Big_Number="Prize_Big_Number",e.Prize_Big_Text="Prize_Big_Text",e.Prize_Mega_Coin="Prize_Mega_Coin",e.Prize_Mega_Number="Prize_Mega_Number",e.Prize_Mega_Text="Prize_Mega_Text",e.Prize_Super_Coin="Prize_Super_Coin",e.Prize_Super_Number="Prize_Super_Number",e.Prize_Super_Text="Prize_Super_Text",e.Settle_Failed="Settle_Failed",e.JP_Box_Drop="JP_Box_Drop",e.JP_Cloth="JP_Cloth",e.JP_Fly_To_Box="JP_Fly_To_Box",e.JP_Music="JP_Music",e.JP_Rolling="JP_Rolling",e.JP_Stop="JP_Stop",e.JP_Text_Show="JP_Text_Show",e.JP_Open_Box="JP_Open_Box",e.JP_Voice="JP_Voice",e.JP_Coin_Loop="JP_Coin_Loop",e.JP_Coin_Stop="JP_Coin_Stop",e.JP_Coin_Music="JP_Coin_Music",e.FreeGame_Trigger_Again="FreeGame_Trigger_Again",e.CLICK_ELEMENT_VIEW="Click_Element_View",e.TurnCoinGameIn="turnCoinGameIn",e.Mariao_in="mariao_in",e.MariaoBgMusic="mariaoBgMusic",e.Mariao_hit="mariao_hit",e.Mariao_win="mariao_win",e.MariaoSettleEnd="marialSettleEnd",e.MariaoOverEffect="mariaoOverEffect",e.ClickHeadOrNum="clickHeadOrNum",e.Click_DH="click_DH",e.Click_Effect="click_Effect",e.FreeGame_Back_Music="FreeGame_Back_Music"}(n.SOUND_NAME||(n.SOUND_NAME={})),function(e){e.gameControl="gameControl",e.player="player",e.score="score",e.scene="scene",e.roller="roller",e.gameHead="gameHead",e.jackPot="jackPot",e.menu="menu",e.gamePlayers="gamePlayers",e.topBar="topBar",e.banner="banner",e.effect="effect",e.hashCiphertext="hashCiphertext",e.hashEntrance="hashEntrance",e.buySpinSlot="buySpinSlot"}(n.MAIN_NODE_NAME||(n.MAIN_NODE_NAME={})),function(e){e[e.None=0]="None",e[e.Normal=1]="Normal",e[e.Small=2]="Small",e[e.Middle=3]="Middle",e[e.Great=4]="Great"}(n.WinAniType||(n.WinAniType={})),cc._RF.pop()},{}],CommonMainView:[function(e,t,n){"use strict";cc._RF.push(t,"fc6a6vwd99CqYlh8Pv15UpQ","CommonMainView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.CommonMainView=void 0;var r=e("../SlotUtils/SlotUtils"),s=e("../SlotManager/FreeGameManager"),l=e("../SlotManager/SpinManager"),c=e("../SlotManager/SlotConfigManager"),u=e("../SlotDefinitions/SlotEnum"),p=e("../SlotUtils/Handle"),h=e("../Scroller/com/factorys/JTLayerFactory"),d=e("../Scroller/com/factorys/JTChildFactory"),f=e("../Scroller/transitions/procedure/scrolling/JTScrollingPipeline"),m=e("../Scroller/com/JTScrollerGroup"),g=e("../Scroller/transitions/JTOptionType"),_=e("../Scroller/transitions/procedure/scrolling/JTCreateScrolling"),y=e("../Scroller/transitions/procedure/scrolling/JTEmptyBeginScrolling"),T=e("../Scroller/transitions/procedure/scrolling/JTRunScrolling"),S=e("../Scroller/transitions/procedure/scrolling/JTOverScrolling"),E=e("../Scroller/renders/JTDefaultItemRender"),v=e("../SlotManager/GlobalQueueManager"),C=e("../SlotManager/BonusGameManager"),b=e("../SlotManager/SlotGameManager"),R=e("./SlotMachineView"),M=e("../SlotConfigs/GameEventNames"),L=e("../Scroller/com/plugins/JTChannelPipeline"),N=e("../Scroller/JTOddsUtils"),I=e("../Scroller/com/JTScrollerSettings"),O=e("../../../main/BaseView"),P=e("../../../sound/script/SoundMger"),A=e("../../../common/enum/CommonEnum"),w=e("./FreeGameRatioReward"),G=e("../SlotData/SDictionary"),D=e("../SlotManager/MultipleGameManager"),k=e("../Scroller/transitions/procedure/eliminate/EliminateEffectUtils"),x=e("../Scroller/extensions/JTChannelScrollerGroup"),B=e("../../../main/EntranceView"),J=e("../../../common/utils/GData"),F=e("../Scroller/com/factorys/JTBaseLogicFactroy"),U=e("../../../common/layer/LayerManage"),j=cc._decorator,V=j.ccclass,H=j.property,W=function(e){function t(){var t=e.call(this)||this;return t.rollerLayer=null,t.isSetMask=!1,t.maskPoints=null,t.isReSpinWinRetain=!1,t.hasCreat=!1,t.scatterTask=null,t.inFreeGameMode=!1,t.effectNode=null,t.lastActiveTime=0,t.isShowingPop=!1,t.tatalTimeOut=3e5,t.settlementAni=null,t}return o(t,e),t.prototype.onLoad=function(){this.effectNode=B.default.instance.getEffectLayer(),this.rollerLayer.addComponent(R.default),b.default.instance.start(this.init,this)},t.prototype.init=function(){if(!this.slotMachine){console.log("EVENT_NECESSARY_ASSETS_LOADED"),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED),s.default.instance.willHandleTriggerAgain=!r.default.isNullOrUndefined(this.onFreeGameTriggerAgain),this.initSound&&this.initSound(),this.addEventListener(),this.slotMachine=R.default.instance,this.slotMachine.gameLayer=this,this.slotMachine.isSetMask=this.isSetMask;var e=this.rollerLayer.parent;this.slotMachine.scrollContain=e,this.slotMachine.maskLayer=e,this.slotMachine.createScrollers(),this.maskPoints=new G.SDictionary,this.beforeInitSlotMachine();var t=new I.default;if(this.slotMachine.setupScrollerSettings(t),this.onInit(),l.default.instance.spinTouchEnable=!1,c.default.instance.isMultipleGame)for(var n=0,i=c.default.instance.gameIDs;n<i.length;n++){var o=i[n],a=this.slotMachine.getScrollerByGameID(o);a.mark(o),c.default.instance.changeGameID(o),this.onSetupScroller(o,a)}else{var u=c.default.instance.DataGame.getData(c.default.instance.gameID);this.slotMachine.scroller.mark(1),this.slotMachine.scroller.setupGridConfig(this.slotMachine.gridWidth,this.slotMachine.gridHeight,u.row,u.column,this.slotMachine.spaceXLandscape,this.slotMachine.spaceYLandscape,this.slotMachine.spaceXPortrait,this.slotMachine.spaceYPortrait,!0,this.slotMachine.orientation),this.onInitScroller(this.slotMachine)}this.slotMachine.array=l.default.instance.spinSlotsData||[],this.schedule(this.checkState,.1),P.SoundMger.instance.playMusic(A.SOUND_NAME.Game_Back_Music),console.log("init"),this.resize()}},t.prototype.beforeInitSlotMachine=function(){},t.prototype.initSlotMachineComplete=function(){},t.prototype.createScoller=function(){return new x.default},t.prototype.drawMask=function(e){var t=this.rollerLayer.parent.getComponent(cc.Mask);this.slotMachine.scroller.scrollerGroupMask?this.slotMachine.scroller.scrollerGroupMask.updateMask():!e||e.length<3||!t||(t._updateGraphics=function(){var n=t._graphics;n.clear();for(var i=0;i<e.length;i++){var o=e[i];0==i?n.moveTo(o.x,o.y):n.lineTo(o.x,o.y)}n.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?n.stroke():n.fill()},t._updateGraphics())},t.prototype.onSetupScroller=function(){},t.prototype.onScrollerInitComplete=function(){},t.prototype.onMutipleScrollerInit=function(){},t.prototype.onChangeScrollerComplte=function(){},t.prototype.afterChangeScroller=function(){},t.prototype.changeGameScroller=function(e,t){var n=this,i=D.default.instance.curGameID;if(this.onChangeScrollerBegin){var o=p.Handler.create(this,function(){n.slotMachine.changeScrollerByGameID(i),t.run()});this.onChangeScrollerBegin(i,o)}else this.slotMachine.changeScrollerByGameID(i),t.run()},t.prototype.changeScrollerByGameID=function(e){this.slotMachine.changeScrollerByGameID(e)},t.prototype.setMaskPoint=function(e,t){this.maskPoints.set(e,t)},t.prototype.changeMaskPointByGameID=function(e){var t=this.slotMachine.getScrollerByGameID(e).maskPolygon;t&&this.drawMask(t)},t.prototype.reEnterRoom=function(){var e=this;this.onInitFreeGameAndCustomData(),this.slotMachine.resetRender(),this.slotMachine.scroller.isRunning?(this.slotMachine.scroller.stopAll(),this.refreshRoom()):this.slotMachine.scroller.parse([],function(){e.slotMachine.onParseTaskOver(),e.refreshRoom()},!1,!1,!1)},t.prototype.changeCostSuccess=function(){},t.prototype.refreshRoom=function(){},t.prototype.onResetScroller=function(){},t.prototype.onScrollerFlowComplete=function(){},t.prototype.beforeScrollerStartRolling=function(){},t.prototype.checkState=function(){this.unschedule(this.checkState),this.onInitFreeGameAndCustomData(),this.slotMachine.isEnabledMask(!1),this.runFlowsAfterInit()},t.prototype.onInitFreeGameAndCustomData=function(){l.default.instance.customUpdateData&&this.onInitCustomData&&this.onInitCustomData&&this.onInitCustomData(l.default.instance.customUpdateData,p.Handler.create(this,this._onCustomDataCallBack)),s.default.instance.hasFreeGame&&(this.inFreeGameMode=!0,game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_COMMON_BTN_BYFREE),this.onInitFreeGame&&this.onInitFreeGame(s.default.instance.freeGameInfo,p.Handler.create(this,function(){})),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_INIT_FREEGAME))},t.prototype.runFlowsAfterInit=function(){var e=this;this.slotMachine.scroller.parse([],function(){e.slotMachine.onParseTaskOver(),e.initSlotMachineComplete()},!1,!1,!1)},t.prototype.onInitScroller=function(e){var t=e.scroller,n=c.default.instance.DataGame.getData(c.default.instance.gameID);t.setupFactory(new h.default,new d.default);var i=t.options(f.default,m.default.USE_CONVERT_MROE_LIST,n.column,e.scrollingComplete);i.childOption(_.default,g.default.OPTION_CREATE),i.childOption(y.default,g.default.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(T.default,g.default.OPTION_RUNNING,e.onSpinPreStop),i.childOption(S.default,g.default.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,c.default.instance.DataElement.getKeys(),!1,this.getFreeSourceList),E.default.setPlayCoinIndex(2,7)},t.prototype.getCustomDefaultDataList=function(e){for(var t=[],n=[],i=c.default.instance.DataGame.getData(c.default.instance.gameID).column,o=0;o<i;o++){for(var a=[],r=0;r<100;r++){var s=e.getRondomId();n.indexOf(Number(s))>-1?r--:a.push(s)}t.push(a)}return t},t.prototype.onWatchRunning=function(){},t.prototype.dispose=function(){this.slotMachine&&(this.slotMachine.dispose(),this.slotMachine=null,this.sideLineSetter=null),this.removeEventListener(),this.onDispose&&this.onDispose(),b.default.instance.clear(),L.default.destroy(),N.default.destroy(),this.scatterTask&&this.scatterTask.destroy(),v.default.instance.reset()},t.prototype.storeAutoGameTimes=function(e){void 0===e&&(e=!1),l.default.instance.storeAutoGameTimes(e)},t.prototype.recoverAutoGameTimes=function(){l.default.instance.recoverAutoGameTimes()},t.prototype.addEventListener=function(){game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN,this._onFreeGameTriggerAgain,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this._onBonusGameTrigger,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED,this._onFreeGameInfoUpdated,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,this._onFreeGameTimesUpdated,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_RESUME_FREE_GAME,this._onResumeFreeGame,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_CUSTOM_DATA_UPDATED,this._onCustomDataUpdate,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_BONUS_GAME_FINISEH,this._onBonusGameOver,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.reEnterRoom,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_CUSTOM_DATA_RECEIVED,this._onReceiveCustomData,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_FREE_GAME_TRIGGERED,this._onFreeGameTrigger,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_FREE_GAME_RATIO_REWARD,this._onFreeGameRatioRewardTrigger,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_CHANGE_GAME_SCROLLER,this.changeGameScroller,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_UPDATE_SINGLE_ROUND_WIN,this._onSingleRoundScoreComplte,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_BONUS_GAME_COMPLETE,this._onBonusGameComplete,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_PLAY_FREE_GAME_ANI,this.addFreeSpinsAni,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_FULL_LINE_HIT,this.playFullLineAni,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_PLAY_FREE_GAME_ADMISSION_ANI,this.addFreeAdmission,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.USER_UPLEVEL_ANI,this.addUserUpLevelAni,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_CHANGE_COST_SUCCESS,this.changeCostSuccess,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_ROLL_RESULT_RESP,this.onUserActive,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_JACKPOT_GAME_TRIGGERED_TASK,this._onJackPotGameTrigger,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,this.addsettlementAni,this),game.EventManager.getInstance().addEventListener(M.GameEventNames.EVENT_BEFORE_RESTORE_REQ,this.beforeRestoreReq,this),game.EventManager.getInstance().addEventListener(game.Const.mess_netclose,this.onNetClose,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_setSlotRollingParam,this.testForRollingParam,this)},t.prototype.testForRollingParam=function(e,t){var n=this.slotMachine.settings;try{var i=JSON.parse(t);n.setDefaultSettingConfig(i)}catch(o){console.log("\u53c2\u6570\u683c\u5f0f\u9519\u8bef"),core.TipsManager.getInstance().showToast("\u53c2\u6570\u683c\u5f0f\u9519\u8bef")}},t.prototype.removeEventListener=function(){game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN,this._onFreeGameTriggerAgain,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this._onBonusGameTrigger,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED,this._onFreeGameInfoUpdated,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,this._onFreeGameTimesUpdated,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_RESUME_FREE_GAME,this._onResumeFreeGame,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_CUSTOM_DATA_UPDATED,this._onCustomDataUpdate,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_BONUS_GAME_FINISEH,this._onBonusGameOver,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_CUSTOM_DATA_RECEIVED,this._onReceiveCustomData,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.reEnterRoom,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_FREE_GAME_TRIGGERED,this._onFreeGameTrigger,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_FREE_GAME_RATIO_REWARD,this._onFreeGameRatioRewardTrigger,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_CHANGE_GAME_SCROLLER,this.changeGameScroller,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_UPDATE_SINGLE_ROUND_WIN,this._onSingleRoundScoreComplte,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_BONUS_GAME_COMPLETE,this._onBonusGameComplete,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_FULL_LINE_HIT,this.playFullLineAni,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_PLAY_FREE_GAME_ANI,this.addFreeSpinsAni,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_PLAY_FREE_GAME_ADMISSION_ANI,this.addFreeAdmission,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.USER_UPLEVEL_ANI,this.addUserUpLevelAni,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_CHANGE_COST_SUCCESS,this.changeCostSuccess,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_ROLL_RESULT_RESP,this.onUserActive,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_JACKPOT_GAME_TRIGGERED_TASK,this._onJackPotGameTrigger,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,this.addsettlementAni,this),game.EventManager.getInstance().removeEventListener(M.GameEventNames.EVENT_BEFORE_RESTORE_REQ,this.beforeRestoreReq,this),game.EventManager.getInstance().removeEventListener(game.Const.mess_netclose,this.onNetClose,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_setSlotRollingParam,this.testForRollingParam,this)},t.prototype.getSourceList=function(){for(var e=[],t=c.default.instance.DataGame.getData(c.default.instance.gameID).column,n=1;n<=t;n++){var i=c.default.instance.DataRoller.getColumnData(n);e.push(i)}return e},t.prototype.getFreeSourceList=function(){for(var e=[],t=c.default.instance.DataGame.getData(c.default.instance.gameID).column,n=1;n<=t;n++){var i=c.default.instance.DataFreeRoller.getColumnData(n);if(!i)return null;e.push(i)}return 0==e.length?null:e},t.prototype._onBonusGameOver=function(e,t,n){if(this.onBonusGameOver){var i=p.Handler.create(this,function(){game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_SHOW_HASH_LABLE,!0),n.run()});this.onBonusGameOver(t,i)}else n.run()},t.prototype._onBonusGameComplete=function(e,t,n){this.onBonusGameComplete?this.onBonusGameComplete(t,n):n.run()},t.prototype.afterFreeGameTriggered=function(){},t.prototype.afterFreeGameOver=function(){},t.prototype.afterFreeGameTriggerAgain=function(){},t.prototype._onFreeGameTrigger=function(e,t){this.inFreeGameMode=!0,s.default.instance.hasNewFreeGame=!1,this.onFreeGameTriggered&&(s.default.instance.treatingTrigger=!0)&&this.onFreeGameTriggered(s.default.instance.freeGameInfo,p.Handler.create(this,this._onFreeGameTriggerOver,[t]))},t.prototype._onFreeGameTriggerAgain=function(e,t,n){this.afterFreeGameTriggerAgain(),s.default.instance.hasNewFreeGame=!1,this.onFreeGameTriggerAgain?(s.default.instance.treatingTrigger=!0)&&this.onFreeGameTriggerAgain(t,n):n.run(),this.onFreeGameTimesUpdated&&this.onFreeGameTimesUpdated(s.default.instance.freeGameInfo.times,s.default.instance.freeGameInfo.sumTimes),this.onFreeGameInfoUpdated&&this.onFreeGameInfoUpdated(s.default.instance.freeGameInfo)},t.prototype._onFreeGameOver=function(e,t,n){var i=this;this.inFreeGameMode=!1,R.default.instance.isFreeGameOver=!0,s.default.instance.freeGameInfo=null,game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!1);var o=t.sumCoin;s.default.instance.isShowFreeOverWinAddTrigger&&(o=t.sumCoinAndTrigger),this.isReSpinWinRetain&&t.type==u.OperationState.ReSpin&&(o=t.sumCoinAndTrigger),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,o);var a=p.Handler.create(this,function(){console.log("\u514d\u8d39\u6e38\u620f\u7ed3\u675f\u56de\u8c03------"),i.afterFreeGameOver(),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_FREEGAME_OVER_EXPAND),n&&n.runWith(!0)});this.onFreeGameOver&&this.onFreeGameOver(t,a)},t.prototype._onBonusGameTrigger=function(e,t){game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_SHOW_HASH_LABLE,!1),this.onBonusGameTriggered&&this.onBonusGameTriggered(C.default.instance.bonusGameInfo,p.Handler.create(this,this._onBonusGameTriggerOver,[t]))},t.prototype._onFreeGameTriggerOver=function(e,t){void 0===t&&(t=!1),s.default.instance.treatingTrigger=!1,this.afterFreeGameTriggered(),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_AFTER_FREEGAME_TRIGGERED),e.run()},t.prototype._onFreeGameRatioRewardTrigger=function(e,t,n,i,o){console.log("_onFreeGameRatioRewardTrigger",t,i,n,o,k.default.eliminateTotalWin);var a=this.node.getComponent(w.FreeGameRatioReward);if(k.default.eliminateTotalWin>0&&1==t)o.run();else if(a)a.playEff(t,n,i,o);else{var s=r.default.getWinType(n,l.default.instance.betCost);s==u.WinType.Normal?(game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_PLAYED_NORMAL_REWARD),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_PLAY_REWARD_ANI,l.default.instance.totalWin,s,o)):o&&o.run()}},t.prototype._onSingleRoundScoreComplte=function(e,t,n){var i=this.node.getComponent(w.FreeGameRatioReward);if(i&&k.default.eliminateTotalWin>0){var o=p.Handler.create(this,function(){var e=r.default.getWinType(l.default.instance.totalWin,l.default.instance.betCost);s.default.instance.isTreateFromFreeGame&&e==u.WinType.Normal?(game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_PLAYED_NORMAL_REWARD),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_PLAY_REWARD_ANI,l.default.instance.totalWin,e,t)):t.run()});l.default.instance.totalWin>k.default.eliminateTotalWin?n>1?t.run():(i.playScoreChangeEffect(k.default.eliminateTotalWin,l.default.instance.totalWin),this.scheduleOnce(function(){i.hideScoreChangeEffect(o)},1)):i.hideScoreChangeEffect(o)}else t.run()},t.prototype._onBonusGameTriggerOver=function(e,t){void 0===t&&(t=!1),e.run(),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_RESET_WIN),C.default.instance.try()},t.prototype._onFreeGameInfoUpdated=function(e,t,n){this.onFreeGameInfoUpdated&&this.onFreeGameInfoUpdated(t),n.run()},t.prototype._onFreeGameTimesUpdated=function(e,t){var n=t[0],i=t[1];this.onFreeGameTimesUpdated&&this.onFreeGameTimesUpdated(n,i)},t.prototype._onResumeFreeGame=function(e,t){if(this.onResumeFreeGame)return this.onResumeFreeGame(s.default.instance.freeGameInfo,t);this.onInitFreeGame&&this.onInitFreeGame(s.default.instance.freeGameInfo,t)},t.prototype._onReceiveCustomData=function(){l.default.instance.rollingResult},t.prototype._onCustomDataUpdate=function(e,t){l.default.instance.customUpdateData?(this.onCustomDataUpdate||t.run(),this.onCustomDataUpdate&&this.onCustomDataUpdate(l.default.instance.customUpdateData,p.Handler.create(this,function(){t.run()}))):t.run()},t.prototype._onCustomDataCallBack=function(){},t.prototype._onJackPotGameTrigger=function(e,t){this.onJackPotGameTrigger?this.onJackPotGameTrigger(t):t.run()},t.prototype.showWinAniView=function(e,t,n,i,o,a,r){void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===a&&(a=1);var l=s.default.instance.isTreateFromFreeGame&&!s.default.instance.isTreateFreeOver,c=s.default.instance.isTreateFromFreeGame,h=!1;if(null!=r&&(c=r,0==r&&(l=!1,h=!0)),s.default.instance.isTreateNewFree&&s.default.instance.freeGameInfo.type==u.OperationState.ReSpin&&this.isReSpinWinRetain&&(l=!0,c=!0),e==A.WinAniType.Normal)i?game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_UPDATE_WINSCORE,t,l,c,h,n,o,a):((!l||h)&&game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!1),game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE),n&&n.run());else{game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_RESET_WIN);var d=p.Handler.create(this,function(){i?game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_UPDATE_WINSCORE,t,l,c,h,n,o):(game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE),(!l||h)&&game.EventManager.getInstance().raiseEvent(M.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!1),n&&n.run())});this.playWinAni(e,t,d)}},t.prototype.playWinAni=function(e,t,n){n.run()},t.prototype.playFullLineAni=function(e,t,n){n.run()},t.prototype.addSettlementAni=function(e,t,n){n.run()},t.prototype.addUserUpLevelAni=function(e,t,n){n.run()},t.prototype.addFreeSpinsAni=function(e,t,n){n.run()},t.prototype.addFreeAdmission=function(e,t,n){n.run()},t.prototype.layoutLandscape=function(){this.slotMachine&&this.slotMachine.layoutLandscape()},t.prototype.layoutPortrait=function(){this.slotMachine&&this.slotMachine.layoutPortrait()},t.prototype.addUserActiveCheck=function(){var e=this;this.lastActiveTime=(new Date).getTime(),cc.Canvas.instance.node.on(cc.Node.EventType.TOUCH_START,this.onUserActive,this,!0),window.document.getElementById("GameCanvas").addEventListener("mouseenter",this.onUserActive.bind(this),!1),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(){e.onUserActive()}),this.unschedule(this.checkActive),this.schedule(this.checkActive,5)},t.prototype.checkActive=function(){var e=(new Date).getTime();(l.default.instance.restAutoTimes||s.default.instance.hasFreeGame||l.default.instance.inGame)&&(this.lastActiveTime=(new Date).getTime()),e-this.lastActiveTime>this.tatalTimeOut&&!this.isShowingPop&&(this.unschedule(this.checkActive),this.isShowingPop=!0,this.showTimeOutPrompt())},t.prototype.showTimeOutPrompt=function(){var e={};e.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),e.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips14"),e.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),e.tips=game.LanguageManager.getInstance().getDstStr("pg_tips06")+"\n<size=22>("+game.LanguageManager.getInstance().getDstStr("pg_tips07")+")</size>",e.okCbTarget={},e.cancelCbTarget={},e.cancelCbTarget.callback=function(){window.location.reload()},e.okCbTarget={},e.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()},e.onlyOKBtn=!1,core.TipsManager.getInstance().showPopupPrompt(e)},t.prototype.onUserActive=function(){this.lastActiveTime=(new Date).getTime()},t.prototype.checkCanPlayEffect=function(){return!0},t.prototype.showNormalRewardTip=function(){},t.prototype.addsettlementAni=function(e,t,n){var i=this;P.SoundMger.instance.playEffect(A.SOUND_NAME.Free_Game_Settlement),this.settlementAni?this.settlementAni.getComponent("SettlementAni").play(t,this.settlementAniPlayComplete.bind(this,n)):game.ResLoader.getInstance().loadRes("slot_common/settlementAni/prefab/settlementAni",cc.Prefab,function(e,o){e?n.run():(i.settlementAni=cc.instantiate(o),U.LayerManage.addChildIndex(i.settlementAni,U.LayerManage.tip),i.settlementAni.getComponent("SettlementAni").play(t,i.settlementAniPlayComplete.bind(i,n)))},"slot","AbstractMainView_settlementAni")},t.prototype.settlementAniPlayComplete=function(e){e.run()},t.prototype.getSkin=function(e){switch(e=null==e?J.GData.skinId:e){case 1:return"";case 2:return"_skin2";case 3:return"_skin3";default:return""}},t.prototype.beforeRestoreReq=function(){this.slotMachine&&this.slotMachine.scroller&&this.slotMachine.scroller.taskPipeline&&(this.slotMachine.scroller.taskPipeline.getCurrentPriority(),F.JTTaskPriority.JTBONUSGAME_TASK)},t.prototype.onNetClose=function(){},a([H(cc.Node)],t.prototype,"rollerLayer",void 0),a([V],t)}(O.default);n.CommonMainView=W,cc._RF.pop()},{"../../../common/enum/CommonEnum":"CommonEnum","../../../common/layer/LayerManage":"LayerManage","../../../common/utils/GData":"GData","../../../main/BaseView":"BaseView","../../../main/EntranceView":"EntranceView","../../../sound/script/SoundMger":"SoundMger","../Scroller/JTOddsUtils":"JTOddsUtils","../Scroller/com/JTScrollerGroup":"JTScrollerGroup","../Scroller/com/JTScrollerSettings":"JTScrollerSettings","../Scroller/com/factorys/JTBaseLogicFactroy":"JTBaseLogicFactroy","../Scroller/com/factorys/JTChildFactory":"JTChildFactory","../Scroller/com/factorys/JTLayerFactory":"JTLayerFactory","../Scroller/com/plugins/JTChannelPipeline":"JTChannelPipeline","../Scroller/extensions/JTChannelScrollerGroup":"JTChannelScrollerGroup","../Scroller/renders/JTDefaultItemRender":"JTDefaultItemRender","../Scroller/transitions/JTOptionType":"JTOptionType","../Scroller/transitions/procedure/eliminate/EliminateEffectUtils":"EliminateEffectUtils","../Scroller/transitions/procedure/scrolling/JTCreateScrolling":"JTCreateScrolling","../Scroller/transitions/procedure/scrolling/JTEmptyBeginScrolling":"JTEmptyBeginScrolling","../Scroller/transitions/procedure/scrolling/JTOverScrolling":"JTOverScrolling","../Scroller/transitions/procedure/scrolling/JTRunScrolling":"JTRunScrolling","../Scroller/transitions/procedure/scrolling/JTScrollingPipeline":"JTScrollingPipeline","../SlotConfigs/GameEventNames":"GameEventNames","../SlotData/SDictionary":"SDictionary","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotManager/BonusGameManager":"BonusGameManager","../SlotManager/FreeGameManager":"FreeGameManager","../SlotManager/GlobalQueueManager":"GlobalQueueManager","../SlotManager/MultipleGameManager":"MultipleGameManager","../SlotManager/SlotConfigManager":"SlotConfigManager","../SlotManager/SlotGameManager":"SlotGameManager","../SlotManager/SpinManager":"SpinManager","../SlotUtils/Handle":"Handle","../SlotUtils/SlotUtils":"SlotUtils","./FreeGameRatioReward":"FreeGameRatioReward","./SlotMachineView":"SlotMachineView"}],CommonNumAtlasBase:[function(e,t,n){"use strict";cc._RF.push(t,"1ce9cC0IJtFz5ts/3c5LCkq","CommonNumAtlasBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.AtlsElmentConfig=void 0;var r=cc._decorator,s=r.ccclass,l=r.property,c=function(){function e(){this.elmentSpriteFrame=null,this.id=""}return a([l({type:cc.SpriteFrame,tooltip:"\u62d6\u52a8\u6570\u5b57\u56fe\u96c6\u91cc\u7684\u5355\u4e2a\u5143\u7d20\u8fdb\u6765"})],e.prototype,"elmentSpriteFrame",void 0),a([l({tooltip:"\u81ea\u5df1\u8bbe\u7f6e\u5bf9\u5e94\u7684\u6570\u5b57\u6216\u5b57\u7b26\u663e\u793a\u5143\u7d20\u56fe"})],e.prototype,"id",void 0),a([s("AtlsElmentConfig")],e)}();n.AtlsElmentConfig=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dataStr="",t._anchorY=1,t.AtlsElment=[],t._spaceX=10,t._showStyle=1,t._offScale=1,t._offPosY=0,t._offPosX=0,t._shrink=!1,t._maxWidth=0,t._syncRootWidth=!0,t._useOriginalSize=!1,t.pool=[],t.containerNode=null,t._sumChildrenWidth=0,t.numberUnitWidth=0,t.myColor=cc.Color.WHITE,t._resetPicLabelWidthWithArchorX=!1,t}return o(t,e),Object.defineProperty(t.prototype,"string",{get:function(){return this._dataStr},set:function(e){this._dataStr=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchorY",{get:function(){return this._anchorY},set:function(e){this._anchorY=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceX",{get:function(){return this._spaceX},set:function(e){this._spaceX=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showStyle",{get:function(){return this._showStyle},set:function(e){this._showStyle=e,2==this._showStyle&&this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offScale",{get:function(){return this._offScale},set:function(e){this._offScale=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offPosX",{get:function(){return this._offPosX},set:function(e){this._offPosX=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offPosY",{get:function(){return this._offPosY},set:function(e){this._offPosY=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shrink",{get:function(){return this._shrink},set:function(e){this._shrink=e,e&&(this._syncRootWidth=!1),this.resetPicLabelWidth(),this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth=e,this.resetPicLabelWidth(),this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"syncRootWidth",{get:function(){return this._syncRootWidth},set:function(e){this._syncRootWidth=e,this.resetRootNodeWidth()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useOriginalSize",{get:function(){return this._useOriginalSize},set:function(e){this._useOriginalSize=e,this.resetPicFromNum()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sumChildrenWidth",{get:function(){return this._sumChildrenWidth},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.pool=[],this.string=this._dataStr},t.prototype.resetUnitWidth=function(){for(var e=0,t=this.AtlsElment;e<t.length;e++){var n=t[e];if(this.isNumberString(n.id)){var i=n.elmentSpriteFrame;if(!i)continue;var o=this._useOriginalSize?i.getOriginalSize().width:i.getRect().width;this.numberUnitWidth<o&&(this.numberUnitWidth=o)}}},t.prototype.isNumberString=function(e){return/^[0-9]+$/.test(e)},t.prototype.isPunctuationString=function(e){return/[`.,_`]/.test(e)},t.prototype.resetPicFromNum=function(){this.resetUnitWidth();var e=this._dataStr;if(!this.containerNode){var t=this.node.getChildByName("_Private_ContainerNode");t?this.containerNode=t:(this.containerNode=new cc.PrivateNode("_Private_ContainerNode"),this.node.addChild(this.containerNode),this.containerNode.anchorX=0)}for(var n=0;n<this.containerNode.childrenCount;n++)this.pool.push(this.containerNode.children[n]);this.containerNode.removeAllChildren(),this._sumChildrenWidth=0;for(var i=0,o=0;o<e.length;o++){var a=e[o],r=this.getPicElementConfig(a),s=r?r.elmentSpriteFrame:null,l=this.pool.pop();l||(l=new cc.Node).addComponent(cc.Sprite),l.anchorX=.5,this.isPunctuationString(a)?l.anchorY=this.anchorY:l.anchorY=.5,this.containerNode.addChild(l,100-o),l.getComponent(cc.Sprite).spriteFrame=s;var c=this.numberUnitWidth,u=this.spaceX;s?this.isNumberString(a)||(c=this._useOriginalSize?s.getOriginalSize().width:s.getRect().width):(c=0,u=0),0==o&&(u=0),l.x=u+i+.5*c,i+=u+c,l.color=this.myColor.clone()}this._sumChildrenWidth=i,this.containerNode.width=this._sumChildrenWidth,this.node.scale=this.offScale,2==this.showStyle?(this.node.x=this.offPosX,this.node.y=this.offPosY):(this.node.x+=this.offPosX,this.node.y+=this.offPosY),this.containerNode.x=0,.5===this.node.anchorX?this.containerNode.x=-this.containerNode.width/2:this.containerNode.x=-this.containerNode.width*this.offScale/2,this.resetPicLabelWidth(),this.resetRootNodeWidth()},t.prototype.getPicElementConfig=function(e){for(var t=0,n=this.AtlsElment;t<n.length;t++){var i=n[t];if(e==i.id)return i}},t.prototype.resetPicLabelWidth=function(){this.shrink?(this.containerNode.scale=this._sumChildrenWidth*this.offScale<=this.maxWidth?1:this.maxWidth/(this._sumChildrenWidth*this.offScale),this._resetPicLabelWidthWithArchorX?.5===this.node.anchorX?this.containerNode.x=-this.containerNode.width*this.containerNode.scale/2:this.containerNode.x=-this.containerNode.width*this.offScale/2:this.containerNode.x=-this.containerNode.width*this.containerNode.scale/2):this.containerNode.scale=1},t.prototype.resetRootNodeWidth=function(){this._syncRootWidth?this.node.width=this._sumChildrenWidth*this.offScale:this.node.width=this._sumChildrenWidth<=this.maxWidth?this._sumChildrenWidth:this.maxWidth},t.prototype.onDestroy=function(){for(var e=0,t=this.pool;e<t.length;e++){var n=t[e];n&&n.destroy()}},a([l],t.prototype,"_dataStr",void 0),a([l({type:cc.String})],t.prototype,"string",null),a([l],t.prototype,"_anchorY",void 0),a([l({tooltip:"\u8282\u70b9 Y \u8f74\u951a\u70b9\u4f4d\u7f6e"})],t.prototype,"anchorY",null),a([l([c])],t.prototype,"AtlsElment",void 0),a([l],t.prototype,"_spaceX",void 0),a([l({tooltip:"\u6570\u5b57\u4e4b\u95f4\u7684\u95f4\u8ddd,\u9ed8\u8ba410"})],t.prototype,"spaceX",null),a([l],t.prototype,"_showStyle",void 0),a([l],t.prototype,"_offScale",void 0),a([l],t.prototype,"_offPosY",void 0),a([l],t.prototype,"_offPosX",void 0),a([l({tooltip:"\u4e2d\u5956\u7ebf\u91d1\u989d\u663e\u793a\u6837\u5f0f\uff0c\u9ed8\u8ba41"})],t.prototype,"showStyle",null),a([l({tooltip:"\u653e\u5927\u7f29\u5c0f\u7684\u500d\u6570,\u9ed8\u8ba41"})],t.prototype,"offScale",null),a([l({tooltip:"X\u4f4d\u7f6e\u589e\u52a0\u51cf\u5c11\u503c,\u9ed8\u8ba40"})],t.prototype,"offPosX",null),a([l({tooltip:"Y\u4f4d\u7f6e\u589e\u52a0\u51cf\u5c11\u503c,\u9ed8\u8ba40"})],t.prototype,"offPosY",null),a([l],t.prototype,"_shrink",void 0),a([l({type:cc.Boolean,tooltip:"\u662f\u5426\u4f7f\u7528\u81ea\u9002\u5e94"})],t.prototype,"shrink",null),a([l],t.prototype,"_maxWidth",void 0),a([l({type:cc.Float,tooltip:"\u81ea\u9002\u5e94\u7684\u8282\u70b9\u6700\u5927\u5bbd\u5ea6(shrink\u4e3atrue,\u5c06\u751f\u6548)"})],t.prototype,"maxWidth",null),a([l],t.prototype,"_syncRootWidth",void 0),a([l({type:cc.Boolean,tooltip:"\u662f\u5426\u5728\u8bbe\u7f6estring\u65f6\u540c\u6b65\u6839\u8282\u70b9\u5bbd\u5ea6(\u82e5\u8bbe\u7f6e\u4e86\u81ea\u9002\u5e94\uff0c\u5219\u8282\u70b9\u5bbd\u5ea6\u4e0d\u53d7\u79c1\u6709\u8282\u70b9\u5f71\u54cd)",visible:function(){return!this._shrink}})],t.prototype,"syncRootWidth",null),a([l],t.prototype,"_useOriginalSize",void 0),a([l({type:cc.Boolean,tooltip:"\u662f\u5426\u4f7f\u7528\u56fe\u7247\u526a\u88c1\u524d\u7684\u539f\u59cb\u5927\u5c0f"})],t.prototype,"useOriginalSize",null),a([s],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],CompensateControl:[function(e,t,n){"use strict";cc._RF.push(t,"0fce8gXcyJLlbRWEThY/GCd","CompensateControl");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/main/BaseView"),s=e("../../slot_common/common/utils/GData"),l=e("../../main/script/CommonConst"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.content=null,t.scrollView=null,t.closeBtn=null,t.spriteFrames=[],t}return o(t,e),t.prototype.onLoad=function(){var e=this,t=s.GData.getParameter("compensateTable").compensateTable;this.resize();for(var n=t.items,i=[],o=t.title,a=0,r=n;a<r.length;a++){var c=r[a],u=c;if(s.GData.getParameter("main").languages.includes(s.GData.curLanguage))for(u=c.replace("&",s.GData.curLanguage);u.includes("&");)u=u.replace("&",s.GData.curLanguage);else{for(u=c.replace("&",game.LanguageType.EN);u.includes("&");)u=u.replace("&",game.LanguageType.EN);for(o=o.replace("&",game.LanguageType.EN);o.includes("&");)o=o.replace("&",game.LanguageType.EN)}i.push(u)}for(;o.includes("&");)o=o.replace("&",s.GData.curLanguage);game.UIManager.getInstance().open(l.UIID.UI_LOADING_TIP,l.UIID.UI_COMPENSATE),this.loadRes(o,cc.SpriteFrame,function(t,n){e.title.spriteFrame=n},s.GData.bundleName);for(var p=function(t){var n=i[t],o=t;h.loadRes(n,cc.SpriteFrame,function(t,n){e.spriteFrames.push({index:o,spriteFrame:n}),i.length==e.spriteFrames.length&&e.initContent()},s.GData.bundleName)},h=this,d=0;d<i.length;d++)p(d)},t.prototype.initContent=function(){var e=this;this.scheduleOnce(function(){e.spriteFrames.sort(function(e,t){return e.index-t.index});for(var t=0,n=e.spriteFrames;t<n.length;t++){var i=n[t],o=new cc.Node;e.content.addChild(o);var a=o.addComponent(cc.Sprite);o.height=i.spriteFrame.getOriginalSize().height,a.spriteFrame=i.spriteFrame}game.UIManager.getInstance().closeByUIID(l.UIID.UI_LOADING_TIP),e.scrollView.scrollToTop(0),e.closeBtn.on("click",e.closePop,e)},.7)},t.prototype.closePop=function(){game.UIManager.getInstance().close(this)},a([p(cc.Sprite)],t.prototype,"title",void 0),a([p(cc.Node)],t.prototype,"content",void 0),a([p(cc.ScrollView)],t.prototype,"scrollView",void 0),a([p({type:cc.Node})],t.prototype,"closeBtn",void 0),a([u],t)}(r.default);n.default=h,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView"}],CompensateUIAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"5bd58KcY+dH35Yd9DVsLWUq","CompensateUIAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.CompensateUIAnimation=void 0;var r=e("./FadeUIAnimation"),s=cc._decorator,l=s.ccclass,c=(s.property,s.menu,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([l],t)}(r.FadeUIAnimation));n.CompensateUIAnimation=c,cc._RF.pop()},{"./FadeUIAnimation":"FadeUIAnimation"}],CustomButtonExtendLang:[function(e,t,n){"use strict";cc._RF.push(t,"8e661UG7jVHoJUuW3hrFFH8","CustomButtonExtendLang");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../utils/GData"),s=e("./CustomButton"),l=cc._decorator,c=l.ccclass,u=l.property,p=l.menu,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.Langs="",t.loadUrl="",t.normalSpriteName="",t.pressedSpriteName="",t.hoverSpriteName="",t.disabledSpriteName="",t.bundleName="slot",t}return o(t,e),t.prototype.onLoad=function(){this.spriteSetIdx=0,this.transition=s.CustomBtnTransition.SPRITE,this.spriteSet.push(new s.StateSprite),e.prototype.onLoad.call(this),this.setBtnSprite()},t.prototype.setBtnSprite=function(){var e=this,t=this.rePlaceLanguage(this.loadUrl,this.Langs),n=[this.normalSpriteName,this.pressedSpriteName,this.hoverSpriteName,this.disabledSpriteName];if(t.includes("|"))t=t.replace("|","/"),game.ResLoader.getInstance().loadRes(t,cc.SpriteAtlas,function(t,i){if(!t){for(var o=0;o<n.length;o++){var a=n[o],r=null;if(a)switch(o){case 0:(r=i.getSpriteFrame(a))&&(e.spriteSet[e.spriteSetIdx].normalSprite=r);break;case 1:(r=i.getSpriteFrame(a))&&(e.spriteSet[e.spriteSetIdx].pressedSprite=r);break;case 2:(r=i.getSpriteFrame(a))&&(e.spriteSet[e.spriteSetIdx].hoverSprite=r);break;case 3:(r=i.getSpriteFrame(a))&&(e.spriteSet[e.spriteSetIdx].disabledSprite=r)}}e._updateState()}},this.bundleName,"btnSprite");else if(t){for(var i=[],o=0;o<n.length;o++){var a=n[o];i[o]=t+"/"+a}for(var r=function(t){var n=i[t];n&&game.ResLoader.getInstance().loadRes(n,cc.SpriteFrame,function(n,i){if(!n){switch(t){case 0:e.spriteSet[e.spriteSetIdx].normalSprite=i;break;case 1:e.spriteSet[e.spriteSetIdx].pressedSprite=i;break;case 2:e.spriteSet[e.spriteSetIdx].hoverSprite=i;break;case 3:e.spriteSet[e.spriteSetIdx].disabledSprite=i}e._updateState()}},s.bundleName,"btnSprite")},s=this,l=0;l<i.length;l++)r(l)}},t.prototype.rePlaceLanguage=function(e,t){if(e){if(t.includes(r.GData.curLanguage))for(e=e.replace("&",r.GData.curLanguage);e.includes("&");)e=e.replace("&",r.GData.curLanguage);else for(e=e.replace("&","en");e.includes("&");)e=e.replace("&","en");return e}},a([u({tooltip:"\u652f\u6301\u8bed\u8a00\u4f8b\u5982(zh,th,en)\u7528\u9017\u53f7\u9694\u5f00"})],t.prototype,"Langs",void 0),a([u({displayName:"loadUrl",tooltip:'\u8d44\u6e90\u52a0\u8f7d\u5730\u5740 \u56fe\u96c6\u540d\u9700\u8981\u7528"|"\u5206\u5272,\u4e0d\u9700\u8981\u56fe\u7247\u540d\uff0c\u975e\u56fe\u96c6\u6b63\u5e38\u586b\u56fe\u7247\u8def\u5f84  \u4f8b\u5982common/textures/btns_P/btns_0/&|btn  \u5176\u4e2dbtn\u4e3a\u56fe\u96c6\u7684\u540d\u5b57'})],t.prototype,"loadUrl",void 0),a([u({displayName:"Normal",tooltip:"\u6b63\u5e38\u72b6\u6001\u4e0b\u56fe\u7247\u540d"})],t.prototype,"normalSpriteName",void 0),a([u({displayName:"Pressed",tooltip:"\u6309\u538b\u72b6\u6001\u4e0b\u56fe\u7247\u540d"})],t.prototype,"pressedSpriteName",void 0),a([u({displayName:"Hover",tooltip:"\u60ac\u505c\u72b6\u6001\u4e0b\u56fe\u7247\u540d"})],t.prototype,"hoverSpriteName",void 0),a([u({displayName:"Disabled",tooltip:"\u7981\u7528\u72b6\u6001\u4e0b\u56fe\u7247\u540d"})],t.prototype,"disabledSpriteName",void 0),a([u({displayName:"bundleName",tooltip:"bundle\u540d"})],t.prototype,"bundleName",void 0),a([c,p("\u6309\u94ae\u63a7\u5236/CustomButtonExtendLang")],t)}(s.default);n.default=h,cc._RF.pop()},{"../utils/GData":"GData","./CustomButton":"CustomButton"}],CustomButton:[function(e,t,n){"use strict";cc._RF.push(t,"a086aMIPKhJ/ZWHU3qnFaA9","CustomButton");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.StateColor=n.StateSprite=n.CustomBtnLongTouchType=n.CustomBtnState=n.CustomBtnTransition=void 0;var r,s,l,c=cc._decorator,u=c.ccclass,p=c.property,h=c.menu;(function(e){e[e.NONE=0]="NONE",e[e.COLOR=1]="COLOR",e[e.SPRITE=2]="SPRITE",e[e.SCALE=3]="SCALE",e[e.COLOR_SCALE=4]="COLOR_SCALE",e[e.SPRITE_SCALE=5]="SPRITE_SCALE"})(r=n.CustomBtnTransition||(n.CustomBtnTransition={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.HOVER=1]="HOVER",e[e.PRESSED=2]="PRESSED",e[e.DISABLED=3]="DISABLED"}(s=n.CustomBtnState||(n.CustomBtnState={})),function(e){e[e.NONE=0]="NONE",e[e.ONCE=1]="ONCE",e[e.MULTIPLE=2]="MULTIPLE"}(l=n.CustomBtnLongTouchType||(n.CustomBtnLongTouchType={}));var d=function(){function e(){this.normalSprite=null,this.pressedSprite=null,this.hoverSprite=null,this.disabledSprite=null}return a([p({type:cc.SpriteFrame,displayName:"Normal",tooltip:"i18n:COMPONENT.button.normal_sprite"})],e.prototype,"normalSprite",void 0),a([p({type:cc.SpriteFrame,displayName:"Pressed",tooltip:"i18n:COMPONENT.button.pressed_sprite"})],e.prototype,"pressedSprite",void 0),a([p({type:cc.SpriteFrame,displayName:"Hover",tooltip:"i18n:COMPONENT.button.hover_sprite"})],e.prototype,"hoverSprite",void 0),a([p({type:cc.SpriteFrame,displayName:"Disabled",tooltip:"i18n:COMPONENT.button.disabled_sprite"})],e.prototype,"disabledSprite",void 0),a([u("StateSprite")],e)}();n.StateSprite=d;var f=function(){function e(){this.normalColor=cc.Color.WHITE,this.pressedColor=cc.color(211,211,211),this.hoverColor=cc.Color.WHITE,this.disabledColor=cc.color(124,124,124)}return a([p({displayName:"Normal",tooltip:"i18n:COMPONENT.button.normal_color"})],e.prototype,"normalColor",void 0),a([p({displayName:"Pressed",tooltip:"i18n:COMPONENT.button.pressed_color"})],e.prototype,"pressedColor",void 0),a([p({displayName:"Hover",tooltip:"i18n:COMPONENT.button.hover_color"})],e.prototype,"hoverColor",void 0),a([p({displayName:"Disabled",tooltip:"i18n:COMPONENT.button.disabled_color"})],e.prototype,"disabledColor",void 0),a([u("StateColor")],e)}();n.StateColor=f;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.target=null,t._interactable=!0,t._enableAutoGrayEffect=!1,t.longTouchType=l.NONE,t.triggerElapsed=1,t.triggerInterval=.5,t.transition=r.NONE,t.duration=.1,t.zoomScale=1.2,t.spriteSetIdx=0,t.spriteSet=[],t.colorSetIdx=0,t.colorSet=[],t.clickEvents=[],t._pressed=!1,t._hovered=!1,t._fromColor=null,t._toColor=null,t._time=0,t._transitionFinished=!0,t._fromScale=cc.Vec2.ZERO,t._toScale=cc.Vec2.ZERO,t._originalScale=null,t._sprite=null,t._curState=s.NORMAL,t._longTouchTime=0,t._longTouchTriggered=!1,t}var n;return o(t,e),n=t,Object.defineProperty(t.prototype,"interactable",{get:function(){return this._interactable},set:function(e){this._interactable=e,this._updateState(),this._interactable||this._resetState()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"enableAutoGrayEffect",{get:function(){return this._enableAutoGrayEffect},set:function(e){this._enableAutoGrayEffect=e,this._updateDisabledState(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._applyTarget()},t.prototype._resetState=function(){this._pressed=!1,this._hovered=!1,this._longTouchTime=0,this._longTouchTriggered=!1;var e=this._getTarget(),t=this.transition,n=this._originalScale;(r.COLOR===t&&this._interactable||r.COLOR_SCALE===t)&&this._setTargetColor(this._getStateColor(s.NORMAL)),r.SCALE!==t&&r.COLOR_SCALE!=t&&r.SPRITE_SCALE!==t||!n||e.setScale(n.x,n.y),this._transitionFinished=!0;var i=this._getButtonState();i!=this._curState&&(this._curState=i,this.node.emit("stateChange",this,this._curState,i))},t.prototype.onEnable=function(){this._registerNodeEvent(),this._updateState()},t.prototype.onDisable=function(){this._resetState(),this._unregisterNodeEvent()},t.prototype.switchSpriteSet=function(e){e!=this.spriteSetIdx&&(this.spriteSetIdx=e,this._updateState())},t.prototype.switchColorSet=function(e){e!=this.colorSetIdx&&(this.colorSetIdx=e,this._updateState())},t.prototype._getTarget=function(){return this.target?this.target:this.node},t.prototype._onTargetScaleChanged=function(){var e=this._getTarget();this._originalScale&&(r.SCALE!==this.transition&&r.COLOR_SCALE!==this.transition&&r.SPRITE_SCALE!==this.transition||this._transitionFinished)&&(this._originalScale.x=e.scaleX,this._originalScale.y=e.scaleY)},t.prototype._setTargetColor=function(e){var t=this._getTarget(),n=e.clone();t.opacity=n.a,n.a=255,t.color=n},t.prototype._getStateColor=function(e){var t=this.colorSet[this.colorSetIdx];if(!t)return cc.Color.WHITE;switch(e){case s.NORMAL:return t.normalColor;case s.HOVER:return t.hoverColor;case s.PRESSED:return t.pressedColor;case s.DISABLED:return t.disabledColor}},t.prototype._getStateSprite=function(e){var t=this.spriteSet[this.spriteSetIdx];if(!t)return null;switch(e){case s.NORMAL:return t.normalSprite;case s.HOVER:return t.hoverSprite;case s.PRESSED:return t.pressedSprite;case s.DISABLED:return t.disabledSprite}},t.prototype.update=function(e){if(s.PRESSED==this._curState){var t=!1;switch(this.longTouchType){case l.ONCE:this._longTouchTriggered||(this._longTouchTime+=e,t=!0);break;case l.MULTIPLE:this._longTouchTime+=e,t=!0;break;default:t=!1}t&&(this._longTouchTriggered?this._longTouchTime>=this.triggerInterval&&(this.node.emit("longTouch",this),this._longTouchTime=0):this._longTouchTime>=this.triggerElapsed&&(this.node.emit("longTouch",this),this._longTouchTime=0,this._longTouchTriggered=!0))}if(!this._transitionFinished){var n=this._getTarget();this._time+=e;var i=1;if(this.duration>0&&(i=this._time/this.duration),i>=1&&(i=1),r.COLOR===this.transition||r.COLOR_SCALE===this.transition){var o=this._fromColor.lerp(this._toColor,i);this._setTargetColor(o)}if((r.SCALE===this.transition||r.COLOR_SCALE===this.transition||r.SPRITE_SCALE===this.transition)&&this._originalScale){var a=this._fromScale.lerp(this._toScale,i);n.scaleX=a.x,n.scaleY=a.y}1===i&&(this._transitionFinished=!0)}},t.prototype._registerNodeEvent=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.on(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},t.prototype._unregisterNodeEvent=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancel,this),this.node.off(cc.Node.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.node.off(cc.Node.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},t.prototype._registerTargetEvent=function(e){e.on(cc.Node.EventType.SCALE_CHANGED,this._onTargetScaleChanged,this)},t.prototype._unregisterTargetEvent=function(e){e.off(cc.Node.EventType.SCALE_CHANGED,this._onTargetScaleChanged,this)},t.prototype._getTargetSprite=function(e){var t=null;return e&&(t=e.getComponent(cc.Sprite)),t},t.prototype._applyTarget=function(){var e=this._getTarget();this._sprite=this._getTargetSprite(e),this._originalScale||(this._originalScale=cc.Vec2.ZERO),this._originalScale.x=e.scaleX,this._originalScale.y=e.scaleY,this._registerTargetEvent(e)},t.prototype._onTouchBegan=function(e){this._interactable&&this.enabledInHierarchy&&(n.isOnCooling||(this._pressed=!0,this._longTouchTime=0,this._longTouchTriggered=!1,this._updateState(),e.stopPropagation(),n.isOnCooling=!0))},t.prototype._onTouchMove=function(e){if(this._interactable&&this.enabledInHierarchy&&this._pressed){var t=e.touch,n=this.node._hitTest(t.getLocation()),i=this._getTarget(),o=this._originalScale,a=s.NORMAL;if(r.SCALE!==this.transition&&r.COLOR_SCALE!==this.transition&&r.SPRITE_SCALE!==this.transition||!o)a=n?s.PRESSED:s.NORMAL,this._applyTransition(a);else if(n?(a=s.PRESSED,this._fromScale.x=o.x,this._fromScale.y=o.y,this._toScale.x=o.x*this.zoomScale,this._toScale.y=o.y*this.zoomScale,this._transitionFinished=!1):(a=s.NORMAL,this._time=0,this._transitionFinished=!0,i.setScale(o.x,o.y)),r.SPRITE_SCALE===this.transition&&this._updateSpriteTransition(a),r.COLOR_SCALE===this.transition){var l=this._getStateColor(a);this._fromColor=i.color.clone(),this._toColor=l,n||this._updateColorTransitionImmediately(a)}e.stopPropagation(),a!=this._curState&&(this._curState=a,this.node.emit("stateChange",this,this._curState,a))}},t.prototype._onTouchEnded=function(e){this._interactable&&this.enabledInHierarchy&&(this._pressed&&(this._longTouchTriggered||(cc.Component.EventHandler.emitEvents(this.clickEvents,e),this.node.emit("click",this))),this._pressed=!1,this._longTouchTime=0,this._longTouchTriggered=!1,this._updateState(),e.stopPropagation())},t.prototype._onTouchCancel=function(){this._interactable&&this.enabledInHierarchy&&(this._pressed=!1,this._longTouchTime=0,this._longTouchTriggered=!1,this._updateState())},t.prototype._onMouseMoveIn=function(){if(!this._pressed&&this._interactable&&this.enabledInHierarchy){var e=this._getStateSprite(s.HOVER);(r.SPRITE!==this.transition&&r.SPRITE_SCALE!==this.transition||e)&&(this._hovered||(this._hovered=!0,this._updateState()))}},t.prototype._onMouseMoveOut=function(){this._hovered&&(this._hovered=!1,this._updateState())},t.prototype._updateState=function(){var e=this._getButtonState();this._applyTransition(e),this._updateDisabledState(),e!=this._curState&&(this._curState=e,this.node.emit("stateChange",this,this._curState,e))},t.prototype._getButtonState=function(){return s.NORMAL,this._interactable?this._pressed?s.PRESSED:this._hovered?s.HOVER:s.NORMAL:s.DISABLED},t.prototype._updateColorTransitionImmediately=function(e){var t=this._getStateColor(e);this._setTargetColor(t),this._fromColor=t.clone(),this._toColor=t},t.prototype._updateColorTransition=function(e){if(e===s.DISABLED)this._updateColorTransitionImmediately(e);else{var t=this._getTarget(),n=this._getStateColor(e);this._fromColor=t.color.clone(),this._toColor=n,this._time=0,this._transitionFinished=!1}},t.prototype._updateSpriteTransition=function(e){var t=this._getStateSprite(e);this._sprite&&t&&(this._sprite.spriteFrame=t)},t.prototype._updateScaleTransition=function(e){e===s.PRESSED?this._zoomUp():this._zoomBack()},t.prototype._zoomUp=function(){this._originalScale&&(this._fromScale.x=this._originalScale.x,this._fromScale.y=this._originalScale.y,this._toScale.x=this._originalScale.x*this.zoomScale,this._toScale.y=this._originalScale.y*this.zoomScale,this._time=0,this._transitionFinished=!1)},t.prototype._zoomBack=function(){if(this._originalScale){var e=this._getTarget();this._fromScale.x=e.scaleX,this._fromScale.y=e.scaleY,this._toScale.x=this._originalScale.x,this._toScale.y=this._originalScale.y,this._time=0,this._transitionFinished=!1}},t.prototype._applyTransition=function(e){switch(this.transition){case r.COLOR:this._updateColorTransition(e);break;case r.SPRITE:this._updateSpriteTransition(e);break;case r.SCALE:this._updateScaleTransition(e);break;case r.COLOR_SCALE:this._updateColorTransition(e),this._updateScaleTransition(e);break;case r.SPRITE_SCALE:this._updateSpriteTransition(e),this._updateScaleTransition(e)}},t.prototype._updateDisabledState=function(e){if(this._sprite&&(this._enableAutoGrayEffect||e)){var t=!1,n=this._getStateSprite(s.DISABLED);(r.SPRITE!==this.transition&&r.SPRITE_SCALE!==this.transition||!n)&&(t=this._enableAutoGrayEffect&&!this._interactable),this._switchGrayMaterial(t,this.node,!0)}},t.prototype._switchGrayMaterial=function(e,t,n){var i=this,o=e?cc.Material.BUILTIN_NAME.GRAY_SPRITE:cc.Material.BUILTIN_NAME.SPRITE,a=cc.Material.createWithBuiltin(o.toString(),0);a.define("USE_TEXTURE",!0,0);var r=t.getComponent(cc.Sprite);r&&r.setMaterial(0,a),(r=t.getComponent(cc.Label))&&r.setMaterial(0,a),n&&t.children.forEach(function(t){i._switchGrayMaterial(e,t,n)},this)},Object.defineProperty(t,"isOnCooling",{get:function(){return n._isOnCooling},set:function(e){e&&this._setTimeOutId&&(clearTimeout(this._setTimeOutId),this._setTimeOutId=null),n._isOnCooling=e,this._setTimeOutId=setTimeout(function(){n._isOnCooling=!1},100)},enumerable:!1,configurable:!0}),t._isOnCooling=!1,t._setTimeOutId=null,a([p({type:cc.Node,tooltip:"i18n:COMPONENT.button.target"})],t.prototype,"target",void 0),a([p({visible:!0,displayName:"interactable",tooltip:"i18n:COMPONENT.button.interactable"})],t.prototype,"_interactable",void 0),a([p({visible:!0,displayName:"enableAutoGrayEffect",tooltip:"i18n:COMPONENT.button.auto_gray_effect"})],t.prototype,"_enableAutoGrayEffect",void 0),a([p({type:cc.Enum(l),visible:!0,tooltip:"\u652f\u6301\u957f\u6309\u7c7b\u578b"})],t.prototype,"longTouchType",void 0),a([p({visible:function(){return l.NONE!=this.longTouchType},displayName:"triggerElapsed",tooltip:"\u957f\u6309\u9996\u6b21\u89e6\u53d1\u65f6\u957f(s)"})],t.prototype,"triggerElapsed",void 0),a([p({visible:function(){return l.NONE!=this.longTouchType},displayName:"triggerInterval",tooltip:"\u957f\u6309\u6301\u7eed\u89e6\u53d1\u95f4\u9694(s)"})],t.prototype,"triggerInterval",void 0),a([p({type:cc.Enum(r),tooltip:"i18n:COMPONENT.button.transition"})],t.prototype,"transition",void 0),a([p({type:cc.Float,visible:function(){return r.COLOR==this.transition||r.SCALE==this.transition||r.COLOR_SCALE==this.transition||r.SPRITE_SCALE==this.transition},tooltip:"i18n:COMPONENT.button.duration"})],t.prototype,"duration",void 0),a([p({type:cc.Float,visible:function(){return r.SCALE==this.transition||r.COLOR_SCALE==this.transition||r.SPRITE_SCALE==this.transition},tooltip:"i18n:COMPONENT.button.zoom_scale"})],t.prototype,"zoomScale",void 0),a([p({type:cc.Integer,visible:function(){return r.SPRITE==this.transition||r.SPRITE_SCALE==this.transition},tooltip:"\u5f53\u524d\u4f7f\u7528\u7684\u72b6\u6001\u56fe\u7247\u8d44\u6e90\u96c6\u7d22\u5f15"})],t.prototype,"spriteSetIdx",void 0),a([p({type:[d],visible:function(){return r.SPRITE==this.transition||r.SPRITE_SCALE==this.transition},tooltip:"\u72b6\u6001\u56fe\u7247\u8d44\u6e90\u96c6"})],t.prototype,"spriteSet",void 0),a([p({type:cc.Integer,visible:function(){return r.COLOR==this.transition||r.COLOR_SCALE==this.transition},tooltip:"\u5f53\u524d\u4f7f\u7528\u7684\u6309\u94ae\u80cc\u666f\u989c\u8272\u96c6\u7d22\u5f15"})],t.prototype,"colorSetIdx",void 0),a([p({type:[f],visible:function(){return r.COLOR==this.transition||r.COLOR_SCALE==this.transition},tooltip:"\u6309\u94ae\u80cc\u666f\u989c\u8272\u96c6"})],t.prototype,"colorSet",void 0),a([p({type:cc.Component.EventHandler,tooltip:"i18n:COMPONENT.button.click_events"})],t.prototype,"clickEvents",void 0),n=a([u,h("\u6309\u94ae\u63a7\u5236/CustomButton")],t)}(cc.Component);n.default=m,cc._RF.pop()},{}],DataConstant:[function(e,t,n){"use strict";cc._RF.push(t,"14733/xdTVIZ598GinR4hbn","DataConstant"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],DataElement:[function(e,t,n){"use strict";cc._RF.push(t,"de887Ty6aNFe6AoygsStAyv","DataElement"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],DataFreeLines:[function(e,t,n){"use strict";cc._RF.push(t,"cba72Vvo8VGp5FSee62M0ZT","DataFreeLines"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],DataFreeRoller:[function(e,t,n){"use strict";cc._RF.push(t,"893b64536dAD6kXx5vYLjfm","DataFreeRoller"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Scroller/com/datas/JTRollerData"),o=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),e.prototype.getColumnElements=function(e){for(var t=0,n=this.getIds();t<n.length;t++){var i=n[t],o=this.getData(i);if(o.column==e)return o.elements}},e.prototype.getColumnData=function(e){for(var t=0,n=this.getIds();t<n.length;t++){var o=n[t],a=this.getData(o);if(a.column==e){var r=new i.default;return r.elements=a.elements,r.roller=a.roller,r}}},Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=o,cc._RF.pop()},{"../Scroller/com/datas/JTRollerData":"JTRollerData"}],DataGameFreeLines:[function(e,t,n){"use strict";cc._RF.push(t,"275ad4vzYhKJbkoCSg0FiIs","DataGameFreeLines"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],DataGame:[function(e,t,n){"use strict";cc._RF.push(t,"d47811TRHZJo7da7u4xfW10","DataGame"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],DataPayLine:[function(e,t,n){"use strict";cc._RF.push(t,"1432fH/lrpGAoFdxWiD72M9","DataPayLine"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=i,cc._RF.pop()},{}],DataRoller:[function(e,t,n){"use strict";cc._RF.push(t,"df4707ezX1MFru29sJLW7y5","DataRoller"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../Scroller/com/datas/JTRollerData"),o=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),e.prototype.getColumnElements=function(e){for(var t=0,n=this.getIds();t<n.length;t++){var i=n[t],o=this.getData(i);if(o.column==e)return o.elements}},e.prototype.getColumnData=function(e){for(var t=0,n=this.getIds();t<n.length;t++){var o=n[t],a=this.getData(o);if(a.column==e){var r=new i.default;return r.elements=a.elements,r.roller=a.roller,r}}},Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e}();n.default=o,cc._RF.pop()},{"../Scroller/com/datas/JTRollerData":"JTRollerData"}],DataSlotRandomGrid:[function(e,t,n){"use strict";cc._RF.push(t,"5300fAKE0hDAZPj6xSgOGDB","DataSlotRandomGrid"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._data={}}return e.prototype.getKeys=function(){return this._keys.concat()},e.prototype.getIds=function(){return this._ids.concat()},e.prototype.getData=function(e){return this._data[e]},Object.defineProperty(e.prototype,"conf",{set:function(e){this._keys=e.keys,this._ids=e.ids,this._data=e.data},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.getGridShapeAndOccupyPos=function(e){var t={gridShape:[],occupyPos:[]};if(!this._data[e])return t;var n=this._data[e].insufficientGridShape;if(n)for(var i=0,o=JSON.parse(n);i<o.length;i++){var a=o[i];t.gridShape.push({pos:a})}var r=this._data[e].insufficientOccupyPos;return r&&(t.occupyPos=[].concat(r)),t},e.prototype.getGridLengthRange=function(e){var t={columnLengthRange:[],elmentLengthRange:[]},n=[],i=[];if(t.columnLengthRange=n,t.elmentLengthRange=i,!this._data[e])return t;var o=this._data[e].applyColumn,a=this._data[e].gridRange;if(a)for(var r=0,s=a;r<s.length;r++)for(var l=s[r],c=l.len,u=function(e){var t=e-1,i=n.find(function(e){return e.index==t});i?i.lens.push(c):(i={index:t,lens:[c]},n.push(i))},p=0,h=l.column.length>0?l.column:o;p<h.length;p++)u(h[p]);var d=this._data[e].datarollerElement;if(d)for(var f=0,m=JSON.parse(d);f<m.length;f++){var g=m[f],_=g[0],y=g[1];i.push({id:_,lens:y})}return t},e}();n.default=i,cc._RF.pop()},{}],EliminateDisappearUtils:[function(e,t,n){"use strict";cc._RF.push(t,"45713+17PROZrDz39ZKOTjM","EliminateDisappearUtils"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../../SlotManager/SpinManager"),o=function(){function e(){}return Object.defineProperty(e,"disappearTime",{get:function(){return i.default.instance.isInTurbo?2*this._disappearTime:this._disappearTime},set:function(e){this._disappearTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"disappreaDelayTime",{get:function(){return i.default.instance.isInTurbo?this._disappreaDelayTime/2:this._disappreaDelayTime},set:function(e){this._disappreaDelayTime=e},enumerable:!1,configurable:!0}),e.processDissppear=function(e,t){switch(Math.floor(11*Math.random())){case 0:this.processMidMoveLeftRight(e,t);break;case 1:this.processLeftRightMoveMid(e,t);break;case 2:this.processLeftMoveRight(e,t);break;case 3:this.processRightMoveLeft(e,t);break;case 4:this.processTopMoveBottom(e,t);break;case 5:this.processBottomMoveTop(e,t);break;case 6:this.processMidMoveTopBottom(e,t);break;case 7:this.processLTMoveRB(e,t);break;case 8:this.processRBMoveLT(e,t);break;case 9:this.processLBMoveRT(e,t);break;case 10:this.processRTMoveLB(e,t);break;default:this.processLeftRightMoveMid(e,t)}},e.processMidMoveLeftRight=function(e,t){for(var n=e.items,i=e.config.col,o=(e.config.row,[]),a=Math.floor(i/2),r=0;r<=a;r++){var s=[];if(0==r){var l=n[a];s=s.concat(l.renders)}else{var c=n[a-r];s=s.concat(c.renders);var u=n[a+r];s=s.concat(u.renders)}o.push(s)}this.startDisappear(o,t)},e.processLeftRightMoveMid=function(e,t){for(var n=e.items,i=e.config.col,o=(e.config.row,[]),a=Math.floor(i/2),r=0;r<=a;r++){var s=[],l=i-r-1,c=n[r];s=s.concat(c.renders),l!=r&&(c=n[l],s=s.concat(c.renders)),o.push(s)}this.startDisappear(o,t)},e.processLeftMoveRight=function(e,t){for(var n=e.items,i=e.config.col,o=[],a=0;a<i;a++){var r=[],s=n[a];r=r.concat(s.renders),o.push(r)}this.startDisappear(o,t)},e.processRightMoveLeft=function(e,t){for(var n=e.items,i=[],o=e.config.col-1;o>=0;o--){var a=[],r=n[o];a=a.concat(r.renders),i.push(a)}this.startDisappear(i,t)},e.processTopMoveBottom=function(e,t){for(var n=e.items,i=e.config.col,o=e.config.row,a=[],r=0;r<o;r++){for(var s=[],l=0;l<i;l++){var c=n[l];s.push(c.renders[r])}a.push(s)}this.startDisappear(a,t)},e.processBottomMoveTop=function(e,t){for(var n=e.items,i=e.config.col,o=[],a=e.config.row-1;a>=0;a--){for(var r=[],s=0;s<i;s++){var l=n[s];r.push(l.renders[a])}o.push(r)}this.startDisappear(o,t)},e.processMidMoveTopBottom=function(e,t){for(var n=e.items,i=e.config.col,o=e.config.row,a=[],r=Math.floor(o/2),s=0;s<=r;s++){for(var l=[],c=0;c<i;c++){var u=n[c];0==s?l.push(u.renders[r]):(l.push(u.renders[r-s]),l.push(u.renders[r+s]))}a.push(l)}this.startDisappear(a,t)},e.processLTMoveRB=function(e,t){for(var n=e.items,i=e.config.col,o=e.config.row,a=[],r=o+i-1,s=0;s<r;s++){for(var l=s<o?s:o-1,c=s-l,u=[];c<i&&l<o&&c>=0&&l>=0;){var p=n[c];u.push(p.renders[l]),l--,c++}a.push(u)}this.startDisappear(a,t)},e.processRBMoveLT=function(e,t){for(var n=e.items,i=e.config.col,o=e.config.row,a=[],r=o+i-1-1;r>=0;r--){for(var s=r<o?r:o-1,l=r-s,c=[];l<i&&s<o&&l>=0&&s>=0;){var u=n[l];c.push(u.renders[s]),s--,l++}a.push(c)}this.startDisappear(a,t)},e.processLBMoveRT=function(e,t){for(var n=e.items,i=e.config.col,o=e.config.row,a=[],r=o+i-1,s=0;s<r;s++){for(var l=s<i?o-1:r-s-1,c=s<i?s:i-1,u=[];c<i&&l<o&&c>=0&&l>=0;){var p=n[c];u.push(p.renders[l]),l--,c--}a.push(u)}this.startDisappear(a,t)},e.processRTMoveLB=function(e,t){for(var n=e.items,i=e.config.col,o=e.config.row,a=[],r=o+i-1,s=r-1;s>=0;s--){for(var l=s<i?o-1:r-s-1,c=s<i?s:i-1,u=[];c<i&&l<o&&c>=0&&l>=0;){var p=n[c];u.push(p.renders[l]),l--,c--}a.push(u)}this.startDisappear(a,t)},e.startDisappear=function(e,t){for(var n=this,i=e.length,o=0;o<i;o++)for(var a=e[o],r=a.length,s=function(e){var r=a[e],s=o;cc.tween(r).delay(l.disappreaDelayTime*s).call(function(){r.playDisappearAnimation&&r.playDisappearAnimation(r.index)}).to(l.disappearTime,{scale:0,opacity:0}).call(function(){n.disappearComplete(t,s,i)}).start()},l=this,c=0;c<r;c++)s(c)},e.disappearComplete=function(e,t,n){t==n-1&&e.run()},e._disappearTime=.15,e._disappreaDelayTime=.1,e}();n.default=o,cc._RF.pop()},{"../../../../SlotManager/SpinManager":"SpinManager"}],EliminateEffectUtils:[function(e,t,n){"use strict";cc._RF.push(t,"a0d49U8QLVJW526hQ7IbFJj","EliminateEffectUtils"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../../../../common/enum/CommonEnum"),o=e("../../../../../../sound/script/SoundMger"),a=e("../../../../MainView/SlotMachineView"),r=e("../../../../SlotConfigs/GameEventNames"),s=e("../../../../SlotDefinitions/SlotEnum"),l=e("../../../../SlotManager/SpinManager"),c=e("../../../../SlotUtils/Handle"),u=e("../../../com/base/JTItemRender"),p=e("../../../rules/JTRuleTaskType"),h=e("./EliminateDisappearUtils"),d=function(){function e(){}return Object.defineProperty(e,"eliminateTotalWin",{get:function(){return this._eliminateTotalWin},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scatterWin",{get:function(){return this._scatterWin},enumerable:!1,configurable:!0}),Object.defineProperty(e,"speed",{get:function(){return l.default.instance.isInTurbo?2*this._speed:this._speed},set:function(e){this._speed=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleTime",{get:function(){return l.default.instance.isInTurbo?this._scaleTime/2:this._scaleTime},set:function(e){this._scaleTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scaleTimeGap",{get:function(){return l.default.instance.isInTurbo?this._scaleTimeGap/2:this._scaleTimeGap},set:function(e){this._scaleTimeGap=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"boundTime",{get:function(){return l.default.instance.isInTurbo?this._boundTime/2:this._boundTime},set:function(e){this._boundTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"appearTime",{get:function(){return l.default.instance.isInTurbo?this._appearTime/2:this._appearTime},set:function(e){this._appearTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fallTime",{get:function(){return this._fallTime},set:function(e){this._fallTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"delayDropTime",{get:function(){return l.default.instance.isInTurbo?this._delayDropTime/2:this._delayDropTime},set:function(e){this._delayDropTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scatterDopGapTime",{get:function(){return l.default.instance.isInTurbo?this._scatterDopGapTime/2:this._scatterDopGapTime},set:function(e){this._scatterDopGapTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"scatterWaitDropTime",{get:function(){return l.default.instance.isInTurbo?this._scatterWaitDropTime/2:this._scatterWaitDropTime},set:function(e){this._scatterWaitDropTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isLeftRightFallDown",{get:function(){return this._isLeftRightFallDown},set:function(e){this._isLeftRightFallDown=e},enumerable:!1,configurable:!0}),e.setup=function(e,t,n,i,o,a,r,s,l,c,u){void 0===r&&(r=.15),void 0===s&&(s=.1),void 0===l&&(l=.05),void 0===c&&(c=0),void 0===u&&(u=0),this.speed=e,this.scaleTime=t,this.scaleTimeGap=n,this.boundTime=i,this.appearTime=o,this.fallTime=a,this.delayDropTime=l,this.scatterDopGapTime=c,this.scatterWaitDropTime=u,h.default.disappearTime=r,h.default.disappreaDelayTime=s},e.startEffect=function(e,t,n){0==e.isRunning||1==e.isRunning&&l.default.instance.isInAuto,this.initComplete=!1,this.processStartEffect(e,t,n)},e.processStartEffect=function(e,t,n){var i=this;this.lineIndex=e.config.row-1,this.timer=n?setInterval(function(){i.processScrollerPerLineShow(e,t)},n):setInterval(function(){i.processScrollerPerLineShow(e,t)},800)},e.processScrollerPerLineShow=function(e,t){var n=this;o.SoundMger.instance.playEffect(i.SOUND_NAME.Appear_Wheel,!1);for(var a=e.items,r=function(i){var o=a[i],r=o.renders[s.lineIndex],l=r.y;r.y=-e.config.girdHeight/2,r.scale=0,r.active=!0,r.opacity=0;var c=r.index-r.index%o.config.row;i==a.length-1&&0==s.lineIndex?cc.tween(r).delay(s.scaleTimeGap*i).call(function(){r.playDropAnimation&&r.playDropAnimation(c)}).to(s.scaleTime,{scale:1,opacity:255}).call(function(){n.scrollerRenderItemFall(r,l,t)}).start():cc.tween(r).delay(s.scaleTimeGap*i).call(function(){r.playDropAnimation&&r.playDropAnimation(c)}).to(s.scaleTime,{scale:1,opacity:255}).call(function(){n.scrollerRenderItemFall(r,l,null)}).start()},s=this,l=0;l<a.length;l++)r(l);0==this.lineIndex?(clearInterval(this.timer),0==e.isRunning&&(this.initComplete=!0)):this.lineIndex--},e.scrollerRenderItemFall=function(e,t,n){var i=this,o=Math.abs(t-e.y)/this.speed+this.boundTime,a=e.height;cc.tween(e).to(.6*o,{y:t}).by(.2*o,{y:.4*a}).by(.2*o,{y:.4*-a}).delay(.1).call(function(){i.allFallEnd(e,n)}).start()},e.allFallEnd=function(e,t){t&&t.run(),e.onDropEnd()},e.getTotalWin=function(){if(!l.default.instance.rollingResult)return{eliminate:0,scatter:0};var e=l.default.instance.getCustomResult();if(e&&e.length>0){for(var t=0,n=0,i=0;i<e.length;i++){var o=e[i];o.removePos&&o.removePos.length>0?t+=o.spinResult.spinCoin.toNumber():n+=o.spinResult.spinCoin.toNumber()}return{eliminate:t,scatter:n}}return{eliminate:0,scatter:0}},e.resetElimate=function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,!1),this.curEliminateResultType=null,this.resultIndex=0;var e=this.getTotalWin();this._eliminateTotalWin=e.eliminate,this._scatterWin=e.scatter,game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_FIRST_DROP_END)},e.processEliminateEffect=function(e,t,n){var i,o=this,a=this.getElinateAttr(),s=[],l=e.config,u=null,p=[],h=!1,d=!1;if(a&&(u=a.eliminateEle,p=a.throughGrid,h=a.isMiddleTask,i=a.eliminateResult,d=i.isLast),u&&u.length>0){for(var f=u.length,m=0;m<f;m++){var g=u[m],_=Math.floor(g/l.row),y=e.items[_],T=g%l.row,S=y.renders[T];s.push(S)}game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_PRE_START_ELIMINATE,a),this.elePlayAni?this.elePlayAni.runWith([s,c.Handler.create(this,this.eliminateEffectRow,[u,p,e,t,n]),d,i]):this.eliminateEffectRow(u,p,e,t,n)}else h?cc.tween(this).delay(.2).call(function(){o.elePlayAni?o.elePlayAni.runWith([s,c.Handler.create(o,o.processEliminateEffect,[e,t,n]),d,i]):o.processEliminateEffect(e,t,n)}).start():t.run()},e.getElinateAttr=function(){var e=l.default.instance.rollingResult;if(!e)return null;var t=e.updateList[0],n=l.default.instance.getCustomResult(),i=!0;if(t&&n&&n.length>0){for(var o=0,a=0;a<n.length;a++){var r=n[a];if(a>this.resultIndex)break;o+=r.spinResult.spinCoin.toNumber()}this.curEliminateResultType=n[this.resultIndex],this.resultIndex++;var s=n[this.resultIndex],c=[];if(this.curEliminateResultType&&this.curEliminateResultType.removePos){for(a=0;a<this.curEliminateResultType.removePos.length;a++)if(this.curEliminateResultType.removePos[a]-=1,this.curEliminateResultType.removePos[a]<0)return null;var u={};if(u.totalSpinCoin=o,u.index=this.resultIndex-1,u.curSpinCoin=this.curEliminateResultType.spinResult.spinCoin.toNumber(),u.preSumSpinCoin=o-u.curSpinCoin,u.crushRate=this.curEliminateResultType.crushRate,u.lineResult=this.curEliminateResultType.spinResult.lineResult,u.balance=this.curEliminateResultType.balance.toNumber(),u.curRate=this.curEliminateResultType.rate,s&&s.removePos&&s.removePos.length>0&&(i=!1),u.isLast=i,this.curEliminateResultType.throughGrid.length>0)for(a=0;a<this.curEliminateResultType.throughGrid.length;a++)c[a]=this.curEliminateResultType.throughGrid[a].pos-1;var p=0==this.curEliminateResultType.removePos.length&&u.index<n.length-1;return{eliminateEle:this.curEliminateResultType.removePos,throughGrid:c,eliminateResult:u,isMiddleTask:p}}return null}return null},e.eliminateEffectRow=function(e,t,n,i,o){var a,s,l=this,c={},u={};if(null!=e){s=e.length;for(var p=0;p<n.items.length;p++){a=n.items[p];var d=[],f=[];this.setEllimateDatas(a,d,1),this.setEllimateDatas(a,f,0);for(var m=0;m<s;m++){var g=Math.floor(e[m]/n.config.row),_=e[m]%n.config.row;if(g==a.index){var y=a.renders[_];this.startEliminateEffectRow(y),d[_]=0}}for(m=0;m<t.length;m++)g=Math.floor(t[m]/n.config.row),_=t[m]%n.config.row,g==a.index&&(f[_]=1);u[p]=f,c[p]=d}var T=this.fallTime+.5;T<h.default.disappearTime&&(T=h.default.disappearTime+.2),cc.tween(this).delay(T).call(function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_AFTER_ELIMINATE),o?l.eliminateEffectRowComplete(n,c,u,i):l.eliminateEffectFall(n,c,u,i)}).start()}else i.run()},e.setEllimateDatas=function(e,t,n){void 0===n&&(n=1);for(var i=e.renders.length,o=0;o<i;o++)t[o]=n},e.getFallIndex=function(e,t,n){for(var i=t.length,o=e,a=e+1;a<i;a++)0==t[a]&&(o=a),n[a];return o},e.startEliminateEffectRow=function(e){(e||cc.isValid(e))&&(e.scale=0,e.onEliminate())},e.eliminateEffectRowComplete=function(e,t,n,a){var r,s,l=this;o.SoundMger.instance.playEffect(i.SOUND_NAME.Appear_Wheel,!1);for(var c=0;c<e.items.length;c++){s=e.items[c];var u=t[c],p=n[c];r=s.renders.length;for(var h=0;h<r;h++)if(0!=u[h]&&0==p[h]){var d=this.getFallIndex(h,u,p);if(0!=d){var f=s.renders[h],m=h+d,g=s.renders[m];this.processElimateFall(f,f.y,g.y),u[h]=0,u[m]=1,s.renders[m]=f,s.items[m+1]=f;var _=f.index;f.index=g.index,s.renders[h]=g,s.items[h+1]=g,g.index=_,g.y=f.y}}s.sortItemszIndex()}cc.tween(this).delay(this.appearTime).call(function(){l.nextLineStep(e,t,a)}).start()},e.processElimateFall=function(e,t,n,i,o){void 0===i&&(i=0);var a=Math.abs(n-t)/this.speed+this.boundTime,r=e.owner.owner,s=r.config.girdHeight;if(r.isIncline){var l=e.owner.pipeline.getItemInclineProperty(n),c=e.width/2+l.offsetX;cc.tween(e).delay(i).to(.6*a,{y:n,x:c,skewX:l.skewX}).by(.2*a,{y:.3*s}).by(.2*a,{y:.3*-s}).call(function(){e.onDropEnd(),o&&o.run()}).start()}else cc.tween(e).delay(i).to(.6*a,{y:n}).by(.2*a,{y:.3*s}).by(.2*a,{y:.3*-s}).call(function(){e.onDropEnd(),o&&o.run()}).start();return a+i},e.nextLineStep=function(e,t,n){this.fallRowIndex=e.config.row-1;var i=e.dataProvider.converToList(this.curEliminateResultType.spinResult.gridChanged);this.nextElimateStep(e,t,i,n)},e.nextElimateStep=function(e,t,n,a){for(var r=0,s=0;s<e.items.length;s++)0==t[s][this.fallRowIndex]&&r++;if(this.fallEndIndex=0,r>0){o.SoundMger.instance.playEffect(i.SOUND_NAME.Appear_Wheel,!1);for(var l=0;l<e.items.length;l++)this.nextElimateStepRow(e,t,n,l,r,a)}else this.nextElimateStepRowComplete(e,t,n,a)},e.nextElimateStepRow=function(e,t,n,i,o,a){var r=this,s=e.items[i],l=t[s.index],p=n[s.index];if(0==l[this.fallRowIndex]){var h=s.renders[this.fallRowIndex],d=h.y;h.y=-e.config.girdHeight/2,h.opacity=0,h.scale=0,h.data=p[this.fallRowIndex];var f=h.index-h.index%s.config.row;h.gotoAndStop(u.default.STATE_DEFAULT),this.fallEndIndex==o-1?cc.tween(h).delay(this.scaleTimeGap*this.fallEndIndex).call(function(){h.playDropAnimation&&h.playDropAnimation(f)}).to(this.scaleTime,{scale:1,opacity:255}).call(function(){r.scrollerRenderItemFall(h,d,c.Handler.create(r,r.nextElimateStepRowComplete,[e,t,n,a]))}).start():cc.tween(h).delay(this.scaleTimeGap*this.fallEndIndex).call(function(){h.playDropAnimation&&h.playDropAnimation(f)}).to(this.scaleTime,{scale:1,opacity:255}).call(function(){r.scrollerRenderItemFall(h,d,null)}).start(),this.fallEndIndex++}},e.nextElimateStepRowComplete=function(t,n,i,o){this.fallRowIndex--,this.fallRowIndex<0?e.processEliminateEffect(t,o,!1):this.nextElimateStep(t,n,i,o)},e.beginFallAllElementToBelow=function(e,t){for(var n=e.items,i=0;i<n.length;i++){for(var o=n[i],a=o.config,r=0;r<o.renders.length;r++){var s=o.renders[r],l=s.y-a.girdHeight*(a.row+.5);s.active=!0,i==a.col-1&&r==a.row-1?this.fallItemWithoutBounce(s,l,t):this.fallItemWithoutBounce(s,l,null)}o.adjustSkinRenders(!1)}},e.beginFallAllElementFromAbove=function(e,t){for(var n=e.items,a=0;a<n.length;a++)for(var r=n[a],s=r.config,l=r.renders.length-1;l>=0;l--){var u=r.renders[l],p=u.y;if(u.y=u.y+s.girdHeight*(s.row+1),u.active=!0,a==s.col-1&&0==l){var h=c.Handler.create(this,function(){o.SoundMger.instance.playEffect(i.SOUND_NAME.Symbol_Drop,!1),t.run()});this.scrollerRenderItemFall(u,p,h)}else this.scrollerRenderItemFall(u,p,null)}},e.fallItemWithoutBounce=function(e,t,n){var i=this,o=Math.abs(t-e.y)/this.speed;cc.tween(e).to(o,{y:t},{easing:"quadIn"}).delay(.2).call(function(){i.allFallEnd(e,n)}).start()},e.eliminateEffectFall=function(t,n,a,s){for(var l,c,u=t.config,h=this.appearTime,d=0;d<t.items.length;d++){c=t.items[d];var f=n[d],m=a[d];l=c.renders.length;var g=(t.items.length-d-1)*this.delayDropTime;this.isLeftRightFallDown&&(g=d*this.delayDropTime);for(var _=l-1;_>=0;_--)if(0!=f[_]&&0==m[_]){var y=this.getFallIndex(_,f,m);if(y!=_){var T=c.renders[_],S=y,E=c.renders[S],v=this.processElimateFall(T,T.y,E.y,g);f[_]=0,f[S]=1,c.renders[S]=T,c.items[S+1]=T;var C=T.index;T.index=E.index,T.onOldElemDropEnd(),c.renders[_]=E,c.items[_+1]=E,E.index=C,E.y=T.y,v>h&&(h=v)}}}var b=t.ruleTaskManager.getRuleTask(p.default.SCATTER),R=b&&b.isRunning?this.scatterDopGapTime:0,M=b&&b.isRunning?this.scatterWaitDropTime:0,L=t.dataProvider.converToList(this.curEliminateResultType.spinResult.gridChanged);for(d=0;d<t.items.length;d++){c=t.items[d],f=n[d],m=a[d],l=c.renders.length;var N=L[d],I=0;g=(t.items.length-d-1)*this.delayDropTime+d*R+M,this.isLeftRightFallDown&&(g=d*this.delayDropTime+d*R+M);for(var O=0;O<f.length;O++)0!=f[O]&&1!=m[O]||I++;var P=g,A=0;for(_=0;_<l;_++)if(0==f[_]){(T=c.renders[_]).data=N[_];var w=T.y;T.y=w+u.gapHeight*(I+.2),T.scale=1,(v=this.processElimateFall(T,T.y,w,g))>h&&(h=v),T.onNewElemDropEnd(),v>P&&(P=v),++A==I&&cc.tween(this).delay(P-.1).call(function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND)}).start()}game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_NEW_ELEMDROP_END),c.sortItemszIndex()}cc.tween(this).delay(h-.2).call(function(){o.SoundMger.instance.playEffect(i.SOUND_NAME.Symbol_Drop,!1)}).start(),cc.tween(this).delay(h+.2).call(function(){e.processEliminateEffect(t,s,!1)}).start()},e.beginFallToBelowThenAboveFall=function(e,t){for(var n=e.items,a=0;a<n.length;a++)for(var r=n[a],s=r.config,l=r.renders.length-1;l>=0;l--){var u=r.renders[l],p=u.y,h=-r.config.row*r.config.gapHeight-r.config.girdHeight/2,d=r.config.gapHeight-r.config.girdHeight/2,f=r.dataList[l+1];if(u.active=!0,a==s.col-1&&0==l){var m=c.Handler.create(this,function(){t.run(),o.SoundMger.instance.playEffect(i.SOUND_NAME.Symbol_Drop,!1)});this.fallAndChangeThenFall(u,h,f,.1,d,p,m)}else this.fallAndChangeThenFall(u,h,f,.1,d,p)}},e.fallAndChangeThenFall=function(e,t,n,i,o,a,r){var s=Math.abs(t-e.y)/this.speed,l=Math.abs(a-o)/this.speed;cc.tween(e).to(s,{y:t}).delay(i).call(function(){e.y=o,e.data=n}).to(l,{y:a}).call(function(){r&&r.run(),e.onDropEnd()}).start()},e.processUnfixedLengthEliminateEffect=function(e,t,n){var i,o,a=this,s=this.getElinateAttr(),l=[],u=e.config,p=null,h=[],d=!1,f=!1;if(s){p=s.eliminateEle,h=s.throughGrid,d=s.isMiddleTask,o=s.eliminateResult,f=o.isLast;for(var m=0;m<e.items.length;m++)(v=e.items[m]).pipeline.resetRenderPoints()}var g=[],_=this.curEliminateResultType?this.curEliminateResultType.splitGridData:null;if(_)for(var y=0;y<_.length;y++)m=_[y].pos-1,g.push(m);var T=null===(i=this.curEliminateResultType)||void 0===i?void 0:i.spinResult;if(T&&e.dataProvider.update(T.grid,T.gridChanged,T.realGridShape,T.realGridShapeChanged,T.occupyPosList,T.occupyPosListChanged),p&&p.length>0){var S=p.length;for(y=0;y<S;y++){m=p[y];var E=Math.floor(m/u.row),v=e.items[E],C=m%u.row,b=v.renders[C];g.includes(m)||l.push(b)}game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_PRE_START_ELIMINATE,s),this.elePlayAni?this.elePlayAni.runWith([l,c.Handler.create(this,this.unfixedLengthEliminateEffectRow,[p,h,e,t,n]),f,o]):this.unfixedLengthEliminateEffectRow(p,h,e,t,n)}else d?cc.tween(this).delay(.2).call(function(){a.elePlayAni?a.elePlayAni.runWith([l,c.Handler.create(a,a.processUnfixedLengthEliminateEffect,[e,t,n]),f,o]):a.processUnfixedLengthEliminateEffect(e,t,n)}).start():t.run()},e.unfixedLengthEliminateEffectRow=function(e,t,n,i,o){var a,s,l=this,c={},u={};if(null!=e){s=e.length;var p=[],d=[],f=this.curEliminateResultType?this.curEliminateResultType.splitGridData:null;if(n.config,f)for(var m=0;m<f.length;m++)for(var g=0,_=f[m].splitGridData2;g<_.length;g++){var y=_[g].pos-1,T=Math.floor(y/n.config.row);d.push(T),p.push(y)}for(y=0;y<n.config.col;y++){a=n.items[y];var S=[],E=[];for(this.setEllimateDatas(a,S,1),this.setEllimateDatas(a,E,0),m=0;m<s;m++){T=Math.floor(e[m]/n.config.row);var v=e[m]%n.config.row;if(T==y&&!d.includes(y)){var C=a.renders[v];this.startEliminateEffectRow(C),S[v]=0}}for(m=0;m<t.length;m++)T=Math.floor(t[m]/n.config.row),v=t[m]%n.config.row,T==a.index&&(E[v]=1);u[y]=E,c[y]=S}this.fixEliminateDataAfterSplit(c,n,e);var b=this.fallTime+.5;b<h.default.disappearTime&&(b=h.default.disappearTime+.2),cc.tween(this).delay(b).call(function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_AFTER_ELIMINATE),o||l.unfixedLengthEliminateEffectFall(n,c,u,i)}).start()}else i.run()},e.unfixedLengthEliminateEffectFall=function(t,n,a,l){for(var c,u=t.config,h=this.appearTime,d=(this.curEliminateResultType.spinResult,function(e){var i=t.items[e],o=i.dataProvider.changedGrids.gridShapes,r=n[e],s=a[e];if(o.length==r.length)return"continue";if(o.length>r.length)for(var l=o.length-r.length,c=0;c<l;c++){r.unshift(0),s.unshift(0);var u=i.items.findIndex(function(e){return!i.renders.includes(e)});i.renders.unshift(i.items[u])}else{l=r.length-o.length;var p=i.items[i.items.length-1],h=p.y-.5*p.height;for(c=0;c<l;c++){u=r.findIndex(function(e){return 0==e}),r.splice(u,1),s.splice(u,1);var d=i.renders[u];d.scale=1,i.renders.splice(u,1),d.y=h-.5*d.height}}}),f=0;f<t.items.length;f++)d(f);for(f=0;f<t.items.length;f++){var m=(B=t.items[f]).pipeline,g=B.dataProvider.changedGrids.occupyPosList,_=B.dataProvider.changedGrids.gridShapes;if(0==g.length){g=[];for(var y=u.row/_.length,T=0,S=_;T<S.length;T++){var E=S[T];g.push({pos:E,len:y})}}var v=n[f],C=a[f];c=B.renders.length;var b=f;m.extendScrollerInfo&&f>=m.linkIndexs[0]&&(b=m.linkIndexs.includes(f)?m.linkIndexs[0]:f-m.linkIndexs.length-1),b+=t.expandScrollerInfo.length,m.extendScrollerInfo&&(b-=t.items.length);var R=(t.items.length-b-1)*this.delayDropTime;this.isLeftRightFallDown&&(R=b*this.delayDropTime);for(var M=c-1;M>=0;M--)if(0!=v[M]&&0==C[M]){var L=this.getFallIndex(M,v,C);if(L!=M){var N=B.renders[M],I=L,O=B.renders[I],P=0;if(m.extendScrollerInfo&&m.extendScrollerInfo.direction==s.SlotOrientation.Landscape){var A=this.getUnfixedLengthLandscapePosition(B,N,L,g);P=this.processElimateLandscapePull(N,N.x,A,R),O.x=N.x}else{var w=this.getUnfixedLengthFallPosition(B,N,L,g);P=this.processElimateFall(N,N.y,w,R),O.y=N.y}v[M]=0,v[I]=1,B.renders[I]=N;var G=N.index;N.onOldElemDropEnd(),B.renders[M]=O,O.index=G,P>h&&(h=P)}}}var D=t.ruleTaskManager.getRuleTask(p.default.SCATTER),k=D&&D.isRunning?this.scatterDopGapTime:0,x=D&&D.isRunning?this.scatterWaitDropTime:0;for(f=0;f<t.items.length;f++){var B=t.items[f];v=n[f],C=a[f],c=B.renders.length;var J=B.dataProvider.changedGrids.dataList,F=0;if(g=B.dataProvider.changedGrids.occupyPosList,_=B.dataProvider.changedGrids.gridShapes,m=B.pipeline,0==g.length){g=[];for(var U=u.row/_.length,j=0,V=_;j<V.length;j++)E=V[j],g.push({pos:E,len:U})}b=f,f>=m.linkIndexs[0]&&(b=m.linkIndexs.includes(f)?m.linkIndexs[0]:f-m.linkIndexs.length-1),b+=t.expandScrollerInfo.length,m.extendScrollerInfo&&(b-=t.items.length),R=(t.items.length-b-1)*this.delayDropTime+b*k+x,this.isLeftRightFallDown&&(R=b*this.delayDropTime+b*k+x);for(var H=0;H<v.length;H++)0!=v[H]&&1!=C[H]||(F+=g[H].len);var W=R,Y=0;for(M=0;M<c;M++)if((N=B.renders[M]).index=g[M].pos-1,0==v[M]){var K=J[M],X=g[M].len;N.mixRow=X;var z=u.getUnfixedLengthItemConfig(K,X);if(N.realData=K,z?N.data=z.mapId:(N.data=K,N.mixRow=X,N.height=u.girdHeight*X+u.gapY*(X-1),N.gotoAndStop(0)),P=0,m.extendScrollerInfo&&m.extendScrollerInfo.direction==s.SlotOrientation.Landscape){var q=this.getUnfixedLengthLandscapePosition(B,N,M,g);N.x=q+u.gapWidth*F+N.width,P=this.processElimateLandscapePull(N,N.x,q,R)}else{var Z=this.getUnfixedLengthFallPosition(B,N,M,g);N.y=Z+u.gapHeight*F+N.height,P=this.processElimateFall(N,N.y,Z,R)}N.active=!0,N.scale=1,P>h&&(h=P),N.onNewElemDropEnd(),P>W&&(W=P),(Y+=X)==F&&cc.tween(this).delay(W-.1).call(function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND)}).start()}B.sortItemszIndex(),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_NEW_ELEMDROP_END)}cc.tween(this).delay(h-.2).call(function(){o.SoundMger.instance.playEffect(i.SOUND_NAME.Symbol_Drop,!1)}).start(),cc.tween(this).delay(h+.2).call(function(){e.processUnfixedLengthEliminateEffect(t,l,!1)}).start()},e.splitUnfixedLengthElements=function(){var e=[];if(this.curEliminateResultType&&this.curEliminateResultType.splitGridData.length>0){for(var t=this.curEliminateResultType.splitGridData,n=a.default.instance.scroller,i=n.config,o=[],r=[],l=0;l<t.length;l++){var c=t[l].pos-1,u=n.getRenderByPos(c);o.push(u),r.push(u)}var p=function(a){var l=t[a],c=l.pos-1,u=Math.floor(c/n.config.row),p=n.items[u],d=p.pipeline,f=o[a],m=l.splitGridData2,g=[];g.push(f);for(var _=p.renders,y=p.items,T=p.renders.indexOf(f)+1;g.length<m.length;){var S=y.findIndex(function(e){return!_.includes(e)&&!r.includes(e)}),E=y[S];g.push(E),r.push(E),_.splice(T,0,E),T++}for(var v=p.dataProvider.changedGrids.occupyPosList,C=p.dataProvider.changedGrids.gridShapes,b=c%n.config.row,R=0;R<b;R++)v[R].len;if(0==v.length){v=[];for(var M=i.row/C.length,L=0,N=C;L<N.length;L++){var I=N[L];v.push({pos:I,len:M})}}for(S=0;S<m.length;S++){E=g[S];var O=m[S];E.index=O.pos-1,E.mixRow=O.len;var P=O.elem,A=i.getUnfixedLengthItemConfig(P,O.len);E.realData=P,A?E.data=A.mapId:(E.data=P,E.mixRow=O.len,E.height=i.girdHeight*O.len+i.gapY*(O.len-1),E.gotoAndStop(0)),E.active=!0,d.extendScrollerInfo&&d.extendScrollerInfo.direction==s.SlotOrientation.Landscape?E.x=(d.extendScrollerInfo.row-E.index%i.row-1)*(i.gapWidth+d.extendScrollerInfo.gap)+i.girdWidth/2:E.y=h.getUnfixedLengthFallPosition(p,E,E.index%n.config.row,v),O.len}for(S=0;S<_.length;S++)(E=_[S]).index=p.indexs[S];e=e.concat(g)},h=this;for(l=0;l<t.length;l++)p(l)}return e},e.fixEliminateDataAfterSplit=function(e,t,n){var i=this.curEliminateResultType?this.curEliminateResultType.splitGridData:null;if(i&&0!=i.length)for(var o=t.config,a=0;a<o.col;a++){for(var r=t.items[a],s=r.dataProvider.grids.occupyPosList,l=(r.dataProvider.changedGrids.occupyPosList,[]),c=0,u=s;c<u.length;c++)u[c],l.push(1);for(var p=0,h=n;p<h.length;p++){var d=h[p],f=Math.floor(d/o.row),m=d%o.row;f==a&&(l[m]=0)}for(var g=0,_=i;g<_.length;g++){var y=_[g],T=y.pos-1;if(Math.floor(T/o.row)==a)for(var S=T%o.row,E=0;E<y.splitGridData2.length-1;E++)l.splice(S,0,1)}e[a]=l}},e.getUnfixedLengthFallPosition=function(e,t,n,i){for(var o=0,a=e.config,r=0;r<n;r++)o+=i[r].len;return-o*a.gapHeight-.5*t.height},e.getUnfixedLengthLandscapePosition=function(e,t,n,i){for(var o=e.config,a=0;a<n;a++)i[a].len;var r=e.pipeline.extendScrollerInfo;return(r.row-n-1)*(o.gapWidth+r.gap)+o.girdWidth/2},e.processElimateLandscapePull=function(e,t,n,i,o){void 0===i&&(i=0);var a=Math.abs(n-t)/this.speed+this.boundTime,r=e.height,s=e.owner.pipeline;if(s.extendScrollerInfo){var l=s.getItemCurveProperty(n),c=s.extendScrollerInfo.curveDegree?-e.height/2+l.offsetY:e.y;cc.tween(e).delay(i).to(1*a,{y:c,x:n,angle:l.angle}).call(function(){e.onDropEnd(),o&&o.run()}).start()}else cc.tween(e).delay(i).to(.6*a,{y:n}).by(.2*a,{y:.5*r}).by(.2*a,{y:.5*-r}).call(function(){e.onDropEnd(),o&&o.run()}).start();return a+i},e._speed=1500,e.lineIndex=0,e._scaleTime=.12,e._scaleTimeGap=.08,e._boundTime=.5,e._fallTime=.8,e._appearTime=.1,e._delayDropTime=.05,e._scatterDopGapTime=0,e._scatterWaitDropTime=0,e.initComplete=!1,e._isLeftRightFallDown=!0,e.timer=null,e._eliminateTotalWin=0,e._scatterWin=0,e.resultIndex=0,e.fallEndIndex=1,e.fallRowIndex=0,e}();n.default=d,cc._RF.pop()},{"../../../../../../common/enum/CommonEnum":"CommonEnum","../../../../../../sound/script/SoundMger":"SoundMger","../../../../MainView/SlotMachineView":"SlotMachineView","../../../../SlotConfigs/GameEventNames":"GameEventNames","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../../SlotManager/SpinManager":"SpinManager","../../../../SlotUtils/Handle":"Handle","../../../com/base/JTItemRender":"JTItemRender","../../../rules/JTRuleTaskType":"JTRuleTaskType","./EliminateDisappearUtils":"EliminateDisappearUtils"}],EntranceViewBase:[function(e,t,n){"use strict";cc._RF.push(t,"6e4efnX5bpE8r2FBTH/0ZYj","EntranceViewBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/enum/CommonEnum"),s=e("../common/layer/LayerManage"),l=e("../network/SlotProtoManager"),c=e("../slotMachine/script/SlotConfigs/GameEventNames"),u=e("../slotMachine/script/SlotManager/SlotConfigManager"),p=e("../slotMachine/script/SlotManager/SlotGameManager"),h=e("./BaseView"),d=cc._decorator,f=d.ccclass,m=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isAddView=!0,t.nodes={},t.orientation=r.Orientation.Both,t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},set:function(e){n._instance=e},enumerable:!1,configurable:!0}),t.prototype.initView=function(){this.isAddView=!0,game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netEnterRoom,this.enterLoginSuccess,this),n._instance=this,e.prototype.resize.call(this),this.loadConfigComplete()},t.prototype.loadConfigComplete=function(){this.beforeLogin(),game.SoundManager.getInstance().loadLocalVolume(core.Global.gameId.toString())},t.prototype.beforeLogin=function(){},t.prototype.addView=function(){},t.prototype.enterLoginSuccess=function(){this.isAddView&&(this.isAddView=!1,this.addView())},t.prototype.getNode=function(e){return this.nodes[e]},t.prototype.loadPrefab=function(e,t,n,i,o,a){var r=this;game.ResLoader.getInstance().loadRes(t,cc.Prefab,function(e,t){if(e)return e;var s=r.addNode(t,n,i,a);game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,i),o&&o(s)},e,"slot")},t.prototype.addNode=function(e,t,n,i){var o;if(e)return o=e instanceof cc.Prefab?cc.instantiate(e):e,n||(n=o.name),this.nodes[n]=o,i?i.addChild(o,t):this.node.addChild(o,t),o},t.prototype.initProto=function(){core.CommonProto.getInstance().loginReq();var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e),p.default.instance.init(),l.default.getInstance(),u.default.instance.gameID=core.Global.gameId},t.prototype.getEffectLayer=function(){var e=this.getNode(r.MAIN_NODE_NAME.effect);return e||(e=new cc.Node,this.addNode(e,s.LayerManage.effect,r.MAIN_NODE_NAME.effect)),e},t.prototype.setSiblingIndex=function(e,t,n){n||(n=this.getNode(e)),n?n.setSiblingIndex(t):console.log("\u83b7\u53d6\u8282\u70b9\u9519\u8bef")},t.prototype.shakeEffect=function(e,t,n){void 0===t&&(t=1),(n=n||this.node).stopAllActions(),n.setPosition(0,0),e&&(game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_SHAKE_EFFECT_START),n.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.02,cc.v2(5*t,7*t)),cc.moveTo(.02,cc.v2(-6*t,7*t)),cc.moveTo(.02,cc.v2(-13*t,3*t)),cc.moveTo(.02,cc.v2(3*t,-6*t)),cc.moveTo(.02,cc.v2(-5*t,5*t)),cc.moveTo(.02,cc.v2(2*t,-8*t)),cc.moveTo(.02,cc.v2(-8*t,-10*t)),cc.moveTo(.02,cc.v2(3*t,10*t)),cc.moveTo(.02,cc.v2(0,0))))),setTimeout(function(){n.stopAllActions(),n.setPosition(0,0),game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_SHAKE_EFFECT_END)},1e3*e))},a([m({type:cc.Enum(r.Orientation),tooltip:"\u6e38\u620f\u652f\u6301\u7684\u65b9\u5411\uff0c\u5206\u56fa\u5b9a\u6a2a\u5c4f\uff0c\u56fa\u5b9a\u7ad6\u5c4f\uff0c\u53ca\u6a2a\u7ad6\u5747\u652f\u6301"})],t.prototype,"orientation",void 0),n=a([f],t)}(h.default);n.default=g,cc._RF.pop()},{"../common/enum/CommonEnum":"CommonEnum","../common/layer/LayerManage":"LayerManage","../network/SlotProtoManager":"SlotProtoManager","../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../slotMachine/script/SlotManager/SlotConfigManager":"SlotConfigManager","../slotMachine/script/SlotManager/SlotGameManager":"SlotGameManager","./BaseView":"BaseView"}],EntranceView:[function(e,t,n){"use strict";cc._RF.push(t,"8d6a9YPDaRCrbqOnj8sxhFZ","EntranceView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/utils/GData"),s=e("../common/utils/Property"),l=e("../slotMachine/script/SlotManager/SlotGameManager"),c=e("./EntranceViewBase"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.blurryBgNode=null,t}return o(t,e),t.prototype.initView=function(){var e=this,t=cc.Canvas.instance.node;t.getComponent(cc.Mask)||t.addComponent(cc.Mask),c.default._instance=this,cc.view.resizeWithBrowserSize(!0),cc.debug.setDisplayStats(!1),r.GData.skinId=core.Global.skinId,this.isAddView=!0,game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netEnterRoom,this.enterLoginSuccess,this),this.addBlurryeBG(),l.default.instance.loadConfig().then(function(){e.setLanguage(),e.loadConfigComplete(),e.resize()})},t.prototype.addBlurryeBG=function(){var e=this;this.blurryBgNode=new cc.Node("blurryBg"),this.blurryBgNode.parent=cc.Canvas.instance.node.parent;var t=r.GData.getParameter("main").blurryUrl;this.blurryBgNode.setSiblingIndex(0),s.Property.setSpriteProperty(this.blurryBgNode.addComponent(cc.Sprite),{spriteFrame:t},null,function(t){e.blurryLoadOver(t)}.bind(this))},t.prototype.blurryLoadOver=function(e){var t=cc.view.getCanvasSize();if(this.blurryBgNode){if(e){var n=e.spriteFrame.getOriginalSize();this.blurryBgNode.width=n.width,this.blurryBgNode.height=n.height}this.blurryBgNode.setPosition(cc.Canvas.instance.node.x,cc.Canvas.instance.node.y);var i=cc.view.getDesignResolutionSize(),o=Math.min(t.width/i.width,t.height/i.height),a=this.blurryBgNode.width*o,r=this.blurryBgNode.height*o;this.blurryBgNode.scale=Math.max(t.width/a,t.height/r)}},t.prototype.setLanguage=function(){},a([p],t)}(c.default));n.default=h,cc._RF.pop()},{"../common/utils/GData":"GData","../common/utils/Property":"Property","../slotMachine/script/SlotManager/SlotGameManager":"SlotGameManager","./EntranceViewBase":"EntranceViewBase"}],FadeUIAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"9c2c7RenEJA8o/sqNoKuGy5","FadeUIAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.FadeUIAnimation=void 0;var r=cc._decorator,s=r.ccclass,l=r.property,c=(r.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fadeTime=.3,t.fadeNodeList=[],t}return o(t,e),t.prototype.execAni_open=function(t){var n=this;this.fadeNodeList.forEach(function(e){e.opacity=0}),e.prototype.execAni_open.call(this,function(){var e=n;cc.tween({opacity:0}).to(n.fadeTime,{opacity:255},{progress:function(t,n,i,o){e.fadeNodeList.forEach(function(e){e.opacity=n*o})}}).start(),t()})},a([l({type:cc.Float,tooltip:"\u6de1\u5165\u6de1\u51fa\u7f13\u52a8\u65f6\u957f(\u9ed8\u8ba4\u503c\u4e3a0.3)"})],t.prototype,"fadeTime",void 0),a([l({type:[cc.Node],tooltip:"\u6de1\u5165\u6de1\u51fa\u8282\u70b9\u961f\u5217"})],t.prototype,"fadeNodeList",void 0),a([s],t)}(core.UIAni_PG));n.FadeUIAnimation=c,cc._RF.pop()},{}],FixedScrollView:[function(e,t,n){"use strict";cc._RF.push(t,"42fddhr2kVLZ4XlK3yBIu+O","FixedScrollView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),cc.sys.isMobile?(this.verticalScrollBar.enableAutoHide=!1,this.inertia=!0,this.brake=.5,this.elastic=!0,this.verticalScrollBar.node.active=!1):(this.inertia=!1,this.elastic=!1,this.node.on(cc.Node.EventType.MOUSE_ENTER,this.onEnter,this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,this.onLeave,this),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)),this.verticalScrollBar.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchBarMove,this)},t.prototype.onScrollEvent=function(){cc.sys.isMobile&&(this.verticalScrollBar.node.active=!0)},t.prototype.onEnter=function(){cc.Tween.stopAllByTarget(this.verticalScrollBar.node),this.verticalScrollBar.node.active=!0,cc.tween(this.verticalScrollBar.node).to(.5,{opacity:255}).start()},t.prototype.onLeave=function(){var e=this;cc.Tween.stopAllByTarget(this.verticalScrollBar.node),cc.tween(this.verticalScrollBar.node).to(.5,{opacity:0}).call(function(){e.verticalScrollBar.node.active=!1}).start()},t.prototype.onTouchStart=function(){this.node._touchListener._paused=!0},t.prototype.onTouchBarMove=function(e){var t=this.verticalScrollBar.node.getChildByName("bar"),n=this.node.getContentSize().height,i=t.getContentSize().height,o=t.convertToWorldSpaceAR(cc.v2(0,0)),a=e.getStartLocation().y,r=a-e.getLocationY(),s=Math.abs(a-r)/n;a<o.y||a>o.y+i?this.scrollTo(cc.v2(0,s)):(r>0||r<0)&&this.scrollTo(cc.v2(0,s))},t.prototype._onMouseWheel=function(e,t){if(this.enabledInHierarchy&&!this.hasNestedViewGroup(e,t)){var n=cc.v2(0,0),i=-1;cc.sys.os===cc.sys.OS_WINDOWS&&cc.sys.browserType===cc.sys.BROWSER_TYPE_FIREFOX&&(i/=3),this.vertical?n=cc.v2(0,e.getScrollY()*i):this.horizontal&&(n=cc.v2(e.getScrollY()*i,0)),this._mouseWheelEventElapsedTime=0,this._processDeltaMove(n),this._stopMouseWheel||(this._handlePressLogic(),this.schedule(this._checkMouseWheel,1/60),this._stopMouseWheel=!0),this._stopPropagationIfTargetIsMe(e),e._event&&e._event.preventDefault()}},a([s],t)}(cc.ScrollView));n.default=l,cc._RF.pop()},{}],FlashLight:[function(e,t,n){"use strict";cc._RF.push(t,"c3d84IU9+tIcLVmxRnxYjfR","FlashLight");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.material=null,t.renderTime=0,t.enableRender=!1,t.roundShowComplete=null,t.percentRoundShowComplete=null,t.compeltePercent=-1,t.loop=!1,t._lineWidth=0,t._moveWidth=0,t._enableRender=!1,t._moveSpeed=0,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.material=this.node.getComponent(cc.RenderComponent).getMaterial(0)},t.prototype.show=function(e,t,n){void 0===e&&(e=!1),void 0===t&&(t=-1),void 0===n&&(n=null),this.loop=e,this.renderTime=0,this.compeltePercent=t,this.enableRender=!0,this.material.setProperty("enableRender",1),this.percentRoundShowComplete=n},t.prototype.hide=function(){this.renderTime=0,this.enableRender=!1,this.material.setProperty("enableRender",0)},Object.defineProperty(t.prototype,"moveSpeed",{get:function(){return this.material.getProperty("moveSpeed",0)},set:function(e){this.material.setProperty("moveSpeed",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"moveWidth",{get:function(){return this.material.getProperty("moveWidth",0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightWidth",{get:function(){return this.material.getProperty("lightWidth",0)},set:function(e){this.material.setProperty("lightWidth",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundTime",{get:function(){return(this.lightWidth+this.moveWidth)/this.moveSpeed},set:function(e){this.moveSpeed=(this.lightWidth+this.moveWidth)/e},enumerable:!1,configurable:!0}),t.prototype.getPercent=function(){return this.renderTime%this.roundTime/this.roundTime},t.prototype.update=function(e){if(this.enableRender){this.renderTime+=e,this.material.setProperty("renderTime",this.renderTime);var t=this.renderTime/this.roundTime;-1!=this.compeltePercent&&t>=this.compeltePercent&&this.percentRoundShowComplete&&(this.percentRoundShowComplete.run(),this.percentRoundShowComplete=null),t>=1&&(this.renderTime=0,this.roundShowComplete&&(this.roundShowComplete.run(),this.roundShowComplete=null),this.loop||this.hide())}},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],FluxayTexture:[function(e,t,n){"use strict";cc._RF.push(t,"9233b7gPhJPzpAtGrjzD3IQ","FluxayTexture");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._speed=1,t._time=0,t}return o(t,e),t.prototype.onLoad=function(){this._material=this.node.getComponent(cc.Sprite).getMaterial(0)},t.prototype.update=function(e){this._time>2&&(this._time=0),this._material.setProperty("u_time",this._time),this._time+=e*this._speed},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],FreeGameInfo:[function(e,t,n){"use strict";cc._RF.push(t,"2cc41QINjBGpJkZDPgMWaYq","FreeGameInfo"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotManager/SpinManager"),o=e("../SlotUtils/SlotUtils"),a=function(){function e(e,t){this.triggeredTimes=0,this.commonSpinCoin=0,this.commonJpCoin=0,this.gameID=0,this.isAuthoritiesRate=!1,this.stateHistory=[],this.handleState=null,this.wildNum=0,this.winStreakNum=0,this.random=[],this.randomElemPos=[],this.accFixGridList=[],this.type=e,this.update(t)}return e.prototype.update=function(e){return this._updateByNextState(e),!0},e.prototype.updateList=function(e){return this._updateByUpdateList(e)},e.prototype.updateCommonInfo=function(e){e&&(this.commonSpinCoin=e.triggerFreeSpinCoin.toNumber())},e.prototype.clone=function(){var t={};return t.id=this.id,t.times=this.times,t.sumTimes=this.sumTimes,t.ratio=this.ratio,t.wild=this.wild,t.scatter=this.scatter,t.elemFixPos=this.elemFixPos,t.sumSpinCoin=this.sumSpinCoin,t.sumLgCoin=this.sumLgCoin,t.eachSumSpinCoin=this.eachSumSpinCoin,t.isAuthoritiesRate=this.isAuthoritiesRate,t.type=this.type,t.elemExpand=this.elemExpand,t.gameId=this.gameID,t.lgHistory=this.lgHistory,t.handleState=this.handleState,t.wildNum=this.wildNum,t.winStreakNum=this.winStreakNum,t.random=this.random,t.randomElemPos=this.randomElemPos,t.accFixGridList=this.accFixGridList,new e(this.type,t)},e.prototype._updateByNextState=function(e){this.type==e.type&&0!=this.stateHistory.length||(this.stateHistory.push(e.type),console.log("_updateByNextState stateHistory push:",this.stateHistory)),this.type=e.type,this.eachSumSpinCoin=e.eachSumSpinCoin?o.default.Number(e.eachSumSpinCoin):0,this.id=e.id,this.times=e.times,this.sumTimes=e.sumTimes,this.ratio=e.ratio,this.wild=e.wild,this.scatter=e.scatter,this.sumSpinCoin=o.default.Number(e.sumSpinCoin),this.sumLgCoin=o.default.Number(e.sumLgCoin),this.elemFixPos=e.elemFixPos,this.elemExpand=e.elemExpand,this.gameID=e.gameId||0,this.isAuthoritiesRate=e.isAuthoritiesRate,this.lgHistory=e.lgHistory,this.handleState=e.handleState,this.wildNum=e.wildNum,this.winStreakNum=e.winStreakNum,this.random=e.random,this.randomElemPos=e.randomElemPos,this.accFixGridList=e.accFixGridList,++this.triggeredTimes},e.prototype._updateByUpdateList=function(e){if(!e)return!1;if(e.length<=0)return!1;for(var t=this.triggeredTimes,n=0,o=e.length;n<o;++n)switch(e[n].type){case 1:this.elemFixPos=e[n].value.elemFix;break;case 2:var a=e[n].value.times;a>=this.times&&(++this.triggeredTimes,this.sumTimes=this.sumTimes-this.times+a+1),this.times=e[n].value.times;break;case 3:this.ratio=e[n].value.ratio;break;case 4:this.wild=e[n].value.wild;break;case 5:this.scatter=e[n].value.scatter;break;case 6:this.handleState=e[n].value.handleState;break;case 8:this.wildNum=e[n].value.wildNum;break;case 11:this.random=e[n].value.random;break;case 16:this.isAuthoritiesRate=e[n].value.isAuthoritiesRate}return this.sumSpinCoin+=i.default.instance.totalWin,t!==this.triggeredTimes},Object.defineProperty(e.prototype,"commonSpinTotalCoin",{get:function(){return this.commonSpinCoin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sumCoin",{get:function(){return this.sumSpinCoin+this.sumLgCoin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sumCoinAndTrigger",{get:function(){return this.sumSpinCoin+this.sumLgCoin+this.commonSpinCoin},enumerable:!1,configurable:!0}),e}();n.default=a,cc._RF.pop()},{"../SlotManager/SpinManager":"SpinManager","../SlotUtils/SlotUtils":"SlotUtils"}],FreeGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"07404iVaztAjKPkBbde6sDr","FreeGameManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./SpinManager"),o=e("../SlotDefinitions/FreeGameInfo"),a=e("../SlotConfigs/GameEventNames"),r=e("../SlotDefinitions/SlotEnum"),s=function(){function e(){this._isFreeGameBalanced=!0,this._hasNewFreeGame=!1,this._delayEvent=[],this.treatingTrigger=!1,this._initialized=!1,this._freeGameInfo=null,this._willHandleTriggerAgain=!0,this._triggeredAgain=!1,this._isTreateFreeOver=!1,this._isTreateNewFree=!1,this._isAutoNextFree=!0,this.isFreeGame=!1,this._isShowFreeOverWinAddTrigger=!1}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasFreeGame",{get:function(){return null!==this._freeGameInfo&&this._freeGameInfo.times>=0&&!this.isNotFreeType},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTreateFromFreeGame",{get:function(){return!this.isTreateNewFree&&(this.hasFreeGame||this.isTreateFreeOver)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNotFreeType",{get:function(){return this.freeGameInfo&&19==this.freeGameInfo.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFreeGameBalanced",{get:function(){return this._isFreeGameBalanced},set:function(e){e!==this._isFreeGameBalanced&&(this._isFreeGameBalanced=e,game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_GAME_TYPE_CHANGED))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewFreeGame",{get:function(){return this._hasNewFreeGame},set:function(e){this._hasNewFreeGame=e},enumerable:!1,configurable:!0}),e.prototype.init=function(){this._initialized||(this._addEventListener(),this._initialized=!0)},e.prototype.dispose=function(){this._removeEventListener(),e._instance=null},Object.defineProperty(e.prototype,"freeGameInfo",{get:function(){return this._freeGameInfo},set:function(e){this._freeGameInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"willHandleTriggerAgain",{get:function(){return this._willHandleTriggerAgain},set:function(e){this._willHandleTriggerAgain=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"triggeredAgain",{get:function(){return this._triggeredAgain},set:function(e){this._triggeredAgain=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTreateFreeOver",{get:function(){return this._isTreateFreeOver},set:function(e){this._isTreateFreeOver=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTreateNewFree",{get:function(){return this._isTreateNewFree},set:function(e){this._isTreateNewFree=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFreeGameInfo",{get:function(){return this._lastFreeGameInfo},set:function(e){this._lastFreeGameInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAutoNextFree",{get:function(){return this._isAutoNextFree},set:function(e){this._isAutoNextFree=e},enumerable:!1,configurable:!0}),e.prototype.renderResume=function(e,t){void 0===t&&(t=!1),e&&(this._renderByNextState(e,t),this.isTreateNewFree=!1)},e.prototype.renderBonusResume=function(e,t){if(this.isTreateFreeOver=!1,this.isTreateNewFree=!1,e){if(this._freeGameInfo&&(this._freeGameInfo.sumLgCoin+=t.sumWinCoin),r.OperationState.Free!==e.state.state&&r.OperationState.ReSpin!==e.state.state)return this._freeGameInfo.updateCommonInfo(e.state.normalData),this.isTreateFreeOver=!0,this._lastFreeGameInfo=this._freeGameInfo,game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_OVER_TASK,this._freeGameInfo),void(this._freeGameInfo=null);var n=!0;this._freeGameInfo&&this._freeGameInfo.id===e.state.freeData.id&&(n=!1),this._renderByNextState(e.state,n),this._isTreateNewFree&&(this.isFreeGame=!0)}},e.prototype.render=function(e){if(this.isTreateFreeOver=!1,this.isTreateNewFree=!1,e){if(e.state===r.OperationState.Normal){if(!e.nextState)return;if(!e.nextState.freeData)return}var t=null==this._freeGameInfo?null:this._freeGameInfo.clone();if(e.nextState&&(r.OperationState.Free===e.nextState.state||r.OperationState.ReSpin===e.nextState.state))return this.isFreeGame=!0,this._freeGameInfo&&!this.isNotFreeType&&(t.updateList(e.updateList),t.isAuthoritiesRate?(game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_BEFORE_REWARD_TASK,t),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_REWARD_TASK,t)):(game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_TASK,t),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_REWARD_TASK,t)),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,[t.times,t.sumTimes])),this._renderByNextState(e.nextState,!0);if(e.updateList&&!(e.updateList.length<=0)){if((r.OperationState.Free===e.state||r.OperationState.ReSpin===e.state)&&!this.isNotFreeType){var n=this._freeGameInfo.times,i=this._freeGameInfo.sumTimes;if(this._freeGameInfo.updateList(e.updateList)){this._hasNewFreeGame=!0,game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,[n-1,i]);var s={};s.id=this._freeGameInfo.id;var l=this._freeGameInfo.times-n+1;s.times=l,s.sumTimes=l,s.ratio=this._freeGameInfo.ratio,s.wild=this._freeGameInfo.wild,s.scatter=this._freeGameInfo.scatter,s.elemFixPos=this._freeGameInfo.elemFixPos,s.eachSumSpinCoin=this._freeGameInfo.eachSumSpinCoin,s.type=this._freeGameInfo.type,s.isAuthoritiesRate=this._freeGameInfo.isAuthoritiesRate,s.elemExpand=[].concat(this.freeGameInfo.elemExpand||[]),s.sumSpinCoin=0,s.sumLgCoin=0;var c=new o.default(e.state,s);this._triggeredAgain=!0,game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN_TASK,c)}else n!==this._freeGameInfo.times&&game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,[this._freeGameInfo.times,this._freeGameInfo.sumTimes]);this.freeGameInfo.isAuthoritiesRate?(game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_BEFORE_REWARD_TASK,this._freeGameInfo),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_REWARD_TASK,this._freeGameInfo)):(game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_REWARD_TASK,t),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_TASK,this._freeGameInfo))}e.nextState&&(r.OperationState.Free!==e.state&&r.OperationState.ReSpin!==e.state||r.OperationState.Normal!==e.nextState.state||(this.isFreeGame=!1,this._freeGameInfo.updateCommonInfo(e.nextState.normalData),this._lastFreeGameInfo=this._freeGameInfo,this.isTreateFreeOver=!0,this.upDateLineNum(e.nextState),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_OVER_TASK,this._freeGameInfo)))}}},e.prototype.onResumeFreeGameHandler=function(e){void 0===e&&(e=!1),e?i.default.instance.autoFreeGame():i.default.instance.onFreeGameTrigger()},e.prototype.onSlotMachineStopped=function(){if(this._delayEvent&&!(this._delayEvent.length<=0)){for(var e=0,t=this._delayEvent.length;e<t;++e)game.EventManager.getInstance().raiseEvent(this._delayEvent[e].eventName,this._delayEvent[e].args);this._delayEvent=[]}},e.prototype.try=function(){return!!e.instance.isFreeGame&&!!this.hasFreeGame&&(this._doFreeGame(),!0)},e.prototype._doFreeGame=function(){this._hasNewFreeGame=!1,this._triggeredAgain=!1,i.default.instance.renderNormalStartFreely()},e.prototype._renderByNextState=function(e,t){if(void 0===t&&(t=!0),e.freeData){if(this._freeGameInfo){this.isNotFreeType&&0!=this.freeGameInfo.gameID&&this._freeGameInfo.gameID==e.freeData.gameId&&(console.log("no raiseEvent EVENT_NEW_FREE_GAME_TRIGGERED_TASK 1"),t=!1);var n=this.isNotFreeType;this.freeGameInfo.type==r.OperationState.ReSpin&&e.freeData.type==r.OperationState.Free&&1==this.freeGameInfo.triggeredTimes&&this.freeGameInfo.triggeredTimes--,this.freeGameInfo.type==r.OperationState.ReSpin&&e.freeData.type==r.OperationState.Free&&this.freeGameInfo.stateHistory.includes(r.OperationState.Free)&&(console.log("no raiseEvent EVENT_NEW_FREE_GAME_TRIGGERED_TASK 2"),t=!1),this.freeGameInfo.type==r.OperationState.Free&&e.freeData.type==r.OperationState.Free&&this.freeGameInfo.id!=e.freeData.id&&(t=!0),this._freeGameInfo.update(e.freeData),n&&n!=this.isNotFreeType&&(t=!0,this.isTreateNewFree=!0)}else{if(this._freeGameInfo=new o.default(e.freeData.type,e.freeData),!t&&e.freeData.type==r.OperationState.ReSpin){var i=!0;this.isInFreeGameScene&&(i=this.isInFreeGameScene(e)),i&&this._freeGameInfo.stateHistory.unshift(r.OperationState.Free)}this._hasNewFreeGame=!0,this.isTreateNewFree=!0}this._isFreeGameBalanced=!1,t?(this.upDateLineNum(e),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_TASK)):game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,[this.freeGameInfo.times,this.freeGameInfo.sumTimes])}},e.prototype.renderReconnect=function(e){this._freeGameInfo&&(e.freeData||e.normalData&&(console.log("reder reconnet",this._freeGameInfo),this._freeGameInfo.updateCommonInfo(e.normalData),this._freeGameInfo.times=0,this._lastFreeGameInfo=this._freeGameInfo,this.isTreateFreeOver=!0,this._freeGameInfo.sumSpinCoin=e.normalData.sumSpinCoin.toNumber(),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_TIMES_UPDATED,[0,this.freeGameInfo.sumTimes]),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_FREE_GAME_OVER_TASK,this._freeGameInfo)))},e.prototype._addEventListener=function(){},e.prototype._removeEventListener=function(){},e.prototype.doAniDelayCb=function(e){e&&e(400)},e.prototype.upDateLineNum=function(){},Object.defineProperty(e.prototype,"isShowFreeOverWinAddTrigger",{get:function(){return this._isShowFreeOverWinAddTrigger},set:function(e){this._isShowFreeOverWinAddTrigger=e},enumerable:!1,configurable:!0}),e._instance=null,e}();n.default=s,cc._RF.pop()},{"../SlotConfigs/GameEventNames":"GameEventNames","../SlotDefinitions/FreeGameInfo":"FreeGameInfo","../SlotDefinitions/SlotEnum":"SlotEnum","./SpinManager":"SpinManager"}],FreeGameRatioReward:[function(e,t,n){"use strict";cc._RF.push(t,"5a0e1uudi9AkJ+qJ0wCnEdE","FreeGameRatioReward");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.FreeGameRatioReward=void 0;var r=e("../../../common/enum/CommonEnum"),s=e("../../../sound/script/SoundMger"),l=e("../SlotConfigs/GameEventNames"),c=e("../SlotDefinitions/SlotEnum"),u=e("../SlotManager/SpinManager"),p=e("../SlotUtils/SlotUtils"),h=cc._decorator,d=(h.ccclass,h.property),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winEff=null,t.multipleEff=null,t.ratioNode=null,t._winMoney=0,t.effTime=1,t}return o(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(game.Const.mess_windowResize,this.layout,this),this.winEff.active=!1,this.winEff.y=this.winEff.y,this.winEff.width=1080,this.winEff.height=200,this.winEff.getComponent(cc.Label).overflow=cc.Label.Overflow.SHRINK,this.winEff.getComponent(cc.Label).enableWrapText=!1,this.winEff.getComponent(cc.Label).horizontalAlign=cc.Label.HorizontalAlign.CENTER,this.winEff.getComponent(cc.Label).verticalAlign=cc.Label.VerticalAlign.CENTER,this.multipleEff&&(this.multipleEffx=this.multipleEff.x,this.multipleEffy=this.multipleEff.y,this.multipleEff.active=!1,this.multipleEff.setSiblingIndex(20)),this.layout()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(game.Const.mess_windowResize,this.layout,this)},t.prototype.layout=function(){},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.winEff.getComponent(cc.Label).string=p.default.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.playScoreChangeEffect=function(e,t,n){this.winMoney=e,this.effTime=.8,cc.tween(this).to(this.effTime,{winMoney:t}).start(),this.winEff.scale=.5,this.winEff.active=!0,s.SoundMger.instance.playEffectCommon(r.SOUND_NAME.Score_Appear),cc.tween(this.winEff).to(this.effTime,{scale:1},{easing:"backOut"}).call(function(){n&&n.run()}).start()},t.prototype.hideScoreChangeEffect=function(e){var t=this;this.winEff.active?cc.tween(this.winEff).delay(.5).to(.1,{scale:.5,y:this.winEff.y-0}).call(function(){t.winEff.active=!1,t.winEff.y=t.winEff.y+0,t.winMoney,u.default.instance.betCost,e&&e.run()}).start():e&&e.run()},t.prototype.playRatioEffect=function(e,t,n){var i=this;if(!this.multipleEff||e<2)this.playOver(t,n);else{this.multipleEff.active=!0,this.multipleEff.setScale(.8,.8);var o=this.multipleEff.getChildByName("ratioLabel")||this.ratioNode;o&&(o.getComponent(cc.Label).string=e.toString()),s.SoundMger.instance.playEffectCommon(r.SOUND_NAME.Score_Ratio),cc.tween(this.multipleEff).delay(.8).to(.1,{scale:1.5}).to(.2,{scale:1}).start(),cc.tween(this.multipleEff).to(.1,{scaleY:1.1},{easing:"expoInOut"}).to(.2,{scaleX:1.3,scaleY:1.3},{easing:"expoInOut"}).delay(.5).call(function(){}).to(.5,{x:this.winEff.x,y:this.winEff.y},{easing:"expoInOut"}).call(function(){i.multipleEff.x=i.multipleEffx,i.multipleEff.y=i.multipleEffy,i.multipleEff.active=!1,s.SoundMger.instance.playEffectCommon(r.SOUND_NAME.Score_Appear),cc.tween(i.winEff).to(.2,{scale:1.3}).to(.4,{scale:1}).start(),cc.tween(i).to(i.effTime,{winMoney:t}).call(function(){i.playOver(t,n)}).start()}).start()}},t.prototype.playEff=function(e,t,n,i){var o=this;this.effTime=.8,this.winEff.active?this.playRatioEffect(e,t,i):(this.winMoney=0,cc.tween(this).to(this.effTime,{winMoney:n}).start(),this.winEff.scale=.5,this.winEff.active=!0,s.SoundMger.instance.playEffectCommon(r.SOUND_NAME.Score_Appear),cc.tween(this.winEff).to(this.effTime,{scale:1},{easing:"backOut"}).call(function(){o.playRatioEffect(e,t,i)}).start())},t.prototype.playOver=function(e,t){var n=this;this.winEff.active?cc.tween(this.winEff).delay(1).to(.1,{scale:.5,y:this.winEff.y-0}).call(function(){n.winEff.active=!1,n.winEff.y=n.winEff.y+0;var i=p.default.getWinType(e,u.default.instance.betCost);i==c.WinType.Normal?(game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_PLAYED_NORMAL_REWARD),game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_PLAY_REWARD_ANI,e,i,t)):t&&t.run()}).start():t&&t.run()},a([d(cc.Node)],t.prototype,"winEff",void 0),a([d(cc.Node)],t.prototype,"multipleEff",void 0),a([d(cc.Node)],t.prototype,"ratioNode",void 0),t}(cc.Component);n.FreeGameRatioReward=f,cc._RF.pop()},{"../../../common/enum/CommonEnum":"CommonEnum","../../../sound/script/SoundMger":"SoundMger","../SlotConfigs/GameEventNames":"GameEventNames","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotManager/SpinManager":"SpinManager","../SlotUtils/SlotUtils":"SlotUtils"}],GData:[function(e,t,n){"use strict";cc._RF.push(t,"a2e8d0IzkBD6aSuEAtujsyd","GData");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.GData=void 0;var r=cc._decorator.ccclass,s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return o(t,e),n=t,t.startLoad=function(e,t){n.bundleName!=e?(n.bundleName=e,n.callBack=t,n.sourceConfig=[],this.loadCommonConfigs()):t&&t()},t.loadCommonConfigs=function(){cc.assetManager.getBundle("slot").loadDir("./",cc.JsonAsset,function(e,t){for(var i=t.length,o=0;o<i;o++)n.defaultParameters[t[o].name]=t[o].json;n.sourceConfig=[].concat(t),n.loadCustomConfigs()})},t.loadCustomConfigs=function(){var e=this;cc.assetManager.getBundle(n.bundleName).loadDir("configs",cc.JsonAsset,function(t,i){for(var o=i.length,a=0;a<o;a++){var r=i[a]&&i[a].json.data,s=e.checkObjectVal(r,["gameId","GameId",core.Global.gameId+""]);s&&s!=core.Global.gameId||(n.customParameters[i[a].name]=i[a].json)}n.sourceConfig=n.sourceConfig.concat(i),n.loadComplete()})},t.checkObjectVal=function(e,t){if("object"!=typeof e)return null;for(var n in e)if(null!=e[n])if("object"==typeof e[n]){var i=this.checkObjectVal(e[n],t);if(i)return i}else if(-1!=t.indexOf(n))return isNaN(Number(n))?e[n]:Number(n);return null},t.loadComplete=function(){var e=JSON.parse(JSON.stringify(n.defaultParameters));n.mergeParameters=n.mergeConfig(e,n.customParameters),console.log("gdata loadcomplte"),n.callBack&&n.callBack.call(this)},t.mergeConfig=function(e,t){if(!t)return e;if(!e)return t;for(var i=Object.keys(t),o=null,a=0;a<i.length;a++)"object"==typeof t[o=i[a]]&&"object"==typeof e[o]&&null!==e[o]?n.mergeConfig(e[o],t[o]):e[o]=t[o];return e},t.setParameter=function(e,t){n.mergeParameters[e]=t},t.getParameter=function(e){return n.mergeParameters[e]},Object.defineProperty(t,"curLanguage",{get:function(){return game.LanguageManager.getInstance().getCurLang()},enumerable:!1,configurable:!0}),t.getUseKey=function(e){return"@"+e+game.ResLoader.getInstance().nextUseKey()},t.getJsonValue_safe=function(e,t){var n=null;if(!e)return n;var i=t.split("/"),o="";n=e;for(var a=0;a<i.length;++a)if(n=n[i[a]],o=o+i[a]+"/",!n)return console.log("safeGetJsonValue \u5c5e\u6027\u4e0d\u5b58\u5728: "+o),n;return n},t.defaultParameters={},t.customParameters={},t.mergeParameters={},t.bundleName=null,t.callBack=null,t.skinId=1,t.isNormalGuide=!0,t.sourceConfig=[],n=a([r],t)}(cc.Component);n.GData=s,cc._RF.pop()},{}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"1f82a0lbzxNi6C9DTSe6Cvt","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./SlotEnum");n.default=function(){this.resVersionAvailable=!1,this.mode=i.GameMode.Release,this.testToken="1F3F53AE5C6689FD"},cc._RF.pop()},{"./SlotEnum":"SlotEnum"}],GameControlBase:[function(e,t,n){"use strict";cc._RF.push(t,"587b9O+oEhCx5eG4/NNNWVQ","GameControlBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ctlBtn_status=n.fastBtn_status=void 0;var r,s,l=e("../../main/script/CommonConst"),c=e("../../slot_common/autoTest/SlotAutoTestConf"),u=e("../../slot_common/common/component/CommonNumAtlasBase"),p=e("../../slot_common/common/enum/CommonEnum"),h=e("../../slot_common/common/utils/GData"),d=e("../../slot_common/common/utils/Layout"),f=e("../../slot_common/main/BaseView"),m=e("../../slot_common/network/SlotProtoManager"),g=e("../../slot_common/slotMachine/script/MainView/SlotMachineView"),_=e("../../slot_common/slotMachine/script/Scroller/renders/JTGLoader"),y=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),T=e("../../slot_common/slotMachine/script/SlotManager/BonusGameManager"),S=e("../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),E=e("../../slot_common/slotMachine/script/SlotManager/SlotConfigManager"),v=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),C=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),b=e("../../slot_common/sound/script/SoundMger"),R=e("../../util/UIBtnClickCtr"),M=cc._decorator,L=M.ccclass,N=M.property;M.executeInEditMode,function(e){e[e.FAST=1]="FAST",e[e.SLOW=2]="SLOW"}(r=n.fastBtn_status||(n.fastBtn_status={})),function(e){e[e.NORMAL=1]="NORMAL",e[e.RUNNING=2]="RUNNING",e[e.AUTO=3]="AUTO"}(s=n.ctlBtn_status||(n.ctlBtn_status={}));var I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fastBtn=null,t.subBtn=null,t.ctlBtn=null,t.addBtn=null,t.setBtn=null,t.ctlBtnBG=null,t.autoSpinBtn=null,t.rotate=null,t.slowNode=null,t.fastNode=null,t.betBtn=null,t.backBtn=null,t.timesAtlasLabel=null,t.timesAtlasLabel2=null,t.betLabel=null,t.autoEffect=null,t.rotateEffect=null,t.houverEffect=null,t.autoEffect2=null,t.rotateEffect2=null,t.houverEffect2=null,t.auto_btn_slowNode=null,t.auto_btn_fastNode=null,t.fast_sk=null,t.auto_sk=null,t.denomination="\uffe5",t.oldBetLabel=null,t.changeCostTipNode=null,t.cancelBetBtn=null,t.confirmBetBtn=null,t.isOpenRoll=!0,t.timing=0,t.runningRotateSpeed=100,t.idleRotateSpeed=10,t.oldRateGapIndex=0,t.oldBetCost=0,t.isLongTouching=!1,t.SpriteScale=[],t.disableOpacity=100,t.addrotateTwee=null,t.houverEffectPlayIntervalTime=.5,t._rateGapIndex=0,t._rateGapConf={size:0,level:0},t.themeColor=cc.Color.WHITE,t.isUseArtWords=!0,t.effectMap={houverAniName:"",rotateAniName:""},t.effectMapScale={normalTimeScale:1,autoTimeScale:1},t.effectMapHouverScale={normalTimeScale:1,autoTimeScale:1},t.effectMapHouverAutoScale={normalTimeScale:1,autoTimeScale:1},t.addIconBtn=[],t.ctlBtnBgSetPos={spin:{},auto:{}},t._btnListY=[],t.rotateTwee=null,t._hasSpeicalMode=!1,t._subBtnState=!0,t.isClick=!1,t.lastState=1,t.nowState=1,t.isPlayEffect=null,t.isPlaySk=null,t.isPlayEffect2=null,t.isPlaySk2=null,t._addBtnState=!0,t.offX=0,t.isBtnsVisible=!0,t.isAllBtnClick=!0,t.isEventHideEnable=!0,t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rateGapIndex",{get:function(){return this._rateGapIndex},set:function(e){if(e<0||e>E.default.instance.rateGaps.length-1)return cc.log("\u8bbe\u7f6e\u7684\u52a0\u6ce8\u7d22\u5f15\u8d85\u51fa\u8fb9\u754c"),void game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_LINE_COST_CHANGED,!0);this._rateGapConf=E.default.instance.rateGaps[e],this._rateGapIndex=e,this.syncBetSizeAndLevel()},enumerable:!1,configurable:!0}),t.prototype.initBtn=function(){var e=this,t=this.info.ctlBtn,n=this.info.autoTimes,i=this.info.btnEffect,o=h.GData.getParameter("main").themeColor;if(this.themeColor=cc.Color.WHITE.fromHEX(o),this.setChildColor(this.addBtn,o),this.setChildColor(this.subBtn,o),this.setChildColor(this.fastBtn,o),this.setChildColor(this.setBtn,o),this.setChildColor(this.betBtn,o),this.fast_sk&&(this.fast_sk.node.color=cc.Color.WHITE.fromHEX(o)),this.auto_sk&&(this.auto_sk.node.active=!1,this.auto_sk.node.color=cc.Color.WHITE.fromHEX(o)),"string"==typeof t.atlas?this.loadRes(t.atlas,cc.SpriteAtlas,function(n,i){e.initControlBtn(t,[i])},h.GData.bundleName):this.loadRes(t.atlas,cc.SpriteAtlas,function(n,i){e.initControlBtn(t,i)},h.GData.bundleName),n.useArtWords)this.isUseArtWords=!0,this.loadRes(n.atlas,cc.SpriteAtlas,function(t,i){e.initTimesAtlasLabel(n,i)},h.GData.bundleName);else{switch(this.isUseArtWords=!1,console.log("programWord=",n.programWord),this.timesAtlasLabel2.node.x=n.programWord.x||0,this.timesAtlasLabel2.node.y=n.programWord.y||0,this.timesAtlasLabel2.node.width=n.programWord.width||100,this.timesAtlasLabel2.node.color=cc.Color.WHITE.fromHEX(n.programWord.color),this.timesAtlasLabel2.getComponent(cc.Label).fontSize=n.programWord.fontSize,n.programWord.overFlow){case"NONE":this.timesAtlasLabel2.getComponent(cc.Label).overflow=cc.Label.Overflow.NONE;break;case"CLAMP":this.timesAtlasLabel2.getComponent(cc.Label).overflow=cc.Label.Overflow.CLAMP;break;case"SHRINK":this.timesAtlasLabel2.getComponent(cc.Label).overflow=cc.Label.Overflow.SHRINK;break;case"RESIZE_HEIGHT":this.timesAtlasLabel2.getComponent(cc.Label).overflow=cc.Label.Overflow.RESIZE_HEIGHT;break;default:this.timesAtlasLabel2.getComponent(cc.Label).overflow=cc.Label.Overflow.NONE}this.timesAtlasLabel2.getComponent(cc.Label).enableWrapText=n.programWord.enableWrapText}for(var a=function(t){switch(t.resType){case _.JTGLoaderAssetType.SpriteFrame:case _.JTGLoaderAssetType.Clip:break;case _.JTGLoaderAssetType.Skeleton:r.loadRes(t.url,sp.SkeletonData,function(n,i){e.initEffect(t,i)},h.GData.bundleName);break;case _.JTGLoaderAssetType.DragonBones:break;case _.JTGLoaderAssetType.Particle:t.parentNode&&t.url&&r.loadRes(t.url,cc.ParticleAsset,function(n,i){e.initParticleEffect(t,i)},h.GData.bundleName);break;default:r.loadRes(t.url,sp.SkeletonData,function(n,i){e.initEffect(t,i)},h.GData.bundleName)}},r=this,s=0,l=i;s<l.length;s++)a(l[s]);if(this.info.addIcon){var c=this.info.addIcon;"string"==typeof t.atlas?this.loadRes(c.atlas,cc.SpriteAtlas,function(t,n){e.initAddIcon(c,[n])},h.GData.bundleName):this.loadRes(c.atlas,cc.SpriteAtlas,function(t,n){e.initAddIcon(c,n)},h.GData.bundleName)}},t.prototype.onLoad=function(){var t;this.denomination="",n._instance=this,this.info=h.GData.getParameter("gameControl"),console.log("gameControl--this.info",this.info),this.backBtn&&(this.backBtn.active=!1),this.initBtn(),e.prototype.resize.call(this),C.default.addFadeButtonClickEffect(this.addBtn,this.subBtn),this.subBtn&&this.subBtn.attr({isSubBtn:!0}),this.addBtn&&this.addBtn.attr({isAddBtn:!0}),this.ctlBtn.attr({isCtlBtn:!0}),this.fastBtnState=v.default.instance.isInTurbo?r.FAST:r.SLOW,this.fastNode&&(this.fastNode.active=!0),this.slowNode&&(this.slowNode.active=!1),this.updateCtlBtnState(),game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_CONTOROLBASE_LOAD_COMPLETE);var i=h.GData.getParameter("layout").gameControl;this.node.y=i.y;var o=cc.winSize.width/this.node.width;this.node.scale=o,this.clickAuto(),this.ctlBtn.getChildByName("btnBg").zIndex=5,this.ctlBtn.getChildByName("arrow").zIndex=10,this.ctlBtn.getChildByName("timeNode").zIndex=15,this.ctlBtn.getChildByName("timeNode2").zIndex=15,this.initBtnListY(),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_FREE_GAME_OVER,this.freeGameOver,this),this.houverEffectPlayIntervalTime=(null===(t=this.info)||void 0===t?void 0:t.houverEffectPlayIntervalTime)||.5},t.prototype.initEffect=function(e,t){function n(){var n=new cc.Node,i=n.addComponent(sp.Skeleton);return i.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),i.premultipliedAlpha=e.premultipliedAlpha||!1,i.skeletonData=t,n.x=0,n.y=0,n.scale=1,n}e.houverAniName&&(this.houverEffect.scale=e.scale||1,this.houverEffect.x=e.x||0,this.houverEffect.y=e.y||0,this.houverEffect.zIndex=e.houverzIndex,this.houverEffect.addChild(n()),this.effectMap.houverAniName=e.houverAniName),e.rotateEffAniName&&(this.rotate.addChild(n()),this.rotate.children[0].scale=e.scale||1,this.effectMap.rotateEffAniName=e.rotateEffAniName),e.rotateAniName&&(this.rotateEffect.scale=e.scale||1,this.rotateEffect.x=e.x||0,this.rotateEffect.y=e.y||0,this.rotateEffect.zIndex=e.rotatezIndex,this.rotateEffect.addChild(n()),this.effectMap.rotateAniName=e.rotateAniName),e.houverAniName_auto&&(this.autoEffect.scale=e.autoHouverEffect_scale||e.scale||1,this.autoEffect.x=e.autoHouverEffect_x||e.x||0,this.autoEffect.y=e.autoHouverEffect_y||e.y||0,this.autoEffect.zIndex=e.autozIndex,this.autoEffect.addChild(n()),this.effectMap.houverAniName_auto=e.houverAniName_auto),e.houverAniName2&&(this.houverEffect2.scale=e.autoHouverEffect2_scale||e.scale||1,this.houverEffect2.x=e.autoHouverEffect2_x||e.x||0,this.houverEffect2.y=e.autoHouverEffect2_y||e.y||0,this.houverEffect2.zIndex=e.houverzIndex2||this.houverEffect.zIndex,this.houverEffect2.addChild(n()),this.effectMap.houverAniName2=e.houverAniName2),e.rotateAniName2&&(this.rotateEffect2.scale=e.scale||1,this.rotateEffect2.x=e.x||0,this.rotateEffect2.y=e.y||0,this.rotateEffect2.zIndex=e.rotatezIndex2||this.rotateEffect.zIndex,this.rotateEffect2.addChild(n()),this.effectMap.rotateAniName2=e.rotateAniName2),e.houverAniName_auto2&&(this.autoEffect2.scale=e.scale||1,this.autoEffect2.x=e.x||0,this.autoEffect2.y=e.y||0,this.autoEffect2.zIndex=e.autozIndex2||this.autoEffect.zIndex,this.autoEffect2.addChild(n()),this.effectMap.houverAniName_auto2=e.houverAniName_auto2),this.effectMapScale.normalTimeScale=e.normalTimeScale,this.effectMapScale.autoTimeScale=e.autoTimeScale,this.effectMapHouverScale.normalTimeScale=e.houverNormalTimeScale,this.effectMapHouverScale.autoTimeScale=e.houverAutoTimeScale,this.effectMapHouverAutoScale.normalTimeScale=e.houverAutoNormalTimeScale,this.effectMapHouverAutoScale.autoTimeScale=e.houverAutoAutoTimeScale},t.prototype.initParticleEffect=function(e,t){var n=this;game.ResLoader.getInstance().loadRes(e.spriteFrameUrl,cc.SpriteFrame,function(i,o){if(i)return i;var a=new cc.Node;a.name="";var r=a.addComponent(cc.ParticleSystem);r.file=t,r.spriteFrame=o;var s=null;switch(e.parentNode){case"rotateAniName":s=n.rotateEffect;break;case"rotateAniName2":s=n.rotateEffect2;break;case"houverAniName":s=n.houverEffect;break;case"houverAniName2":s=n.houverEffect2;break;case"houverAniName_auto":s=n.autoEffect;break;case"houverAniName_auto2":s=n.autoEffect2}s.addChild(a,e.zIndex),a.active=!1},h.GData.bundleName,"slot")},t.prototype.initAddIcon=function(e,t){for(var n=function(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n].getSpriteFrame(t);if(o)return o}},i=0;i<e.SpriteFrameArr.length;i++){var o=new cc.Node;(o.addComponent(cc.Sprite)||this.getComponent(cc.Sprite)).spriteFrame=n(t,e.SpriteFrameArr[i].spriteFrameName),console.log("data.SpriteFrameArr[i]=",e.SpriteFrameArr[i]),o.name="addIcon"+i,o.x=e.SpriteFrameArr[i].x,o.y=e.SpriteFrameArr[i].y,o.scale=e.SpriteFrameArr[i].scale,e.SpriteFrameArr[i].dstBlendFactor&&(o.getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE),e.SpriteFrameArr[i].isHoverShow?(this.addRotateAndSpin=o,this.addRotateAndSpin.opacity=0,this.rotate.addChild(o,e.SpriteFrameArr[i].zIndex)):this.ctlBtn.addChild(o,e.SpriteFrameArr[i].zIndex),this.addIconBtn.push(o),e.SpriteFrameArr[i].isRotation&&(this.addRotate=o)}this.addRotate&&(this.ctlBtnBG.node.active=!1)},t.prototype.initControlBtn=function(e,t){var n=function(e,t){for(var n=0,i=e;n<i.length;n++){var o=i[n].getSpriteFrame(t);if(o)return o}};if(this.spinSpriteFrame=n(t,e.spin.spriteFrameName),this.arrowSpriteFame=n(t,e.arrow.spriteFrameName),this.arrowGreySpriteFrame=n(t,e.arrowBlurGrey.spriteFrameName),this.arrowBlurSpriteFrame=n(t,e.arrowBlur.spriteFrameName),this.arrowGreySpriteFrame=n(t,e.arrowGrey.spriteFrameName),this.autoSpriteFrame=n(t,e.auto.spriteFrameName),this.autoBoxSpriteFrame=n(t,e.auto.autoBoxSpriteFrame),this.BlendFactor=this.info.ctlBtn.auto.BlendFactor,this.BoxBlendFactor=this.info.ctlBtn.auto.BoxBlendFactor,e.arrowHover&&(this.arrowHoverSpriteFame=n(t,e.auto.spriteFrameName)),console.log("this.arrowHoverSpriteFame=",this.arrowHoverSpriteFame),this.SpriteScale.arrowScale=e.arrow.scale,this.SpriteScale.arrowGreyScale=e.arrowGrey.scale,this.SpriteScale.arrowBlurScale=e.arrowBlur.scale,this.SpriteScale.arrowBlurGreyScale=e.arrowBlurGrey.scale,this.SpriteScale.spinScale=e.spin.scale,this.SpriteScale.autoScale=e.auto.scale,this.ctlBtnBG.spriteFrame=this.spinSpriteFrame,this.ctlBtnBgSetPos.spin.x=e.spin.x,this.ctlBtnBgSetPos.spin.y=e.spin.y,this.ctlBtnBgSetPos.auto.x=e.auto.x,this.ctlBtnBgSetPos.auto.y=e.auto.y,this.ctlBtnBG.node.x=this.ctlBtnBgSetPos.spin.x,this.ctlBtnBG.node.y=this.ctlBtnBgSetPos.spin.y,this.ctlBtnBG.node.scale=e.spin.scale||1,this.setRotateBtnSprite(this.arrowSpriteFame),this.rotate.x=e.arrow.x,this.rotate.y=e.arrow.y,this.rotate.scale=e.arrow.scale,this.ctlBtn.y=e.y||0,this.ctlBtn.x=e.x||0,this.ctlBtn.width=e.width||170,this.ctlBtn.height=e.height||170,this.ctlBtn.scale=e.scale||1,this.autoSpinBtn&&(this.autoSpinBtn.x=this.ctlBtn.x||0,this.autoSpinBtn.y=this.ctlBtn.y||0,this.autoSpinBtn.width=this.ctlBtn.width||170,this.autoSpinBtn.height=this.ctlBtn.height||170,this.autoSpinBtn.scale=this.ctlBtn.scale||1),2==h.GData.getParameter("main").settingStyle){if(this.backBtn){var i=this.info.backBtn;this.backBtn.scale=i.scale||1,this.backBtn.width=i.width,i.x&&(this.backBtn.x=i.x),i.y&&(this.backBtn.y=i.y),this.backBtn.getComponentInChildren(cc.Sprite).node.x=i.icon.x||0,this.backBtn.getComponentInChildren(cc.Sprite).node.y=i.icon.y||0,this.backBtn.getComponentInChildren(cc.Sprite).node.scale=i.scale||1}if(this.setBtn){var o=this.info.auto_btn;o.x&&(this.setBtn.x=o.x),o.y&&(this.setBtn.y=o.y)}if(this.betBtn){var a=this.info.bet_btn;a.x&&(this.betBtn.x=a.x),a.y&&(this.betBtn.y=a.y)}}this.initBtnListY()},t.prototype.layoutBtn=function(){var e=this.ctlBtn.parent;e.getComponent(cc.Layout).updateLayout(),e.getComponent(cc.Layout).enabled=!1,h.GData.getParameter("gameControl").layoutActive?d.Layout.setHorizontalLayout(e,this.info.spacingX||20,this.ctlBtn.height):d.Layout.setHorizontalLayout(e,this.info.spacingX||45,this.setBtn.height),e.getComponent(cc.Layout).affectedByScale=!1;var t=e.getComponent(cc.Widget);t&&t.updateAlignment()},t.prototype.initTimesAtlasLabel=function(e,t){for(var n=0,i=e.config;n<i.length;n++){var o=i[n],a=new u.AtlsElmentConfig;a.id=""+o.id,a.elmentSpriteFrame=t.getSpriteFrame(o.spriteFrameName),this.timesAtlasLabel.AtlsElment.push(a)}this.timesAtlasLabel.offScale=e.scale,this.timesAtlasLabel.spaceX=e.spaceX,this.timesAtlasLabel.node.x=e.x||0,this.timesAtlasLabel.node.y=e.y||0,e.width&&0!=e.width&&(this.timesAtlasLabel.maxWidth=e.width,this.timesAtlasLabel.shrink=!0)},t.prototype.setChildColor=function(e,t){if(e){e.getComponent(cc.Sprite)&&(e.color=cc.Color.WHITE.fromHEX(t));for(var n=0,i=e.children;n<i.length;n++){var o=i[n];this.setChildColor(o,t)}}},t.prototype.initBtnListY=function(){this._btnListY.length=0;for(var e=[this.fastBtn,this.subBtn,this.addBtn,this.setBtn,this.betBtn],t=0;t<e.length;t++)e[t]?this._btnListY.push(e[t].y):this._btnListY.push(0)},t.prototype.popBottons=function(e,t){this.ctlBtn.active=!t;for(var n=[this.fastBtn,this.subBtn,this.addBtn,this.setBtn,this.betBtn],i=0;i<n.length;i++){var o=n[i];o&&this.tweenBtn(o,t,i)}},t.prototype.tweenBtn=function(e,t,n){cc.Tween.stopAllByTarget(e),e.active=!0,e.y=t?this._btnListY[n]:this._btnListY[n]-200,cc.tween(e).to(.2,{y:t?this._btnListY[n]-200:this._btnListY[n]}).call(function(){e.active=!t}).start()},t.prototype.initData=function(){this.ctlBtnState=s.NORMAL;var e=this.findRateGapIndex();this._rateGapConf=E.default.instance.rateGaps[e],this._rateGapIndex=e,this.updateCtlBtnState(),this.updateGameControlBet(),this.updateBetBtnState()},t.prototype.reenterRoom=function(){v.default.instance.spinTouchEnable=!0,this.initData(),this.setBtnEnabled(!v.default.instance.isInAuto),this.hideChangeCostTip()},t.prototype.onEnable=function(){this.ctlBtn.on(cc.Node.EventType.MOUSE_ENTER,this.playTouchEffect,this),this.ctlBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.autoSpinBtn.on(cc.Node.EventType.MOUSE_ENTER,this.playTouchEffect,this),this.autoSpinBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),window.addEventListener("orientationchange",this.orientationChange.bind(this)),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_SHOW_FAST_MODE_TIP,this.showFastModeTip,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED,this._onResourceloaded,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_REST_AUTO_TIMES_CHANGED,this._updateRestTimes,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_AUTO_STATE_CHANGED,this._changeAuto,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_SLOT_RUN_STOPPED,this.onSlotMachineStopped,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.reenterRoom,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_SPIN_BUTTON_OPEN,this.isOpenSpinButton,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_ROLL_RESULT_RESP,this.startRoller,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_UPDATE_LINE_COST,this.upEventDateBetIndex,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,this.forceUpdateSpinButton,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_LINE_COST_CHANGED,this.updateGameControlBet,this),game.EventManager.getInstance().addEventListener(l.CommonEventNames.EVENT_SHOW_OR_HIDE_MENU,this.popBottons,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_CLICK_AUTO,this.clickAuto,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,this.AllBtnClick,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_OPACITY,this.AllBtnOpacity,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_GAMECONTROL_CTR_BTN_SHOW_OR_HIDE,this.ctrBtnShowOrHide,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_CLICK_OPEN_MENU,this.openMenu,this),game.EventManager.getInstance().addEventListener(l.CommonEventNames.EVENT_CLOSE_CHANGE_COST_TIP,this.closeChangeCostTip,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_BUY_FREE_EXPAND,this.buyFreeGameExpand,this),game.EventManager.getInstance().addEventListener(l.CommonEventNames.EVENT_CLICK_SPIN_BTN,this.onClickCtrBtnEvent,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_SCROLLER_ONSPEED_RUNNING_START,this.onScatterTaskStart,this),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_SCROLLER_ONSPEED_RUNNING_END,this.onScatterTaskEnd,this)},t.prototype.clickAuto=function(){this.setBtn&&2==h.GData.getParameter("main").settingStyle&&(v.default.instance.isInTurbo?this.setBtn.getChildByName("txt_auto").getComponent(cc.Sprite).spriteFrame=this.auto_btn_fastNode:this.setBtn.getChildByName("txt_auto").getComponent(cc.Sprite).spriteFrame=this.auto_btn_slowNode,this.fastBtnState=v.default.instance.isInTurbo?r.FAST:r.SLOW)},t.prototype.onDisable=function(){R.default.unRegisterBtnClickCb(this.fastBtn,this.onClickFastBtn,this),R.default.unRegisterBtnClickCb(this.subBtn,this._onClickSubBtn,this),R.default.unRegisterBtnClickCb(this.ctlBtn,this.onClickCtlBtn,this),R.default.unRegisterBtnClickCb(this.addBtn,this._onClickAddBtn,this),R.default.unRegisterBtnClickCb(this.setBtn,this.onClickSetBtn,this),R.default.unRegisterBtnClickCb(this.betBtn,this.onClickBetBtn,this),R.default.unRegisterBtnClickCb(this.backBtn,this.onClickBackBtn,this),R.default.unRegisterBtnClickCb(this.autoSpinBtn,this.onClickAutoSpinBtn,this),R.default.unRegisterBtnClickCb(this.cancelBetBtn,this.onClickCancelBetBtn,this),R.default.unRegisterBtnClickCb(this.confirmBetBtn,this.onConfirmBetBtn,this),this.ctlBtn.off(cc.Node.EventType.MOUSE_ENTER,this.playTouchEffect,this),this.ctlBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),this.autoSpinBtn.off(cc.Node.EventType.MOUSE_ENTER,this.playTouchEffect,this),this.autoSpinBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this),window.removeEventListener("orientationchange",this.orientationChange.bind(this)),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_SHOW_FAST_MODE_TIP,this.showFastModeTip,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED,this._onResourceloaded,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_REST_AUTO_TIMES_CHANGED,this._updateRestTimes,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_AUTO_STATE_CHANGED,this._changeAuto,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_SLOT_RUN_STOPPED,this.onSlotMachineStopped,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.reenterRoom,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_CHANGE_ROOM_SUCCESS,this.initData,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_SPIN_BUTTON_OPEN,this.isOpenSpinButton,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_ROLL_RESULT_RESP,this.startRoller,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,this.forceUpdateSpinButton,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_LINE_COST_CHANGED,this.updateGameControlBet,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_CLICK_AUTO,this.clickAuto,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_CLICK,this.AllBtnClick,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_GAMECONTROL_ALL_BTN_OPACITY,this.AllBtnOpacity,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_GAMECONTROL_CTR_BTN_SHOW_OR_HIDE,this.ctrBtnShowOrHide,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_CLICK_OPEN_MENU,this.openMenu,this),game.EventManager.getInstance().removeEventListener(l.CommonEventNames.EVENT_CLOSE_CHANGE_COST_TIP,this.closeChangeCostTip,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netCreateRoom,this.initData,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netJionRoom,this.initData,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netEnterRoom,this.initData,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netChangeRoom,this.initData,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netLeaveRoom,this.initData,this),game.EventManager.getInstance().removeEventListener(l.CommonEventNames.EVENT_SHOW_OR_HIDE_MENU,this.popBottons,this),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_BUY_FREE_EXPAND,this.buyFreeGameExpand,this),game.EventManager.getInstance().removeEventListener(l.CommonEventNames.EVENT_CLICK_SPIN_BTN,this.onClickCtrBtnEvent,this)},t.prototype.upRotateState=function(){if(console.log("upRotateState====="),this.rotate){this.rotate.active=!0;var e=this.ctlBtnState==s.RUNNING||this.ctlBtnState==s.AUTO?this.runningRotateSpeed:this.idleRotateSpeed;this.rotate&&(this.rotateTwee&&this.rotateTwee.stop(),this.rotateTwee=cc.tween(this.rotate).by(.1,{angle:-e}).repeatForever().start())}},t.prototype.upRotateStateAdd=function(){if(this.addRotate){this.addRotate.active=!0;var e=this.ctlBtnState==s.RUNNING||this.ctlBtnState==s.AUTO?this.runningRotateSpeed:this.idleRotateSpeed;this.addRotate&&(this.addrotateTwee&&this.addrotateTwee.stop(),this.addrotateTwee=cc.tween(this.rotate).by(.1,{angle:-e}).repeatForever().start())}},t.prototype.onClickAutoSpinBtn=function(){if(console.log("click auto",v.default.instance.isSlotMahcineCompleted),this.startRotate(),v.default.instance.cancelAutoGame(),this.autoSpinBtn.active=!1,game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_CANCEL_AUTO_GAME),this.setRotateBtnSprite(v.default.instance.inGame?this.arrowGreySpriteFrame:this.arrowSpriteFame),v.default.instance.inGame&&this.enabledCtlBtn(!1),this.onMouseLeave(),this.info.isClickAutoSpinBtnPlaying){var e=v.default.instance.isInAuto?this.effectMapScale.autoTimeScale:this.effectMapScale.normalTimeScale;this.playAllRotateAni(e,e)}this.info.ctlBtn.isAutoStopRotate&&this.stopRotate()},t.prototype.onClickBackBtn=function(){if(this.isOpenRoll){this.info.backBtn.isClickSound&&b.SoundMger.instance.playEffect(p.SOUND_NAME.Currency_Button);var e={};e.title=game.LanguageManager.getInstance().getDstStr("pg-menu11"),e.okCbSprBgColor=this.themeColor,e.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu10"),e.cancelCbSprBgColor=this.themeColor,e.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu13"),e.tips=game.LanguageManager.getInstance().getDstStr("pg-menu12"),e.okCbTarget={},e.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()},e.okCbTarget.target=this,core.TipsManager.getInstance().showPopupPrompt(e)}},t.prototype.onClickFastBtn=function(){if(S.default.instance.isTreateFromFreeGame){if(S.default.instance.freeGameInfo)return}else if(S.default.instance.freeGameInfo)return;this.info.fast_btn.isClickSound&&b.SoundMger.instance.playEffect(p.SOUND_NAME.Currency_Button);var e=this.fastBtnState===r.SLOW;this.fastBtnState=e?r.FAST:r.SLOW;var t=game.LanguageManager.getInstance().getDstStr(e?"pg_ui02":"pg_ui03"),n=(e?this.fastNode:this.slowNode).getComponentInChildren(cc.Sprite).spriteFrame;core.TipsMng.getInstance().showToast(t,{startPos:cc.v3(10,this.info.fast_btn.isTipY||-278,0),endPos:cc.v3(10,this.info.fast_btn.isTipY||-278,0),icon:n,iconColor:this.themeColor,iconScale:.7,showTime:2})},t.prototype.onClickBetBtn=function(){if(console.log("\u70b9\u51fb\u6295\u6ce8\u6309\u94ae"),this.isOpenRoll&&v.default.instance.spinTouchEnable){this.info.bet_btn.isClickSound&&b.SoundMger.instance.playEffect(p.SOUND_NAME.Currency_Button);var e=l.UIID["UI_BET_TYPE_"+h.GData.getParameter("main").settingStyle];game.UIManager.getInstance().open(e)}},t.prototype.onClickCancelBetBtn=function(){this.hideChangeCostTip()},t.prototype.onConfirmBetBtn=function(){this.hideChangeCostTip(!1),this.oldBetCost!=v.default.instance.betCost&&m.default.getInstance().changeCostReq()},t.prototype.onSlotMachineStopped=function(){this.updateCtlBtnState(),this.spinButtonStop(),this.timing=0},t.prototype.isOpenSpinButton=function(e){if(void 0===e&&(e=""),!(S.default.instance.hasFreeGame||!v.default.instance.isSlotMahcineCompleted&&Number(v.default.instance.spinWin))||!this.info.ctlBtn.isFreeStopRotate){var t=!0;v.default.instance.inGame&&v.default.instance.isInTurbo&&(t=!1),t?this.spinButtonOpen():this.spinButtonStop()}},t.prototype.forceUpdateSpinButton=function(e,t){t?this.spinButtonOpen():this.spinButtonStop()},t.prototype.setLineIndex=function(){this.timing=0},t.prototype.startRoller=function(){this.enabledCtlBtn(!0),(S.default.instance.hasFreeGame||!v.default.instance.isSlotMahcineCompleted&&Number(v.default.instance.spinWin))&&this.info.ctlBtn.isFreeStopRotate||(this.setLineIndex(),this.startRotate())},t.prototype.setCtrBtnSate=function(){this.isOpenSpinButton(),this._ctlBtnState!=s.RUNNING&&this._ctlBtnState!=s.NORMAL||v.default.instance.spinTouchEnable||this.spinButtonStop()},t.prototype.stopRotate=function(){this.rotate&&this.rotateTwee&&this.rotateTwee.stop(),this.addRotate&&this.addrotateTwee&&(this.addrotateTwee.stop(),this.addRotate.angle=360)},t.prototype.startRotate=function(){if(!(S.default.instance.hasFreeGame||!v.default.instance.isSlotMahcineCompleted&&Number(v.default.instance.spinWin))||!this.info.ctlBtn.isFreeStopRotate){var e=this.ctlBtnState==s.RUNNING||this.ctlBtnState==s.AUTO?this.runningRotateSpeed:this.idleRotateSpeed;this.rotate&&(this.rotateTwee&&this.rotateTwee.stop(),this.rotateTwee=cc.tween(this.rotate).by(.1,{angle:-e}).repeatForever().start()),!this.addRotate||this.ctlBtnState!=s.RUNNING&&this.ctlBtnState!=s.AUTO||(this.addrotateTwee&&this.addrotateTwee.stop(),this.addrotateTwee=cc.tween(this.rotate).by(.1,{angle:-e}).repeatForever().start())}},t.prototype.spinButtonStop=function(e){var t=this;if(void 0===e&&(e=!1),console.log("spinButtonStop",e),this.isOpenRoll=!1,v.default.instance.isInAuto)return this.enabledCtlBtn(!0),void(this.isOpenRoll=!0);this.rotate&&((S.default.instance.hasFreeGame||!v.default.instance.isSlotMahcineCompleted&&Number(v.default.instance.spinWin))&&this.info.ctlBtn.isFreeStopRotate||this.ctlBtnState==s.NORMAL||v.default.instance.isInAuto||(this.ctlBtnState=s.NORMAL),(v.default.instance.totalWin>0||this.hasSpeicalMode||e)&&(v.default.instance.spinTouchEnable=!1,this.enabledCtlBtn(!1),this.setRotateBtnSprite(this.arrowGreySpriteFrame),e?this.scheduleOnce(function(){t.stopRotate()},.3):this.stopRotate()))},Object.defineProperty(t.prototype,"hasSpeicalMode",{get:function(){return this._hasSpeicalMode},set:function(e){this._hasSpeicalMode=e},enumerable:!1,configurable:!0}),t.prototype.spinButtonOpen=function(){console.log("open spin button"),this.isOpenRoll=!0,v.default.instance.spinTouchEnable=!0,this.enabledCtlBtn(this.isAllBtnClick&&this.isEventHideEnable),v.default.instance.spinTouchEnable&&(this.startRotate(),v.default.instance.isSlotMachineStopped?this.setRotateBtnSprite(this.arrowSpriteFame):this.setRotateBtnSprite(this.arrowBlurSpriteFrame))},t.prototype.setRotateBtnSprite=function(e){this.rotate&&e&&(this.rotate.getComponent(cc.Sprite).spriteFrame=e)},Object.defineProperty(t.prototype,"fastBtnState",{get:function(){return this._fastBtnState},set:function(e){if(this._fastBtnState!==e)switch(this._fastBtnState,this._fastBtnState=e,this.fastBtn&&(this.slowNode&&(this.slowNode.active=!1),this.fastNode&&(this.fastNode.active=!1)),!0){case e===r.SLOW:this.slowNode&&(this.slowNode.active=!0),this.fast_sk&&(this.fast_sk.node.active=!1),v.default.instance.isInTurbo=!1;break;case e===r.FAST:this.fastNode&&(this.fastNode.active=!0),this.fast_sk&&(this.fast_sk.node.active=!0,this.fast_sk.setAnimation(0,"animation",!0)),v.default.instance.isInTurbo=!0}},enumerable:!1,configurable:!0}),t.prototype._onClickSubBtn=function(){this.isLongTouching||this.onClickSubBtn(),this.isLongTouching=!1},t.prototype.onClickSubBtn=function(){var e=v.default.instance.betCost,t=this._rateGapIndex,n=v.default.instance.lineCostIndex,i=v.default.instance.lineValueMultipleIndex;if(this.clickSubBtnHandler(),0==this.rateGapIndex){var o=game.LanguageManager.getInstance().getDstStr("pg_ui01");core.TipsMng.getInstance().showToast(o,{startPos:cc.v3(10,this.info.sub_btn.isTipY||-330,0),endPos:cc.v3(10,this.info.sub_btn.isTipY||-330,0),showTime:2})}this.showChangeCostTip(e,t,n,i)},t.prototype.clickSubBtnHandler=function(){if(this.isOpenRoll){var e=this.findSubIndex();this.updateBetIndex(e)}},Object.defineProperty(t.prototype,"subBtnState",{get:function(){return this._subBtnState},set:function(e){this._subBtnState=e,this.subBtn&&(this.subBtn.getComponent(cc.Button).enableAutoGrayEffect||this.subBtnCanUse(e),this.subBtn.opacity=e?255:this.disableOpacity),game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_SUB_BTN_STATE_CHANGE,e)},enumerable:!1,configurable:!0}),t.prototype.subBtnCanUse=function(){},t.prototype.onClickCtlBtn=function(){if(v.default.instance.spinTouchEnable&&(!v.default.instance.inGame||!g.default.instance.isScrollOnSpeedRunning)&&(console.log("\u70b9\u51fb\u63a7\u5236\u6309\u94ae"),v.default.instance.inGame||b.SoundMger.instance.playEffect(p.SOUND_NAME.Spin_Button_Sound,!1)||b.SoundMger.instance.playEffect(p.SOUND_NAME.Currency_Button,!1),this.onClickCtrBtnEvent(),v.default.instance.inGame||game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_WIN_SCORE_STOP),this.info.ctlBtn.isClickScaleTween&&cc.tween(this.ctlBtn).to(.1,{scale:.9*this.info.ctlBtn.scale}).to(.1,{scale:this.info.ctlBtn.scale}).start(),this._ctlBtnState!=s.AUTO&&this.info.ctlBtn.isCloseHoverSk)){this.isPlayEffect&&this.isPlaySk&&(this.isPlayEffect.active=!1,this.isPlaySk.setCompleteListener(null)),this.isPlayEffect2&&this.isPlaySk2&&(this.isPlayEffect2.active=!1,this.isPlaySk2.setCompleteListener(null));var e=this.rotate.getComponentInChildren(sp.Skeleton);e&&(this.rotate.children[0].active=!1,e.setCompleteListener(null))}},t.prototype.onClickCtrBtnEvent=function(){var e=this;this.isClick||(this.isClick=!0,setTimeout(function(){e.isClick=!1},300),v.default.instance.isSlotMahcineCompleted?game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN):(this.spinButtonStop(!0),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN)},.3)))},Object.defineProperty(t.prototype,"ctlBtnState",{get:function(){return this._ctlBtnState},set:function(e){if(this.nowState=e,this._ctlBtnState!==e)switch(this._ctlBtnState=e,3==this.lastState&&this.onMouseLeave(),this.lastState=e,this.rotate&&(e==s.NORMAL||e==s.RUNNING?this.rotate.active=!0:this.rotate.active=!1),e!=s.NORMAL&&(this.timing=0),e){case s.NORMAL:0==this.info.ctlBtn.runningBgActive&&(this.ctlBtnBG.node.active=!0),this.ctlBtnBG.spriteFrame=this.spinSpriteFrame,this.addRotate&&(this.ctlBtnBG.node.active=!1),this.ctlBtnBG.node.x=this.ctlBtnBgSetPos.spin.x,this.ctlBtnBG.node.y=this.ctlBtnBgSetPos.spin.y,this.ctlBtnBG.node.scale=this.SpriteScale.spinScale,this.info&&this.info.ctlBtn&&this.info.ctlBtn.spin&&this.info.ctlBtn.spin.BlendFactor&&(this.ctlBtnBG.dstBlendFactor=cc.macro.BlendFactor[String(this.info.ctlBtn.spin.BlendFactor)]),this.setRotateBtnSprite(this.arrowSpriteFame),this.rotate.scale=this.SpriteScale.arrowScale,this.timesAtlasLabel.node.active=!1,this.timesAtlasLabel2.node.active=!1,this.auto_sk&&(this.auto_sk.node.active=!1),this.autoSpinBtn.active=!1,this.upRotateState();break;case s.RUNNING:0==this.info.ctlBtn.runningBgActive&&(this.ctlBtnBG.node.active=!1),this.ctlBtnBG.spriteFrame=this.spinSpriteFrame,this.addRotate&&(this.ctlBtnBG.node.active=!1),this.ctlBtnBG.node.x=this.ctlBtnBgSetPos.spin.x,this.ctlBtnBG.node.y=this.ctlBtnBgSetPos.spin.y,this.ctlBtnBG.node.scale=this.SpriteScale.spinScale,this.setRotateBtnSprite(this.arrowBlurSpriteFrame),this.rotate.scale=this.SpriteScale.arrowBlurScale,this.rotate.active=!0,this.timesAtlasLabel.node.active=!1,this.timesAtlasLabel2.node.active=!1,this.auto_sk&&(this.auto_sk.node.active=!1),this.addRotate&&this.upRotateStateAdd(),this.autoSpinBtn.active=!1;break;case s.AUTO:0==this.info.ctlBtn.runningBgActive&&(this.ctlBtnBG.node.active=!0),this.ctlBtnBG.spriteFrame=this.autoSpriteFrame,this.ctlBtnBG.getComponentInChildren(cc.Sprite).spriteFrame=this.autoBoxSpriteFrame,this.ctlBtnBG.dstBlendFactor=cc.macro.BlendFactor[this.BlendFactor],this.ctlBtnBG.node.getComponentInChildren(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor[this.BoxBlendFactor],this.addRotate&&(this.ctlBtnBG.node.active=!0),this.ctlBtnBG.node.x=this.ctlBtnBgSetPos.auto.x,this.ctlBtnBG.node.y=this.ctlBtnBgSetPos.auto.y,this.ctlBtnBG.node.scale=this.SpriteScale.autoScale,this.isUseArtWords?(this.timesAtlasLabel.node.active=!0,this.timesAtlasLabel2.node.active=!1):(this.timesAtlasLabel2.node.active=!0,this.timesAtlasLabel.node.active=!1),this.auto_sk&&(this.auto_sk.node.active=!0,this.auto_sk.setAnimation(0,"animation",!0)),this.rotate.active=!1,this.addRotate&&this.upRotateStateAdd(),this.autoSpinBtn.active=!0}},enumerable:!1,configurable:!0}),t.prototype.onBtnsVisibleChange=function(){},t.prototype.playTouchEffect=function(){var e,t=this;if((null===(e=this.changeCostTipNode)||void 0===e||!e.active)&&this.ctlBtn.getComponent(cc.Button).interactable&&0!=this.ctlBtn.opacity&&this.autoSpinBtn){var n,i,o,a;this.addRotateAndSpin&&this._ctlBtnState!=s.AUTO&&(this.addRotateAndSpin.opacity=255);var r=1;if(this._ctlBtnState==s.AUTO)this.autoEffect&&this.effectMap.houverAniName_auto?(o=this.effectMap.houverAniName_auto,this.isPlayEffect=this.autoEffect,this.isPlaySk=this.autoEffect.getComponentInChildren(sp.Skeleton),r=v.default.instance.isInAuto?this.effectMapHouverAutoScale.autoTimeScale:this.effectMapHouverAutoScale.normalTimeScale,n=!0):n=!1,this.autoEffect2&&this.effectMap.houverAniName_auto2?(a=this.effectMap.houverAniName_auto2,this.isPlayEffect2=this.autoEffect2,this.isPlaySk2=this.autoEffect2.getComponentInChildren(sp.Skeleton),r=v.default.instance.isInAuto?this.effectMapHouverAutoScale.autoTimeScale:this.effectMapHouverAutoScale.normalTimeScale,i=!0):i=!1;else{o=this.effectMap.houverAniName,this.isPlayEffect=this.houverEffect,this.isPlaySk=this.houverEffect.getComponentInChildren(sp.Skeleton),r=v.default.instance.isInAuto?this.effectMapHouverScale.autoTimeScale:this.effectMapHouverScale.normalTimeScale,n=!v.default.instance.inGame;var l=this.rotate.getComponentInChildren(sp.Skeleton);l&&!v.default.instance.inGame&&(this.rotate.children[0].active=!0,l.setAnimation(0,this.effectMap.rotateEffAniName,!1),l.setCompleteListener(function(){t.scheduleOnce(function(){l.setAnimation(0,t.effectMap.rotateEffAniName,!1)},t.houverEffectPlayIntervalTime)})),this.effectMap.houverAniName2?(a=this.effectMap.houverAniName2,this.isPlayEffect2=this.houverEffect2,this.isPlaySk2=this.houverEffect2.getComponentInChildren(sp.Skeleton),r=v.default.instance.isInAuto?this.effectMapHouverScale.autoTimeScale:this.effectMapHouverScale.normalTimeScale,i=!v.default.instance.inGame):i=!1}n&&this.isPlaySk&&(this.isPlaySk.timeScale=r,this.isPlayEffect.active=!0,b.SoundMger.instance.playEffect(p.SOUND_NAME.Spin_Button_Hover),this.info.btnEffect[0].isHouverLoop?(this.isPlaySk.setAnimation(0,o,!0),this.isPlaySk.setCompleteListener(function(){b.SoundMger.instance.playEffect(p.SOUND_NAME.Spin_Button_Hover)})):(this.isPlaySk.setAnimation(0,o,!1),this.isPlaySk.setCompleteListener(function(){t.isPlaySk.animation==o&&t.scheduleOnce(function(){t.isPlaySk.setAnimation(0,o,!1)},t.houverEffectPlayIntervalTime)}))),i&&this.isPlaySk2&&(this.isPlaySk2.timeScale=r,this.isPlayEffect2.active=!0,this.isPlaySk2.setAnimation(0,a,!1),this.isPlaySk2.setCompleteListener(function(){t.isPlaySk2.animation==a&&t.scheduleOnce(function(){t.isPlaySk2.setAnimation(0,a,!1)},t.houverEffectPlayIntervalTime)}))}},t.prototype.onMouseLeave=function(){this.addRotateAndSpin&&(this.addRotateAndSpin.opacity=0),this.isPlayEffect&&this.isPlaySk&&(this.isPlayEffect.active=!1,this.isPlaySk.setCompleteListener(null)),this.isPlayEffect2&&this.isPlaySk2&&(this.isPlayEffect2.active=!1,this.isPlaySk2.setCompleteListener(null));var e=this.rotate.getComponentInChildren(sp.Skeleton);e&&(this.rotate.children[0].active=!1,e.setCompleteListener(null))},t.prototype._onClickAddBtn=function(){this.isLongTouching||this.onClickAddBtn(),this.isLongTouching=!1},t.prototype.onClickAddBtn=function(){this.clickAddBtnHandler()},t.prototype.clickAddBtnHandler=function(){if(this.isOpenRoll){var e=v.default.instance.betCost,t=this._rateGapIndex,n=v.default.instance.lineCostIndex,i=v.default.instance.lineValueMultipleIndex,o=this.findRateGapIndex();if(this.updateBetIndex(o+1),this.rateGapIndex>=E.default.instance.rateGaps.length-1){var a=game.LanguageManager.getInstance().getDstStr("pg-menu29");core.TipsMng.getInstance().showToast(a,{startPos:cc.v3(10,this.info.add_btn.isTipY||-330,0),endPos:cc.v3(10,this.info.add_btn.isTipY||-330,0),showTime:2})}this.showChangeCostTip(e,t,n,i)}},Object.defineProperty(t.prototype,"addBtnState",{get:function(){return this._addBtnState},set:function(e){this._addBtnState=e,this.addBtn&&(this.addBtn.getComponent(cc.Button).enableAutoGrayEffect||this.addBtnCanUse(e),this.addBtn.opacity=e?255:this.disableOpacity),game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_ADD_BTN_STATE_CHANGE,e)},enumerable:!1,configurable:!0}),t.prototype.addBtnCanUse=function(){},t.prototype.onClickSetBtn=function(){if(console.log("\u70b9\u51fb\u8bbe\u7f6e\u6309\u94ae"),this.isOpenRoll&&v.default.instance.spinTouchEnable){this.info.auto_btn.isClickSound&&b.SoundMger.instance.playEffect(p.SOUND_NAME.Currency_Button);var e=l.UIID["UI_TRUN_SETTING_TYPE_"+h.GData.getParameter("main").settingStyle];game.UIManager.getInstance().open(e),this.hideChangeCostTip()}},t.prototype.orientationChange=function(){},t.prototype.layout=function(){this.orientationChange()},t.prototype._onResourceloaded=function(){console.log("\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6bd5"),R.default.registerBtnClickCb(this.fastBtn,this.onClickFastBtn,this),R.default.registerBtnClickCb(this.subBtn,this._onClickSubBtn,this),R.default.registerBtnClickCb(this.ctlBtn,this.onClickCtlBtn,this),R.default.registerBtnClickCb(this.addBtn,this._onClickAddBtn,this),R.default.registerBtnClickCb(this.setBtn,this.onClickSetBtn,this),R.default.registerBtnClickCb(this.betBtn,this.onClickBetBtn,this),R.default.registerBtnClickCb(this.backBtn,this.onClickBackBtn,this),R.default.registerBtnClickCb(this.autoSpinBtn,this.onClickAutoSpinBtn,this),R.default.registerBtnClickCb(this.cancelBetBtn,this.onClickCancelBetBtn,this),R.default.registerBtnClickCb(this.confirmBetBtn,this.onConfirmBetBtn,this),this.initData(),game.EventManager.getInstance().addEventListener(y.GameEventNames.EVENT_CHANGE_ROOM_SUCCESS,this.initData,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netCreateRoom,this.initData,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netJionRoom,this.initData,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netEnterRoom,this.initData,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netChangeRoom,this.initData,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netLeaveRoom,this.initData,this),core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_BTN_SPIN,{target:this.ctlBtn}),this.fastBtn&&core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_BTN_SPIN_QUICK,{target:this.fastBtn}),core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_BTN_SPIN_AUTO,{target:this.setBtn}),this.subBtn&&core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_BTN_BET_SUB,{target:this.subBtn}),core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_BTN_BET_ADD,{target:this.addBtn}),core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_LAB_SPIN_AUTOTIMES,{target:this.timesAtlasLabel2}),this.betLabel&&core.AutoTest.getInstance().setAutoTestData(c.SlotAutoTestKey.SLOT_LAB_SCORE_BET,{target:this.betLabel})},t.prototype.updateCtlBtnState=function(){var e=v.default.instance.inGame,t=v.default.instance.isInAuto,n=v.default.instance.isSlotMachineStopped;this.ctlBtnState=e?t?s.AUTO:n?s.NORMAL:s.RUNNING:s.NORMAL},t.prototype.onStartRolling=function(){if(console.log("gamecontro onstartrolling"),!(S.default.instance.hasFreeGame||!v.default.instance.isSlotMahcineCompleted&&Number(v.default.instance.spinWin))||!this.info.ctlBtn.isFreeStopRotate){v.default.instance.spinTouchEnable=!1,this.updateCtlBtnState(),this.setBtnEnabled(!1);var e=v.default.instance.isInAuto?this.effectMapScale.autoTimeScale:this.effectMapScale.normalTimeScale;(this._ctlBtnState!=s.AUTO||this._ctlBtnState==s.AUTO&&this.info.isAutoClickPlaying)&&this.playAllRotateAni(e,e),this.enabledCtlBtn(!1),this.startRotate()}},t.prototype.playAllRotateAni=function(e,t){this.playRotateSkAni1(e),this.playRotateSkAni2(t)},t.prototype.playRotateSkAni1=function(e){var t=this;if(this.effectMap.rotateAniName){this.rotateEffect.active=!0,0==this.info.ctlBtn.isClickShowBg&&(this.ctlBtnBG.node.active=!1);var n=this.rotateEffect.getComponentInChildren(sp.Skeleton);if(n){n.timeScale=e;var i=this.effectMap.rotateAniName;n.setAnimation(0,i,!1),n.setCompleteListener(function(){t.rotateEffect.active=!1,t.ctlBtnBG.node.active=!0})}this.rotateEffect.getComponentsInChildren(cc.ParticleSystem).forEach(function(e){e.node.active=!0,e.resetSystem()})}},t.prototype.playRotateSkAni2=function(e){var t=this;if(this.effectMap.rotateAniName2){this.rotateEffect2.active=!0;var n=this.rotateEffect2.getComponentInChildren(sp.Skeleton);if(n){n.timeScale=e;var i=this.effectMap.rotateAniName2;n.setAnimation(0,i,!1),n.setCompleteListener(function(){t.rotateEffect2.active=!1})}this.rotateEffect2.getComponentsInChildren(cc.ParticleSystem).forEach(function(e){e.node.active=!0,e.resetSystem()})}},t.prototype.playRotatePsAni=function(){},t.prototype._updateRestTimes=function(){var e=v.default.instance.restAutoTimes;console.log("times=",e),e>=0&&(this.ctlBtnBG.spriteFrame=this.autoSpriteFrame,this.ctlBtnBG.getComponentInChildren(cc.Sprite).spriteFrame=this.autoBoxSpriteFrame,this.ctlBtnBG.dstBlendFactor=cc.macro.BlendFactor[this.BlendFactor],this.ctlBtnBG.node.getComponentInChildren(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor[this.BoxBlendFactor],this.addRotate&&(this.ctlBtnBG.node.active=!0),this.ctlBtnBG.node.x=this.ctlBtnBgSetPos.auto.x,this.ctlBtnBG.node.y=this.ctlBtnBgSetPos.auto.y,this.ctlBtnBG.node.scale=this.SpriteScale.autoScale,this.timesAtlasLabel&&(this.timesAtlasLabel.string=e.toString()),this.timesAtlasLabel2&&(this.timesAtlasLabel2.getComponent(cc.Label).string=e.toString()))},t.prototype._changeAuto=function(){this.updateCtlBtnState();var e=v.default.instance.inGame,t=v.default.instance.isInAuto,n=v.default.instance.isSlotMachineStopped;this.setBtnEnabled(!1),e||!t&&n&&this.setBtnEnabled(!0)},t.prototype.setBtnEnabled=function(e){var t=S.default.instance.hasFreeGame||S.default.instance.isNotFreeType,n=T.default.instance.hasBonusGame,i=(e=!(t||n)&&e)?255:this.disableOpacity;game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_MENU_SET_OPACITY,i),game.EventManager.getInstance().raiseEvent(y.GameEventNames.EVENT_BALANCE_SPRITE_SET_OPACITY,i),this.subBtn&&(this.subBtn.opacity=e&&this.subBtnState?255:this.disableOpacity,this.subBtn.getComponent(cc.Button).interactable=e),this.addBtn&&(this.addBtn.opacity=e&&this.addBtnState?255:this.disableOpacity,this.addBtn.getComponent(cc.Button).interactable=e),this.setBtn&&(this.setBtn.getComponentInChildren(cc.Sprite).node.opacity=i,this.setBtn.getComponent(cc.Button).interactable=e),this.betBtn&&(this.betBtn.getComponentInChildren(cc.Sprite).node.opacity=i,this.betBtn.getComponent(cc.Button).interactable=e),this.backBtn&&(this.backBtn.opacity=i,this.backBtn.getComponent(cc.Button).interactable=e),this.isBtnsVisible=e,this.onBtnsVisibleChange(e)},t.prototype.AllBtnClick=function(e,t){console.log("\u63a7\u5236\u6309\u94ae\u662f\u5426\u53ef\u4ee5\u70b9\u51fb(\u9664\u5feb\u901f\u6309\u94ae)==",t),this.isAllBtnClick=t,this.enabledCtlBtn(this.isAllBtnClick&&this.isEventHideEnable);var n=!v.default.instance.isInAuto&&t;this.subBtn&&(this.subBtn.getComponent(cc.Button).interactable=n),this.addBtn&&(this.addBtn.getComponent(cc.Button).interactable=n),this.setBtn&&(this.setBtn.getComponent(cc.Button).interactable=n),this.betBtn&&(this.betBtn.getComponent(cc.Button).interactable=n),this.backBtn&&(this.backBtn.getComponent(cc.Button).interactable=n),t?this.setRotateBtnSprite(this.arrowSpriteFame):(v.default.instance.isSlotMahcineCompleted?this.stopRotate():this.startRotate(),this.setRotateBtnSprite(this.arrowGreySpriteFrame))},t.prototype.AllBtnOpacity=function(e,t){var n=t?255:this.disableOpacity;this.subBtn&&(this.subBtn.opacity=t&&this.subBtnState?255:this.disableOpacity),this.addBtn&&(this.addBtn.opacity=t&&this.addBtnState?255:this.disableOpacity),this.setBtn&&(this.setBtn.getComponentInChildren(cc.Sprite).node.opacity=n),this.betBtn&&(this.betBtn.getComponentInChildren(cc.Sprite).node.opacity=n),this.backBtn&&(this.backBtn.opacity=n)},t.prototype.ctrBtnShowOrHide=function(e,t){t?(this.ctlBtn.opacity=0,this.isEventHideEnable=!1,this.enabledCtlBtn(!1)):(this.ctlBtn.opacity=255,this.isEventHideEnable=!0,this.enabledCtlBtn(this.isAllBtnClick&&this.isEventHideEnable))},t.prototype.setMinBet=function(){this.updateBetIndex(0)},t.prototype.setMaxBet=function(){var e=E.default.instance.lineCostList.length-1;this.updateBetIndex(e)},t.prototype._onSubBtnLongTouch=function(){this.isLongTouching=!0,this.onSubBtnLongTouch()},t.prototype.onSubBtnLongTouch=function(){this.setMinBet()},t.prototype._onAddBtnLongTouch=function(){this.isLongTouching=!0,this.onAddBtnLongTouch()},t.prototype.onAddBtnLongTouch=function(){this.setMaxBet()},t.prototype.onTouchStart=function(e){console.log("\u89e6\u6478\u5f00\u59cb\uff01\uff01\uff01",e.target),e.target.isSubBtn&&this.subBtnState&&this.scheduleOnce(this._onSubBtnLongTouch,2),e.target.isAddBtn&&this.addBtnState&&this.scheduleOnce(this._onAddBtnLongTouch,2)},t.prototype.onTouchEnd=function(){this.isLongTouching=!1,console.log("\u89e6\u6478\u7ed3\u675f\uff01\uff01\uff01"),this.unschedule(this._onSubBtnLongTouch),this.unschedule(this._onAddBtnLongTouch)},t.prototype.onTouchCancel=function(){this.isLongTouching=!1,console.log("\u89e6\u6478\u53d6\u6d88\uff01\uff01\uff01"),this.unschedule(this._onSubBtnLongTouch),this.unschedule(this._onAddBtnLongTouch)},t.prototype.upEventDateBetIndex=function(){var e=this.findRateGapIndex();this.updateBetIndex(e)},t.prototype.updateBetIndex=function(e){this.rateGapIndex=e,this.updateBetBtnState()},t.prototype.updateBetBtnState=function(){this.rateGapIndex<=0?(this.subBtnState=!1,this.addBtnState=!0):this.rateGapIndex>=E.default.instance.rateGaps.length-1?(this.addBtnState=!1,this.subBtnState=!0):(this.subBtnState=!0,this.addBtnState=!0)},t.prototype.playScreenFlashEffect=function(){var e=cc.Canvas.instance.node,t=cc.director.getScene().getComponentInChildren(cc.Sprite).node;cc.tween(this).call(function(){e.opacity=0,t.active=!1}).delay(.05).call(function(){e.opacity=255,t.active=!0}).start()},t.prototype.showFastModeTip=function(){v.default.instance.ignoreStopImmediatelyTimes()},t.prototype.onDestroy=function(){this.rotateTwee||this.rotateTwee.stop(),this.addrotateTwee||this.addrotateTwee.stop(),game.EventManager.getInstance().removeEventListener(y.GameEventNames.EVENT_FREE_GAME_OVER,this.freeGameOver,this)},t.prototype.findRateGapIndex=function(){var e=E.default.instance.lineCostList[v.default.instance.lineCostIndex],t=E.default.instance.lineValueMultiples[v.default.instance.lineValueMultipleIndex],n=e*t,i=E.default.instance.rateGaps.findIndex(function(n){return n.size===e&&n.level===t});return-1===i&&(i=E.default.instance.rateGaps.findIndex(function(e){return e.size*e.level>n}),i=Math.max(0,i-1)),i},t.prototype.findSubIndex=function(){var e=E.default.instance.lineCostList[v.default.instance.lineCostIndex],t=E.default.instance.lineValueMultiples[v.default.instance.lineValueMultipleIndex],n=e*t,i=E.default.instance.rateGaps.findIndex(function(n){return n.size===e&&n.level===t});return-1!==i?i-1:(i=E.default.instance.rateGaps.findIndex(function(e){return e.size*e.level>=n}),i=Math.max(0,i-1))},t.prototype.syncBetSizeAndLevel=function(){var e=this;this._rateGapConf&&(v.default.instance.lineCostIndex=E.default.instance.lineCostList.findIndex(function(t){return t===e._rateGapConf.size}),v.default.instance.lineValueMultipleIndex=E.default.instance.lineValueMultiples.findIndex(function(t){return t===e._rateGapConf.level}))},t.prototype.updateGameControlBet=function(){this.betLabel&&(2==h.GData.getParameter("main").settingStyle?this.betLabel.getComponent(cc.Label).string=this.denomination+C.default.formatNumber(v.default.instance.betCost,2,100,!0):this.betLabel.getComponent(cc.Label).string=C.default.formatNumber(v.default.instance.betCost,2,100,!0)),this._rateGapIndex=this.findRateGapIndex(),this.updateBetBtnState()},t.prototype.showChangeCostTip=function(e,t,n,i){var o;void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0),h.GData.getParameter("main").isShowChangeCostTip&&this.changeCostTipNode&&(null!==(o=this.changeCostTipNode)&&void 0!==o&&o.active||(this.changeCostTipNode.active=!0,e=0==e?v.default.instance.betCost:e,this.oldLineCostIndex=n,this.oldLineValueMultipleIndex=i,this.oldRateGapIndex=t,this.oldBetCost=e,this.oldBetLabel.string=this.denomination+C.default.formatNumber(e,2,100,!0),this.enabledCtlBtn(!1),cc.tween(this.changeCostTipNode).set({opacity:0}).to(.2,{opacity:255}).set({opacity:255}).start()))},t.prototype.hideChangeCostTip=function(e){var t,n=this;void 0===e&&(e=!0),(null===(t=this.changeCostTipNode)||void 0===t?void 0:t.active)&&(this.enabledCtlBtn(!0),e&&(this._rateGapIndex=this.oldRateGapIndex,v.default.instance.lineCostIndex=this.oldLineCostIndex,v.default.instance.lineValueMultipleIndex=this.oldLineValueMultipleIndex),cc.tween(this.changeCostTipNode).set({opacity:255}).to(.2,{opacity:0}).set({opacity:0}).call(function(){n.changeCostTipNode.active=!1}).start())},t.prototype.enabledCtlBtn=function(e){void 0===e&&(e=!0),e&&this.setRotateBtnSprite(this.arrowSpriteFame),v.default.instance.spinTouchEnable=!0,this.ctlBtn.getComponent(cc.Button).interactable=e},t.prototype.openMenu=function(){this.hideChangeCostTip()},t.prototype.closeChangeCostTip=function(){this.hideChangeCostTip()},t.prototype.buyFreeGameExpand=function(){this.AllBtnClick(null,!1)},t.prototype.freeGameOver=function(){v.default.instance.isInAuto||this.AllBtnClick(null,!0)},t.prototype.onScatterTaskStart=function(){this.AllBtnClick(null,!1)},t.prototype.onScatterTaskEnd=function(){v.default.instance.isInAuto||this.AllBtnClick(null,!0)},a([N({type:cc.Node,tooltip:"\u5feb\u901f\u6a21\u5f0f\u5207\u6362\u6309\u94ae"})],t.prototype,"fastBtn",void 0),a([N({type:cc.Node,tooltip:"\u51cf\u5c11\u62bc\u7ebf\u6309\u94ae"})],t.prototype,"subBtn",void 0),a([N({type:cc.Node,tooltip:"\u5f00\u542f/\u505c\u6b62\u6309\u94ae"})],t.prototype,"ctlBtn",void 0),a([N({type:cc.Node,tooltip:"\u589e\u52a0\u62bc\u7ebf\u6309\u94ae"})],t.prototype,"addBtn",void 0),a([N({type:cc.Node,tooltip:"\u6253\u5f00\u8bbe\u7f6e\u5f39\u7a97\u7684\u6309\u94ae"})],t.prototype,"setBtn",void 0),a([N({type:cc.Sprite,tooltip:"\u63a7\u5236\u6309\u94ae \u8f6c\u52a8\u7279\u6548\u8282\u70b9"})],t.prototype,"ctlBtnBG",void 0),a([N({type:cc.Node,tooltip:"\u900f\u660e\u81ea\u52a8\u65cb\u8f6c\u6309\u94ae\uff0c\u81ea\u52a8\u65cb\u8f6c\u662f\u70b9\u51fb\u7528"})],t.prototype,"autoSpinBtn",void 0),a([N({type:cc.Node,tooltip:"\u65cb\u8f6c\u56fe\u7247\u8282\u70b9"})],t.prototype,"rotate",void 0),a([N({type:cc.Node,tooltip:"\u6162\u901f\u6a21\u5f0f\u4e0b\u8981\u663e\u793a\u7684\u56fe\u7247"})],t.prototype,"slowNode",void 0),a([N({type:cc.Node,tooltip:"\u5feb\u901f\u6a21\u5f0f\u4e0b\u8981\u663e\u793a\u7684\u56fe\u7247"})],t.prototype,"fastNode",void 0),a([N({type:cc.Node,tooltip:"\u6295\u6ce8\u6309\u94ae"})],t.prototype,"betBtn",void 0),a([N({type:cc.Node,tooltip:"\u8fd4\u56de\u6309\u94ae"})],t.prototype,"backBtn",void 0),a([N({type:u.default,tooltip:"\u81ea\u52a8\u6b21\u6570\u6570\u5b57"})],t.prototype,"timesAtlasLabel",void 0),a([N({type:cc.Label,tooltip:"\u81ea\u52a8\u6b21\u6570\u6570\u5b57"})],t.prototype,"timesAtlasLabel2",void 0),a([N({type:cc.Node,tooltip:""})],t.prototype,"betLabel",void 0),a([N({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u81ea\u52a8\u6e38\u620f\u60ac\u505c\u7279\u6548"})],t.prototype,"autoEffect",void 0),a([N({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u65cb\u8f6c\u7279\u6548"})],t.prototype,"rotateEffect",void 0),a([N({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u975e\u81ea\u52a8\u6e38\u620f\u60ac\u505c\u7279\u6548"})],t.prototype,"houverEffect",void 0),a([N({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u81ea\u52a8\u6e38\u620f\u60ac\u505c\u7279\u6548"})],t.prototype,"autoEffect2",void 0),a([N({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u65cb\u8f6c\u7279\u6548"})],t.prototype,"rotateEffect2",void 0),a([N({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u975e\u81ea\u52a8\u6e38\u620f\u60ac\u505c\u7279\u6548"})],t.prototype,"houverEffect2",void 0),a([N({type:cc.SpriteFrame,tooltip:"\u6162\u901f\u6a21\u5f0f\u4e0b\u8981\u663e\u793a\u7684\u56fe\u7247"})],t.prototype,"auto_btn_slowNode",void 0),a([N({type:cc.SpriteFrame,tooltip:"\u5feb\u901f\u6a21\u5f0f\u4e0b\u8981\u663e\u793a\u7684\u56fe\u7247"})],t.prototype,"auto_btn_fastNode",void 0),a([N({type:sp.Skeleton,tooltip:"\u5feb\u901f\u6a21\u5f0f\u4e0b\u8981\u663e\u793a\u7684\u52a8\u753b"})],t.prototype,"fast_sk",void 0),a([N({type:sp.Skeleton,tooltip:"\u81ea\u52a8\u6a21\u5f0f\u4e0b\u8981\u663e\u793a\u7684\u52a8\u753b"})],t.prototype,"auto_sk",void 0),a([N],t.prototype,"denomination",void 0),a([N(cc.Label)],t.prototype,"oldBetLabel",void 0),a([N(cc.Node)],t.prototype,"changeCostTipNode",void 0),a([N(cc.Node)],t.prototype,"cancelBetBtn",void 0),a([N(cc.Node)],t.prototype,"confirmBetBtn",void 0),n=a([L],t)}(f.default);n.default=I,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/autoTest/SlotAutoTestConf":"SlotAutoTestConf","../../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/utils/GData":"GData","../../slot_common/common/utils/Layout":"Layout","../../slot_common/main/BaseView":"BaseView","../../slot_common/network/SlotProtoManager":"SlotProtoManager","../../slot_common/slotMachine/script/MainView/SlotMachineView":"SlotMachineView","../../slot_common/slotMachine/script/Scroller/renders/JTGLoader":"JTGLoader","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slot_common/slotMachine/script/SlotManager/SlotConfigManager":"SlotConfigManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../slot_common/sound/script/SoundMger":"SoundMger","../../util/UIBtnClickCtr":"UIBtnClickCtr"}],GameEventNames:[function(e,t,n){"use strict";cc._RF.push(t,"14074iBp+VLpp2YG0zudsNQ","GameEventNames"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameEventNames=void 0,function(e){e.EVENT_DYNAMIC_SCRIPT_LOADED="EVENT_DYNAMIC_SCRIPT_LOADED",e.EVENT_DYNAMIC_SCRIPT_LOADING="EVENT_DYNAMIC_SCRIPT_LOADING",e.EVENT_LAST_GAME_INFO_GET="EVENT_LAST_GAME_INFO_GET",e.EVENT_LOCAL_REALY_COMPLETE="EVENT_LOCAL_REALY_COMPLETE",e.EVENT_GAME_ERROR_MSG="EVENT_GAME_ERROR_MSG",e.EVENT_USERSTATISTICS_SOCKET_CONNECTED="EVENT_USERSTATISTICS_SOCKET_CONNECTED",e.EVENT_USERSTATISTICS_SOCKET_ERROR="EVENT_USERSTATISTICS_SOCKET_ERROR",e.EVENT_USERSTATISTICS_SOCKET_CLOSE="EVENT_USERSTATISTICS_SOCKET_CLOSE",e.EVENT_NECESSARY_ASSETS_LOADED="EVENT_NECESSARY_ASSETS_LOADED",e.EVENT_LINE_NUM_CHANGED="EVENT_PLAYER_LINE_NUM_CHANGED",e.EVENT_LINE_COST_CHANGED="EVENT_PLAYER_LINE_COST_CHANGED",e.EVENT_UPDATE_LINE_COST="EVENT_UPDATE_LINE_COST",e.EVENT_TURBO_STATUS_CHANGD="EVENT_TURBO_STATUS_CHANGD",e.EVENT_HANDS_MODE_CHANGED="EVENT_HANDS_MODE_CHANGED",e.EVENT_AUTO_TIMES_CHANGED="EVENT_AUTO_TIMES_CHANGED",e.EVENT_REST_AUTO_TIMES_CHANGED="EVENT_REST_AUTO_TIMES_CHANGED",e.EVENT_AUTO_STATE_CHANGED="EVENT_AUTO_STATE_CHANGED",e.EVENT_START_BTN_VISIBLE_CHANGED="EVENT_START_BTN_VISIBLE_CHANGED",e.EVENT_PLAYER_CLICKED_SINGLE_START_BTN="EVENT_PLAYER_CLICKED_SINGLE_START_BTN",e.EVENT_WIN_SCORE_STOP="EVENT_WIN_SCORE_STOP",e.EVENT_LINE_SETTING_VIEW_POPUP="EVENT_LINE_SETTING_VIEW_POPUP",e.EVENT_PLAYER_CLICKED_MULTI_START_BTN="EVENT_PLAYER_CLICKED_MULTI_START_BTN",e.EVENT_PLAYER_CLICKED_SLOTMACHINE="EVENT_PLAYER_CLICKED_SLOTMACHINE",e.EVENT_PLAYER_SLID_SLOTMACHINE="EVENT_PLAYER_SLID_SLOTMACHINE",e.EVENT_SLOT_MACHINE_COMPLETED="EVENT_SLOT_MACHINE_COMPLETED",e.EVENT_SLOT_MACHINE_STOPPED="EVENT_SLOT_MACHINE_STOPPED",e.EVENT_SHOW_LINE_OVER="EVENT_SHOW_LINE_OVER",e.EVENT_SLOT_BANNER_SETINFO="EVENT_SLOT_BANNER_SETINFO",e.EVENT_SLOT_BANNER_STOP="EVENT_SLOT_BANNER_STOP",e.EVENT_SLOT_BANNER_START="EVENT_SLOT_BANNER_START",e.EVENT_START_ROLLING="EVENT_START_ROLLING",e.EVENT_ROLL_RESULT_RESP="EVENT_ROLL_RESULT_RESP",e.EVENT_GAME_TYPE_CHANGED="EVENT_GAME_TYPE_CHANGED",e.EVENT_PLAYER_DATA_UPDATED="EVENT_PLAYER_DATA_UPDATED",e.EVENT_CLICKED_BLANK_AREA="EVENT_CLICKED_BLANK_AREA",e.EVENT_PLAYER_COIN_CHANGED="EVENT_PLAYER_COIN_CHANGED",e.EVENT_PLAYER_SHOWING_COIN_CHANGED="EVENT_PLAYER_SHOWING_COIN_CHANGED",e.EVENT_WIN_COIN_CHANGED="EVENT_WIN_COIN_CHANGED",e.EVENT_ADVANCE_STOPPING_SLOT_MACHINE="EVENT_ADVANCE_STOPPING_SLOT_MACHINE",e.EVENT_RESET_SCROLLER="EVENT_RESET_SCROLLER",e.EVENT_BONUS_GAME_ACTION_RESPONSED="EVENT_BONUS_GAME_ACTION_RESPONSED",e.EVENT_BONUS_GAME_FINISEH="EVENT_BONUS_GAME_FINISEH",e.EVENT_JP_GAME_VIEW_CLOSE="EVENT_BONUS_GAME_VIEW_CLOSE",e.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY="EVENT_STOP_SLOT_MACHINE_IMMEDIATELY",e.EVENT_GAME_SOUND_STATUS_UPDATED="EVENT_GAME_SOUND_STATUS_UPDATED",e.EVENT_KEY_DOWN="EVENT_KEY_DOWN",e.EVENT_NEW_FREE_GAME_TRIGGERED_TASK="EVENT_NEW_FREE_GAME_TRIGGERED_TASK",e.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN_TASK="EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN_TASK",e.EVENT_FREE_GAME_INFO_UPDATED="EVENT_FREE_GAME_INFO_UPDATED",e.EVENT_FREE_GAME_INFO_UPDATED_TASK="EVENT_FREE_GAME_INFO_UPDATED_TASK",e.EVENT_FREE_GAME_INFO_UPDATED_BEFORE_REWARD_TASK="EVENT_FREE_GAME_INFO_UPDATED_BEFORE_REWARD_TASK",e.EVENT_SHOW_FREE_GAME_INFO="EVENT_FREE_GAME_INFO_UPDATED",e.EVENT_FREE_GAME_TIMES_UPDATED="EVENT_FREE_GAME_TIMES_UPDATED",e.EVENT_FREE_GAME_OVER="EVENT_FREE_GAME_OVER",e.EVENT_COMMON_BTN_BYFREE="EVENT_COMMON_BTN_BYFREE",e.EVENT_BONUS_GAME_TRIGGERED="EVENT_BONUS_GAME_TRIGGERED",e.EVENT_SHOW_LINESETING_VIEW="EVENT_SHOW_LINESETING_VIEW",e.EVENT_CLOSE_LINESETING_VIEW="EVENT_CLOSE_LINESETING_VIEW",e.EVENT_CANCEL_AUTO_GAME="EVENT_CANCEL_AUTO_GAME",e.EVENT_RESET_LINE_SHOWING="EVENT_RESET_LINE_SHOWING",e.EVENT_RESUME_FREE_GAME="EVENT_RESUME_FREE_GAME",e.EVENT_CUSTOM_DATA_UPDATED="EVENT_CUSTOM_DATA_UPDATED",e.EVENT_CUSTOM_DATA_RECEIVED="EVENT_CUSTOM_DATA_RECEIVED",e.EVENT_JP_BALANCE_UPDATED="EVENT_JP_BALANCE_UPDATED",e.EVENT_WIN_JP="EVENT_WIN_JP",e.EVENT_WIN_MYS_JP="EVENT_WIN_MYS_JP",e.EVENT_TRRIGER_BONUS_GAMAE="EVENT_TRRIGER_BONUS_GAMAE",e.EVENT_RECORD="EVENT_RECORD",e.EVENT_TRANSFER_INFO="EVENT_TRANSFER_INFO",e.EVENT_SCREEN_FULL="EVENT_SCREEN_FULL",e.RESIZE_STAGE="RESIZE_STAGE",e.MONEY_NOT_ENOUGH_BREAK="MONEY_NOT_ENOUGH_BREAK",e.EVENT_STARTBTN_WHEN_PRING="EVENT_STARTBTN_WHEN_PRING",e.EVENT_PUB_CHIPS_PUSH="EVENT_PUB_CHIPS_PUSH",e.EVENT_SLOT_RUN_STOPPED="EVENT_SLOT_RUN_STOPPED",e.EVENT_SLOT_MONEY_SHOW="EVENT_SLOT_MONEY_SHOW",e.EVENT_SLOT_REFSH_BALANCE="EVENT_SLOT_REFSH_BALANCE",e.EVENT_JP_BALANCE_INIT="EVENT_JP_BALANCE_INIT",e.EVENT_JP_BALANCE_REFRESH="EVENT_JP_BALANCE_REFRESH",e.EVENT_SUBLOAD="EVENT_SUBLOAD",e.EVENT_OTHER_PLAYER_SPIN_RESP="EVENT_OTHER_PLAYER_SPIN_RESP",e.EVENT_OTHER_PLAYER_RESTORE_RESP="EVENT_OTHER_PLAYER_RESTORE_RESP",e.EVENT_NORMAL_PRIZE_PLAY="EVENT_NORMAL_PRIZE_PLAY",e.EVENT_PROTO_LOAD_COMPELETE="EVENT_PROTO_LOAD_COMPELETE",e.EVENT_MENU_INTERACTABLE="EVENT_MENU_INTERACTABLE",e.LGACTIONRESP_OTHER="LGACTIONRESP_OTHER",e.RESETROOMSTATE="RESETROOMSTATE",e.EVENT_SPIN_BUTTON_STOP="EVENT_SPIN_BUTTON_STOP",e.EVENT_SPIN_BUTTON_OPEN="EVENT_SPIN_BUTTON_OPEN",e.EVENT_BIG_PRIZE_COMPLETE="EVENT_BIG_PRIZE_COMPLETE",e.EVENT_SHOW_FAST_MODE_TIP="EVENT_SHOW_FAST_MODE_TIP",e.EVENT_RERENDER_SLOTMACHINE="EVENT_RERENDER_SLOTMACHINE",e.EVENT_REENTER_ROOM_SUCCESS="EVENT_REENTER_ROOM_SUCCESS",e.EVENT_RESET_WIN="EVENT_RESET_WIN",e.EVENT_FULL_LINE_HIT="EVENT_FULL_LINE_HIT",e.EVENT_CHANGE_ROOM_SUCCESS="EVENT_CHANGE_ROOM_SUCCESS",e.EVENT_MOUSE_DOWN_ROLLER="EVENT_MOUSE_DOWN_ROLLER",e.EVENT_GAME_STATE_TO_IDLE="EVENT_GAME_STATE_TO_IDLE",e.EVENT_FREE_GAME_TRIGGERED="EVENT_FREE_GAME_TRIGGERED",e.EVENT_PLAY_FREE_GAME_ANI="EVENT_PLAY_FREE_GAME_ANI",e.EVENT_PLAY_FREE_GAME_ADMISSION_ANI="EVENT_PLAY_FREE_GAME_ADMISSION_ANI",e.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN="EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN",e.EVENT_PLAY_REWARD_ANI="EVENT_PLAY_REWARD_ANI",e.EVENT_FREE_GAME_OVER_TASK="EVENT_FREE_GAME_OVER_TASK",e.EVENT_BONUS_GAME_TASK="EVENT_BONUS_GAME_TASK",e.EVENT_BONUS_GAME_OVER_TASK="EVENT_BONUS_GAME_OVER_TASK",e.EVENT_SKIP_LOOP_LINE_TASK="EVENT_SKIP_LOOP_LINE_TASK",e.EVENT_JACKPOT_GAME_OVER_TASK="EVENT_JACKPOT_GAME_OVER_TASK",e.EVENT_ROLLER_MODE="EVENT_ROLLER_MODE",e.EVENT_SET_SCORE_POINT="EVENT_SET_SCORE_POINT",e.EVENT_SET_GAMECONTOROL_POINT="EVENT_SET_GAMECONTOROL_POINT",e.EVENT_FORCE_UPDATE_SPIN_BUTTON="EVENT_FORCE_UPDATE_SPIN_BUTTON",e.EVENT_UPDATE_ROUND_ID="EVENT_UPDATE_ROUND_ID",e.EVENT_OPERATIONSTATE_CHANGE="EVENT_OPERATIONSTATE_CHANGE",e.EVENT_SETTLEMENT_ANI_PLAY="EVENT_SETTLEMENT_ANI_PLAY",e.EVENT_SETTLEMENT_ANI_HIDE="EVENT_SETTLEMENT_ANI_HIDE",e.EVENT_UPDATE_WINSCORE="EVENT_UPDATE_WINSCORE",e.EVENT_SET_WINSCORE_RETAIN="EVENT_RESET_WINSCORE_RETAIN",e.EVENT_BEFORE_RENDER_SPINRESULT="EVENT_BEFORE_RENDER_SPINRESULT",e.EVENT_FORCE_UPDATE_ALL_SCORE="EVENT_FORCE_UPDATE_ALL_SCORE",e.EVENT_ADD_BTN_STATE_CHANGE="EVENT_ADD_BTN_STATE_CHANGE",e.EVENT_SUB_BTN_STATE_CHANGE="EVENT_SUB_BTN_STATE_CHANGE",e.EVENT_TREATE_NEXT_BONUSGAME="EVENT_TREATE_NEXT_BONUSGAME",e.EVENT_FORCE_UPDATE_WINSCORE="EVENT_FORCE_UPDATE_WINSCORE",e.EVENT_FORCE_UPDATE_BETSCORE="EVENT_FORCE_UPDATE_BETSCORE",e.EVENT_PLAYED_NORMAL_REWARD="EVENT_PLAYED_NORMAL_REWARD",e.EVENT_CLOSE_BONUS_LAYER="EVENT_CLOSE_BONUS_LAYER",e.USER_INFO_UPDATA="USER_INFO_UPDATA",e.USER_UPLEVEL_ANI_TASK="USER_UPLEVEL_ANI_TASK",e.USER_UPLEVEL_ANI="USER_UPLEVEL_ANI",e.EVENT_FREE_GAME_REWARD_TASK="EVENT_FREE_GAME_REWARD_TASK",e.EVENT_FREE_GAME_RATIO_REWARD="EVENT_FREE_GAME_RATIO_REWARD",e.EVENT_INIT_FREEGAME="EVENT_INIT_FREEGAME",e.EVENT_CHANGE_GAME_SCROLLER="EVENT_CHANGE_GAME_SCROLLER",e.EVENT_SHAKE_EFFECT_START="EVENT_SHAKE_EFFECT_START",e.EVENT_SHAKE_EFFECT_END="EVENT_SHAKE_EFFECT_END",e.EVENT_WIN_MORE_THAN_BET="EVENT_WIN_MORE_THAN_BET",e.EVENT_CHANGE_COST_SUCCESS="EVENT_CHANGE_COST_SUCCESS",e.EVENT_UPDATE_FREEGAME_WIN="EVENT_UPDATE_FREEGAME_WIN",e.EVENT_HAIXILIE_IDLE="EVENT_HAIXILIE_IDLE",e.EVENT_MENU_COM="EVENT_MENU_COM",e.EVENT_PLAYER_COM="EVENT_PLAYER_COM",e.EVENT_PLAYERTOGHER_COM="EVENT_PLAYERTOGHER_COM",e.EVENT_START_ANI="EVENT_START_ANI",e.EVENT_STOP_ANI="EVENT_STOP_ANI",e.EVENT_UPDATE_SINGLE_ROUND_WIN="EVENT_UPDATE_SINGLE_ROUND_WIN",e.EVENT_BONUS_GAME_COMPLETE="EVENT_BONUS_GAME_COMPLETE",e.EVENT_CONTOROLBASE_LOAD_COMPLETE="EVENT_CONTOROLBASE_LOAD_COMPLETE",e.EVENT_ROLLER_MODE_DATA_RESP="EVENT_ROLLER_MODE_DATA_RESP",e.EVENT_SHOW_EXCHANGE_GUIDE="EVENT_SHOW_EXCHANGE_GUIDE",e.EVENT_LOAD_SINGLE_ASSET_COMPLETE="EVENT_LOAD_SINGLE_ASSET_COMPLETE",e.EVENT_CLICK_AUTO="EVENT_CLICK_AUTO",e.EVENT_CLICK_OPEN_MENU="EVENT_CLICK_OPEN_MENU",e.EVENT_CLICK_CLOSE_MENU="EVENT_CLICK_CLOSE_MENU",e.EVENT_MENU_SHOW_OR_HIDE="EVENT_MENU_SHOW_OR_HIDE",e.EVENT_MENU_SET_OPACITY="EVENT_MENU_SET_OPACITY",e.EVENT_BALANCE_SPRITE_SET_OPACITY="EVENT_BALANCE_SPRITE_SET_OPACITY",e.EVENT_UPDATE_SCORE_POSITION="EVENT_UPDATE_SCORE_POSITION",e.EVENT_UPDATE_COIN_SCROLLER_END="EVENT_UPDATE_COIN_SCROLLER_END",e.EVENT_UPDATE_WIN_ANI_END="EVENT_UPDATE_WIN_ANI_END",e.EVENT_CHANGE_WIN_TYPE="EVENT_CHANGE_WIN_TYPE",e.EVENT_CLICK_ELEMENT_VIEW="EVENT_CLICK_ELEMENT_VIEW",e.EVENT_TREAT_FULL_LINE_IN_LOOP="EVENT_TREAT_FULL_LINE_IN_LOOP",e.EVENT_GAMECONTROL_ALL_BTN_CLICK="EVENT_GAMECONTROL_ALL_BTN_CLICK",e.EVENT_GAMECONTROL_ALL_BTN_OPACITY="EVENT_GAMECONTROL_ALL_BTN_OPACITY",e.EVENT_GAMECONTROL_CTR_BTN_SHOW_OR_HIDE="EVENT_GAMECONTROL_CTR_BTN_SHOW_OR_HIDE",e.EVENT_LOAD_BONUS_GAME_ASSET_COMPLETE="EVENT_LOAD_BONUS_GAME_ASSET_COMPLETE",e.EVENT_TWEEN_PAY_TABLE="EVENT_TWEEN_PAY_TABLE",e.EVENT_ELEMENT_PAY_ID_SHOW="EVENT_ELEMENT_PAY_ID_SHOW",e.EVENT_ELEMENT_PAY_ID_HIDE="EVENT_ELEMENT_PAY_ID_HIDE",e.EVENT_DEL_ELEMENT_PAY_ID_HIDE="EVENT_DEL_ELEMENT_PAY_ID_HIDE",e.EVENT_BIGWIN_TEXT_SHOW="EVENT_BIGWIN_TEXT_SHOW",e.EVENT_BIGWIN_TEXT_HIDE="EVENT_BIGWIN_TEXT_HIDE",e.EVENT_BIGWIN_TEXT_LAST_HIDE="EVENT_BIGWIN_TEXT_LAST_HIDE",e.EVENT_BET_COST_CHANGED="EVENT_BET_COST_CHANGED",e.EVENT_GOLDNOTENOUGH_OKBTN="EVENT_GOLDNOTENOUGH_OKBTN",e.EVENT_WIN_LINE_COIN="EVENT_WIN_LINE_COIN",e.EVENT_SET_HASH_POINT="EVENT_SET_HASH_POINT",e.EVENT_HASH_REST_UPDATE="EVENT_HASH_REST_UPDATE",e.EVENT_CHANGE_LINE_WINCOIN="CHANGE_LINE_WINCOIN",e.EVENT_FIRST_DROP_END="EVENT_FIRST_DROP_END",e.EVENT_CREATOR_LINE_ANINODE="EVENT_CREATOR_LINE_ANINODE",e.EVENT_SUBBET_CHANGE="EVENT_SUBBET_CHANGE",e.EVENT_ADDBET_CHANGE="EVENT_ADDBET_CHANGE",e.EVENT_MAXBET_CHANGE="EVENT_MAXBET_CHANGE",e.EVENT_RIGHTOPTION_BETITEM_CHANGE="EVENT_RIGHTOPTION_BETITEM_CHANGE",e.EVENT_BETITEM_CHANGE="EVENT_BETITEM_CHANGE",e.EVENT_SUBBET_CLICK="EVENT_SUBBET_CLICK",e.EVENT_ADDBET_CLICK="EVENT_ADDBET_CLICK",e.EVENT_MAXBET_CLICK="EVENT_MAXBET_CLICK",e.EVENT_RIGHTOPTION_BETITEM_CLICK="EVENT_RIGHTOPTION_BETITEM_CLICK",e.EVENT_BETITEM_CLICK="EVENT_BETITEM_CLICK",e.EVENT_CLOSE_SCORE_BALANCE_VIEW="EVENT_CLOSE_SCORE_BALANCE_VIEW",e.EVENT_SET_LINE_SKIN="EVENT_SET_LINE_SKIN",e.EVENT_GET_ROLLING_RESULT_RESP="EVENT_GET_ROLLING_RESULT_RESP",e.EVENT_MENBTS_SETSTATE="EVENT_MENBTS_SETSTATE",e.EVENT_NEW_ELEMDROP_END="EVENT_NEW_ELEMDROP_END",e.EVENT_NEW_ELEMDROP_DROPEND="EVENT_NEW_ELEMDROP_DROPEND",e.EVENT_SCROLLER_ONSPEED_RUNNING_START="EVENT_SCROLLER_ONSPEED_RUNNING_START",e.EVENT_SCROLLER_ONSPEED_RUNNING_END="EVENT_SCROLLER_ONSPEED_RUNNING_END",e.EVENT_CLEAR_FREEGAMEOVER_TASK="EVENT_CLEAR_FREEGAMEOVER_TASK",e.EVENT_AUTOBTN_SETSTATE="EVENT_AUTOBTN_SETSTATE",e.EVENT_JACKPOT_GAME_TRIGGERED_TASK="EVENT_JACKPOT_GAME_TRIGGERED_TASK",e.EVENT_RERUN_FLOWS="EVENT_RERUN_FLOWS",e.EVENT_RENEW_BUY_FREE_BTN="EVENT_RENEW_BUY_FREE_BTN",e.EVENT_TURN_COIN_BTN="EVENT_TURN_COIN_BTN",e.EVENT_BUY_FREE_EXPAND="EVENT_BUY_FREE_EXPAND",e.EVENT_TRUN_COIN_VIEW_CLOSE_EXPAND="EVENT_TRUN_COIN_VIEW_CLOSE_EXPAND",e.EVENT_CLEAR_LOOP_LINE="EVENT_CLEAR_LOOP_LINE",e.EVENT_NO_MONEY_TIP_POP="EVENT_NO_MONEY_TIP_POP",e.EVENT_SHOW_HASH_LABLE="EVENT_SHOW_HASH_LABLE",e.EVENT_FREEGAME_OVER_EXPAND="EVENT_FREEGAME_OVER_EXPAND",e.EVENT_CLOSE_BUY_FREE_VIEW="EVENT_CLOSE_BUY_FREE_VIEW",e.EVENT_BEFORE_RESTORE_REQ="EVENT_BEFORE_RESTORE_REQ",e.EVENT_AFTER_FREEGAME_TRIGGERED="EVENT_AFTER_FREEGAME_TRIGGERED",e.EVENT_AFTER_FREEGAME_OVER_TRIGGERED="EVENT_AFTER_FREEGAME_OVER_TRIGGERED",e.EVENT_AFTER_FREEGAME_TRIGGERED_AGAIN="EVENT_AFTER_FREEGAME_TRIGGERED_AGAIN",e.EVENT_PRE_START_ELIMINATE="EVENT_PRE_START_ELIMINATE",e.EVENT_AFTER_ELIMINATE="EVENT_AFTER_ELIMINATE",e.EVENT_NO_MONEY_UPDATE_OTHER_BET_BTN="EVENT_NO_MONEY_UPDATE_OTHER_BET_BTN"}(n.GameEventNames||(n.GameEventNames={})),cc._RF.pop()},{}],GlobalQueueManager:[function(e,t,n){"use strict";cc._RF.push(t,"27fa0GbiGxEXIqR+lv/U9Sw","GlobalQueueManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotUtils/Handle"),o=function(){function e(){this.continueHandler=i.Handler.create(this,this.execute,null,!1),this._continueInterruptHandler=i.Handler.create(this,this._interruptExecute,null,!1),this._taskNameKey="__taskNameKey",this._taskCancelHandlerKey="__taskCancelHandlerKey",this._queue=[],this.advancedQueue=!1,this._interrupted=!1}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"queueLen",{get:function(){return this._queue.length},enumerable:!1,configurable:!0}),e.prototype.pushToQueue=function(e,t,n){e[this._taskNameKey]=t,e[this._taskCancelHandlerKey]=n,this._queue.push(e)},e.prototype.getTaskByName=function(e){for(var t=0;t<this.queueLen;++t)if(this._queue[t][this._taskNameKey]===e)return this._queue[t];return null},e.prototype.removeTaskByName=function(e,t){void 0===t&&(t=!1);var n=this.queueLen;if(!(n<=0)){for(var i=this._queue,o=[],a=0;a<n;++a)if(i[a][this._taskNameKey]!==e)o.push(i[a]);else{var r=i[a][this._taskCancelHandlerKey];if(r&&r.run(),!t){for(a+=1;a<n;++a)o.push(i[a]);break}}this._queue=o}},e.prototype.removeAllTasksByName=function(e){this.removeTaskByName(e,!0)},e.prototype.getNextTaskName=function(){return this.queueLen<=0?null:this._queue[0][this._taskNameKey]},e.prototype.init=function(){this._queue=[],this.advancedQueue=!1},e.prototype.dispose=function(){this._queue=[]},e.prototype.reset=function(){this._interrupted=!1,this._queue=[],this.advancedQueue=!1},e.prototype.execute=function(e){return void 0===e&&(e=!1),this.advancedQueue=e,!(this._queue.length<=0||this._interrupted||(this._queue.shift().runWith(this.continueHandler),0))},e.prototype._interruptExecute=function(){return this._queue.length<=0?(this._interrupted=!1,!1):(this._queue.shift().runWith(this._continueInterruptHandler),!0)},e.prototype.interruptAndExecut=function(){return!(this.queueLen<=0)&&(this._interrupted=!0,this._interruptExecute())},e._instance=null,e}();n.default=o,cc._RF.pop()},{"../SlotUtils/Handle":"Handle"}],Handle:[function(e,t,n){"use strict";cc._RF.push(t,"a08b6O681JKh4GKIpUFQXfl","Handle"),Object.defineProperty(n,"__esModule",{value:!0}),n.Handler=void 0;var i=function(){function e(e,t,n,i){void 0===e&&(e=null),void 0===t&&(t=null),void 0===n&&(n=null),void 0===i&&(i=!1),this.once=!1,this._id=0,this.setTo(e,t,n,i)}return e.prototype.setTo=function(t,n,i,o){return void 0===o&&(o=!1),this._id=e._gid++,this.caller=t,this.method=n,this.args=i,this.once=o,this},e.prototype.run=function(){if(null==this.method)return null;var e=this._id,t=this.method.apply(this.caller,this.args);return this._id===e&&this.once&&this.recover(),t},e.prototype.runWith=function(e){if(null==this.method)return null;var t=this._id;if(null==e)var n=this.method.apply(this.caller,this.args);else n=this.args||e.unshift?this.args?this.method.apply(this.caller,this.args.concat(e)):this.method.apply(this.caller,e):this.method.call(this.caller,e);return this._id===t&&this.once&&this.recover(),n},e.prototype.clear=function(){return this.caller=null,this.method=null,this.args=null,this},e.prototype.recover=function(){this._id>0&&(this._id=0,e._pool.push(this.clear()))},e.create=function(t,n,i,o){return void 0===i&&(i=null),void 0===o&&(o=!0),e._pool.length?e._pool.pop().setTo(t,n,i,o):new e(t,n,i,o)},e._pool=[],e._gid=1,e}();n.Handler=i,cc._RF.pop()},{}],HashCiphertextSlot:[function(e,t,n){"use strict";cc._RF.push(t,"42ffaVeo9ZPnL+ldIsDCP0c","HashCiphertextSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/utils/GData"),s=e("../../main/BaseView"),l=e("../../network/NetSlotConst"),c=e("../../network/SlotProtoManager"),u=e("../../slotMachine/script/SlotConfigs/GameEventNames"),p=e("../../slotMachine/script/SlotUtils/SlotUtils"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ciphertext=null,t.text=null,t.ani=null,t.ciphertextStr=null,t}return o(t,e),t.prototype.onLoad=function(){this.resize(),this.addEvent(),this.initCiphertext()},t.prototype.addEvent=function(){game.EventManager.getInstance().addEventListener(l.default.RESTORERESP,this.restoreResp,this),game.EventManager.getInstance().addEventListener(l.default.SPINRESP,this.spinResp,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_SET_HASH_POINT,this.setNodePint,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_SHOW_HASH_LABLE,this.setHashData,this),game.EventManager.getInstance().addEventListener(l.default.LGACTIONRESP,this.lgActionResp,this),game.EventManager.getInstance().addEventListener(l.default.BUYFREESPINRESP,this.buyFreeResp,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_BONUS_GAME_FINISEH,this.onBonusGameOver,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this.onBonusGameTrigger,this)},t.prototype.lgActionResp=function(e,t){this.upCiphertext(t.ciphertext)},t.prototype.buyFreeResp=function(e,t){this.upCiphertext(t.ciphertext)},t.prototype.restoreResp=function(){this.upCiphertext(c.default.getInstance().restoreResult.ciphertext),this.ani&&this.ani.setAnimation(0,"animation",!1)},t.prototype.spinResp=function(e,t){this.upCiphertext(t.ciphertext),this.ani&&this.ani.setAnimation(0,"animation",!1)},t.prototype.onBonusGameTrigger=function(){p.default.isShowHashText=!1,this.node.active=!1},t.prototype.onBonusGameOver=function(){p.default.isShowHashText=!0,this.node.active=!!this.ciphertextStr},t.prototype.setHashData=function(e,t){void 0===t&&(t=!0),this.node.active=!(!t||!this.ciphertextStr)},t.prototype.onCopyBtn=function(){game.SoundManager.getInstance().playBtnSound(),core.CoreUtils.copyText(this.ciphertextStr)},t.prototype.initCiphertext=function(){c.default.getInstance().restoreResult&&this.upCiphertext(c.default.getInstance().restoreResult.ciphertext)},t.prototype.upCiphertext=function(e){void 0===e&&(e=null),e&&(this.ciphertextStr=e,this.ciphertext.string=e.substr(0,4)+"..."+e.substr(e.length-18),this.node.active=Boolean(e)&&p.default.isShowHashText,cc.tween(this.ciphertext.node).to(.2,{scale:1.4}).to(.1,{scale:1.2}).start())},t.prototype.setNodePint=function(e,t,n){this.node.x=t,this.node.y=n},t.prototype.layoutManual=function(e){var t=r.GData.getParameter("layout"),n=0,i=0,o=1,a=1;cc.sys.isMobile?e?(n=r.GData.getJsonValue_safe(t,"hashText_mobileL/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_mobileL/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_mobileL/scaleX")||1,a=r.GData.getJsonValue_safe(t,"hashText_mobileL/scaleY")||1):(n=r.GData.getJsonValue_safe(t,"hashText_mobileP/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_mobileP/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_mobileP/scaleX")||1,a=r.GData.getJsonValue_safe(t,"hashText_mobileP/scaleY")||1):e?(n=r.GData.getJsonValue_safe(t,"hashText_pcL/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_pcL/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_pcL/scaleX")||0,a=r.GData.getJsonValue_safe(t,"hashText_pcL/scaleY")||0):(n=r.GData.getJsonValue_safe(t,"hashText_pcP/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_pcP/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_pcP/scaleX")||0,a=r.GData.getJsonValue_safe(t,"hashText_pcP/scaleY")||0),this.setNodePint(null,n,i),this.node.scaleX=o,this.node.scaleY=a},t.prototype.layoutLandscape=function(){this.layoutManual(!0)},t.prototype.layoutPortrait=function(){this.layoutManual(!1)},a([f(cc.Label)],t.prototype,"ciphertext",void 0),a([f(cc.Node)],t.prototype,"text",void 0),a([f(sp.Skeleton)],t.prototype,"ani",void 0),a([d],t)}(s.default);n.default=m,cc._RF.pop()},{"../../common/utils/GData":"GData","../../main/BaseView":"BaseView","../../network/NetSlotConst":"NetSlotConst","../../network/SlotProtoManager":"SlotProtoManager","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],HashEntranceSlot:[function(e,t,n){"use strict";cc._RF.push(t,"f9151qGBXNL4J+xZjJPNE9X","HashEntranceSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../network/SlotProtoManager"),s=e("../../slotMachine/script/SlotConfigs/GameEventNames"),l=e("../../slotMachine/script/SlotManager/BonusGameManager"),c=e("../../slotMachine/script/SlotManager/FreeGameManager"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastPoint=cc.v3(),t.iconBtn=null,t.timestampIcon=null,t.directIcon=null,t.iconNode=null,t.timestampText=null,t.directText=null,t.hashChainText=null,t.nodeGameNum=null,t.nodeTips=null,t.nodeTipsBg=null,t.labelTips=null,t.nodeProgress=null,t.spriteProgress=null,t.labelProgress=null,t.labelGameNum=null,t.curProgress=null,t}return o(t,e),t.prototype.onLoad=function(){this.resize(),this.addEvent(),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_slot_hash_chain_verify,this.openHelpView,this),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_HASH_REST_UPDATE,this.updateHashRest,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_slot_hash_chain_verify,this.openHelpView,this),game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_HASH_REST_UPDATE,this.updateHashRest,this)},t.prototype.start=function(){this.nodeTips.active=!1;var e=Boolean(cc.sys.localStorage.getItem(core.Global.gameId+"_openHashHelp")),t=Boolean(cc.sys.localStorage.getItem(core.Global.gameId+"_openHashHelpSlot"));e&&t||c.default.instance.hasFreeGame||l.default.instance.hasBonusGame;var n=r.default.getInstance().restoreResult.gameMode;this.nodeGameNum.active=n==protoSlot.game_mode_type_enum.hash_chain,this.renderHashRest(),this.directText.active=n==protoSlot.game_mode_type_enum.direct_hash,this.timestampText.active=n==protoSlot.game_mode_type_enum.timestamp_hash,this.hashChainText.active=n==protoSlot.game_mode_type_enum.hash_chain,this.iconNode.spriteFrame=n==protoSlot.game_mode_type_enum.direct_hash?this.directIcon:this.timestampIcon},t.prototype.renderHashRest=function(){if(this.nodeGameNum.active){var e=r.default.getInstance().hashRest;null!=e&&(e<0||(1e4===e?this.createHashChaining():this.labelGameNum.string=""+e))}},t.prototype.createHashChaining=function(){var e=this;this.nodeTips.active=!0,this.spriteProgress.fillRange=0,this.labelProgress.string="0%",this.nodeTips.stopAllActions(),this.nodeTips.getComponentInChildren(cc.Label).string=game.LanguageManager.getInstance().getDstStr("hunt_hash_59"),this.nodeTips.scale=0,this.nodeTipsBg.scaleX=this.node.x>0?1:-1,this.labelTips.node.x=this.node.x>0?-300:300,this.nodeProgress.x=this.node.x>0?-300:300,cc.tween(this.nodeTips).to(.2,{scale:1},{easing:"easeOut"}).call(function(){e.curProgress=0}).delay(2.5).call(function(){e.labelGameNum.string="0"}).to(.2,{scale:0},{easing:"easeIn"}).start(),setTimeout(function(){e.nodeTips.scale=0,e.labelGameNum.string="0"},3)},t.prototype.update=function(e){null!=this.curProgress&&(this.curProgress+=e/2,this.curProgress>=1&&(this.curProgress=1),this.spriteProgress.fillRange=this.curProgress,this.labelProgress.string=(100*this.curProgress).toFixed(1)+"%",this.curProgress>=1&&(this.curProgress=null))},t.prototype.addEvent=function(){this.iconBtn.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.iconBtn.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.updateHashRest=function(){console.log("updateHashRest-----------"),this.renderHashRest()},t.prototype.onTouchStart=function(){this.iconBtn.on(cc.Node.EventType.TOUCH_MOVE,this.iconTouchMove,this),this.clickBinanceHashBtn()},t.prototype.clickBinanceHashBtn=function(){},t.prototype.onTouchEnd=function(){this.iconBtn.off(cc.Node.EventType.TOUCH_MOVE,this.iconTouchMove,this);var e=this.node.position;(0==this.lastPoint.x&&0==this.lastPoint.y||game.ComUtils.GetTwoPosDistance(e,this.lastPoint)<50)&&(game.SoundManager.getInstance().playBtnSound(),this.openHelpView(null,{seed:r.default.getInstance().ciphertext,autoHashValueCalculation:!1,rollerGameId:null,rollerId:null})),this.lastPoint=this.node.position},t.prototype.openHelpView=function(e,t){var n=r.default.getInstance().restoreResult.gameMode;if(n===protoSlot.game_mode_type_enum.hash_chain){var i={pageIndex:0,toggleIndex:0,autoHashValueCalculation:!1,seed:null==t?void 0:t.seed,gameMode:n,gameId:core.Global.gameId,rollerModeId:r.default.getInstance().rollerModeId,rollerGameId:null==t?void 0:t.rollerGameId,rollerId:null==t?void 0:t.rollerId};t&&t.hasOwnProperty("autoHashValueCalculation")&&(t.autoHashValueCalculation&&(i.toggleIndex=1),i.autoHashValueCalculation=t.autoHashValueCalculation),game.UIManager.getInstance().open(core.COREUIID.UI_HASH_CHECK_HELP_CHAIN,i)}else i={pageIndex:0,gameMode:n,gameId:core.Global.gameId,rollerModeId:r.default.getInstance().rollerModeId},game.UIManager.getInstance().open(core.COREUIID.UI_HASH_CHECK_HELP,i)},t.prototype.iconTouchMove=function(e){if(this.node){var t=cc.Canvas.instance.node.convertToNodeSpaceAR(e.getLocation()),n=(cc.Canvas.instance.node.width,cc.Canvas.instance.node.height);-n>>1<t.y&&t.y<n>>1&&this.node.setPosition(t)}},t.prototype.layoutLandscape=function(){game.Utils.setWidget(this.node,{right:200,top:80})},t.prototype.layoutPortrait=function(){game.Utils.setWidget(this.node,{right:200,top:80})},a([h(cc.Node)],t.prototype,"iconBtn",void 0),a([h(cc.SpriteFrame)],t.prototype,"timestampIcon",void 0),a([h(cc.SpriteFrame)],t.prototype,"directIcon",void 0),a([h(cc.Sprite)],t.prototype,"iconNode",void 0),a([h(cc.Node)],t.prototype,"timestampText",void 0),a([h(cc.Node)],t.prototype,"directText",void 0),a([h(cc.Node)],t.prototype,"hashChainText",void 0),a([h({type:cc.Node,tooltip:"hashRest"})],t.prototype,"nodeGameNum",void 0),a([h(cc.Node)],t.prototype,"nodeTips",void 0),a([h(cc.Node)],t.prototype,"nodeTipsBg",void 0),a([h(cc.Label)],t.prototype,"labelTips",void 0),a([h(cc.Node)],t.prototype,"nodeProgress",void 0),a([h(cc.Sprite)],t.prototype,"spriteProgress",void 0),a([h(cc.Label)],t.prototype,"labelProgress",void 0),a([h(cc.Label)],t.prototype,"labelGameNum",void 0),a([p],t)}(game.View);n.default=d,cc._RF.pop()},{"../../network/SlotProtoManager":"SlotProtoManager","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager"}],HashSlot:[function(e,t,n){"use strict";cc._RF.push(t,"d9cb6502HpCnLTrGOaQvxXE","HashSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/utils/Layout"),s=e("../../slot_common/network/NetSlotConst"),l=e("../../slot_common/network/SlotProtoManager"),c=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),u=e("../../slot_common/slotMachine/script/SlotManager/BonusGameManager"),p=e("../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),h=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),d=cc._decorator,f=d.ccclass,m=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lastPoint=cc.v3(),t.iconBtn=null,t.timestampText=null,t.directText=null,t.hashChainText=null,t.nodeGameNum=null,t.nodeTips=null,t.nodeTipsBg=null,t.labelTips=null,t.nodeProgress=null,t.spriteProgress=null,t.labelProgress=null,t.labelGameNum=null,t.curProgress=null,t}return o(t,e),t.prototype.onLoad=function(){this.resize(),this.addEvent(),game.EventManager.getInstance().addEventListener(s.default.RESTORERESP,this.reStoreResp,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_slot_hash_chain_verify,this.openHelpView,this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_HASH_REST_UPDATE,this.updateHashRest,this),game.EventManager.getInstance().addEventListener(s.default.BUYFREEDATARESP,this.layout,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(s.default.RESTORERESP,this.reStoreResp,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_slot_hash_chain_verify,this.openHelpView,this),game.EventManager.getInstance().removeEventListener(c.GameEventNames.EVENT_HASH_REST_UPDATE,this.updateHashRest,this),game.EventManager.getInstance().addEventListener(s.default.BUYFREEDATARESP,this.layout,this)},t.prototype.reStoreResp=function(){this.layout()},t.prototype.start=function(){this.nodeTips.active=!1,Boolean(cc.sys.localStorage.getItem(core.Global.gameId+"_openHashHelp")),Boolean(cc.sys.localStorage.getItem(core.Global.gameId+"_openHashHelpSlot")),p.default.instance.hasFreeGame||u.default.instance.hasBonusGame;var e=l.default.getInstance().restoreResult.gameMode;this.nodeGameNum.active=e==protoSlot.game_mode_type_enum.hash_chain,this.renderHashRest(),this.directText.active=e==protoSlot.game_mode_type_enum.direct_hash,this.timestampText.active=e==protoSlot.game_mode_type_enum.timestamp_hash,this.hashChainText.active=e==protoSlot.game_mode_type_enum.hash_chain},t.prototype.renderHashRest=function(){if(this.nodeGameNum.active){var e=l.default.getInstance().hashRest;null!=e&&(e<0||(1e4===e?this.createHashChaining():this.labelGameNum.string=""+e))}},t.prototype.createHashChaining=function(){var e=this;this.nodeTips.active=!0,this.spriteProgress.fillRange=0,this.labelProgress.string="0%",this.nodeTips.stopAllActions(),this.nodeTips.getComponentInChildren(cc.Label).string=game.LanguageManager.getInstance().getDstStr("hunt_hash_59"),this.nodeTips.scale=0,this.nodeTipsBg.scaleX=this.node.x>0?1:-1,this.labelTips.node.x=this.node.x>0?-300:300,this.nodeProgress.x=this.node.x>0?-300:300,cc.tween(this.nodeTips).to(.2,{scale:1},{easing:"easeOut"}).call(function(){e.curProgress=0}).delay(2.5).call(function(){e.labelGameNum.string="0"}).to(.2,{scale:0},{easing:"easeIn"}).start(),setTimeout(function(){e.nodeTips.scale=0,e.labelGameNum.string="0"},3)},t.prototype.update=function(e){null!=this.curProgress&&(this.curProgress+=e/2,this.curProgress>=1&&(this.curProgress=1),this.spriteProgress.fillRange=this.curProgress,this.labelProgress.string=(100*this.curProgress).toFixed(1)+"%",this.curProgress>=1&&(this.curProgress=null))},t.prototype.addEvent=function(){this.iconBtn.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.iconBtn.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.updateHashRest=function(){console.log("updateHashRest-----------"),this.renderHashRest()},t.prototype.onTouchStart=function(){this.clickBinanceHashBtn()},t.prototype.clickBinanceHashBtn=function(){},t.prototype.onTouchEnd=function(){this.iconBtn.off(cc.Node.EventType.TOUCH_MOVE,this.iconTouchMove,this);var e=this.node.position;(0==this.lastPoint.x&&0==this.lastPoint.y||game.ComUtils.GetTwoPosDistance(e,this.lastPoint)<50)&&(game.SoundManager.getInstance().playBtnSound(),this.openHelpView(null,{seed:l.default.getInstance().ciphertext,autoHashValueCalculation:!1,rollerGameId:null,rollerId:null})),this.lastPoint=this.node.position},t.prototype.openHelpView=function(e,t){var n=l.default.getInstance().restoreResult.gameMode;if(n===protoSlot.game_mode_type_enum.hash_chain){var i={pageIndex:0,toggleIndex:0,autoHashValueCalculation:!1,seed:null==t?void 0:t.seed,gameMode:n,gameId:core.Global.gameId,rollerModeId:l.default.getInstance().rollerModeId,rollerGameId:null==t?void 0:t.rollerGameId,rollerId:null==t?void 0:t.rollerId};t&&t.hasOwnProperty("autoHashValueCalculation")&&(t.autoHashValueCalculation&&(i.toggleIndex=1),i.autoHashValueCalculation=t.autoHashValueCalculation),game.UIManager.getInstance().open(core.COREUIID.UI_HASH_CHECK_HELP_CHAIN,i)}else i={pageIndex:0,gameMode:n,gameId:core.Global.gameId,rollerModeId:l.default.getInstance().rollerModeId},game.UIManager.getInstance().open(core.COREUIID.UI_HASH_CHECK_HELP,i)},t.prototype.iconTouchMove=function(e){if(this.node){var t=cc.Canvas.instance.node.convertToNodeSpaceAR(e.getLocation()),n=(cc.Canvas.instance.node.width,cc.Canvas.instance.node.height);-n>>1<t.y&&t.y<n>>1&&this.node.setPosition(t)}},t.prototype.layout=function(){r.Layout.isLandscape?this.layoutLandscape():this.layoutPortrait()},t.prototype.layoutLandscape=function(){game.Utils.setWidget(this.node,{right:h.default.isHasBuy()?115:5,top:0})},t.prototype.layoutPortrait=function(){game.Utils.setWidget(this.node,{right:h.default.isHasBuy()?115:5,top:0})},a([m(cc.Node)],t.prototype,"iconBtn",void 0),a([m(cc.Node)],t.prototype,"timestampText",void 0),a([m(cc.Node)],t.prototype,"directText",void 0),a([m(cc.Node)],t.prototype,"hashChainText",void 0),a([m({type:cc.Node,tooltip:"hashRest"})],t.prototype,"nodeGameNum",void 0),a([m(cc.Node)],t.prototype,"nodeTips",void 0),a([m(cc.Node)],t.prototype,"nodeTipsBg",void 0),a([m(cc.Label)],t.prototype,"labelTips",void 0),a([m(cc.Node)],t.prototype,"nodeProgress",void 0),a([m(cc.Sprite)],t.prototype,"spriteProgress",void 0),a([m(cc.Label)],t.prototype,"labelProgress",void 0),a([m(cc.Label)],t.prototype,"labelGameNum",void 0),a([f],t)}(game.View);n.default=g,cc._RF.pop()},{"../../slot_common/common/utils/Layout":"Layout","../../slot_common/network/NetSlotConst":"NetSlotConst","../../slot_common/network/SlotProtoManager":"SlotProtoManager","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],HashTimestampSlot:[function(e,t,n){"use strict";cc._RF.push(t,"63cd9Ve4OFPOYuhsNDCvD3S","HashTimestampSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/utils/GData"),s=e("../../main/BaseView"),l=e("../../network/NetSlotConst"),c=e("../../slotMachine/script/SlotConfigs/GameEventNames"),u=e("../../slotMachine/script/SlotUtils/SlotUtils"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeText=null,t.hashText=null,t.ani=null,t.timetextStr=null,t}return o(t,e),t.prototype.onLoad=function(){this.resize(),this.addEvent(),this.initCiphertext()},t.prototype.addEvent=function(){game.EventManager.getInstance().addEventListener(l.default.RESTORERESP,this.spinResp,this),game.EventManager.getInstance().addEventListener(l.default.SPINRESP,this.spinResp,this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_SET_HASH_POINT,this.setNodePint,this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_SHOW_HASH_LABLE,this.setHashData,this),game.EventManager.getInstance().addEventListener(l.default.LGACTIONRESP,this.buyFreeResp,this),game.EventManager.getInstance().addEventListener(l.default.BUYFREESPINRESP,this.buyFreeResp,this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_BONUS_GAME_FINISEH,this.onBonusGameOver,this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this.onBonusGameTrigger,this)},t.prototype.buyFreeResp=function(e,t){this.upCiphertext(t.ciphertext)},t.prototype.spinResp=function(e,t){this.upCiphertext(t.plaintext,t.ciphertext),this.ani&&this.ani.setAnimation(0,"animation",!1)},t.prototype.setHashData=function(e,t){void 0===t&&(t=!0),this.node.active=!(!t||!this.timetextStr)},t.prototype.onBonusGameTrigger=function(){u.default.isShowHashText=!1,this.node.active=!1},t.prototype.onBonusGameOver=function(){u.default.isShowHashText=!0,this.node.active=!!this.timetextStr},t.prototype.initCiphertext=function(){this.node.active=!1},t.prototype.copyText=function(){core.CoreUtils.copyText(this.timeText.string)},t.prototype.upCiphertext=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),e?t&&(this.timetextStr=e,this.node.active=u.default.isShowHashText,this.timeText.string=e,this.hashText.string=t.substr(0,4)+"..."+t.substr(t.length-18),cc.tween(this.timeText.node).to(.2,{scale:1.2}).to(.1,{scale:1}).start()):this.node.active=!1},t.prototype.setNodePint=function(e,t,n){this.node.x=t,this.node.y=n},t.prototype.layoutManual=function(e){var t=r.GData.getParameter("layout"),n=0,i=0,o=1,a=1;cc.sys.isMobile?e?(n=r.GData.getJsonValue_safe(t,"hashText_mobileL/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_mobileL/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_mobileL/scaleX")||1,a=r.GData.getJsonValue_safe(t,"hashText_mobileL/scaleY")||1):(n=r.GData.getJsonValue_safe(t,"hashText_mobileP/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_mobileP/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_mobileP/scaleX")||1,a=r.GData.getJsonValue_safe(t,"hashText_mobileP/scaleY")||1):e?(n=r.GData.getJsonValue_safe(t,"hashText_pcL/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_pcL/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_pcL/scaleX")||0,a=r.GData.getJsonValue_safe(t,"hashText_pcL/scaleY")||0):(n=r.GData.getJsonValue_safe(t,"hashText_pcP/x")||0,i=r.GData.getJsonValue_safe(t,"hashText_pcP/y")||0,o=r.GData.getJsonValue_safe(t,"hashText_pcP/scaleX")||0,a=r.GData.getJsonValue_safe(t,"hashText_pcP/scaleY")||0),this.setNodePint(null,n,i),this.node.scaleX=o,this.node.scaleY=a},t.prototype.layoutLandscape=function(){this.layoutManual(!0)},t.prototype.layoutPortrait=function(){this.layoutManual(!1)},a([d(cc.Label)],t.prototype,"timeText",void 0),a([d(cc.Label)],t.prototype,"hashText",void 0),a([d(sp.Skeleton)],t.prototype,"ani",void 0),a([h],t)}(s.default);n.default=f,cc._RF.pop()},{"../../common/utils/GData":"GData","../../main/BaseView":"BaseView","../../network/NetSlotConst":"NetSlotConst","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],JPGameCommon:[function(e,t,n){"use strict";cc._RF.push(t,"8b1e10dQbRAvbvK8W9Rpy+l","JPGameCommon");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.JP_EFFECT=void 0;var r,s=e("../../common/enum/CommonEnum"),l=e("../../main/BaseView"),c=e("../../slotMachine/script/SlotConfigs/GameEventNames"),u=e("../../slotMachine/script/SlotManager/GlobalQueueManager"),p=e("../../slotMachine/script/SlotManager/JackPotGameManager"),h=e("../../slotMachine/script/SlotUtils/Handle"),d=e("../../slotMachine/script/SlotUtils/SlotUtils"),f=e("../../sound/script/SoundMger"),m=e("./JackPotShowCommon"),g=cc._decorator,_=g.ccclass,y=g.property,T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.zhuanPan=null,t.box_grey=null,t.box_open_spriteFrame=[],t.isRot=!1,t.winningEffect=null,t.startText=null,t.stopText=null,t.wheel=null,t.bg_v=null,t.bg_h=null,t.bgAni=null,t.main=null,t.smallBoxSk=null,t.bigBoxSk=null,t.poinSk=null,t.coinLabel=null,t.isIdle=!0,t.acceleration=0,t.targetAngle=0,t.jackPotShow=null,t._winMoney=0,t.isTween=!1,t.tweenList=[],t.tweenDelay=null,t.isStopImmediately=!1,t.JpCallBack=null,t.speed=0,t.randJp=7,t.miniTimes=[],t.minorTimes=[],t.majorTimes=[],t.grandTimes=[],t.canPlay=!0,t.canClose=!1,t}return o(t,e),t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.JpCallBack=t[0]},t.prototype.onLoad=function(){var e=this;f.SoundMger.instance.playMusicSlotCommon(s.SOUND_NAME.JP_Music,!0),this.canPlay=!1,this.initJP(),this.resize(),this.jackPotShow.openCurtain(h.Handler.create(this,function(){e.canPlay=!0})),setTimeout(function(){e.tvController()},3e3)},t.prototype.initJP=function(){this.PlaySlowTurnEffect(0),this.wheel.parent.getChildByName("but").on("click",this.clickBack,this),this.winningEffect=this.main.getChildByName("effect").getChildByName("winningEffect"),this.bigBoxSk.node.parent.getChildByName("mask").on("click",this.onTouch,this),this.winningEffect.active=!1,this.smallBoxSk.node.active=!1,this.updateJP()},t.prototype.updateJP=function(){console.log("minInfo:",core.JpManager.getInstance().getJpItemByLocalId("01")),this.main.getChildByName("JP").getChildByName("JP_Mini").getChildByName("miniLable").getComponent(cc.Label).string=this.fromLocalIddGetJpinfo("01"),this.main.getChildByName("JP").getChildByName("JP_Minor").getChildByName("minorLable").getComponent(cc.Label).string=this.fromLocalIddGetJpinfo("02"),this.main.getChildByName("JP").getChildByName("JP_Magor").getChildByName("magorLable").getComponent(cc.Label).string=this.fromLocalIddGetJpinfo("03"),this.main.getChildByName("JP").getChildByName("JP_Grand").getChildByName("grandLable").getComponent(cc.Label).string=this.fromLocalIddGetJpinfo("04");var e=null;switch(p.default.instance.jpRewardPush.jpId){case 10001:e=this.main.getChildByName("JP").getChildByName("JP_Mini").getChildByName("miniLable").getComponent(cc.Label);break;case 10002:e=this.main.getChildByName("JP").getChildByName("JP_Minor").getChildByName("minorLable").getComponent(cc.Label);break;case 10003:e=this.main.getChildByName("JP").getChildByName("JP_Magor").getChildByName("magorLable").getComponent(cc.Label);break;case 10004:e=this.main.getChildByName("JP").getChildByName("JP_Grand").getChildByName("grandLable").getComponent(cc.Label)}e.string=d.default.formatNumber(Number(p.default.instance.jpRewardPush.reward))},t.prototype.fromLocalIddGetJpinfo=function(e){return d.default.formatNumber(Number(core.JpManager.getInstance().getJpItemByLocalId(e)[0].jpinfo.value))},t.prototype.update=function(e){this.isRot&&(this.acceleration>0?(this.speed+=e*this.acceleration,this.speed>=540&&(this.speed=540),540==this.speed&&this.isStopImmediately&&(this.luckDraw(),this.isStopImmediately=!1),this.wheel.angle-=e*this.speed):(this.speed+=e*this.acceleration,this.wheel.angle-=e*this.speed,this.speed<=0&&(this.wheel.angle=this.targetAngle,this.isRot=!1,this.speed=0,this.playWinningEffect())))},t.prototype.clickBack=function(){3!=this.miniTimes.length&&3!=this.minorTimes.length&&3!=this.majorTimes.length&&3!=this.grandTimes.length&&this.canPlay&&(this.isIdle?(this.PlaySpeedUpEffect(),this.startText.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.isIdle=!1):(this.speed<540?(this.isStopImmediately=!0,this.canPlay=!1):this.luckDraw(),this.startText.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.isIdle=!0))},t.prototype.luckDraw=function(){switch(console.log("-------------",p.default.instance.jpRewardPush.jpId),this.randJp=this.getRandom(p.default.instance.jpRewardPush.jpId),this.getPrizeType(this.randJp)){case 0:this.miniTimes.push(this.randJp);break;case 1:this.minorTimes.push(this.randJp);break;case 2:this.majorTimes.push(this.randJp);break;case 3:this.grandTimes.push(this.randJp)}this.canPlay=!1,this.playSlowDownEffect(this.randJp)},t.prototype.getRandom=function(e){if(3!=this.miniTimes.length&&3!=this.minorTimes.length&&3!=this.majorTimes.length&&3!=this.grandTimes.length){var t=Math.floor(10*Math.random()),n=this.getPrizeType(t);return console.log(t),0==n&&this.miniTimes.length<(e-10001==n?3:2)?t:1==n&&this.minorTimes.length<(e-10001==n?3:2)?t:2==n&&this.majorTimes.length<(e-10001==n?3:2)?t:3==n&&this.grandTimes.length<(e-10001==n?3:2)?t:this.getRandom(e)}console.log(this.miniTimes,this.minorTimes,this.majorTimes,this.grandTimes)},t.prototype.getPrizeType=function(e){return 0==e?3:1==e||2==e?2:e>=3&&e<=5?1:e>=6&&e<=9?0:void console.log("err:jp type found correctly")},t.prototype.fromTypeGetLen=function(e){switch(e){case 0:return this.miniTimes.length-1;case 1:return this.minorTimes.length-1;case 2:return this.majorTimes.length-1;case 3:return this.grandTimes.length-1}},t.prototype.tvController=function(){var e=this;if(this.node){var t=this.wheel.parent.getChildByName("but");core.TvControlManager.instance.addTvControlNode(t,!0,!1,"",function(){e.clickBack&&e.clickBack()},"on_1JackPotBtn_click",core.EnumTvNodeType.Button),core.TvControlManager.instance.initController(this.node)}},t.prototype.PlaySpeedUpEffect=function(){var e=this;f.SoundMger.instance.playEffectSlotCommon(s.SOUND_NAME.JP_Rolling,!0),this.speed=0,this.acceleration=180,this.isRot=!0,this.zhuanPan.node.active=!0,this.zhuanPan.timeScale=1,this.zhuanPan.setAnimation(0,"animation",!0),this.canPlay=!1,this.tweenDelay=cc.tween(this).delay(5).call(function(){e.luckDraw(),e.startText.active=!0,e.stopText.active=!1,e.isIdle=!0,e.tweenDelay=null}).start()},t.prototype.playSlowDownEffect=function(e){var t=this.wheel.angle,n=36*e;this.targetAngle=360*(Math.floor(t/360)-2)+n;var i=Math.abs(this.targetAngle-t);this.acceleration=-this.speed*this.speed*.5/i,this.speed,this.tweenDelay&&(this.tweenDelay.stop(),this.tweenDelay=null)},t.prototype.PlaySlowTurnEffect=function(e){this.isRot=!1,this.zhuanPan.node.active=!1,this.wheel.angle=36*e},t.prototype.playWinningEffect=function(){var e=this;f.SoundMger.instance.stopEffectSlotCommon(s.SOUND_NAME.JP_Rolling),f.SoundMger.instance.playEffectSlotCommon(s.SOUND_NAME.JP_Fly_To_Box,!1),this.zhuanPan.node.active=!1;var t=this.getPrizeType(this.randJp);this.zhuanPan.node.active=!1;var n=this.effect_pos(t);this.winningEffect.active=!0,game.ComUtils.isCanvasLand()?this.winningEffect.setPosition(-316,122):this.winningEffect.setPosition(-5,130),this.poinSk.node.active=!0,this.winningEffect.opacity=0,cc.tween(this.winningEffect).delay(1).call(function(){e.winningEffect.opacity=255,e.winningEffect.getComponent(cc.ParticleSystem).resetSystem()}).to(.8,{x:n.x,y:n.y}).call(function(){e.winningEffect.active=!1,e.winningEffect.getComponent(cc.ParticleSystem).stopSystem();var t=e.getPrizeType(e.randJp);e.box_open_goldEffect(t,e.fromTypeGetLen(t))}).start()},t.prototype.box_open_goldEffect=function(e,t){var n=this,i=this.main.getChildByName("JP").children[e];i.getChildByName("box").children[t].getComponent(cc.Sprite).spriteFrame=this.box_open_spriteFrame[e],this.smallBoxSk.node.setPosition(this.effect_pos(e)),2==t&&(i.getChildByName("barLight").active=!0);var o=["greenBox_fadeIn","blueBox_fadeIn","redBox_fadeIn","goldBox_fadeIn"][e],a=["greenBox_open","blueBox_open","redBox_open","goldBox_open"][e];this.smallBoxSk.node.active=!0,this.smallBoxSk.setAnimation(0,r.JP_Box_Open_Gold,!1),this.smallBoxSk.setCompleteListener(function(){if(n.poinSk.node.active=!1,n.canPlay=!0,n.startText.getComponent(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),2==t){n.bigBoxSk.node.active=!0;var e=i.getChildByName("bg").getChildByName("ring_jp").convertToWorldSpaceAR(cc.v2(0,0)),r=n.winningEffect.parent.convertToNodeSpaceAR(e);n.bigBoxSk.node.setPosition(r),n.bigBoxSk.node.scale=.3,n.bigBoxSk.setAnimation(0,o,!1),n.bigBoxSk.setCompleteListener(function(){n.canPlay=!0,o==n.bigBoxSk.animation&&(n.bigBoxSk.node.parent.getChildByName("mask").active=!0,cc.tween(n.bigBoxSk.node).to(.5,{x:0,y:0,scale:1}).call(function(){f.SoundMger.instance.playEffectSlotCommon(s.SOUND_NAME.JP_Open_Box),n.bigBoxSk.setAnimation(0,a,!1)}).delay(3).call(function(){n.playWinCoin()}).start())})}})},t.prototype.playWinCoin=function(){var e=this;this.coinLabel.node.active=!0,this.coinLabel.node.opacity=100,this.winMoney=0;var t=Number(p.default.instance.jpRewardPush.reward);f.SoundMger.instance.playEffectSlotCommon(s.SOUND_NAME.Prize_Loop,!0);var n=cc.tween(this).to(5,{winMoney:t}).call(function(){f.SoundMger.instance.stopEffectSlotCommon(s.SOUND_NAME.Prize_Loop)}).start();this.tweenList.push(n),this.isTween=!0;var i=h.Handler.create(this,this.closeJackPotGame),o=cc.tween(this.coinLabel.node).to(.3,{opacity:255}).to(5,{scale:1.5}).call(function(){f.SoundMger.instance.playEffectSlotCommon(s.SOUND_NAME.Prize_Stop,!1)}).to(.5,{scale:1.8}).to(.5,{scale:1}).delay(1).call(function(){e.canClose=!0,e.isTween=!1,game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,t,i)}).start();this.tweenList.push(o)},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.coinLabel.string=d.default.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.onTouch=function(){if(this.isTween){for(var e=0,t=this.tweenList;e<t.length;e++)t[e].stop();this.tweenList=[],f.SoundMger.instance.stopEffectSlotCommon(s.SOUND_NAME.Prize_Loop),f.SoundMger.instance.playEffectSlotCommon(s.SOUND_NAME.Prize_Stop,!1);var n=h.Handler.create(this,this.closeJackPotGame);this.isTween=!1,this.coinLabel.node.scale=1,this.canClose=!0,this.winMoney=Number(p.default.instance.jpRewardPush.reward),game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,this.winMoney,n)}},t.prototype.closeJackPotGame=function(){var e=this;this.canClose&&this.jackPotShow.closeCurtain(h.Handler.create(this,function(){u.default.instance.execute(),f.SoundMger.instance.stopMusicSlotCommon(s.SOUND_NAME.JP_Music),e.JpCallBack.run(),game.UIManager.getInstance().close(e)}))},t.prototype.effect_pos=function(e){var t=this.fromTypeGetLen(e),n=this.main.getChildByName("JP").children[e].getChildByName("box").children[t].convertToWorldSpaceAR(cc.v2(0,0));return this.winningEffect.parent.convertToNodeSpaceAR(n)},t.prototype.layout=function(){var e=game.ComUtils.isCanvasLand()?cc.size(1920,1080):cc.size(1080,1920);this.node.setContentSize(e);var t=this.node,n=this.node.getContentSize(),i=cc.winSize.width/n.width,o=cc.winSize.height/n.height,a=i<o?i:o;t.setScale(a)},t.prototype.layoutLandscape=function(){game.ComUtils.isCanvasLand()?(this.bg_h.active=!0,this.bg_v.active=!1,this.bgAni.y=0,this.main.getChildByName("zhuanpan").x=-322,this.main.getChildByName("zhuanpan").y=0,this.main.getChildByName("JP").x=376,this.main.getChildByName("JP").y=-30,this.winningEffect.x=-316,this.winningEffect.y=122,this.coinLabel.node.parent.scale=1):this.layoutPortrait()},t.prototype.layoutPortrait=function(){game.ComUtils.isCanvasLand()?this.layoutLandscape():(this.bg_h.active=!1,this.bg_v.active=!0,this.bgAni.y=-600,this.main.getChildByName("zhuanpan").x=0,this.main.getChildByName("zhuanpan").y=-270,this.main.getChildByName("JP").x=0,this.main.getChildByName("JP").y=360,this.winningEffect.x=-5,this.winningEffect.y=-130,this.coinLabel.node.parent.scale=.8)},a([y(sp.Skeleton)],t.prototype,"zhuanPan",void 0),a([y(cc.SpriteFrame)],t.prototype,"box_grey",void 0),a([y(cc.SpriteFrame)],t.prototype,"box_open_spriteFrame",void 0),a([y(cc.Node)],t.prototype,"startText",void 0),a([y(cc.Node)],t.prototype,"stopText",void 0),a([y(cc.Node)],t.prototype,"wheel",void 0),a([y(cc.Node)],t.prototype,"bg_v",void 0),a([y(cc.Node)],t.prototype,"bg_h",void 0),a([y(cc.Node)],t.prototype,"bgAni",void 0),a([y(cc.Node)],t.prototype,"main",void 0),a([y(sp.Skeleton)],t.prototype,"smallBoxSk",void 0),a([y(sp.Skeleton)],t.prototype,"bigBoxSk",void 0),a([y(sp.Skeleton)],t.prototype,"poinSk",void 0),a([y(cc.Label)],t.prototype,"coinLabel",void 0),a([y(m.default)],t.prototype,"jackPotShow",void 0),a([_],t)}(l.default);n.default=T,function(e){e.JP_Start="slow turn",e.JP_Stop="speed up",e.JP_Activation="activation",e.JP_Box_Open_Gold="box_open_ gold",e.JP_Fireworks="fireworks",e.JP_Big_Ches="big_ches",e.JP_Big_Ches2="big_ches2",e.JP_Winning_Effects="winning  effects"}(r=n.JP_EFFECT||(n.JP_EFFECT={})),cc._RF.pop()},{"../../common/enum/CommonEnum":"CommonEnum","../../main/BaseView":"BaseView","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotManager/GlobalQueueManager":"GlobalQueueManager","../../slotMachine/script/SlotManager/JackPotGameManager":"JackPotGameManager","../../slotMachine/script/SlotUtils/Handle":"Handle","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../sound/script/SoundMger":"SoundMger","./JackPotShowCommon":"JackPotShowCommon"}],JT3ComboTask:[function(e,t,n){"use strict";cc._RF.push(t,"1f124MsnyhOvLZ9dlqgsByK","JT3ComboTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.registerWatchTask(12,3),t}return o(t,e),t}(e("./JTComboTask").default);n.default=a,cc._RF.pop()},{"./JTComboTask":"JTComboTask"}],JT5ComboTask:[function(e,t,n){"use strict";cc._RF.push(t,"f4732BLM9ZBMqKJrDFRCOo6","JT5ComboTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.registerWatchTask([1,2,3,4,5,6,7,8,9,10,11,12,13],5),t}return o(t,e),t.prototype.executeTask=function(){e.prototype.executeTask.call(this)},t}(e("./JTComboTask").default);n.default=a,cc._RF.pop()},{"./JTComboTask":"JTComboTask"}],JTAdvanceBeginScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"4551cyb/cxKRoqULRNZKrBp","JTAdvanceBeginScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTBeginRunning"),r=e("../../../../SlotUtils/Handle"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this.scroller.isRunning=!0;var e=this._owner.combineRule,t=this._owner.retainWild,n=this._owner.dynamicCombine,i=this._owner.advanceTask;e&&e.checkStart()?this.scroller.index==this.scroller.config.col-1&&e.runStartCombine(r.Handler.create(this,this.advanceRuleComplete)):t&&t.checkStart()?this.scroller.index==this.scroller.config.col-1&&t.retainWildStart(r.Handler.create(this,this.advanceRuleComplete)):n&&n.isNeedStart()?n.isCombineScroller(this._scroller)&&n.beforeStartRun(r.Handler.create(this,this.advanceRuleComplete)):i&&i.checkStart()?this.scroller.index==this.scroller.config.col-1&&i.start(r.Handler.create(this,this.advanceRuleComplete)):this.complete()},t.prototype.advanceRuleComplete=function(){for(var e=this.scrollerGroup.items,t=0;t<e.length;t++){var n=e[t],i=n.pipeline.getCurrentTask();n.isRunning&&i.complete()}},t}(a.default);n.default=s,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTAdvanceSkinnableGrid:[function(e,t,n){"use strict";cc._RF.push(t,"b70eea/fdlMPp7x4y4r6bYK","JTAdvanceSkinnableGrid");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("./JTAdvanceSkinnable").default);n.default=a,cc._RF.pop()},{"./JTAdvanceSkinnable":"JTAdvanceSkinnable"}],JTAdvanceSkinnableLine:[function(e,t,n){"use strict";cc._RF.push(t,"8dd81zmn/VKaq2THhFT/tCh","JTAdvanceSkinnableLine");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("./JTAdvanceSkinnable").default);n.default=a,cc._RF.pop()},{"./JTAdvanceSkinnable":"JTAdvanceSkinnable"}],JTAdvanceSkinnable:[function(e,t,n){"use strict";cc._RF.push(t,"b0ff6utDZ1EHol3ws3YcZQI","JTAdvanceSkinnable");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._mode=0,t}return o(t,e),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},enumerable:!1,configurable:!0}),t}(e("./JTSkinnable").default);n.default=a,cc._RF.pop()},{"./JTSkinnable":"JTSkinnable"}],JTAdvanceTask:[function(e,t,n){"use strict";cc._RF.push(t,"daaa1mQp/NA/qRi2T3EeR5l","JTAdvanceTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startConditionCall=null,t.startCall=null,t}return o(t,e),t.prototype.config=function(e,t){this.startCall=t,this.startConditionCall=e},t.prototype.checkStart=function(){return this.startConditionCall.apply(this.caller)},t.prototype.start=function(e){this.startCall.apply(this.caller,[e])},t}(e("./JTRuleTask").default);n.default=a,cc._RF.pop()},{"./JTRuleTask":"JTRuleTask"}],JTAfterRewardTask:[function(e,t,n){"use strict";cc._RF.push(t,"c2acfY+vbxFiLseQz0HHns/","JTAfterRewardTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotManager/PlayerManager"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netexchangeGuidePush,this.exchangeGuidePush,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netupdateUserInfoPush,this.updateUserInfoPush,this)},t.prototype.runningTask=function(){this.nextStep()},t.prototype.updateUserInfoPush=function(e,t){var n=this.getScrollerGroup();if(n.enabled&&Number(core.CommonProto.getInstance().userinfo.userId)==Number(t.userInfo.userId)){var i=t.userInfo.scores.toNumber(),o=n.taskPipeline.getCurrentTask();n.isRunning||o.priority<this.priority?r.default.instance.updateRealCoin(i):(r.default.instance.updateRealCoin(i),r.default.instance.syncShowingCoin(),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_PUB_CHIPS_PUSH))}},t.prototype.exchangeGuidePush=function(){var e=this.getScrollerGroup();if(e.enabled){var t=e.taskPipeline.getCurrentTask();e.isRunning||t.priority<this.priority?this.addStepTask(a.GameEventNames.EVENT_SHOW_EXCHANGE_GUIDE):game.EventManager.getInstance().raiseEvent(core.GameCoreConst.mess_openExchangeGuide,null,null)}},t}(e("./JTPerformanceTask").default);n.default=s,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotManager/PlayerManager":"PlayerManager","./JTPerformanceTask":"JTPerformanceTask"}],JTAnomalyMask:[function(e,t,n){"use strict";cc._RF.push(t,"27c34uYsNFKcZOvLCO4n731","JTAnomalyMask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.launch=function(e){var t=e.config;this.x=0,this.y=0,this.parent=e.owner,this.width=t.getWidth(),this.height=t.getHeight()-t.gapY},t.prototype.redraw=function(e,t,n,i,o){this.x=t,this.y=n,this.parent=e.owner,this.width=i,this.height=o},t.prototype.changed=function(){},t}(e("../com/base/JTMask").default);n.default=a,cc._RF.pop()},{"../com/base/JTMask":"JTMask"}],JTAnomalyPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"ededd8oFDNDU6sDUWOb8qrC","JTAnomalyPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/JTScheduledPipeline"),r=e("../../JTOptionType"),s=e("../../../com/JTScrollerGroup"),l=e("../../../rules/JTRuleTaskType"),c=e("../../../../SlotDefinitions/SlotEnum"),u=function(e){function t(){var t=e.call(this)||this;return t.lineTime=null,t.scatterRule=null,t.dynamicWild=null,t.onceWild=null,t.changeSpeed=null,t}return o(t,e),t.prototype.start=function(){this.dynamicWild=this.getRuleTask(l.default.WILD_DYNAMIC_TIME_TYPE),this.onceWild=this.getRuleTask(l.default.WILD_ONCE_TIME_TYPE),this.dynamicWild&&this.dynamicWild.showScroller(this._scroller),this.onceWild&&this.onceWild.showScroller(this._scroller),this.changeSpeed=this.getRuleTask(l.default.CHANGE_SPEED_TASK),e.prototype.start.call(this)},t.prototype.onDataStandBy=function(){this.scatterRule=this.getRuleTask(l.default.SCATTER),this.scatterRule&&this.scatterRule.setupScatterTime(this.scroller)},t.prototype.clear=function(){e.prototype.clear.call(this),this.lineTime&&(this.lineTime.stop(),this.lineTime=null)},t.prototype.updateRenders=function(){var e=this.getOption(r.default.OPTION_OVER_RUNNING);this.lineTimeComplete(),e.handler&&e.handler.apply(e.caller,[this._scroller])},t.prototype.lineTimeComplete=function(e){void 0===e&&(e=!1);var t=this._scroller,n=t.config,i=t.owner;this.clear(),t.renders.length=0;var o=0;if(i.channelPipeline.getTemplate(t.index).dataListType==s.default.USE_CONVERT_TO_LIST)if(n.orientation==c.SlotOrientation.Portrait)for(var a=0,r=0;r<t.items.length;r++){var l=t.items[r],u=t.dataList[r];l.data=e?t.changedDataList[r]:t.dataList[r],l.changedData=t.changedDataList[r],0==r&&0!=u&&(a=t.config.gapHeight/2),l.x=n.girdWidth/2,l.y=a-n.girdHeight/2,l.index=t.indexs[r],a+=-l.height,t.renders.push(l),o++}else{var p=n.gapWidth;for(r=0;r<t.items.length;r++)l=t.items[r],u=t.dataList[r],l.data=e?t.changedDataList[r]:t.dataList[r],l.changedData=t.changedDataList[r],0==r&&0!=u&&(p=t.config.gapWidth/2),l.x=p-n.girdWidth/2,l.y=-n.girdHeight/2,l.index=t.indexs[r],p+=l.width,t.renders.push(l),o++}else if(n.orientation==c.SlotOrientation.Portrait)for(a=n.girdHeight,0!=this.changedDataList[1]&&(a=1.5*n.girdHeight),r=0;r<t.items.length;r++)(l=t.items[r]).data=e?t.changedDataList[r]:t.dataList[r],l.changedData=t.changedDataList[r],l.x=n.girdWidth/2,l.y=a-n.girdHeight/2,a+=-l.height,r>0&&r<t.items.length-1&&(t.renders.push(l),l.index=t.indexs[o],o++);else for(p=0,0!=this.changedDataList[1]&&(p=-.5*n.gapWidth),r=0;r<t.items.length;r++)(l=t.items[r]).data=e?t.changedDataList[r]:t.dataList[r],l.changedData=t.changedDataList[r],l.x=p-n.girdWidth/2,l.y=-n.girdHeight/2,r>0&&r<t.items.length-1&&(t.renders.push(l),l.index=t.indexs[o],o++),p+=l.width;this.resetRenderPoints()},t.prototype.resetRenderPoints=function(){for(var e=this._scroller,t=0;t<e.renders.length;t++){var n=e.renders[t],i=new cc.Vec2,o=new cc.Vec2(n.x+e.pipeline.sourceXLandscape,n.y+e.pipeline.sourceYLandscape),a=new cc.Vec2,r=new cc.Vec2(n.x+e.pipeline.sourceXPortrait,n.y+e.pipeline.sourceYPortrait),s=n.index;this._scrollerGroup.pointMapLandscape[s]=o,i.x=o.x+n.width/2,i.y=o.y+n.height/2,this._scrollerGroup.centerMapLandscape[s.toString()]=i,this._scrollerGroup.pointMapPortrait[s]=r,a.x=r.x+n.width/2,a.y=r.y+n.height/2,this._scrollerGroup.centerMapPortrait[s.toString()]=a,this._scrollerGroup.staticCenterMapLandscape[s]=i.clone(),this._scrollerGroup.staticCenterMapPortrait[s]=a.clone()}},t.prototype.setRenderBeforeComplete=function(e){var t=this._scroller;if(t.owner.channelPipeline.getTemplate(t.index).dataListType==s.default.USE_CONVERT_TO_LIST){var n=t.speed>0?t.config.row-t.changedTimes-1:t.changedTimes;return e.index=t.indexs[n],!0}return 0!=t.changedTimes&&t.changedTimes!=t.items.length-1&&(n=t.speed>0?t.config.row-t.changedTimes:t.changedTimes-1,e.index=t.indexs[n],!0)},t.prototype.updateRenderPosition=function(){var e=this._scroller,t=e.owner,n=e.config;if(t.channelPipeline.getTemplate(e.index).dataListType==s.default.USE_CONVERT_TO_LIST)if(n.orientation==c.SlotOrientation.Portrait)for(var i=0,o=0;o<e.items.length;o++){var a=e.items[o],r=e.changedDataList[o];0==o&&0!=r&&(i=e.config.gapHeight/2),t.isRenderInSortLayer(a)||(a.y=i-n.girdHeight/2,a.x=n.girdWidth/2),i+=-a.height}else{var l=n.gapWidth;for(o=0;o<e.items.length;o++)a=e.items[o],r=e.changedDataList[o],0==o&&0!=r&&(l=e.config.gapWidth/2),t.isRenderInSortLayer(a)||(a.x=l-n.girdWidth/2,a.y=-n.girdHeight/2),l+=a.width}else if(n.orientation==c.SlotOrientation.Portrait)for(i=n.girdHeight,0!=this.changedDataList[1]&&(i=1.5*n.girdHeight),o=0;o<e.items.length;o++)a=e.items[o],t.isRenderInSortLayer(a)||(a.y=i-n.girdHeight/2,a.x=n.girdWidth/2),i+=-a.height;else for(l=0,0!=this.changedDataList[1]&&(l=-.5*n.girdHeight),o=0;o<e.items.length;o++)a=e.items[o],t.isRenderInSortLayer(a)||(a.x=l-n.girdWidth/2,a.y=-n.girdHeight/2),l+=a.width},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/JTScrollerGroup":"JTScrollerGroup","../../../com/plugins/JTScheduledPipeline":"JTScheduledPipeline","../../../rules/JTRuleTaskType":"JTRuleTaskType","../../JTOptionType":"JTOptionType"}],JTArrayCollection:[function(e,t,n){"use strict";cc._RF.push(t,"2d70eOFYP9G7a1RQP+8dc55","JTArrayCollection");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../factorys/JTModelFactory"),r=e("../JTScrollerGroup"),s=e("../../JTLogger"),l=function(e){function t(){var t=e.call(this)||this;return t._grids=null,t._changedGrids=null,t._scroller=null,t._defaultSourceDataList=[],t._freeSourceDataList=[],t.dataMode=1,t.rollerId=1,t._elements=[],t}return o(t,e),t.prototype.initialize=function(){this._scroller=this._owner,this._refDataList=this._scroller.sources,this._defaultSourceDataList=[].concat(this._scroller.defaultSources),this._scroller.freeSources&&(this.freeSourceDataList=this._scroller.freeSources)},t.prototype.update=function(e,t,n,i,o,a){void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===o&&(o=[]),void 0===a&&(a=[]);var r=[].concat(e),s=[].concat(t);this.updateSourceByGridsConfig(r),this.updateSourceByGridsConfig(s),this.convertDataList(r,n,o),this.convertChangedDataList(s,i,a);var l=this._scroller;l.ruleTaskManager.collection=this,l.items?(this.updateDataList(),this.updateAfterConvertDataList(),this.updateShapesAndOccupyList()):(this.create(),l.create(),l.runningCallTask())},t.prototype.updateSourceByGridsConfig=function(e){var t=this.scroller.gridRenderConfig;if(t)for(var n=0,i=0;i<t.length;i++)for(var o=0;o<t[i].length;o++){if(0==t[i][o]){var a=this.getRondomId();e.splice(n,0,a)}n++}},t.prototype.create=function(){for(var e=this._scroller,t=e.channelPipeline.getCount(),n=e.factoryModel,i=0;i<t;i++){var o=n.produce(a.default.SCROLLER_DATA_MODEL);o.grids=n.produce(a.default.ELEMENT_LIST_DATA_MODEL),o.changedGrids=n.produce(a.default.ELEMENT_LIST_DATA_MODEL),o.elements=[],o.refDataList=e.dataProvider.refDataList[i];var r=e.dataProvider;o.defaultSourceData=r.defaultSourceDataList[i],r.freeSourceDataList&&(o.freeSourceData=r.freeSourceDataList[i]),this._grids.gridShapes.length>0&&this._changedGrids.gridShapes.length>0&&o.updateShapesAndOccupyList(this._grids.gridShapes[i].pos,this._changedGrids.gridShapes[i].pos,this._grids.occupyPosList,this._changedGrids.occupyPosList);var s=o.grids,l=o.changedGrids;s.changedDataList=this._grids.changedDataList[i],l.changedDataList=this._changedGrids.changedDataList[i],this.elements.push(o)}this.updateDataList()},t.prototype.forceUpdateDefaultDataList=function(e){for(var t=0;t<this._elements.length;t++)this._elements[t].forceUpdateRefDataList(e[t])},t.prototype.updateDataList=function(){if(this._grids.gridShapes.length>0&&this._changedGrids.gridShapes.length>0)for(var e=this.getConvertDataListByGridShape(this._grids.dataList,this._grids.gridShapes,!1),t=this.getConvertDataListByGridShape(this._changedGrids.dataList,this._changedGrids.gridShapes,!1),n=0;n<this._elements.length;n++)this._elements[n].updateSources(e[n],t[n]);else for(e=this.converToList(this._grids.dataList),t=this.converToList(this._changedGrids.dataList),n=0;n<this._elements.length;n++)this._elements[n].updateSources(e[n],t[n])},t.prototype.updateAfterConvertDataList=function(){for(var e=0;e<this._elements.length;e++){var t=this._elements[e],n=this._grids.changedDataList[e],i=this._changedGrids.changedDataList[e];t.update(n,i)}},t.prototype.updateShapesAndOccupyList=function(){if(this._grids.gridShapes.length>0&&this._changedGrids.gridShapes.length>0)for(var e=0;e<this._elements.length;e++)this._elements[e].updateShapesAndOccupyList(this._grids.gridShapes[e].pos,this._changedGrids.gridShapes[e].pos,this._grids.occupyPosList,this._changedGrids.occupyPosList)},t.prototype.convertDataList=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var i=this._scroller;this._grids||(this._grids=i.factoryModel.produce(a.default.ELEMENT_LIST_DATA_MODEL)),this._grids.dataList=e,i.channelPipeline.isEgoClone||i.channelPipeline.egoClone(),this._grids.gridShapes=t,this._grids.occupyPosList=n,t.length>0?this._grids.changedDataList=this.getConvertDataListByGridShape(e,t,!0):this._grids.changedDataList=this.getConvertDataList(e)},t.prototype.getConvertDataListByGridShape=function(e,t,n){for(var i=[],o=0,a=0;a<t.length;a++){var r=[],s=t[a].pos;n&&r.push(this.getRandomIDbyCol(a));for(var l=0;l<s.length;l++)r.push(e[o]),o++;n&&r.push(this.getRandomIDbyCol(a)),i.push(r)}return i},t.prototype.convertChangedDataList=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var i=this._scroller;this._changedGrids||(this._changedGrids=i.factoryModel.produce(a.default.ELEMENT_LIST_DATA_MODEL)),this._changedGrids.dataList=e,this._changedGrids.gridShapes=t,this._changedGrids.occupyPosList=n,t.length>0?this._changedGrids.changedDataList=this.getConvertDataListByGridShape(e,t,!0):this._changedGrids.changedDataList=this.getConvertDataList(e)},t.prototype.getConvertToList=function(e,t){for(var n=[],i=0;i<t;i++)n.push(e.shift());return n},t.prototype.converToList=function(e){for(var t=[],n=[],i=this._scroller.config,o=0;o<e.length;o++)o%i.row==0&&(!t&&t||(t=[])),t.push(e[o]),t.length==i.row&&n.push(t);return n},t.prototype.getConvertDataList=function(e){for(var t=this._scroller.channelPipeline,n=t.getCount(),i=[].concat(e),o=[],a=e.length/n,l=0;l<n;l++){var c=null;switch(t.getTemplate(l).dataListType){case r.default.USE_CONVERT_MROE_LIST:c=this.getConvertToMoredataList(i,l);break;case r.default.USE_CONVERT_TO_LIST:c=this.getConvertToList(i,a);break;default:s.default.warn("Cant find convert dataType!")}o.push(c)}return o},t.prototype.getConvertToMoredataList=function(e,t){var n=[],i=this._scroller.config;if(e.includes(0))for(var o=0;o<i.row;o++)0==o&&(0==e[0]?n.push(this.getRandomIDbyCol_exZero(t)):n.push(0)),n.push(e.shift()),o==i.row-1&&(0==n[n.length-1]?n.push(this.getRandomIDbyCol_exZero(t)):n.push(0));else for(o=0;o<i.row;o++)0==o&&n.push(this.getRandomIDbyCol(t)),n.push(e.shift()),o==i.row-1&&n.push(this.getRandomIDbyCol(t));return n},t.prototype.getRondomId=function(){var e=this.scroller.defaultImageIds;return e[Math.floor(Math.random()*e.length)]},t.prototype.getRandomIDbyCol=function(e){var t=this._refDataList[e];return t[Math.floor(Math.random()*t.length)]},t.prototype.getRandomIDbyCol_exZero=function(e){var t=this._refDataList[e].filter(function(e){return e>0});return t[Math.floor(Math.random()*t.length)]},t.prototype.updateSources=function(e,t){this._grids.dataList=e,this._changedGrids.dataList=t},t.prototype.converToMoredataList=function(e){for(var t=[],n=[],i=this._scroller.config,o=0;o<e.length;o++)o%i.row==0&&(!t&&t||(t=[]),t.push(this.getRondomId())),t.push(e[o]),t.length==i.row+1&&(t.push(this.getRondomId()),n.push(t));return n},t.prototype.setDataMode=function(e,t,n){if(void 0===t&&(t=1),void 0===n&&(n=[]),this.dataMode=e,this.rollerId=t,n.length>0)for(var i=0;i<n.length;i++){var o=n[i];this._elements[o].resetRefDataList(this.dataMode,this.rollerId)}else for(i=0;i<this._elements.length;i++)this._elements[i].resetRefDataList(this.dataMode,this.rollerId)},Object.defineProperty(t.prototype,"grids",{get:function(){return this._grids},set:function(e){this._grids=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedGrids",{get:function(){return this._changedGrids},set:function(e){this._changedGrids=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scroller",{get:function(){return this._scroller},set:function(e){this._scroller=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultSourceDataList",{get:function(){return this._defaultSourceDataList},set:function(e){this._defaultSourceDataList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"freeSourceDataList",{get:function(){return this._freeSourceDataList},set:function(e){this._freeSourceDataList=e},enumerable:!1,configurable:!0}),t.NORMAL_MODE=1,t.FREE_MODE=2,t}(e("./JTCollection").default);n.default=l,cc._RF.pop()},{"../../JTLogger":"JTLogger","../JTScrollerGroup":"JTScrollerGroup","../factorys/JTModelFactory":"JTModelFactory","./JTCollection":"JTCollection"}],JTBaseLogicFactroy:[function(e,t,n){"use strict";cc._RF.push(t,"d0401265uNBMrbhqhVx6nWZ","JTBaseLogicFactroy");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JTTaskPriority=void 0;var a=e("./JTFactory"),r=e("../../flows/JTConvertPlayLines"),s=e("../../flows/JT3ComboTask"),l=e("../../flows/JTGlobalDisplayLines"),c=e("../../flows/JTLoopDisplayLines"),u=e("../../lines/JTScrollerLineParser"),p=e("../../../SlotData/SDictionary"),h=e("../plugins/procedure/JTPipelineTemplate"),d=e("../../../SlotUtils/Handle"),f=e("../tasks/JTScheduledTaskPipeline"),m=e("../../flows/JTBonusGameTask"),g=e("../../flows/JTCommonRewardTask"),_=e("../../flows/JTFreeGameOverTask "),y=e("../../flows/JTNewFreeGameTask"),T=e("../../flows/JTFullLineAniTask"),S=e("../../flows/JTTrialGuide"),E=e("../../flows/JTUpLevelTask"),v=e("../../flows/JTFreeGameRewardTask"),C=e("../../flows/JTCombineOverTask"),b=e("../../flows/JTDynamicCombineSplit"),R=e("../../flows/JTChangeGameTask"),M=e("../../flows/JTEliminateScoreTask"),L=e("../../flows/JTAfterRewardTask"),N=function(e){function t(){var t=e.call(this)||this;return t.options=null,t.handler=null,t.options=new p.SDictionary,t}return o(t,e),t.prototype.produce=function(t,n){var i=e.prototype.produce.call(this,t);return i&&n&&i.bind(n,n.caller),i},t.prototype.childOption=function(e,t,n){var i=new h.JTTaskInfo;return i._cls=e,i._handler=n,this.options.set(t,i),this},t.prototype.removeChildOptionByPriority=function(e){this.options.remove(e)},t.prototype.removeChildOptionByClass=function(e){for(var t=0;t<this.options._values.length;t++)if(this.options.values[t]._cls==e){var n=this.options.keys[t];this.options.remove(n);break}},t.prototype.updateHandler=function(e){this.handler=e},t.prototype.registerFlowOptions=function(){this.childOption(r.default,I.JTCONVERT_PLAYLINES),this.childOption(b.default,I.JTDYNAMIC_COMBINE_SPLIT),this.childOption(T.default,I.JTFULL_LINE_ANI_TASK),this.childOption(s.default,I.JT3COMBO_TASK,this.play3ComboTask),this.childOption(M.default,I.JTELIMANATE_SCORE_TASk),this.childOption(l.default,I.JTGLOBAL_DISPLAY_LINES),this.childOption(v.default,I.JTFREEGAME_REWARD_TASK),this.childOption(g.default,I.JTCOMMON_REWARD_TASK),this.childOption(m.default,I.JTBONUSGAME_TASK),this.childOption(_.default,I.JTFREEGAME_OVER_TASK),this.childOption(L.default,I.JTAFTER_REWARD_TASK),this.childOption(C.default,I.JTCOMBINE_OVER_TASK),this.childOption(E.default,I.JTLEVEL_UP_TASK),this.childOption(S.default,I.JTTRIAL_GUIDE),this.childOption(y.default,I.JTNEW_FREEGAME_TASK),this.childOption(R.default,I.JTCHANGE_GAME_TASK),this.childOption(c.default,I.JTLOOP_DISPLAY_LINES)},t.prototype.adjustFlowOptions=function(){},t.prototype.play5ComboTask=function(e,t){this.handler&&this.handler.runWith([d.Handler.create(e,e.executeTask),t])},t.prototype.play3ComboTask=function(e){e.executeTask()},t.prototype.getOptions=function(){return this.options},t.prototype.registerClassAlias=function(){return this.registerClass(t.SCROLLER_LINE_PARSE,u.default),this.registerClass(t.TASK_PIPELINE_LOGIC,f.default),this},t.CHANGED_LINE_LOGIC=100,t.EXPAND_WILD_LOGIC=200,t.LINE_PARSE_LOGIC=300,t.TASK_PIPELINE_LOGIC=400,t.SCROLLER_LINE_PARSE=900,t}(a.default);n.default=N;var I=function(){function e(){}return e.JTCONVERT_PLAYLINES=0,e.JTFULL_LINE_ANI_TASK=100,e.JTDYNAMIC_COMBINE_SPLIT=200,e.JT3COMBO_TASK=300,e.JTELIMANATE_SCORE_TASk=400,e.JTGLOBAL_DISPLAY_LINES=500,e.JTFREEGAME_REWARD_TASK=600,e.JTCOMMON_REWARD_TASK=700,e.JTLEVEL_UP_TASK=800,e.JTBONUSGAME_TASK=900,e.JTJACKPOT_GAME_TASK=1e3,e.JTFREEGAME_OVER_TASK=1100,e.JTAFTER_REWARD_TASK=1200,e.JTCOMBINE_OVER_TASK=1300,e.JTTRIAL_GUIDE=1400,e.JTNEW_FREEGAME_TASK=1500,e.JTCHANGE_GAME_TASK=1600,e.JTLOOP_DISPLAY_LINES=1700,e}();n.JTTaskPriority=I,cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary","../../../SlotUtils/Handle":"Handle","../../flows/JT3ComboTask":"JT3ComboTask","../../flows/JTAfterRewardTask":"JTAfterRewardTask","../../flows/JTBonusGameTask":"JTBonusGameTask","../../flows/JTChangeGameTask":"JTChangeGameTask","../../flows/JTCombineOverTask":"JTCombineOverTask","../../flows/JTCommonRewardTask":"JTCommonRewardTask","../../flows/JTConvertPlayLines":"JTConvertPlayLines","../../flows/JTDynamicCombineSplit":"JTDynamicCombineSplit","../../flows/JTEliminateScoreTask":"JTEliminateScoreTask","../../flows/JTFreeGameOverTask ":"JTFreeGameOverTask ","../../flows/JTFreeGameRewardTask":"JTFreeGameRewardTask","../../flows/JTFullLineAniTask":"JTFullLineAniTask","../../flows/JTGlobalDisplayLines":"JTGlobalDisplayLines","../../flows/JTLoopDisplayLines":"JTLoopDisplayLines","../../flows/JTNewFreeGameTask":"JTNewFreeGameTask","../../flows/JTTrialGuide":"JTTrialGuide","../../flows/JTUpLevelTask":"JTUpLevelTask","../../lines/JTScrollerLineParser":"JTScrollerLineParser","../plugins/procedure/JTPipelineTemplate":"JTPipelineTemplate","../tasks/JTScheduledTaskPipeline":"JTScheduledTaskPipeline","./JTFactory":"JTFactory"}],JTBeginAnomaly:[function(e,t,n){"use strict";cc._RF.push(t,"c49cbyonEtMRaoIDHt0oZB1","JTBeginAnomaly");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){var e=this,t=this._scroller,n=t.speed>0?t.distance:-t.distance,i=this.owner;i.lineTime=new cc.Tween,i.lineTime.target(t),i.lineTime.delay(t.delay/1e3).to(t.beginTime/1e3,{y:n}).call(function(){e.complete()}).start()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTBeginColumnMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"1e2b135LRNJq6/4g4mUcGHy","JTBeginColumnMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("../scrolling/JTBeginScrolling").default);n.default=a,cc._RF.pop()},{"../scrolling/JTBeginScrolling":"JTBeginScrolling"}],JTBeginElastic:[function(e,t,n){"use strict";cc._RF.push(t,"3513bAQ01FNk5pTLNOee8bV","JTBeginElastic");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this.clear();for(var e=this._scroller,t=e.config,n=this.owner,i=e.items.length,o=0;o<i;o++){var a=e.items[o],r=n.lineTimes[o],s=Math.random()*i+1,l=Math.floor(o/t.row)*t.gapWidth,c=o%t.row*t.gapHeight;a.x=l,a.y=c,r=cc.sequence(cc.delayTime(e.beginTime*s/1e3),cc.moveTo(e.time/1e3,new cc.Vec2(l,e.config.getHeight())).easing(cc.easeElasticInOut(3)),cc.callFunc(p,this,[o,a])),a.runAction(r)}var u=this;function p(e,t){t.stopAllActions(),e<this._scroller.items.length-1||u.complete()}},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTBeginEliminateDisppear:[function(e,t,n){"use strict";cc._RF.push(t,"eef6d9LcNBGor0zhjZxTaQn","JTBeginEliminateDisppear");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../SlotUtils/Handle"),r=e("./EliminateDisappearUtils"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.dataStandby=function(){e.prototype.dataStandby.call(this),this.beginRunning()},t.prototype.beginRunning=function(){this.isDataReady&&(this.clear(),this._owner.owner.index==this.scroller.config.col-1&&r.default.processDissppear(this.owner.owner.owner,a.Handler.create(this,this.disappearComplete)))},t.prototype.disappearComplete=function(){for(var e=this.owner.owner.owner.items,t=0;t<e.length;t++)e[t].pipeline.getCurrentTask().complete()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=s,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning","./EliminateDisappearUtils":"EliminateDisappearUtils"}],JTBeginEliminate:[function(e,t,n){"use strict";cc._RF.push(t,"1cd50lL2MVLWrtyIjTRYJRo","JTBeginEliminate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../SlotUtils/Handle"),r=e("../../../com/plugins/procedure/JTBeginRunning"),s=e("./EliminateEffectUtils"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.dataStandby=function(){e.prototype.dataStandby.call(this),this.beginRunning()},t.prototype.beginRunning=function(){this.scroller.adjustSkinRenders(!1),this.isDataReady&&(this.clear(),this._owner.owner.index==this.scroller.config.col-1&&s.default.beginFallAllElementToBelow(this.owner.owner.owner,a.Handler.create(this,this.disappearComplete)))},t.prototype.disappearComplete=function(){for(var e=this.owner.owner.owner.items,t=0;t<e.length;t++)e[t].pipeline.getCurrentTask().complete()},t}(r.default);n.default=l,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning","./EliminateEffectUtils":"EliminateEffectUtils"}],JTBeginIrregular:[function(e,t,n){"use strict";cc._RF.push(t,"63c950QXCFM35KBKu0vW3cp","JTBeginIrregular");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("../scrolling/JTBeginScrolling").default);n.default=a,cc._RF.pop()},{"../scrolling/JTBeginScrolling":"JTBeginScrolling"}],JTBeginLouver:[function(e,t,n){"use strict";cc._RF.push(t,"bde2dkyyjJBD4l733CiNRpK","JTBeginLouver");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this.clear();for(var e=this._scroller,t=this._owner,n=e.items,i=0;i<n.length;i++){var o=n[i],a=t.lineTimes[i];o.scaleX=o.scaleY=1,a=cc.sequence(cc.delayTime(20*o.index/2/1e3),cc.spawn(cc.scaleTo(1.5*e.time/1e3,0,0).easing(cc.easeElasticInOut(3)),cc.fadeOut(1.5*e.time/1e3)),cc.callFunc(r,this,[i,o])),o.runAction(a)}function r(e,i){i.stopAllActions(),e<n.length-1||t.runningTask()}},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTBeginMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"34e7fJocD1KwISBSih1aBS+","JTBeginMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.beginRunning=function(){var e=this;this.scroller.adjustSkinRenders(!0);var t=this._scroller,n=t.speed>0?t.distance:-t.distance,i=this.owner;i.lineTime=new cc.Tween,i.lineTime.target(t),i.lineTime.by(.5*t.beginTime/1e3,{y:n}).by(.5*t.beginTime/1e3,{y:-n}).call(function(){e.complete()}).start()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTBeginRunning:[function(e,t,n){"use strict";cc._RF.push(t,"08e103bs41PUYstF5qtX+6g","JTBeginRunning");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.runningTask=function(){this.beginRunning()},t}(e("./JTProcedure").default);n.default=a,cc._RF.pop()},{"./JTProcedure":"JTProcedure"}],JTBeginScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"79c40fCVUxN8qmQPrflwsav","JTBeginScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this._scroller.isRunning=!0,this.beginStart()},t.prototype.beginStart=function(){var e=this,t=this._scroller,n=t.speed>0?t.distance:-t.distance,i=this.owner;i.lineTime=new cc.Tween,i.lineTime.target(t),t.y,i.lineTime.delay(t.delay/1e3).call(function(){e.scroller.adjustSkinRenders(!0)}).to(t.beginTime/1e3,{y:n}).call(function(){e.complete()}).start()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTBeginUnfixedLength:[function(e,t,n){"use strict";cc._RF.push(t,"e42c5NxwbxF8qGW89tgucji","JTBeginUnfixedLength");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../SlotDefinitions/SlotEnum"),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.beginRunning=function(){this._scroller.isRunning=!0,this.beginStart(),this.scroller.adjustSkinRenders(!0)},t.prototype.beginStart=function(){var e=this,t=this._scroller,n=t.speed>0?t.distance:-t.distance,i=t.delay,o=this.owner,r=t.config.orientation;o.extendScrollerInfo&&(r=o.extendScrollerInfo.direction),o.lineTime=new cc.Tween,o.lineTime.target(t),r==a.SlotOrientation.Portrait?o.lineTime.delay(i/1e3).to(t.beginTime/1e3,{y:n}).call(function(){e.complete()}).start():o.lineTime.delay(i/1e3).to(t.beginTime/1e3,{x:n}).call(function(){e.complete()}).start()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=r,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTBlackBackGround:[function(e,t,n){"use strict";cc._RF.push(t,"1631fE4849PzK2ppEbg+t3U","JTBlackBackGround");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.points=[],t.defalutColor=cc.Color.BLACK,t._alpha=255,t.graphics=t.addComponent(cc.Graphics),t.on(cc.Node.EventType.SIZE_CHANGED,t.redraw,t),t}return o(t,e),t.prototype.setup=function(e,t,n,i){if(void 0===n&&(n=160),void 0===i&&(i=cc.Color.BLACK),this.defalutColor=i.clone(),this.active=!1,this.owner){var o=this.owner;o.maskPolygon&&o.maskPolygon.length>=3&&(this.points=[].concat(o.maskPolygon))}this._alpha=n,this.width=e,this.height=t},t.prototype.setPolygon=function(e){this.points=[].concat(e),this.redraw()},t.prototype.drawPolygon=function(){var e=this.graphics;e.fillColor=this.defalutColor;var t=this.points;this.defalutColor.setA(this._alpha),this.graphics.clear();for(var n=0;n<t.length;n++){var i=t[n];0==n?e.moveTo(i.x,i.y):e.lineTo(i.x,i.y)}e.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?e.stroke():e.fill()},Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._alpha=e,this.redraw()},enumerable:!1,configurable:!0}),t.prototype.drawRect=function(){this.defalutColor.setA(this._alpha),this.graphics.clear(),this.graphics.fillColor=this.defalutColor,this.graphics.fillRect(0,-this.height,this.width,this.height)},t.prototype.redraw=function(){this.points.length>3?this.drawPolygon():this.drawRect()},t}(e("../com/base/JTContainer").default);n.default=a,cc._RF.pop()},{"../com/base/JTContainer":"JTContainer"}],JTBonusGameTask:[function(e,t,n){"use strict";cc._RF.push(t,"fff60EJJ7dFHJcoSRnShiqU","JTBonusGameTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotDefinitions/SlotEnum"),s=e("../../SlotManager/BonusGameManager"),l=e("../../SlotManager/FreeGameManager"),c=e("../../SlotManager/SpinManager"),u=e("../../SlotUtils/Handle"),p=e("../../SlotUtils/SlotUtils"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_BONUS_GAME_TASK,this.addBonusGameTrigger,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_BONUS_GAME_OVER_TASK,this.addBonusGameOver,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_TREATE_NEXT_BONUSGAME,this.treateNextBonusGame,this)},t.prototype.runningTask=function(){s.default.instance.hasBonusGame?(this.pending||this.addBonusGameTrigger(),this.nextStep()):this.complete()},t.prototype.addBonusGameTrigger=function(){this.pending=!0,this.addStepTask(a.GameEventNames.EVENT_BONUS_GAME_TRIGGERED)},t.prototype.treateNextBonusGame=function(e,t){game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_BONUS_GAME_COMPLETE,t,u.Handler.create(this,this.nextStep))},t.prototype.addBonusGameOver=function(e,t){var n=t.sumWinCoin;this.addStepTask(a.GameEventNames.EVENT_BONUS_GAME_FINISEH,t),p.default.getWinType(n,c.default.instance.betCost)!=r.WinType.None&&(l.default.instance.isTreateFromFreeGame?game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_UPDATE_WINSCORE,n,!0,!0,!1):game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_UPDATE_WINSCORE,n,!1,!1,!1)),this.pending=!1,game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_SKIP_LOOP_LINE_TASK),this.resetScroller(),this.nextStep()},t.prototype.resetScroller=function(){this.lineParser=this.getLineParser();var e=this.lineParser.owner;this.lineParser.showLines(0),e.reset()},t.prototype.complete=function(){e.prototype.complete.call(this)},t.prototype.clear=function(){e.prototype.clear.call(this)},t}(e("./JTPerformanceTask").default);n.default=h,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/BonusGameManager":"BonusGameManager","../../SlotManager/FreeGameManager":"FreeGameManager","../../SlotManager/SpinManager":"SpinManager","../../SlotUtils/Handle":"Handle","../../SlotUtils/SlotUtils":"SlotUtils","./JTPerformanceTask":"JTPerformanceTask"}],JTCanvasStyle:[function(e,t,n){"use strict";var i;cc._RF.push(t,"459faFDPblEMKQHd7JG6Rp4","JTCanvasStyle"),Object.defineProperty(n,"__esModule",{value:!0}),n.JTCanvasStyle=n.LineStyle=void 0,function(e){e[e.butt=0]="butt",e[e.round=1]="round",e[e.square=2]="square"}(i=n.LineStyle||(n.LineStyle={}));var o=function(){function e(){this.lineWidth=20,this.lineJoin=i[i.round],this.lineCap=i[i.round],this.miterLimit=3,this.shadowOffsetX=1,this.shadowOffsetY=1,this.shadowColor=null,this.shadowBlur=3,this.strokeStyle=null}return e.prototype.setStyle=function(e,t,n){void 0===n&&(n=7),this.shadowColor="#000000",this.strokeStyle=t,this.lineWidth=n},e.lineWidth=7,e.strokeStyle="#0000ff",e}();n.JTCanvasStyle=o,cc._RF.pop()},{}],JTCanvasTools:[function(e,t,n){"use strict";cc._RF.push(t,"212e9w2j6pDF5mpnCOfOHzj","JTCanvasTools"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./JTComputeUtils"),o=e("./JTTextureBounds"),a=function(){function e(){this.configMap={},this.offX=0,this.offY=0,this.computeUtils=new i.default,this.isReally=!1}return e.prototype.initialize=function(e,t){this.computeUtils.config(new cc.Rect(0,0,e,t))},e.prototype.computeSpaceToCanvas=function(e,t){var n=new o.default;n.value=t,n.name=e+t,this.configMap[n.name]=n},e.prototype.cacheSpaceToMap=function(e,t){var n=new o.default;n.value=t,n.name=e+t,this.configMap[n.name]=n},e.prototype.getTextureBounds=function(e,t){var n=this.configMap[e];return n.rect||(n.config(t),this.computeUtils.addToAtlas(n)),this.configMap[e]},e.prototype.getRect=function(e,t,n){for(var i=0,o=0,a=0,r=0,s=0;s<n.length;s++)if(0!=s){var l=n[s],c=l.x+e,u=l.y+t;0==a&&(a=c),0==r&&(r=u),0==i&&(i=c),0==o&&(o=u),a=Math.min(c,a),r=Math.min(u,r),i=Math.max(c,i),o=Math.max(u,o)}var p=i,h=o,d=h-r,f=p-a;return new cc.Rect(f,d,p,h)},e.lineWidth=6,e}();n.default=a,cc._RF.pop()},{"./JTComputeUtils":"JTComputeUtils","./JTTextureBounds":"JTTextureBounds"}],JTChangeGameTask:[function(e,t,n){"use strict";cc._RF.push(t,"5bf8eoKAExClZE2WKAAdRtN","JTChangeGameTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotManager/MultipleGameManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addEventListenner=function(){},t.prototype.isActive=function(){return!0},t.prototype.runningTask=function(){r.default.instance.isChangeGame&&(game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_SKIP_LOOP_LINE_TASK),this.addStepTask(a.GameEventNames.EVENT_CHANGE_GAME_SCROLLER)),this.nextStep()},t}(e("./JTPerformanceTask").default);n.default=s,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotManager/MultipleGameManager":"MultipleGameManager","./JTPerformanceTask":"JTPerformanceTask"}],JTChangeSpeedTask:[function(e,t,n){"use strict";cc._RF.push(t,"de090TOAz9PT6RMk5TjzUsQ","JTChangeSpeedTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotData/SDictionary"),r=function(e){function t(){var t=e.call(this)||this;return t.rangeMin=0,t.rangeMax=0,t.rangeValue=0,t.tween=null,t._runnnigInfotMap=null,t._runnnigInfotMap=new a.SDictionary,t}return o(t,e),t.prototype.config=function(e,t,n,i,o){this.rangeMax=t,this.rangeMin=e,this.rangeValue=n,this.tween=o,this.time=i},t.prototype.startChangeSpeed=function(e){this.isRunning=!0;var n=this.scrollerGroup.items[e],i=new s;i.velocity={},i.step=Math.ceil((this.rangeMax-this.rangeMin)/this.rangeValue),i.step=0==i.step?1:i.step,i.currentStep=0,i.velocity.cadence=t.SLOW_VELOCITY,i.time=this.time+n.time,this._runnnigInfotMap.set(e,i)},t.prototype.updateTime=function(e){var n=this._runnnigInfotMap.get(e.index);if(n)if(n.velocity.cadence==t.FAST_VELOCITY){if(n.runningTime+=e.defaultFrameRateTime,n.runningTime<n.time)return!1}else if(0==n.runningTime)return!1;return!0},t.prototype.onRunningSpeedUp=function(e){var n=this._runnnigInfotMap.get(e.index);if(n&&n.velocity.cadence==t.SLOW_VELOCITY){if(n.velocity.init||(e.speed=this.rangeMin,n.velocity.init=!0),n.currentStep==n.step)return n.velocity.cadence=t.FAST_VELOCITY,n.currentStep=0,!0;e.speed+=e.speed>this.rangeMax?-Math.abs(this.rangeValue):this.rangeValue,n.currentStep+=1}return!1},t.prototype.onRunningSlowdown=function(e){var n=this._runnnigInfotMap.get(e.index);return!(!n||n.velocity.cadence!=t.FAST_VELOCITY||(n.currentStep==n.step?(e.changedTimes=0,n.velocity.cadence=t.DEFAULT_VELOCITY,n.currentStep=0,0):(e.speed+=e.speed>this.rangeMin?-Math.abs(this.rangeValue):this.rangeValue,n.currentStep+=1,0)))},t.prototype.getChangeSpeedInfo=function(e){return this._runnnigInfotMap.get(e)},t.prototype.onScrollingOver=function(e,t){if(this.isRunning&&this._runnnigInfotMap.get(e.index)&&this.tween)return this.tween.clone().target(e).call(function(){t()}).start(),!0},t.prototype.clear=function(){e.prototype.clear.call(this),this._runnnigInfotMap.clear(),this._isRunning=!1},t.SLOW_VELOCITY=2,t.FAST_VELOCITY=1,t.DEFAULT_VELOCITY=0,t}(e("./JTRuleTask").default);n.default=r;var s=function(){this.velocity={},this.runningTime=0,this.time=0,this.step=0,this.currentStep=0};cc._RF.pop()},{"../../SlotData/SDictionary":"SDictionary","./JTRuleTask":"JTRuleTask"}],JTChannelPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"d8623zdofdDwZn5PR8cKoEz","JTChannelPipeline"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./JTLengthFixedPipeline"),o=e("./JTScheduledPipeline"),a=e("../../transitions/JTOptionType"),r=e("../../../SlotData/SDictionary"),s=e("./procedure/JTPipelineTemplate"),l=function(){function e(){this._pipelines=null,this._count=0,this._isEgoClone=!1,this._centerMapLandscape=null,this._centerMapPortrait=null,this._pointMapLandscape=null,this._pointMapPortrait=null,this._staticCenterMapPortrait=null,this._staticCenterMapLandscape=null,this._id=0,this._pipelines=new r.SDictionary,this._centerMapLandscape={},this._centerMapPortrait={},this._pointMapLandscape={},this._pointMapPortrait={},this._staticCenterMapLandscape={},this._staticCenterMapPortrait={}}return e.prototype.getTemplate=function(e){return this._pipelines.get(e)},e.prototype.getCount=function(){return 0==this._count&&(this._count=this._pipelines.values.length),this._count},e.prototype.getValues=function(){return this._pipelines.values},e.prototype.option=function(e,t,n,i){var o=new s.JTPipelineTemplate;return o.setupOption(e,t,i),o.dataListType=n,this._pipelines.set(t,o),o},e.getChannelPipeline=function(e){return this.currentPipeline=this._librarys.get(e),this.currentPipeline},e.channelIds=function(){return this._librarys.keys},e.mark=function(t){var n=this._librarys.get(t);return n||((n=new e).id=t,this._librarys.set(t,n)),n},e.prototype.childOption=function(e,t,n,i){var o=this._pipelines.get(n);return o.childOption(e,t,i),o},e.prototype.egoClone=function(){for(var e=this._pipelines.values,t=0;t<e.length;t++)for(var n=e[t],i=n.indexs.length,o=n.getTaskInfo(),a=n.options,r=a.keys,s=1;s<i;s++){var l=this.option(o.cls,n.indexs[s],n.dataListType,o.handler);l.indexs=n.indexs;for(var c=0;c<r.length;c++){var u=a.keys[c],p=a.get(u);l.childOption(p.cls,u,p.handler)}}this._isEgoClone=!0},e.prototype.reset=function(){this._pipelines.values;for(var e=this._pipelines.keys,t=0;t<e.length;t++){var n=e[t],r=this._pipelines.get(n).getTaskInfo().pipeline;if(r instanceof i.default);else if(r instanceof o.default){var s=r.options;r.clear(),r.getOption(a.default.OPTION_CREATE).destroy();for(var l=s.values;l.length;)l.shift().destroy();s.clear(),r.destory()}}},Object.defineProperty(e.prototype,"isEgoClone",{get:function(){return this._isEgoClone},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerMapLandscape",{get:function(){return this._centerMapLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"centerMapPortrait",{get:function(){return this._centerMapPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointMapLandscape",{get:function(){return this._pointMapLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointMapPortrait",{get:function(){return this._pointMapPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"staticCenterMapPortrait",{get:function(){return this._staticCenterMapPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"staticCenterMapLandscape",{get:function(){return this._staticCenterMapLandscape},enumerable:!1,configurable:!0}),e.prototype.getRenderCenterPointPortrait=function(e){return this._centerMapPortrait[e.toString()]},e.prototype.getRenderCenterPointLandscape=function(e){return this._centerMapLandscape[e.toString()]},e.prototype.getRenderPointLandscape=function(e){return this._pointMapLandscape[e.toString()]},e.prototype.getRenderPointPortrait=function(e){return this._pointMapPortrait[e.toString()]},e.prototype.getRenderStaticCenterPointPortrait=function(e){return this._staticCenterMapPortrait[e.toString()]},e.prototype.getRenderStaticCenterPointLandscape=function(e){return this._staticCenterMapLandscape[e.toString()]},Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!1,configurable:!0}),e.destroy=function(){this._librarys=new r.SDictionary,this.currentPipeline=null},e._librarys=new r.SDictionary,e.currentPipeline=null,e}();n.default=l,cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary","../../transitions/JTOptionType":"JTOptionType","./JTLengthFixedPipeline":"JTLengthFixedPipeline","./JTScheduledPipeline":"JTScheduledPipeline","./procedure/JTPipelineTemplate":"JTPipelineTemplate"}],JTChannelScrollerGroup:[function(e,t,n){"use strict";cc._RF.push(t,"f5935b5JDpOA7YlJCgHU3g8","JTChannelScrollerGroup");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.channels=null,t.channels=[],t}return o(t,e),t.prototype.stopAll=function(t){void 0===t&&(t=!1),this.stopChannels(),e.prototype.stopAll.call(this,t)},t.prototype.stopChannels=function(){if(this.channels.length>0)for(;this.channels.length;)this.channels.shift()},t.prototype.scrollingComplete=function(){this._freeList.push(this._runnings.shift()),0==this._runnings.length&&(this.updateRenders(),this._isRunning=!1,this._ruleTaskManager.clear(),this._isOnceOpenItems&&(this._openItemIds=[],this._isOpenItems=!1),this.stopChannels(),this._complete&&this._complete.apply(this.caller,[this]),this._freeList.length=0,this._isPending=!1)},t.prototype.addChannel=function(e){e&&-1==this.channels.indexOf(e)&&this.channels.push(e)},t}(e("./JTLineScrollerGroup").default);n.default=a,cc._RF.pop()},{"./JTLineScrollerGroup":"JTLineScrollerGroup"}],JTChildFactory:[function(e,t,n){"use strict";cc._RF.push(t,"238f9bE/RVFGr1J1yF5pSJN","JTChildFactory");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTFactory"),r=e("../../extensions/JTLineScroller"),s=e("../../lines/skinnables/JTSkinnableGridRender"),l=e("../../JTLogger"),c=e("../../../SlotUtils/SlotUtils"),u=e("../../../MainView/BaseSpinSlotView"),p=e("../../lines/skinnables/JTSkinnableRuntimeLineRender"),h=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.produce=function(t,n){var i=e.prototype.produce.call(this,t);return i&&n&&i.bind(n,n.caller),i},t.prototype.registerClassAlias=function(){return this.registerClass(t.SCROLLER_TYPE,r.default),u.default&&this.registerClass(t.ITEMRENDER_TYPE,u.default),this.registerClass(t.GIRD_TYPE,s.default),this.registerClass(t.LINE_TYPE,p.default),this},t.prototype.isExdWild=function(e,t,n,i){var o=c.default.isNullOrUndefined(e.changedData)?e.data:e.changedData,a=c.default.isWild(o)||i.lineParser.wildId.includes(o)||i.lineParser.dynamicWildId.includes(o);return t.eleId==o||!(!c.default.isNormalElement(t.eleId)||!a)||(l.default.info("lineId:   "+t.lineId," eleMum:  "+t.eleNum,"indexs:   "),!1)},t.prototype.changedLine=function(){},t.LINE_TYPE=1,t.GIRD_TYPE=2,t.LINE_BUTTON_TYPE=3,t.SCROLLER_TYPE=4,t.ITEMRENDER_TYPE=5,t.SCATTER_GRID_TYPE=6,t.SCATTER_TYPE=7,t.EXTENSIONS_SCROLLER_TYPE=8,t.FLASH_LINE_TYPE=9,t}(a.default);n.default=h,cc._RF.pop()},{"../../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../SlotUtils/SlotUtils":"SlotUtils","../../JTLogger":"JTLogger","../../extensions/JTLineScroller":"JTLineScroller","../../lines/skinnables/JTSkinnableGridRender":"JTSkinnableGridRender","../../lines/skinnables/JTSkinnableRuntimeLineRender":"JTSkinnableRuntimeLineRender","./JTFactory":"JTFactory"}],JTCollection:[function(e,t,n){"use strict";cc._RF.push(t,"e23df1g3GxAoJ8bPS3AiJrH","JTCollection");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultDataList=null,t._freeDataList=null,t._refDataList=null,t._grids=null,t._elements=null,t._scroller=null,t._pipeline=null,t._changedGrids=null,t}return o(t,e),Object.defineProperty(t.prototype,"grids",{get:function(){return this._grids},set:function(e){this._grids=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refDataList",{get:function(){return this._refDataList},set:function(e){this._refDataList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(e){this._elements=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedGrids",{get:function(){return this._changedGrids},set:function(e){this._changedGrids=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scroller",{get:function(){return this._scroller},set:function(e){this._scroller=e},enumerable:!1,configurable:!0}),t.prototype.update=function(){},t}(e("./JTDataInfo").default);n.default=a,cc._RF.pop()},{"./JTDataInfo":"JTDataInfo"}],JTCombineOverTask:[function(e,t,n){"use strict";cc._RF.push(t,"f1781WKacVFj5KNSG/hL7lN","JTCombineOverTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotUtils/Handle"),s=e("../com/base/JTItemRender"),l=e("../rules/JTRuleTaskType"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isTreateFreeOver=!1,t.combineRule=null,t}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_OVER_TASK,this.treateFreeOver,this)},t.prototype.getCombineRule=function(){if(!this.combineRule){var e=this.getLineParser().owner;this.combineRule=e.getRuleTask(l.default.COMBINE)}return this.combineRule},t.prototype.runningTask=function(){this.getCombineRule()&&this.isTreateFreeOver?this.combineScollerSplit():this.complete()},t.prototype.treateFreeOver=function(){this.isTreateFreeOver=!0},t.prototype.combineScollerSplit=function(){this.lineParser=this.getLineParser(),this.lineParser.showLines(0),this.lineParser.owner.enableds(s.default.STATE_DEFAULT),this.getCombineRule().combineComplete(r.Handler.create(this,this.complete))},t.prototype.complete=function(){this.isTreateFreeOver=!1,e.prototype.complete.call(this)},t}(e("./JTPerformanceTask").default);n.default=c,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotUtils/Handle":"Handle","../com/base/JTItemRender":"JTItemRender","../rules/JTRuleTaskType":"JTRuleTaskType","./JTPerformanceTask":"JTPerformanceTask"}],JTCombineTask:[function(e,t,n){"use strict";cc._RF.push(t,"38bb7UsEY5AgLY0/bCIYWJ2","JTCombineTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JTCombineState=void 0;var a,r=e("../../MainView/BaseSpinSlotView"),s=e("../../SlotConfigs/GameEventNames"),l=function(e){function t(){var t=e.call(this)||this;return t.combineIndexs=[],t.showScollerIndex=0,t.urlPrefix="",t.reduceTime=0,t.gridHeight=0,t.gridWidth=0,t.gapX=0,t.gapY=0,t.combineStartCall=null,t.combineEndCall=null,t.hideItemIndexs=[],t.combineState=a.None,t.hideItemIndexs=[],game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_FREE_GAME_TRIGGERED,t.treateNewFreeGame,t),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_FREE_GAME_OVER_TASK,t.treateFreeGameOver,t),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_INIT_FREEGAME,t.onFreeGameInit,t),t}return o(t,e),t.prototype.onFreeGameInit=function(){this.combineState=a.Stay;for(var e=this._scrollerGroup,t=0;t<e.items.length;t++){var n=e.items[t];if(this.isCombineIndexInRunnnig(n)){for(var i=n.pipeline,o=0;o<n.items.length;o++)(l=n.items[o]).setupUrlPrefix(this.urlPrefix),l.gotoAndStop(r.default.STATE_DEFAULT);i.lineTimeComplete()}else if(this.isInHide(n)){n.owner,n.active=!1;for(var s=0;s<n.items.length;s++){var l;(l=n.items[s]).active=!1}}}},t.prototype.treateNewFreeGame=function(){this.combineState=a.TurnStay},t.prototype.treateFreeGameOver=function(){this.combineState=a.TurnNone},t.prototype.config=function(e,t,n,i,o,a,r,s,l,c){if(void 0===l&&(l=null),void 0===c&&(c=null),this.condition=e,this.combineIndexs=t,t.length>1){var u=t[Math.floor(t.length/2)];this.showScollerIndex=u}this.urlPrefix=n,this.gridHeight=o,this.gridHeight=i,this.gapX=a,this.gapY=r,this.combineStartCall=l,this.combineEndCall=c,this.reduceTime=s},t.prototype.runningTask=function(){return e.prototype.runningTask.call(this),console.log("runing task",this.combineState),this.combineState==a.TurnStay&&(this.combineState=a.Stay),this.setPlayItemsConfig(),this.isRunning},t.prototype.setPlayItemsConfig=function(){var e=this.scrollerGroup.config,t=0;this.hideItemIndexs=[];for(var n=0;n<e.col;n++)for(var i=0;i<e.row;i++)this.combineIndexs.indexOf(n)>-1&&(this.showScollerIndex==n?i!=Math.floor(e.row/2)&&this.hideItemIndexs.push(t):this.hideItemIndexs.push(t)),t++},t.prototype.setupCombineScroller=function(e){if(this.isCombineIndexInRunnnig(e)){for(var t=0;t<e.items.length;t++)e.items[t].setupUrlPrefix(this.urlPrefix);e.time=e.time-this.reduceTime}else if(this.isInHide(e))for(e.owner.removeRunnings(e),e.active=!1,t=0;t<e.items.length;t++)e.items[t].active=!1},t.prototype.resetRenders=function(e){if(e.index==this.showScollerIndex)for(var t=0;t<e.items.length;t++)e.items[t].scale=1},t.prototype.checkStart=function(){return this.combineState==a.TurnStay},t.prototype.checkCanPlayLine=function(){return this.combineState==a.TurnStay||this.combineState==a.Stay},t.prototype.checkPlayLineItem=function(e){if((this.combineState==a.Stay||this.combineState==a.TurnNone)&&e)for(var t=0;t<e.length;t++){var n=e[t];this.hideItemIndexs.indexOf(n.index)>-1&&e.splice(t--,1)}},t.prototype.runStartCombine=function(e){var t=this.scrollerGroup.items[this.showScollerIndex];t.pipeline.lineTimeComplete();for(var n=function(e){var n=t.items[e];n.scale=0,console.log("change start",n.index),cc.tween(n).to(.6,{scale:1}).call(function(){console.log("change compte",n.index)}).start()},i=0;i<t.items.length;i++)n(i);t.adjustSkinRenders(!0),this.combineStartCall&&this.combineStartCall.apply(this.caller),cc.tween(this).delay(1).call(function(){e.run()}).start()},t.prototype.combineComplete=function(e){var t=this,n=this.scrollerGroup.items;this.combineState=a.None,game.EventManager.getInstance().raiseEvent(s.GameEventNames.EVENT_SKIP_LOOP_LINE_TASK);for(var i=0;i<n.length;i++){var o=(p=n[i]).pipeline;if(this.showScollerIndex==p.index){for(var l=0;l<p.items.length;l++)(u=p.items[l]).clearUrlPrefix(),u.gotoAndStop(r.default.STATE_DEFAULT);o.lineTimeComplete()}else if(this.combineIndexs.indexOf(p.index)>-1){p.clear(),p.active=!0;for(var c=0;c<p.items.length;c++){var u;(u=p.items[c]).active=!0}o.lineTimeComplete()}}for(i=0;i<n.length;i++){var p=n[i];if(this.showScollerIndex==p.index)p.scale=3,cc.tween(p).to(.3,{scale:1}).start();else if(this.combineIndexs.indexOf(p.index)>-1){var h=p.x;p.x=n[this.showScollerIndex].x,p.scale=3,cc.tween(p).to(.3,{x:h,scale:1}).start()}}this.combineEndCall&&this.combineEndCall.apply(this.caller),cc.tween(this).delay(.5).call(function(){t.combineState=a.None,e.run()}).start()},t.prototype.isCombineIndexInRunnnig=function(e){return this.combineState!=a.None&&this.showScollerIndex==e.index},t.prototype.isCombineIndexInOver=function(e){return(this.combineState==a.Stay||this.combineState==a.TurnStay)&&this.showScollerIndex==e.index},t.prototype.isInHide=function(e){return(this.combineState==a.Stay||this.combineState==a.TurnStay)&&this.combineIndexs.indexOf(e.index)>-1&&this.showScollerIndex!=e.index},t.prototype.clear=function(){e.prototype.clear.call(this),this._isRunning=!1},t}(e("./JTRuleTask").default);n.default=l,function(e){e[e.None=0]="None",e[e.TurnStay=1]="TurnStay",e[e.Stay=2]="Stay",e[e.TurnNone=3]="TurnNone"}(a=n.JTCombineState||(n.JTCombineState={})),cc._RF.pop()},{"../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../SlotConfigs/GameEventNames":"GameEventNames","./JTRuleTask":"JTRuleTask"}],JTComboTask:[function(e,t,n){"use strict";cc._RF.push(t,"1bc2ccj8lZPibody2Lk1wwy","JTComboTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.ids=null,t.count=0,t.taskLines=null,t}return o(t,e),t.prototype.runningTask=function(){var e=this.getLineResults();if(this.taskLines=[],e){for(var t=0;t<e.length;t++){var n=e[t];-1!=this.ids.indexOf(n.eleId)&&(n.eleNum<this.count||0!=n.winCoin&&this.taskLines.push(n))}this.executeTask()}else this.complete()},t.prototype.executeTask=function(){if(0==this.taskLines.length)return console.log("\u6d41\u7a0b\uff1aJTComboTask\u5b8c\u6210"),void this.complete();this.taskLines.sort(this.sortOn);var e=this.taskLines.shift();this.taskLines.length=0;var t=this._owner.owner.factoryLogic;this.lineParser.showLines(0),this.lineParser.showMaskWithGridLine(e),this._handler&&this._handler.apply(t,[this,e])},t.prototype.sortOn=function(e){return e.winCoin>e.winCoin?1:e.winCoin>e.winCoin?0:-1},t.prototype.registerWatchTask=function(e,t){this.count=t,this.ids="number"==typeof e?[e]:e},t}(e("./JTParseTask").default);n.default=a,cc._RF.pop()},{"./JTParseTask":"JTParseTask"}],JTCommonRewardTask:[function(e,t,n){"use strict";cc._RF.push(t,"a2294CmxCRFtIIeosD33utC","JTCommonRewardTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotDefinitions/SlotEnum"),s=e("../../SlotManager/SpinManager"),l=e("../../SlotUtils/SlotUtils"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.playedNormalReward=!1,t}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_PLAYED_NORMAL_REWARD,this.hadPlayNormalReward,this)},t.prototype.clear=function(){e.prototype.clear.call(this),this.playedNormalReward=!1},t.prototype.hadPlayNormalReward=function(){this.playedNormalReward=!0},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){if(this.getLineParser().isInitiative){var e=s.default.instance.totalWin,t=l.default.getWinType(e,s.default.instance.betCost);s.default.instance.totalWin<=0||(t!=r.WinType.None&&t!=r.WinType.Normal?this.addStepTask(a.GameEventNames.EVENT_PLAY_REWARD_ANI,e,t):t!=r.WinType.Normal||this.playedNormalReward||this.addStepTask(a.GameEventNames.EVENT_PLAY_REWARD_ANI,e,t),this.playedNormalReward=!1)}},t}(e("./JTPerformanceTask").default);n.default=c,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/SpinManager":"SpinManager","../../SlotUtils/SlotUtils":"SlotUtils","./JTPerformanceTask":"JTPerformanceTask"}],JTComputeUtils:[function(e,t,n){"use strict";cc._RF.push(t,"ad8c6vAZSRDI4fIjwHg6kmO","JTComputeUtils");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTTextureBounds"),r=e("../../JTLogger"),s=function(e){function t(){var t=e.call(this)||this;return t.boundsList=null,t.boundsList=[],t}return o(t,e),t.prototype.addToAtlas=function(e){for(var t=this.getTextureGrids(e),n=0;n<e.col;n++)for(var i=this.grids[t.col+n],o=0;o<e.row;o++){var a=i[t.row+o];0==n&&0==o&&(e.x=a.x+5,e.y=a.y+5),a.value,a.value=e.value,e.grids[n][o]=a}this.boundsList.push(e)},t.prototype.showLogger=function(){for(var e="",t=0;t<this.grids.length;t++){var n=this.grids[t];e+="\n";for(var i=0;i<n.length;i++)e+=n[i].value+","}r.default.info(e)},t.prototype.getTextureGrids=function(e){for(var t=0;t<this.grids.length;t++)for(var n=this.grids[t],i=0;i<n.length;i++){var o=n[i];if(0==o.value){var a=n.length-i;if(e.row>a)break;var r=this.grids.length-t;if(e.col>r)break;for(var s=!1,l=0;l<e.col;l++){var c=this.grids[t][l+i];if(!c)break;if(0!=c.value){s=!0;break}}if(s)break;return o}}return null},Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),t}(a.default);n.default=s,cc._RF.pop()},{"../../JTLogger":"JTLogger","./JTTextureBounds":"JTTextureBounds"}],JTConfigGroup:[function(e,t,n){"use strict";cc._RF.push(t,"24273T9R55GlIAJVpoh/Lbx","JTConfigGroup"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../SlotDefinitions/SlotEnum"),o=function(){function e(){this.width=0,this.height=0,this.col=0,this.row=0,this.girdWidth=0,this.girdHeight=0,this._gapWidth=0,this._gapHeight=0,this.orientation=i.SlotOrientation.Portrait,this.gapXLandscape=0,this.gapYLandscape=0,this.gapXPortrait=0,this.gapYPortrait=0,this.mixConfig=[],this.unfixedItemConfig=[],this.gridShape=[],this.isLandscape=!0}return Object.defineProperty(e.prototype,"gapX",{get:function(){return this.isLandscape?this.gapXLandscape:this.gapXPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gapY",{get:function(){return this.isLandscape?this.gapYLandscape:this.gapYPortrait},enumerable:!1,configurable:!0}),e.prototype.isMixElement=function(e){for(var t=0,n=this.mixConfig;t<n.length;t++)if(n[t].id==e)return!0;return!1},e.prototype.getMixElementConfig=function(e){for(var t=0,n=this.mixConfig;t<n.length;t++){var i=n[t];if(i.id==e)return i}},e.prototype.isUnfixedLengthItem=function(e){for(var t=0,n=this.unfixedItemConfig;t<n.length;t++)if(n[t].mapId==e)return!0;return!1},e.prototype.getUnfixedLengthItemConfig=function(e,t){for(var n=0,i=this.unfixedItemConfig;n<i.length;n++){var o=i[n];if(o.sourceId==e&&o.row==t)return o}},e.prototype.getUnfixedLengthItemConfigByMapId=function(e){for(var t=0,n=this.unfixedItemConfig;t<n.length;t++){var i=n[t];if(i.mapId==e)return i}},Object.defineProperty(e.prototype,"gapWidthLandscape",{get:function(){return this.gapXLandscape+this.girdWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gapWidthPortrait",{get:function(){return this.gapXPortrait+this.girdWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gapWidth",{get:function(){return this.gapX+this.girdWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gapHeightLandscape",{get:function(){return this.gapYLandscape+this.girdHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gapHeightPortrait",{get:function(){return this.gapYPortrait+this.girdHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gapHeight",{get:function(){return this.gapY+this.girdHeight},enumerable:!1,configurable:!0}),e.prototype.getHeight=function(){return 0==this.height&&(this.height=this.row*this.gapHeight),this.height},e.prototype.getWidth=function(){return 0==this.width&&(this.width=this.col*this.gapWidth),this.width},e}();n.default=o,cc._RF.pop()},{"../../SlotDefinitions/SlotEnum":"SlotEnum"}],JTContainerMode:[function(e,t,n){"use strict";cc._RF.push(t,"84bb17fyCJOMZ+4ee8fVZ06","JTContainerMode"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.SUPPORT_RESTORE=2,e.DEFAULT_MODE=0,e}();n.default=i,cc._RF.pop()},{}],JTContainer:[function(e,t,n){"use strict";cc._RF.push(t,"e2ba8lQHyhD5YdKC/2iTLn+","JTContainer");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._owner=null,t._caller=null,t._childs=null,t._childs=[],t.name=t.constructor.name,t}return o(t,e),t.prototype.bind=function(e,t){this._owner=e,e&&e.addContainer(this),this._caller=t},t.prototype.addContainer=function(e){var t=this._childs.indexOf(e);return-1==t&&this._childs.push(e),t},t.prototype.removeContainerAt=function(e,t){if(void 0===t&&(t=1),e<0||e>this._childs.length-1)return null;for(var n=this._childs.splice(e,t),i=0;i<n.length;i++)n[i].clear();return n},t.prototype.removeContainer=function(e){var t=this._childs.indexOf(e);return-1==t?null:this.removeContainerAt(t)},t.prototype.getContainerByIndex=function(e){return this._childs[e]},Object.defineProperty(t.prototype,"childsCount",{get:function(){return this._childs.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childs",{get:function(){return this._childs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caller",{get:function(){return this._caller},set:function(e){this._caller=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return this._owner=null,this._caller=null,this._childs.length=0,!0},t.prototype.clear=function(){},t}(cc.Node);n.default=a,cc._RF.pop()},{}],JTControlScrollerGroup:[function(e,t,n){"use strict";cc._RF.push(t,"d6691Qi0wdHm74ZPFFPH6Au","JTControlScrollerGroup");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/JTScrollerGroup"),r=e("../../SlotManager/SpinManager"),s=e("../../SlotDefinitions/SlotEnum"),l=e("../../../../common/utils/GData"),c=e("../../SlotConfigs/GameEventNames"),u=function(e){function t(){var t=e.call(this)||this;return t._sendCall=null,t._stopCall=null,t._isMouseDown=!1,t.startPoint=new cc.Vec2,t._maskPolygon=[],t._mutipleMaskPolygon=[],t}return o(t,e),t.prototype.setupMaskPolygon=function(e){this._maskPolygon=e},Object.defineProperty(t.prototype,"maskPolygon",{get:function(){return this._maskPolygon},enumerable:!1,configurable:!0}),t.prototype.setupMutipleMaskPolygon=function(e){this._mutipleMaskPolygon=e},Object.defineProperty(t.prototype,"mutipleMaskPolygon",{get:function(){return this._mutipleMaskPolygon},enumerable:!1,configurable:!0}),t.prototype.registerControl=function(e,t,n){var i=this;!this._stopCall&&e&&(this._stopCall=e,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){i.onKeypressHandler(e)})),!this._sendCall&&t&&(this._sendCall=t,(n=this._scrollerGroupMask)?(n.on(cc.Node.EventType.TOUCH_START,this.onMouseDownHandler,this),n.on(cc.Node.EventType.TOUCH_END,this.onMouseUpHandler,this)):this.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDownHandler,this))},t.prototype.onMouseUpHandler=function(e){if(r.default.instance.spinTouchEnable&&this.checkTouchPolygon(e)&&this._isMouseDown&&this.enabled){if(this.config.orientation==s.SlotOrientation.Portrait){if(e.getLocationY()>this.startPoint.y)this.direction=a.default.SCROLLINGUP;else if(e.getLocationY()<this.startPoint.y)this.direction=a.default.SCROLLINGDOWN;else if(!this.isRunning)return void(this._isMouseDown=!1)}else if(e.getLocationX()>this.startPoint.x)this.direction=a.default.SCROLLINGRIGHT;else if(e.getLocationX()<this.startPoint.x)this.direction=a.default.SCROLLINGLEFT;else if(!this.isRunning)return void(this._isMouseDown=!1);this._isMouseDown=!1,this.isRunning?this.onMouseClickHandler(e):(this._sendCall&&this._sendCall.apply(this.caller,[null]),e.stopPropagation())}},t.prototype.onMouseDownHandler=function(e){r.default.instance.spinTouchEnable&&this.enabled&&this.checkTouchPolygon(e)&&(this._isMouseDown=!0,this.startPoint=new cc.Vec2(e.getLocationX(),e.getLocationY()),e.stopPropagation())},t.prototype.onMouseClickHandler=function(e){r.default.instance.spinTouchEnable&&this.enabled&&!this._isMouseDown&&this.isRunning&&(this.isScrollOnSpeedRunning||(this._isMouseDown=!1,this.isManualStopEnabled&&(this._stopCall&&this._stopCall.apply(this.caller,[null]),e.stopPropagation())))},t.prototype.onKeypressHandler=function(e){1!=l.GData.getParameter("main").style&&(game.UIManager.getInstance().preventKeyboard||r.default.instance.spinTouchEnable&&this.enabled&&(console.log("on key press"),e.keyCode==cc.macro.KEY.space&&game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_MOUSE_DOWN_ROLLER)))},t.prototype.checkTouchPolygon=function(e){if(this.maskPolygon&&this.maskPolygon.length>0||this.mutipleMaskPolygon&&this.mutipleMaskPolygon.length>0){for(var t=e.getLocation(),n=e.getCurrentTarget().convertToNodeSpaceAR(t),i=0,o=this.mutipleMaskPolygon.length>0?this.mutipleMaskPolygon:[this.maskPolygon];i<o.length;i++){var a=o[i];if(cc.Intersection.pointInPolygon(n,a))return!0}return!1}return!0},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../common/utils/GData":"GData","../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/SpinManager":"SpinManager","../com/JTScrollerGroup":"JTScrollerGroup"}],JTConvertPlayLines:[function(e,t,n){"use strict";cc._RF.push(t,"f5e491oROZIlZczeD6W56SS","JTConvertPlayLines");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTParseTask"),r=e("../JTOddsUtils"),s=e("../lines/JTLineType"),l=e("../JTLogger"),c=e("../../SlotData/SDictionary"),u=e("../../SlotData/RollingResult"),p=e("../../SlotManager/SpinManager"),h=e("../rules/JTRuleTaskType"),d=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.runningTask=function(){var e=this.getLineResults()||[],t=this.getLineParser(),n=t.owner;t.playLineMap=new c.SDictionary;var i=[];if(p.default.instance.rollingResult&&p.default.instance.rollingResult.updateList){var o=p.default.instance.rollingResult.updateList.find(function(e){return 4==e.type});o&&(i=o.value.wild.concat([])),t.dynamicWildId=i}for(var a=n.getRuleTask(h.default.COMBINE),u=n.getRuleTask(h.default.RETAIN_WILD_TASK),d=n.getRuleTask(h.default.SCATTER),f=function(){var i=e[g],o=[],c=[],p=r.default.getLineKey(i);switch(i.lineType){case s.default.LINE:o=r.default.getLineRenders(i,n),c=r.default.getOddsLineRenders(n,i.lineId,i.lineMode,i.lineType).filter(function(e){return!o.includes(e)});break;case s.default.APPOINT:o=r.default.getFiexdLineRenders(i,n);break;case s.default.SCROLLER:0==(o=r.default.getAppointIndexRenders(i,n)).length&&(o=r.default.getFiexdScrollerRenders(n,i));break;case s.default.INCLUSIVE:o=r.default.getLineRenders(i,n);break;case s.default.INCLUSIVE_CONNTIONE:o=r.default.getInclusiveContinueRenders(n,i);break;case s.default.SCATTER:if(o=n.getSomesById(i.eleId),d)for(var h=0;h<o.length;h++){var f=o[h];d.isIgnoreItem(f)&&(o.splice(h,1),h--)}break;case s.default.FULL_LINE:o=r.default.getAppointIndexRenders(i,n);break;case s.default.APPOINT_LINE:o=r.default.getAppointLineRenders(i,n);break;case s.default.LIGATURE_REPLACE:case s.default.UN_CONNTIONE_FULL_LINE:case s.default.DESPERSE_REPLACE_LINE:case s.default.MAX_COUNT_SCROLLER:case s.default.APPOINT_SECOND:o=r.default.getAppointIndexRenders(i,n);break;default:l.default.info("Can't Find The Line Type!!!")}a&&a.checkPlayLineItem(o),u&&u.checkPlayLineItem(o),m.changeRenders&&m.changeRenders(o,i);var _=t.converToRenderInfo(o,i,c);t.playLineMap.set(p,_);var y=t.lineMap.get(i.lineId);y&&y.changedSkinnable(_)},m=this,g=0;g<e.length;g++)f();this.generateSpecialLine(),0!=t.playLineMap.values.length?(console.log("\u6d41\u7a0b\uff1aJTConvertPlayLines\u5b8c\u6210"),this.lineParser.isInitiative&&this.enableds(),this.complete()):this.complete()},t.prototype.generateSpecialLine=function(){var e=this.getLineParser(),t=[];if(this.getSpecialLineRenders&&(t=this.getSpecialLineRenders()),t&&t.length>0){var n=new u.default;n.lineId=0,n.lineType=2,n.lineMode=1,n.direction=1,n.winCoin=0;var i=r.default.getLineKey(n);e.playLineMap.set(i,e.converToRenderInfo(t,n,[]))}},t.prototype.enableds=function(){this.getLineParser().owner.enableds()},t}(a.default);n.default=d,cc._RF.pop()},{"../../SlotData/RollingResult":"RollingResult","../../SlotData/SDictionary":"SDictionary","../../SlotManager/SpinManager":"SpinManager","../JTLogger":"JTLogger","../JTOddsUtils":"JTOddsUtils","../lines/JTLineType":"JTLineType","../rules/JTRuleTaskType":"JTRuleTaskType","./JTParseTask":"JTParseTask"}],JTCreateAnomaly:[function(e,t,n){"use strict";cc._RF.push(t,"55ae7ZQKm5JebkUhZ/iMFAM","JTCreateAnomaly");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../com/JTScrollerGroup"),l=e("../../../../SlotDefinitions/SlotEnum"),c=e("../../../extensions/JTLayoutPoint"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.config,n=e.owner,i=e.setupSkinLoader(e.x,e.y,n.skinLoaderContainer?n.skinLoaderContainer:n,!1);if(i&&(i.width=e.width,i.height=e.height),this.scrollerGroup.channelPipeline.getTemplate(e.index).dataListType==s.default.USE_CONVERT_TO_LIST)if(t.orientation==l.SlotOrientation.Portrait){this.setScrollerXY(e.index*(t.gapXLandscape+t.girdWidth),0,e.index*(t.gapXPortrait+t.girdWidth),0);for(var o=0,a=0,u=0,p=0;p<t.row;p++)(m=n.factoryChild.produce(r.default.ITEMRENDER_TYPE,e)).bind(e,e.caller),m.data=this.changedDataList[p],m.changedData=this.changedDataList[p],0==p&&0!=m.data&&(o=e.config.gapHeight/2,a=(t.girdHeight+t.gapYLandscape)/2,u=(t.girdHeight+t.gapYPortrait)/2),m.x=t.girdWidth/2,m.y=o-t.girdHeight/2,(g=new c.default).landscapeX=t.girdWidth/2,g.landscapeY=a-t.girdHeight/2,g.portraitX=t.girdWidth/2,g.portraitY=u-t.girdHeight/2,o+=-m.height,a+=-m.height,u+=-m.height,m.width=t.gapWidth,e.addChildItem(m,!1),this.setupRender(m,g)}else{this.setScrollerXY(0,-e.index*(t.gapYLandscape+t.girdHeight),0,e.index*(t.gapYPortrait+t.girdHeight));var h=t.gapWidth,d=0,f=0;for(p=0;p<t.row;p++)(m=n.factoryChild.produce(r.default.ITEMRENDER_TYPE,e)).bind(e,e.caller),m.data=this.changedDataList[p],m.changedData=this.changedDataList[p],0==p&&0!=m.data&&(h=e.config.gapWidth/2,d=(t.girdWidth+t.gapXLandscape)/2,f=(t.girdWidth+t.gapXPortrait)/2),m.y=-t.girdHeight/2,m.x=h-t.girdWidth/2,(g=new c.default).landscapeX=t.girdWidth/2,g.landscapeY=d-t.girdHeight/2,g.portraitX=t.girdWidth/2,g.portraitY=f-t.girdHeight/2,h+=m.width,d+=m.width,f+=m.width,m.height=t.gapWidth,e.addChildItem(m,!1),this.setupRender(m,g)}else if(t.orientation==l.SlotOrientation.Portrait)for(this.setScrollerXY(e.index*(t.gapXLandscape+t.girdWidth),0,e.index*(t.gapXPortrait+t.girdWidth),0),o=t.girdHeight,a=0,u=0,0!=this.changedDataList[1]&&(o=1.5*t.girdHeight,a=(t.girdHeight+t.gapYLandscape)/2+t.girdHeight,u=(t.girdHeight+t.gapYPortrait)/2+t.girdHeight),p=0;p<t.row+2;p++)(m=n.factoryChild.produce(r.default.ITEMRENDER_TYPE,e)).bind(e,e.caller),m.data=this.changedDataList[p],m.changedData=this.changedDataList[p],0!=p&&p!=t.row+1||0!=m.data||(m.data=1,m.changedData=1),m.x=t.girdWidth/2,m.y=o-t.girdHeight/2,(g=new c.default).landscapeX=t.girdWidth/2,g.landscapeY=a-t.girdHeight/2,g.portraitX=t.girdWidth/2,g.portraitY=u-t.girdHeight/2,o+=-m.height,a+=-m.height,u+=-m.height,m.width=t.gapWidth,e.addChildItem(m,!1),0!=p&&p!=t.row+1&&this.setupRender(m,g);else for(this.setScrollerXY(0,-e.index*(t.gapYLandscape+t.girdHeight),0,e.index*(t.gapYPortrait+t.girdHeight)),h=0,d=0,f=0,0!=this.changedDataList[1]&&(h=-.5*t.girdHeight,d=-.5*t.girdHeight,f=-.5*t.girdHeight),p=0;p<t.row+2;p++){var m,g;(m=n.factoryChild.produce(r.default.ITEMRENDER_TYPE,e)).bind(e,e.caller),m.data=this.changedDataList[p],m.changedData=this.changedDataList[p],0!=p&&p!=t.row+1||0!=m.data||(m.data=1,m.changedData=1),m.y=-t.girdHeight/2,m.x=h-t.girdWidth/2,(g=new c.default).landscapeX=t.girdWidth/2,g.landscapeY=d-t.girdHeight/2,g.portraitX=t.girdWidth/2,g.portraitY=f-t.girdHeight/2,h+=m.width,d+=m.width,f+=m.width,m.height=t.gapWidth,e.addChildItem(m,!1),this.setupRender(m,g)}this.complete()},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/JTScrollerGroup":"JTScrollerGroup","../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateColumnMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"6af8cMNowxFJLQKgh0quRHl","JTCreateColumnMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../JTLogger"),l=e("../../../../SlotDefinitions/SlotEnum"),c=e("../../../extensions/JTLayoutPoint"),u=e("../../../../MainView/BaseSpinSlotView"),p=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config,i=this._owner,o=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1);if(o&&(o.width=e.width,o.height=e.height),n.orientation==l.SlotOrientation.Portrait){this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);for(var a=0;a<n.row+2;a++)(g=this.getObject(r.default.ITEMRENDER_TYPE,e)).width=n.girdWidth,g.height=n.girdHeight,g.x=n.girdWidth/2,e.addChildItem(g);for(var s=1,p=1,h=0,d=0,f=!1;h<n.row;){var m=this.changedDataList[s],g=e.items[p],_=n.getMixElementConfig(m);if(_){var y=i.getMixItemFixLength(s,m,this.changedDataList);y=Math.min(y,_.row);var T=n.girdHeight*_.row+n.gapY*(_.row-1),S=n.girdWidth*_.column+n.gapX*(_.column-1);f||(d=(_.row-y)*n.gapHeight,(E=e.items[0]).data=i.getRandomId(),E.changedData=E.data,E.y=d+n.gapHeight-.5*n.girdHeight,f=!0),g.y=d-.5*T,g.x=n.girdWidth/2,g.mixRow=_.row,g.mixColumn=_.column,g.height=T,g.width=S,g.data=m,g.changedData=m,g.index=e.indexs[h],g.visibleRow=y,y<_.row?g.hiddenSection=1==s?u.SpinSlotHiddenSection.Top:u.SpinSlotHiddenSection.Bottom:g.hiddenSection=u.SpinSlotHiddenSection.None,d-=T+n.gapY,s+=y,h+=y,g.mixIndexs=i.getMixIndexs(g.index,y,_.column),(v=new c.default).landscapeX=g.x,v.landscapeY=g.y,v.portraitX=g.x,v.portraitY=g.y,this.setupRender(g,v)}else{var E;f||((E=e.items[0]).data=i.getRandomId(),E.changedData=E.data,E.y=d+n.gapHeight-.5*n.girdHeight,f=!0),g.data=m,g.changedData=m,g.y=d-.5*n.girdHeight,g.x=n.girdWidth/2,g.hiddenSection=u.SpinSlotHiddenSection.None,(v=new c.default).landscapeX=n.girdWidth/2,v.landscapeY=g.y,v.portraitX=n.girdWidth/2,v.portraitY=g.y,g.index=e.indexs[h],g.visibleRow=1,d-=n.gapHeight,s++,h++,this.setupRender(g,v)}g.active=!0,p++}for(a=p;a<n.row+2;a++)(g=e.items[a]).data=i.getRandomId(),g.y=d-.5*n.girdHeight,g.x=n.girdWidth/2,d-=n.gapHeight}else for(this.setScrollerXY(0,-e.index*(n.gapYLandscape+n.girdHeight),0,e.index*(n.gapYPortrait+n.girdHeight)),a=0;a<n.row+2;a++){var v;(g=this.getObject(r.default.ITEMRENDER_TYPE,e)).x=a*n.gapWidth-n.girdWidth/2,g.y=-n.girdHeight/2,g.width=n.girdWidth,g.height=n.girdHeight,(v=new c.default).landscapeX=a*(n.gapXLandscape+n.girdWidth)-n.girdWidth/2,v.landscapeY=-n.girdHeight/2,v.portraitX=a*(n.gapXPortrait+n.girdWidth)-n.girdWidth/2,v.portraitY=-n.girdHeight/2,e.addChildItem(g),a>0&&a<n.row+1?this.setupRender(g,v):g.active=!1,g.data=this.changedDataList[a],g.changedData=this.changedDataList[a]}i.setupStaticRenderPoint(),e.sortItemszIndex(),this._dataProvider.grids.dataList=this.dataList,this.complete()},t.prototype.destroy=function(){for(var e=this._scroller,t=e.items.length,n=0;n<t;n++)e.items.shift().removeFromParent(),s.default.info("remove :  "+n,"scroller index:  "+e.index);var i=this._owner;return i.items=[],i.renders=[],!0},t}(a.default);n.default=p,cc._RF.pop()},{"../../../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../JTLogger":"JTLogger","../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateElastic:[function(e,t,n){"use strict";cc._RF.push(t,"b4bd9Ht4vBA6qGiRg0vQDu0","JTCreateElastic");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../extensions/JTLayoutPoint"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.config,n=this.owner;this.setScrollerXY(e.index*(t.gapXLandscape+t.girdWidth),0,e.index*(t.gapXPortrait+t.girdWidth),0);var i=!1;n.lineTimes.length>0&&(i=!0);for(var o=0;o<t.row;o++){var a=this.getObject(r.default.ITEMRENDER_TYPE,e);a.y=o*t.gapHeight,a.width=t.girdWidth,a.height=t.girdHeight,e.addChildItem(a),a.setAnchorPoint(.5,.5);var l=new s.default;l.landscapeX=t.girdWidth/2,l.landscapeY=-(o-1)*(t.girdHeight+t.gapYLandscape)-t.girdHeight/2,l.portraitX=t.girdWidth/2,l.portraitY=-(o-1)*(t.girdHeight+t.gapYPortrait)-t.girdHeight/2,this.setupRender(a,l),a.data=this.dataList[o],i||n.lineTimes.push(new cc.ActionInterval)}this.complete()},t}(a.default);n.default=l,cc._RF.pop()},{"../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateEliminate:[function(e,t,n){"use strict";cc._RF.push(t,"d749fJMFSxMqZlOx8eO5rEW","JTCreateEliminate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/factorys/JTChildFactory"),r=e("../../../com/plugins/procedure/JTCreate"),s=e("../../../extensions/JTLayoutPoint"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config;this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);var i=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1);i&&(i.width=e.width,i.height=e.height);for(var o=0;o<n.row+2;o++){var r=this.getObject(a.default.ITEMRENDER_TYPE,e);r.y=-(o-1)*n.gapHeight-n.girdHeight/2,r.x=n.girdWidth/2,r.data=this.changedDataList[o],r.changedData=this.changedDataList[o],r.width=n.girdWidth,r.height=n.girdHeight,r.active=!1;var l=new s.default;l.landscapeX=n.girdWidth/2,l.landscapeY=-(o-1)*(n.girdHeight+n.gapYLandscape)-n.girdHeight/2,l.portraitX=n.girdWidth/2,l.portraitY=-(o-1)*(n.girdHeight+n.gapYPortrait)-n.girdHeight/2,e.addChildItem(r),o>0&&o<n.row+1&&this.setupRender(r,l)}this._dataProvider.grids.dataList=this.dataList,this.complete()},t.prototype.destroy=function(){for(var e=this._scroller,t=e.items.length,n=0;n<t;n++)e.items.shift().removeFromParent();var i=this._owner;return i.items=[],i.renders=[],!0},t}(r.default);n.default=l,cc._RF.pop()},{"../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateIrregular:[function(e,t,n){"use strict";cc._RF.push(t,"26e04S3xB5DmIwwgL+9IKQU","JTCreateIrregular");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../../SlotDefinitions/SlotEnum"),l=e("../../../extensions/JTLayoutPoint"),c=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config,i=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1);if(i&&(i.width=e.width,i.height=e.height),n.orientation==s.SlotOrientation.Portrait){this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);for(var o=0;o<n.row+2;o++)(a=this.getObject(r.default.ITEMRENDER_TYPE,e)).y=-(o-1)*n.gapHeight-n.girdHeight/2,a.x=n.girdWidth/2,a.data=this.changedDataList[o],a.changedData=this.changedDataList[o],a.width=n.girdWidth,a.height=n.girdHeight,e.addChildItem(a),(c=new l.default).landscapeX=n.girdWidth/2,c.landscapeY=-(o-1)*(n.girdHeight+n.gapYLandscape)-n.girdHeight/2,c.portraitX=n.girdWidth/2,c.portraitY=-(o-1)*(n.girdHeight+n.gapYPortrait)-n.girdHeight/2,o>0&&o<n.row+1?(this.setupRender(a,c),this.isRender(o-1)||(a.active=!1,e.renders.splice(e.renders.length-1,1))):a.active=!1}else for(this.setScrollerXY(0,-e.index*(n.gapYLandscape+n.girdHeight),0,e.index*(n.gapYPortrait+n.girdHeight)),o=0;o<n.row+2;o++){var a,c;(a=this.getObject(r.default.ITEMRENDER_TYPE,e)).x=o*n.gapWidth-n.girdWidth/2,a.y=-n.girdHeight/2,a.data=this.changedDataList[o],a.changedData=this.changedDataList[o],a.width=n.girdWidth,a.height=n.girdHeight,e.addChildItem(a),(c=new l.default).landscapeX=o*(n.gapXLandscape+n.girdWidth)-n.girdWidth/2,c.landscapeY=-n.girdHeight/2,c.portraitX=o*(n.gapXPortrait+n.girdWidth)-n.girdWidth/2,c.portraitY=-n.girdHeight/2,o>0&&o<n.row+1?(this.setupRender(a,c),this.isRender(o-1)||(a.active=!1,e.renders.splice(e.renders.length-1,1))):a.active=!1}e.sortItemszIndex(),this._dataProvider.grids.dataList=this.dataList,this.complete()},t.prototype.isRender=function(e){var t=this.scroller.owner.gridRenderConfig;return!t||1==t[this.scroller.index][e]},t}(a.default);n.default=c,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateLouver:[function(e,t,n){"use strict";cc._RF.push(t,"75a9fsjNtBOJb/Vh5IhnGoN","JTCreateLouver");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../extensions/JTLayoutPoint"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.config,n=this.owner;this.setScrollerXY(e.index*(t.gapXLandscape+t.girdWidth),0,e.index*(t.gapXPortrait+t.girdWidth),0);var i=!1;n.lineTimes.length>0&&(i=!0);for(var o=0;o<t.row;o++){var a=this.getObject(r.default.ITEMRENDER_TYPE,e);a.y=o*t.gapHeight,a.width=t.girdWidth,a.height=t.girdHeight,e.addChildItem(a),a.setAnchorPoint(.5,.5);var l=new s.default;l.landscapeX=t.girdWidth/2,l.landscapeY=-(o-1)*(t.girdHeight+t.gapYLandscape)-t.girdHeight/2,l.portraitX=t.girdWidth/2,l.portraitY=-(o-1)*(t.girdHeight+t.gapYPortrait)-t.girdHeight/2,this.setupRender(a,l),a.data=this.dataList[o],i||n.lineTimes.push(new cc.ActionInterval)}this.complete()},t}(a.default);n.default=l,cc._RF.pop()},{"../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"70020AcBhpN0LaUgRPNvUKk","JTCreateMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../../SlotDefinitions/SlotEnum"),l=e("../../../extensions/JTLayoutPoint"),c=e("./JTScrollingMixPipelinePlugin"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config,i=this._owner,o=c.default.getMixPipelinePlugin(t.gameID,t);i.plugin=o;var a=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1);if(a&&(a.width=e.width,a.height=e.height),n.orientation==s.SlotOrientation.Portrait){this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);for(var u=0;u<n.row+2;u++)(y=this.getObject(r.default.ITEMRENDER_TYPE,e)).width=n.girdWidth,y.height=n.girdHeight,y.x=n.girdWidth/2,e.addChildItem(y);for(var p=1,h=1,d=0,f=0,m=!1,g=0;d<n.row;){var _=this.changedDataList[p],y=e.items[h],T=n.getMixElementConfig(_);if(T){var S=i.getMixItemFixLength(p,_,this.changedDataList);S=Math.min(S,T.row);var E=n.girdHeight*T.row+n.gapY*(T.row-1),v=n.girdWidth*T.column+n.gapX*(T.column-1);if(m||(f=(T.row-S)*n.gapHeight,(C=e.items[0]).data=o.getExtraElement(e.index,g++),C.changedData=C.data,C.x=.5*C.width,C.y=f+.5*C.height+n.gapY,m=!0),i.isMixAcrossColumnGrid(_,p,T.column,!0)){f-=E+n.gapY,p+=S,d+=S;continue}y.y=f-.5*E,y.x=v/2,y.mixRow=T.row,y.mixColumn=T.column,y.height=E,y.width=v,y.data=_,y.changedData=_,y.index=e.indexs[d],y.visibleRow=S,f-=E+n.gapY,p+=S,d+=S,y.mixIndexs=i.getMixIndexs(y.index,S,T.column),(b=new l.default).landscapeX=y.x,b.landscapeY=y.y,b.portraitX=y.x,b.portraitY=y.y,this.setupRender(y,b)}else{var C;m||((C=e.items[0]).data=o.getExtraElement(e.index,g++),C.changedData=C.data,C.x=.5*C.width,C.y=f+.5*C.height+n.gapY,m=!0),y.data=_,y.changedData=_,y.y=f-.5*n.girdHeight,y.x=n.girdWidth/2,(b=new l.default).landscapeX=n.girdWidth/2,b.landscapeY=y.y,b.portraitX=n.girdWidth/2,b.portraitY=y.y,y.index=e.indexs[d],f-=n.gapHeight,p++,d++,this.setupRender(y,b)}y.active=!0,h++}for(u=h;u<n.row+2;u++)(y=e.items[u]).data=o.getExtraElement(e.index,g++),y.changedData=y.data,y.y=f-.5*y.height,y.x=n.girdWidth/2,f-=n.gapHeight}else for(this.setScrollerXY(0,-e.index*(n.gapYLandscape+n.girdHeight),0,e.index*(n.gapYPortrait+n.girdHeight)),u=0;u<n.row+2;u++){var b;(y=this.getObject(r.default.ITEMRENDER_TYPE,e)).x=u*n.gapWidth-n.girdWidth/2,y.y=-n.girdHeight/2,y.width=n.girdWidth,y.height=n.girdHeight,(b=new l.default).landscapeX=u*(n.gapXLandscape+n.girdWidth)-n.girdWidth/2,b.landscapeY=-n.girdHeight/2,b.portraitX=u*(n.gapXPortrait+n.girdWidth)-n.girdWidth/2,b.portraitY=-n.girdHeight/2,e.addChildItem(y),u>0&&u<n.row+1?this.setupRender(y,b):y.active=!1,y.data=this.changedDataList[u],y.changedData=this.changedDataList[u]}i.setupStaticRenderPoint(),e.sortItemszIndex(),this._dataProvider.grids.dataList=this.dataList,this.complete()},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint","./JTScrollingMixPipelinePlugin":"JTScrollingMixPipelinePlugin"}],JTCreateScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"0b884OulO5GjI4BKz1i6WAW","JTCreateScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../JTLogger"),l=e("../../../../SlotDefinitions/SlotEnum"),c=e("../../../extensions/JTLayoutPoint"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config,i=this._owner,o=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1);if(o&&(o.width=e.width,o.height=e.height),n.orientation==l.SlotOrientation.Portrait){this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);for(var a=0;a<n.row+2;a++)(s=this.getObject(r.default.ITEMRENDER_TYPE,e)).y=-(a-1)*n.gapHeight-n.girdHeight/2,s.x=n.girdWidth/2,t.isIncline&&i.adjustItemIncline(s),t.isCurve&&i.adjustItemCurve(s),(u=new c.default).landscapeX=s.x,u.landscapeY=-(a-1)*(n.girdHeight+n.gapYLandscape)-n.girdHeight/2,u.portraitX=s.x,u.portraitY=-(a-1)*(n.girdHeight+n.gapYPortrait)-n.girdHeight/2,s.data=this.changedDataList[a],s.width=n.girdWidth,s.height=n.girdHeight,e.addChildItem(s),a>0&&a<n.row+1?this.setupRender(s,u):s.active=!1,s.changedData=this.changedDataList[a]}else for(this.setScrollerXY(0,-e.index*(n.gapYLandscape+n.girdHeight),0,e.index*(n.gapYPortrait+n.girdHeight)),a=0;a<n.row+2;a++){var s,u;(s=this.getObject(r.default.ITEMRENDER_TYPE,e)).x=a*n.gapWidth-n.girdWidth/2,s.y=-n.girdHeight/2,s.width=n.girdWidth,s.height=n.girdHeight,(u=new c.default).landscapeX=a*(n.gapXLandscape+n.girdWidth)-n.girdWidth/2,u.landscapeY=-n.girdHeight/2,u.portraitX=a*(n.gapXPortrait+n.girdWidth)-n.girdWidth/2,u.portraitY=-n.girdHeight/2,e.addChildItem(s),a>0&&a<n.row+1?this.setupRender(s,u):s.active=!1,s.data=this.changedDataList[a],s.changedData=this.changedDataList[a]}e.sortItemszIndex(),this._dataProvider.grids.dataList=this.dataList,this.complete()},t.prototype.destroy=function(){for(var e=this._scroller,t=e.items.length,n=0;n<t;n++)e.items.shift().removeFromParent(),s.default.info("remove :  "+n,"scroller index:  "+e.index);var i=this._owner;return i.items=[],i.renders=[],!0},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../JTLogger":"JTLogger","../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreateUnfixedLength:[function(e,t,n){"use strict";cc._RF.push(t,"719a9KZhwBDuYu4FKPjJu7o","JTCreateUnfixedLength");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../../SlotDefinitions/SlotEnum"),l=e("../../../extensions/JTLayoutPoint"),c=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.owner,n=e.config,i=this.owner,o=i.extendScrollerInfo,a=e.dataProvider.changedGrids.occupyPosList,c=e.dataProvider.changedGrids.gridShapes,u=!1,p=n.gridShape;if(0==a.length){a=[];for(var h=n.row/c.length,d=0,f=c;d<f.length;d++){var m=f[d];a.push({pos:m,len:h})}u=!0}if(o){(v=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1))&&(v.width=e.width,v.height=e.height);var g=this.changedDataList;if(this.setScrollerXY(o.position.x,o.position.y,o.position.x,o.position.y),o.direction==s.SlotOrientation.Landscape){var _=t.itemContainers[e.index],y=t.factoryLayer.produce(o.maskContainerType,this);y&&(_.removeFromParent(),y.addChild(_));for(var T=0;T<o.row+2;T++){if((b=this.getObject(r.default.ITEMRENDER_TYPE,e)).x=(o.row-T)*(n.gapWidth+o.gap)+n.girdWidth/2,b.y=-n.girdHeight/2,b.width=n.girdWidth,(L=new l.default).landscapeX=b.x,L.landscapeY=b.y,L.portraitX=b.x,L.portraitY=b.y,e.addChildItem(b),T>0&&T<o.row+1){b.index=e.indexs[T-1],this.setupRender(b,L);var S=a[T-1].len;b.height=n.girdHeight*S+n.gapY*(S-1),b.mixRow=S}else b.active=!1,u?(h=n.row/c.length,b.mixRow=h,b.height=n.girdHeight*h+n.gapY*(h-1)):b.height=n.girdHeight;var E=g[T];(R=n.getUnfixedLengthItemConfig(E,b.mixRow))?(b.mixColumn=R.column,b.data=R.mapId):b.data=E,b.realData=b.data,b.changedData=b.data,o.curveDegree&&i.adjustExtendItemCurve(b)}}}else{var v;if((v=e.setupSkinLoader(e.x,e.y,t.skinLoaderContainer?t.skinLoaderContainer:t,!1))&&(v.width=e.width,v.height=e.height),n.orientation==s.SlotOrientation.Portrait){this.setScrollerXY(e.index*(n.gapXLandscape+n.girdWidth),0,e.index*(n.gapXPortrait+n.girdWidth),0);var C=0;for(S=n.row+2,p[e.index]&&p[e.index].length>0&&(S=p[e.index].length+2),T=0;T<S;T++){var b=this.getObject(r.default.ITEMRENDER_TYPE,e);if(0==T)E=this.changedDataList[T],b.realData=E,b.mixRow=1,b.data=E,b.height=n.gapHeight,b.y=-(T-1)*n.gapHeight-n.girdHeight/2,t.isIncline&&i.adjustItemIncline(b),b.x=n.girdWidth/2;else if(T<this.changedDataList.length-1){E=this.changedDataList[T];var R,M=a[T-1].len;b.mixRow=M,b.index=a[T-1].pos-1,(R=n.getUnfixedLengthItemConfig(E,M))?(b.mixColumn=R.column,b.data=R.mapId):b.data=E,b.realData=E,b.x=n.girdWidth/2;var L,N=n.girdHeight*M+n.gapY*(M-1);b.height=N,b.y=C-.5*N,t.isIncline&&i.adjustItemIncline(b),C-=N,(L=new l.default).landscapeX=b.x,L.landscapeY=b.y,L.portraitX=b.x,L.portraitY=b.y,this.setupRender(b,L)}else{var I=Math.floor(Math.random()*this.changedDataList.length);b.realData=this.changedDataList[I],b.mixRow=1,b.height=n.gapHeight,b.data=this.changedDataList[I],b.y=C-.5*b.height,C-=b.height}b.changedData=b.data,b.width=n.girdWidth,b.x=n.girdWidth/2,t.isIncline&&i.adjustItemIncline(b),e.addChildItem(b)}}else this.setScrollerXY(0,-e.index*(n.gapYLandscape+n.girdHeight),0,e.index*(n.gapYPortrait+n.girdHeight))}i.setupStaticRenderPoint(),e.sortItemszIndex(),e.adjustSkinRenders(!1),this._dataProvider.grids.dataList=this.dataList,this.complete()},t}(a.default);n.default=c,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTCreate:[function(e,t,n){"use strict";cc._RF.push(t,"208d4yuNuVI4ZdYzIjVxWvA","JTCreate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._indexCounter=0,t}return o(t,e),t.prototype.runningTask=function(){this.create()},t.prototype.complete=function(){this._handler&&this._handler.apply(this._caller,[this._scroller])},t.prototype.destroy=function(){for(var e=this._scroller,t=e.items.length,n=0;n<t;n++)e.items.shift().removeFromParent();var i=this._owner;return i.items=[],i.renders=[],!0},t}(e("./JTProcedure").default);n.default=a,cc._RF.pop()},{"./JTProcedure":"JTProcedure"}],JTDataInfo:[function(e,t,n){"use strict";cc._RF.push(t,"bba08ZNYJVCHJPHAGm7TagW","JTDataInfo");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.clone=function(){return null},t}(e("../../lines/JTProduct").default);n.default=a,cc._RF.pop()},{"../../lines/JTProduct":"JTProduct"}],JTDefaultItemRender:[function(e,t,n){"use strict";cc._RF.push(t,"ee9ebAGYpBF0Ivkvzuq6xnG","JTDefaultItemRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/base/JTItemRender"),r=e("../../MainView/SpinElementManager"),s=function(e){function t(){var t=e.call(this)||this;return t.playCount=0,t.isFade=!1,t.isBlur=!0,t.isFadeMask=!1,t.urlPrefix="",t}return o(t,e),Object.defineProperty(t.prototype,"isUseSpecialTexture",{get:function(){return""!=this.urlPrefix},enumerable:!1,configurable:!0}),t.prototype.setupUrlPrefix=function(e){this.urlPrefix=e},t.prototype.clearUrlPrefix=function(){this.urlPrefix=""},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){null!=e&&(this._data==e&&e?this.reset():(this._data=e,this.reset(),this.currentFrame=0))},enumerable:!1,configurable:!0}),t.setPlayCoinIndex=function(e,t,n){void 0===n&&(n=-1),this.playIndex=e,this.scatterIndex=t,this.fullTypeIndex=n},t.prototype.play=function(t,n,i){e.prototype.play.call(this,t,n,i),this.playAnimation(t,n,this.index,i)},t.prototype.playAnimation=function(){},t.prototype.playLineCall=function(e,t){this.onPlayLineCall&&this.onPlayLineCall(e,t)},t.prototype.gotoAndStop=function(t){if(this.data){var n;switch(t){case a.default.STATE_DEFAULT:n=r.default.instance.getElementImageConfig(this.data,t);break;case a.default.STATE_ROLLING:n=this.isBlur?r.default.instance.getElementImageConfig(this.data,t):r.default.instance.getElementImageConfig(this.data,a.default.STATE_DEFAULT);break;case a.default.STATE_OVER:this.isFade?this.isFadeMask?(n=r.default.instance.getElementImageConfig(this.data,t)).url=n.url+"#fadeMask":n=r.default.instance.getElementImageConfig(this.data,t):n=r.default.instance.getElementImageConfig(this.data,a.default.STATE_DEFAULT)}this._skinLoader.url=n.url,this._skinLoader.scale=n.scale,this._skinLoader.spriteTrim=n.trim,e.prototype.gotoAndStop.call(this,t),this.currentFrame=t,this.onDataOrStageChange()}},t.prototype.onDataOrStageChange=function(){},t.prototype.reset=function(){e.prototype.reset.call(this),this._skinLoader.playing=!1,this.playCount=0,this._isPlaying=!1,this.gotoAndStop(0)},t.playIndex=2,t.scatterIndex=8,t.fullTypeIndex=-1,t}(a.default);n.default=s,cc._RF.pop()},{"../../MainView/SpinElementManager":"SpinElementManager","../com/base/JTItemRender":"JTItemRender"}],JTDynamicCombineSplit:[function(e,t,n){"use strict";cc._RF.push(t,"e35a2iHc5BBj5cN1mhE9ZOR","JTDynamicCombineSplit");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotUtils/Handle"),r=e("../rules/JTRuleTaskType"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dynamicCombine=null,t}return o(t,e),t.prototype.addEventListenner=function(){},t.prototype.getCombineRule=function(){if(!this.dynamicCombine){var e=this.getLineParser().owner;this.dynamicCombine=e.getRuleTask(r.default.DYNAMIC_COMBINE)}return this.dynamicCombine},t.prototype.runningTask=function(){for(var e=this.getCombineRule(),t=this.lineParser.playLineMap.values,n=[],i=0;i<t.length;i++)n=n.concat(t[i].renders);e&&e.isNeedUpdateRenders(n)?e.updateRendersBeforeLoopLine(n,a.Handler.create(this,this.complete)):this.complete()},t}(e("./JTPerformanceTask").default);n.default=s,cc._RF.pop()},{"../../SlotUtils/Handle":"Handle","../rules/JTRuleTaskType":"JTRuleTaskType","./JTPerformanceTask":"JTPerformanceTask"}],JTDynamicCombineTask:[function(e,t,n){"use strict";cc._RF.push(t,"55a10KEx0pKtqKilCrhKnLM","JTDynamicCombineTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../MainView/BaseSpinSlotView"),r=e("../../SlotConfigs/GameEventNames"),s=e("../com/datas/JTArrayCollection"),l=function(e){function t(){var t=e.call(this)||this;return t.combineIndexs=[],t.mainIndex=0,t.staticIndexs=[],t.urlPrefix="",t.additionTime=0,t.gridHeight=0,t.gridWidth=0,t.gapX=0,t.gapY=0,t.elementChangeCall=null,t.elementSplitCall=null,t.elementChangeDelay=0,t.elementSplitDelay=0,t.isOnce=!0,t.isTreatFree=!1,t.isTreateFreeOver=!1,t.isEnabled=!1,t.combineIndexs=[],t.staticIndexs=[],game.EventManager.getInstance().addEventListener(r.GameEventNames.EVENT_FREE_GAME_TRIGGERED,t.treateNewFreeGame,t),game.EventManager.getInstance().addEventListener(r.GameEventNames.EVENT_FREE_GAME_OVER,t.treateFreeGameOver,t),game.EventManager.getInstance().addEventListener(r.GameEventNames.EVENT_INIT_FREEGAME,t.onFreeGameInit,t),t}return o(t,e),t.prototype.onFreeGameInit=function(){this.isOnce=!1,this.isEnabled=!0},t.prototype.treateNewFreeGame=function(){this.isOnce=!1,this.isEnabled=!0,this.isTreatFree=!0},t.prototype.treateFreeGameOver=function(){this.isOnce=!0,this.isTreateFreeOver=!0},t.prototype.config=function(e,t,n,i,o,a,r,s,l,c,u,p){if(void 0===s&&(s=null),void 0===l&&(l=null),void 0===c&&(c=0),void 0===u&&(u=0),void 0===p&&(p=[]),this.combineIndexs=e,e.length>1){var h=Math.floor(e.length/2);this.mainIndex=e[h]}this.urlPrefix=t,this.gridHeight=i,this.gridHeight=n,this.gapX=o,this.gapY=a,this.elementChangeCall=s,this.elementSplitCall=l,this.additionTime=r,this.elementSplitDelay=u,this.elementChangeDelay=c,this.scrollerGroup&&this.registerComplete()},t.prototype.registerComplete=function(){if(this.combineIndexs.length>0)for(var e=this.scrollerGroup.config,t=0;t<e.col;t++)-1==this.combineIndexs.indexOf(t)&&this.staticIndexs.push(t)},t.prototype.runningTask=function(){return e.prototype.runningTask.call(this),this.isTreatFree=!1,this.isTreateFreeOver&&(this.isTreateFreeOver=!1,this.isEnabled=!1,this.id=0),this.isEnabled?this.changeDefaultDataList():this.id=0,this.isRunning},t.prototype.changeDefaultDataList=function(){this.scrollerGroup.dataProvider.setDataMode(s.default.FREE_MODE)},t.prototype.isCombineScroller=function(e){return this.isEnabled&&e.index==this.mainIndex},t.prototype.isNeedStart=function(){return this.isTreatFree},t.prototype.beforeStartRun=function(e){var t=this;cc.tween(this).delay(this.elementChangeDelay).call(function(){t.refreshStaticRenders(),e.run()}).start()},t.prototype.setupScroller=function(e){var t=!0,n=this.scrollerGroup;if(this.isOnce&&(this.isEnabled=!1),this.isEnabled)if(this.staticIndexs.indexOf(e.index)>-1)n.removeRunnings(e),t=!1;else if(e.index==this.mainIndex){this.changeDefaultDataList();for(var i=0;i<e.items.length;i++)(o=e.items[i]).isVisibleRender()||(o.data=this.scrollerGroup.dataProvider.getRandomIDbyCol(i)),o.active=!0,o.setupUrlPrefix(this.urlPrefix),o.gotoAndStop(a.default.STATE_DEFAULT)}else{for(n.removeRunnings(e),e.active=!1,i=0;i<e.items.length;i++)(o=e.items[i]).active=!1;t=!1}else{for(i=0;i<e.items.length;i++){var o;(o=e.items[i]).active=!0,o.clearUrlPrefix(),o.gotoAndStop(a.default.STATE_DEFAULT)}e.active=!0}return t},t.prototype.resetRenders=function(e){if(this.isEnabled&&e.index==this.mainIndex){for(var t=0;t<this.combineIndexs.length;t++){var n=this.combineIndexs[t],i=this.scrollerGroup.items[n];n!=this.mainIndex&&i.pipeline.lineTimeComplete()}var o=this.scrollerGroup.config,a=0,r=e.dataList[1];for(t=1;t<e.dataList.length-1;t++)e.dataList[t]==r&&a++;var s=(o.row-a)/o.row*(this.gridHeight+this.gapY);for(t=0;t<e.items.length;t++){var l=e.items[t];0!=t&&t!=e.items.length-1&&(t>1&&l.data==e.items[t-1].data?l.active=!1:(l.y=s-this.gridHeight/2,s-=this.gridHeight+this.gapY))}}},t.prototype.isNeedUpdateRenders=function(e){if(console.log("isNeedUpdateRenders"),this.isEnabled)for(var t=0;t<this.combineIndexs.length;t++)for(var n=this.combineIndexs[t],i=this.scrollerGroup.items[n],o=0;o<i.renders.length;o++){var a=i.renders[o];if(e.indexOf(a)>-1)return!0}return!1},t.prototype.updateRendersBeforeLoopLine=function(e,t){var n=this;this.elementSplitCall&&this.elementSplitCall.call(this.caller);var i=this.scrollerGroup.config;cc.tween(this).delay(this.elementSplitDelay).call(function(){for(var o=0;o<n.combineIndexs.length;o++){var a=n.combineIndexs[o],r=n.scrollerGroup.items[a];if(n.mainIndex==a)for(var s=0,l=0;l<r.renders.length;l++){var c=r.renders[l];if(e.indexOf(c)>-1)c.active=!0,c.clearUrlPrefix(),c.reset(),c.gotoAndStop(0),c.y=s-.5*i.girdHeight,s-=i.gapHeight;else if(l>0&&-1==e.indexOf(r.renders[l-1]))c.active=!1;else{if(0==l){for(var u=0,p=1;p<r.dataList.length-1;p++)r.dataList[p]==c.data&&u++;s=(i.row-u)/i.row*(n.gridHeight+n.gapY)}c.active=!0,c.y=s-.5*n.gridHeight,s-=n.gridHeight+n.gapY}}else{var h=n.scrollerGroup.items[a];for(h.pipeline.lineTimeComplete(),h.active=!0,l=0;l<h.renders.length;l++)(c=h.renders[l]).active=e.indexOf(c)>-1}}t.run()}).start()},t.prototype.refreshStaticRenders=function(){for(var e=this.scrollerGroup,t=0;t<this.staticIndexs.length;t++){var n=this.staticIndexs[t];e.items[n].pipeline.lineTimeComplete()}},t.prototype.chooseElementComplete=function(e,t){var n=this;void 0===t&&(t=!1);var i=this.scrollerGroup;if(0!=e)if(this.isOnce)if(this.id=e,this.isEnabled=!0,t){for(var o=0;o<this.staticIndexs.length;o++){var a=this.staticIndexs[o];(r=i.items[a]).kill(!0)}for(this.changeDefaultDataList(),o=0;o<this.combineIndexs.length;o++){a=this.combineIndexs[o];var r=i.items[a];if(this.mainIndex==a){for(var s=0;s<r.items.length;s++)(u=r.items[s]).setupUrlPrefix(this.urlPrefix),u.isVisibleRender()||(u.data=this.scrollerGroup.dataProvider.getRandomIDbyCol(s)),u.reset(),u.gotoAndStop(0);this.resetRenders(r)}else{r.kill(!0),r.active=!1;for(var l=0;l<r.items.length;l++)(u=r.items[l]).active=!1}}}else for(cc.tween(this).delay(this.elementChangeDelay).call(function(){for(var e=0;e<n.staticIndexs.length;e++){var t=n.staticIndexs[e];i.items[t].kill(!0)}}).start(),this.elementChangeCall&&this.elementChangeCall.apply(this.caller),o=0;o<this.combineIndexs.length;o++)if(a=this.combineIndexs[o],r=i.items[a],this.mainIndex==a){this.changeDefaultDataList();for(var c=0;c<r.items.length;c++){var u;(u=r.items[c]).setupUrlPrefix(this.urlPrefix),r.refreshRenders(u)}r.changedTimes=0,r.time=r.time+this.additionTime}else r.kill(!0),r.active=!1;else this.id!=e&&(this.id=e,this.elementChangeCall&&this.elementChangeCall.apply(this.caller),cc.tween(this).delay(this.elementChangeDelay).call(function(){n.refreshStaticRenders()}).start())},t}(e("./JTRuleTask").default);n.default=l,cc._RF.pop()},{"../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../SlotConfigs/GameEventNames":"GameEventNames","../com/datas/JTArrayCollection":"JTArrayCollection","./JTRuleTask":"JTRuleTask"}],JTDynamicWildTask:[function(e,t,n){"use strict";cc._RF.push(t,"06b7bAjuOZHNLkc5mvGNy8n","JTDynamicWildTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("./JTWildTask").JTWildTask);n.default=a,cc._RF.pop()},{"./JTWildTask":"JTWildTask"}],JTEasing:[function(e,t,n){"use strict";cc._RF.push(t,"4154dI2jV5Bga0TrWrhdv+9","JTEasing"),Object.defineProperty(n,"__esModule",{value:!0}),n.JTEasingType=void 0;var i,o=function(){function e(){this.time=0,this.beginValue=0,this.changeInValue=0,this.duration=0,this.easingType=i.linear,this._isRunning=!1,this._isComplete=!1}return Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._isComplete},enumerable:!1,configurable:!0}),e.prototype.start=function(e,t,n,i){this._isRunning=!0,this._isComplete=!1,this.time=0,this.beginValue=e,this.changeInValue=t-e,this.duration=n,this.easingType=i},e.prototype.update=function(e){this._isRunning&&!this._isComplete&&(this.time+=e,this.time>this.duration&&(this.time=this.duration,this._isComplete=!0))},e.prototype.linear=function(){return this.changeInValue*this.time/this.duration+this.beginValue},e.prototype.easeOutCubic=function(){var e=this.time/this.duration-1;return this.changeInValue*(e*e*e+1)+this.beginValue},e.prototype.easeInCubic=function(){var e=this.time/this.duration;return this.changeInValue*e*e*e+this.beginValue},e.prototype.getCurrentValue=function(){switch(this.easingType){case i.linear:return this.linear();case i.easeOutCubic:return this.easeOutCubic();case i.easeInCubic:return this.easeInCubic();default:return this.linear()}},e}();n.default=o,function(e){e[e.linear=0]="linear",e[e.easeOutCubic=1]="easeOutCubic",e[e.easeInCubic=2]="easeInCubic"}(i=n.JTEasingType||(n.JTEasingType={})),cc._RF.pop()},{}],JTEffectContainer:[function(e,t,n){"use strict";cc._RF.push(t,"164e6KEawRI2I+lrhQDx/Ph","JTEffectContainer");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/base/JTContainer"),r=e("./JTLayoutPoint"),s=function(e){function t(){var t=e.call(this)||this;return t.childLayoutMap=[],t.childLayoutMap=[],t.on(cc.Node.EventType.CHILD_REMOVED,t.onChildRemoved,t),t}return o(t,e),t.prototype.onChildRemoved=function(){for(var e=0,t=this.childLayoutMap;e<t.length;e++){var n=t[e].child,i=this.children.indexOf(n);-1==i&&this.childLayoutMap.splice(i,1)}},t.prototype.setupChild=function(e,t,n,i,o){var a=new r.default;a.landscapeX=t,a.landscapeY=n,a.portraitX=i,a.portraitY=o,this.childLayoutMap.push({child:e,point:a});var s=this.owner.config;this.addChild(e),s.isLandscape?(e.x=t,e.y=n):(e.x=i,e.y=o)},t.prototype.resetChildrensPosition=function(){for(var e=this.owner.config.isLandscape,t=0,n=this.childLayoutMap;t<n.length;t++){var i=n[t],o=i.point,a=i.child;e?(a.x=o.landscapeX,a.y=o.landscapeY):(a.x=o.portraitX,a.y=o.portraitY)}},t}(a.default);n.default=s,cc._RF.pop()},{"../com/base/JTContainer":"JTContainer","./JTLayoutPoint":"JTLayoutPoint"}],JTElasticPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"b72a5CEsPxM0ZJe6OxAMCEz","JTElasticPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/base/JTItemRender"),r=function(e){function t(){var t=e.call(this)||this;return t.lineTimes=[],t.lineTimes=[],t}return o(t,e),t.prototype.clear=function(){for(var e=0;e<this.lineTimes.length;e++)this.lineTimes[e]},t.prototype.updateRenders=function(){var e=this._scroller,t=e.config;e.renders.length=0;for(var n=0;n<e.items.length;n++){var i=e.items[n];i.gotoAndStop(a.default.STATE_DEFAULT),i.scaleX=i.scaleY=1,i.opacity=255*i.scaleX,i.data=e.dataList[n],i.index=e.indexs[n],i.x=Math.floor(n/t.col)*t.gapWidth,i.y=n%t.row*t.gapHeight,e.renders.push(i)}},t.prototype.lineTimeComplete=function(){var e=this._scroller;e.renders.length=0;for(var t=0;t<e.items.length;t++){var n=e.items[t];n.gotoAndStop(a.default.STATE_DEFAULT),n.data=e.dataList[t],n.index=e.indexs[t],e.renders.push(n),n.scaleX=n.scaleY=1,n.opacity=255*n.scaleX}},t}(e("../../../com/plugins/procedure/JTSingleScheduledPipeline").default);n.default=r,cc._RF.pop()},{"../../../com/base/JTItemRender":"JTItemRender","../../../com/plugins/procedure/JTSingleScheduledPipeline":"JTSingleScheduledPipeline"}],JTElementArrayList:[function(e,t,n){"use strict";cc._RF.push(t,"2271456t9NLkYGm6lNAyTlM","JTElementArrayList");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._dataList=null,t._changedDataList=null,t._gridShapes=null,t._occupyPosList=null,t}return o(t,e),t.prototype.update=function(e,t){this._dataList=e,this._changedDataList=t},Object.defineProperty(t.prototype,"changedDataList",{get:function(){return this._changedDataList},set:function(e){this._changedDataList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataList",{get:function(){return this._dataList},set:function(e){this._dataList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridShapes",{get:function(){return this._gridShapes},set:function(e){this._gridShapes=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"occupyPosList",{get:function(){return this._occupyPosList},set:function(e){this._occupyPosList=e},enumerable:!1,configurable:!0}),t}(e("./JTDataInfo").default);n.default=a,cc._RF.pop()},{"./JTDataInfo":"JTDataInfo"}],JTElementCollection:[function(e,t,n){"use strict";cc._RF.push(t,"9bf94O60cNKy6ir16mC1wwo","JTElementCollection");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTCollection"),r=e("./JTArrayCollection"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._grids=null,t._elements=null,t._defaultSourceData=null,t._freeSourceData=null,t}return o(t,e),t.prototype.update=function(e,t){this._grids.changedDataList=e,this._changedGrids.changedDataList=t,this.refDataList.splice(0,this._scroller.config.row+2),this._scroller.pipeline.beforeStart(),this.syncRefDataList()},t.prototype.resetRefDataList=function(e,t){if(this.refDataList.splice(0,this.refDataList.length),e==r.default.FREE_MODE&&this.freeSourceData)for(var n=this.freeSourceData.getElementsByRollerId(t),i=0;i<n.length;i++){var o=n[i];this.refDataList.push(o)}else{var a=this.defaultSourceData.getElementsByRollerId(t);for(i=0;i<a.length;i++)o=a[i],this.refDataList.push(o)}},t.prototype.updateSources=function(e,t){this._grids.dataList=e,this._changedGrids.dataList=t},t.prototype.updateShapesAndOccupyList=function(e,t,n,i){this._grids.gridShapes=e,this._grids.occupyPosList=[];for(var o=function(e){var t=n.filter(function(t){return t.pos==e});t&&(a._grids.occupyPosList=a._grids.occupyPosList.concat(t))},a=this,r=0,s=e;r<s.length;r++)o(s[r]);this._changedGrids.gridShapes=t,this._changedGrids.occupyPosList=[];for(var l=function(e){var t=i.filter(function(t){return t.pos==e});t&&(c._changedGrids.occupyPosList=c._changedGrids.occupyPosList.concat(t))},c=this,u=0,p=t;u<p.length;u++)l(p[u])},t.prototype.setupModel=function(e){this._scroller=e,this._pipeline=e.pipeline},t.prototype.syncRefDataList=function(){var e=this._grids.changedDataList;if(this.refDataList.includes(0)){var t=this.refDataList.pop(),n=e[e.length-1];0!=t&&0!=n?this.refDataList.push(0):this.refDataList.push(t)}for(var i=e.length-1;i>=0;i--)this.refDataList.push(e[i])},t.prototype.forceUpdateRefDataList=function(e){this.refDataList.splice(0);for(var t=1;t<e.length;t++)this.refDataList.push(e[t])},Object.defineProperty(t.prototype,"grids",{get:function(){return this._grids},set:function(e){this._grids=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedGrids",{get:function(){return this._changedGrids},set:function(e){this._changedGrids=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},set:function(e){this._elements=e},enumerable:!1,configurable:!0}),t.prototype.getElementAt=function(e){return this._elements[e]},Object.defineProperty(t.prototype,"scroller",{get:function(){return this._scroller},set:function(e){this._scroller=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultSourceData",{get:function(){return this._defaultSourceData},set:function(e){this._defaultSourceData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"freeSourceData",{get:function(){return this._freeSourceData},set:function(e){this._freeSourceData=e},enumerable:!1,configurable:!0}),t}(a.default);n.default=s,cc._RF.pop()},{"./JTArrayCollection":"JTArrayCollection","./JTCollection":"JTCollection"}],JTElementData:[function(e,t,n){"use strict";cc._RF.push(t,"8c3aai1ldtHJ7zKfA62ZSGy","JTElementData");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._index=0,t._data=null,t._changedData=null,t}return o(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedData",{get:function(){return this._changedData},set:function(e){this._changedData=e},enumerable:!1,configurable:!0}),t}(e("./JTDataInfo").default);n.default=a,cc._RF.pop()},{"./JTDataInfo":"JTDataInfo"}],JTElementIdType:[function(e,t,n){"use strict";cc._RF.push(t,"e6648cFYuFI0KoAdsCkC0fv","JTElementIdType"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.TYPE_WILD=2,e.TYPE_SCATTER=3,e.TYPE_BOUNDS=4,e}();n.default=i,cc._RF.pop()},{}],JTEliminatePipeline:[function(e,t,n){"use strict";cc._RF.push(t,"d1fbd2lS7VPc4aAakLBJC+w","JTEliminatePipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTOverRunning"),r=e("../../JTOptionType"),s=e("../scrolling/JTBeginScrolling"),l=e("../scrolling/JTRunScrolling"),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.updateRenderData=function(){for(var e=this._scroller,t=0;t<e.changedDataList.length;t++)e.items[t].changedData=e.changedDataList[t]},t.prototype.jumpToOverRunning=function(){var e=this.getCurrentTask();e instanceof l.default?e.complete():e instanceof a.default||e instanceof s.default&&(this.clear(),this.getOption(r.default.OPTION_OVER_RUNNING).runningTask()),this.isImmediatlyJumpToOver=!0},t}(e("../scrolling/JTScrollingPipeline").default);n.default=c,cc._RF.pop()},{"../../../com/plugins/procedure/JTOverRunning":"JTOverRunning","../../JTOptionType":"JTOptionType","../scrolling/JTBeginScrolling":"JTBeginScrolling","../scrolling/JTRunScrolling":"JTRunScrolling","../scrolling/JTScrollingPipeline":"JTScrollingPipeline"}],JTEliminateScoreTask:[function(e,t,n){"use strict";cc._RF.push(t,"852f7YBcylJd49yfKLVDbNg","JTEliminateScoreTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotUtils/Handle"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ratio=1,t}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_REWARD_TASK,this.updateFreeRatio,this)},t.prototype.updateFreeRatio=function(e,t){this.ratio=t.ratio},t.prototype.runningTask=function(){this.getLineParser().isInitiative?game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_UPDATE_SINGLE_ROUND_WIN,r.Handler.create(this,this.complete),this.ratio):this.complete()},t.prototype.complete=function(){this.ratio=1,e.prototype.complete.call(this)},t}(e("./JTPerformanceTask").default);n.default=s,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotUtils/Handle":"Handle","./JTPerformanceTask":"JTPerformanceTask"}],JTEmptyBeginEliminate:[function(e,t,n){"use strict";cc._RF.push(t,"ed1c869NJlM7ZnHl7RhFV2b","JTEmptyBeginEliminate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.dataStandby=function(){e.prototype.dataStandby.call(this),this.beginRunning()},t.prototype.beginRunning=function(){this.scroller.adjustSkinRenders(!1),this.isDataReady&&this.complete()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTEmptyBeginScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"82011GH8u1P84UZO6MxyL2A","JTEmptyBeginScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this.scroller.adjustSkinRenders(!0),this.complete()},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTFactoryManager:[function(e,t,n){"use strict";cc._RF.push(t,"ace63rS+LlAW4vDLtbf/Gc9","JTFactoryManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../SlotData/SDictionary");n.default=function(){this.factoryMap=null,this.factoryMap=new i.SDictionary},cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary"}],JTFactory:[function(e,t,n){"use strict";cc._RF.push(t,"3fce9qk7ctPaZfboar9v8Qm","JTFactory");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../base/JTContainer"),r=e("../../JTLogger"),s=e("../../../SlotData/SDictionary"),l=function(e){function t(){var t=e.call(this)||this;return t._classMap=null,t._usedClassList=null,t._classMap=new s.SDictionary,t._usedClassList=[],t.registerClassAlias(),t}return o(t,e),t.prototype.produce=function(e,t,n){var i=this.getClass(e),o=null;return i&&(o=new i),o&&n&&""!=n&&(o.name=n),this._usedClassList.push(e),o},t.prototype.getNotUsedClass=function(){for(var e=this._classMap.keys,t=[],n=0;n<e.length;n++){var i=e[n];-1==this._usedClassList.indexOf(i)&&t.push(i)}return t},t.prototype.isVerify=function(e){return!!this.getClass(e)},t.prototype.getClass=function(e){return this._classMap.get(e)},t.prototype.registerClassAlias=function(){},t.prototype.registerClass=function(e,t){this._classMap.get(e)&&r.default.error("[]"),this._classMap.set(e,t)},Object.defineProperty(t.prototype,"classMap",{get:function(){return this._classMap},enumerable:!1,configurable:!0}),t}(a.default);n.default=l,cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary","../../JTLogger":"JTLogger","../base/JTContainer":"JTContainer"}],"JTFreeGameOverTask ":[function(e,t,n){"use strict";cc._RF.push(t,"aee9aNt7MFHXIhx7Xkyq07d","JTFreeGameOverTask ");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotDefinitions/SlotEnum"),s=e("../../SlotManager/FreeGameManager"),l=e("../../SlotManager/SpinManager"),c=e("../../SlotUtils/SlotUtils"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isNeedCaculateReward=!0,t.freeGameInfo=null,t.stepsCache=[],t}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_OVER_TASK,this.addFreeGameOver,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_UPDATE_FREEGAME_WIN,this.updateSumSpin,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_CLEAR_FREEGAMEOVER_TASK,this.clear,this)},t.prototype.runningTask=function(){this.getLineParser().isSimulateProcedure?this.steps.length>0&&(this.stepsCache=this.steps,this.steps=[]):this.stepsCache.length>0&&(this.steps=this.stepsCache,this.stepsCache=[]),this.nextStep(),this.freeGameInfo=null},t.prototype.updateSumSpin=function(e,t){this.freeGameInfo&&(this.freeGameInfo.sumSpinCoin+=t)},t.prototype.addFreeGameOver=function(e,t){s.default.instance.lastFreeGameInfo=null,this.freeGameInfo=t,this.addStepTask(a.GameEventNames.EVENT_FREE_GAME_OVER,t)},t.prototype.caculateFreeGameReward=function(e){var t=e.sumCoin;s.default.instance.isShowFreeOverWinAddTrigger&&(t=e.sumCoinAndTrigger);var n=c.default.getWinType(t,l.default.instance.betCost);n!=r.WinType.None&&this.addStepTask(a.GameEventNames.EVENT_PLAY_REWARD_ANI,t,n)},t}(e("./JTPerformanceTask").default);n.default=u,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/FreeGameManager":"FreeGameManager","../../SlotManager/SpinManager":"SpinManager","../../SlotUtils/SlotUtils":"SlotUtils","./JTPerformanceTask":"JTPerformanceTask"}],JTFreeGameRewardTask:[function(e,t,n){"use strict";cc._RF.push(t,"6e175Dgi3BG4olLE5bFpcNd","JTFreeGameRewardTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotManager/SpinManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_REWARD_TASK,this.caculateRatioReward,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_BEFORE_REWARD_TASK,this.addUpdateGameInfoTask,this)},t.prototype.runningTask=function(){this.nextStep()},t.prototype.addUpdateGameInfoTask=function(e,t){this.addStepTask(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED,t)},t.prototype.caculateRatioReward=function(e,t){var n=t.ratio,i=r.default.instance.totalWin,o=i/n;console.log("caculateRatioReward",n,i,o),i>0&&this.addStepTask(a.GameEventNames.EVENT_FREE_GAME_RATIO_REWARD,n,i,o)},t}(e("./JTPerformanceTask").default);n.default=s,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotManager/SpinManager":"SpinManager","./JTPerformanceTask":"JTPerformanceTask"}],JTFullLineAniTask:[function(e,t,n){"use strict";cc._RF.push(t,"b6dc6/CVT5OIKjHoRcfcckP","JTFullLineAniTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTParseTask"),r=e("../../SlotConfigs/GameEventNames"),s=e("../rules/JTRuleTaskType"),l=e("../lines/JTLineType"),c=e("../../SlotUtils/Handle"),u=function(e){function t(){var t=e.call(this)||this;return t.fullLineCounts=[5,6],t.duration=1500,t}return o(t,e),t.prototype.runningTask=function(){var e=this.getLineResults(),t=this.lineParser.owner,n=t.getRuleTask(s.default.COMBINE);if(!n||n.checkCanPlayLine()){for(var i=t.config.col,o=!1,a=0,u=e;a<u.length;a++){var p=u[a];if(p.eleNum>=i&&this.fullLineCounts.indexOf(i)>-1&&(p.lineType==l.default.LINE||p.lineType==l.default.FULL_LINE||p.lineType==l.default.APPOINT_LINE)){o=!0;break}}o?game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_FULL_LINE_HIT,i,c.Handler.create(this,this.complete)):this.complete()}else this.complete()},t}(a.default);n.default=u,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotUtils/Handle":"Handle","../lines/JTLineType":"JTLineType","../rules/JTRuleTaskType":"JTRuleTaskType","./JTParseTask":"JTParseTask"}],JTFuturePipeline:[function(e,t,n){"use strict";cc._RF.push(t,"141e5a3fYhPDqacOFvxH08U","JTFuturePipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./procedure/JTOptionTransition"),r=e("../../../SlotData/SDictionary"),s=e("../../../SlotDefinitions/SlotEnum"),l=function(e){function t(){var t=e.call(this)||this;return t._indexCounter=0,t._loop=null,t._options=null,t._sourceXLandscape=0,t._sourceYLandscape=0,t._sourceXPortrait=0,t._sourceYPortrait=0,t._items=null,t._indexs=null,t.isImmediatlyJumpToOver=!1,t._items=[],t._options=new r.SDictionary,t._indexs=[],t}return o(t,e),t.prototype.setScrollerXY=function(e,t,n,i){var o=this._scroller;o.x=o.config.isLandscape?e:n,o.y=o.config.isLandscape?t:i,this._sourceXLandscape=e,this._sourceYLandscape=t,this._sourceXPortrait=n,this._sourceYPortrait=i},t.prototype.resetScrollerPosition=function(e){var t=this._scroller,n=t.config;e?n.orientation==s.SlotOrientation.Portrait?t.x=n.isLandscape?this.sourceXLandscape:this.sourceXPortrait:t.y=n.isLandscape?this.sourceYLandscape:this.sourceYPortrait:(t.x=n.isLandscape?this.sourceXLandscape:this.sourceXPortrait,t.y=n.isLandscape?this.sourceYLandscape:this.sourceYPortrait)},t.prototype.beforeStart=function(){},t.prototype.setupRender=function(e,t){var n=this._scroller,i=e,o=(n.config,this.getCounterIndex()),a=new cc.Vec2,r=new cc.Vec2(t.landscapeX+n.pipeline.sourceXLandscape,t.landscapeY+n.pipeline.sourceYLandscape),s=new cc.Vec2,l=new cc.Vec2(t.portraitX+n.pipeline.sourceXPortrait,t.portraitY+n.pipeline.sourceYPortrait);this._scrollerGroup.pointMapLandscape[o]=r,a.x=r.x+i.width/2,a.y=r.y+i.height/2,this._scrollerGroup.centerMapLandscape[o.toString()]=a,this._scrollerGroup.pointMapPortrait[o]=l,s.x=l.x+i.width/2,s.y=l.y+i.height/2,this._scrollerGroup.centerMapPortrait[o.toString()]=s,this._scrollerGroup.staticCenterMapLandscape[o]=a.clone(),this._scrollerGroup.staticCenterMapPortrait[o]=s.clone(),this._scroller.renders.push(i),this._scroller.indexs.push(o),i.index=o,i.name="render_"+o},t.prototype.getCurrentTask=function(){return null},t.prototype.contact=function(t){for(var n=this._options.keys,i=0;i<n.length;i++){var o=n[i],a=this._options.get(parseInt(o));a.dataProvider=t.dataProvider,a.bind(this,this._caller),a.contact(t)}e.prototype.contact.call(this,t),this.beforeStart()},t.prototype.getCurrentPriority=function(){return 0},t.prototype.getCounterIndex=function(){return 0==this._indexCounter&&(this._indexCounter=this._scroller.index*this._scroller.config.row),this._indexCounter++},t.prototype.setCounterIndex=function(){this._indexCounter=0},t.prototype.getOption=function(e){return this._options.get(e)},t.prototype.hasOwnOption=function(e){return this._options.containsKey(e)},Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.childOption=function(e,t,n){var i=e.create();i.handler=n,i.priority=t,this._options.set(t,i)},t.prototype.complete=function(){this._handler&&this._handler.apply(this._caller,[this._scroller]),this._scroller.scrollingComplete(),this.isImmediatlyJumpToOver=!1},t.prototype.clear=function(){this.isImmediatlyJumpToOver=!1;for(var e=this._options.keys,t=0;t<e.length;t++){var n=e[t];this._options.get(parseInt(n)).clear()}},Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),t.prototype.addLoopListener=function(e){this._loop=e},t.prototype.removeLoopListener=function(){this._loop.clear(),this._loop=null},Object.defineProperty(t.prototype,"sourceXLandscape",{get:function(){return this._sourceXLandscape},set:function(e){this._sourceXLandscape=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceYLandscape",{get:function(){return this._sourceYLandscape},set:function(e){this._sourceYLandscape=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceXPortrait",{get:function(){return this._sourceXPortrait},set:function(e){this._sourceXPortrait=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceYPortrait",{get:function(){return this._sourceYPortrait},set:function(e){this._sourceYPortrait=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceX",{get:function(){return this.scroller.config.orientation==s.SlotOrientation.Portrait?this.sourceXPortrait:this.sourceXLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceY",{get:function(){return this.scroller.config.orientation==s.SlotOrientation.Portrait?this.sourceYPortrait:this.sourceYLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexs",{get:function(){return this._indexs},set:function(e){this.indexs=e},enumerable:!1,configurable:!0}),t}(a.default);n.default=l,cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary","../../../SlotDefinitions/SlotEnum":"SlotEnum","./procedure/JTOptionTransition":"JTOptionTransition"}],JTGComponent:[function(e,t,n){"use strict";cc._RF.push(t,"47c74JaW7hCwI42JI3JLqZ5","JTGComponent");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTContainer"),r=function(e){function t(){var t=e.call(this)||this;return t._proxyOwner=null,t._proxyOwner=new a.default,t}return o(t,e),t.prototype.bind=function(e,t){this._proxyOwner.bind(e,t)},t.prototype.addContainer=function(e){return this._proxyOwner.addContainer(e)},t.prototype.removeContainerAt=function(e,t){return void 0===t&&(t=1),this._proxyOwner.removeContainerAt(e)},t.prototype.removeContainer=function(e){return this._proxyOwner.removeContainer(e)},t.prototype.getContainerByIndex=function(e){return this._proxyOwner.getContainerByIndex(e)},Object.defineProperty(t.prototype,"childsCount",{get:function(){return this._proxyOwner.childsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childs",{get:function(){return this._proxyOwner.childs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._proxyOwner.owner},set:function(e){this._proxyOwner.owner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caller",{get:function(){return this._proxyOwner.caller},set:function(e){this._proxyOwner.caller=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return e.prototype.destroy.call(this),this._proxyOwner.destroy(),this._proxyOwner=null,!0},t.prototype.clear=function(){this._proxyOwner.clear()},t}(a.default);n.default=r,cc._RF.pop()},{"./JTContainer":"JTContainer"}],JTGLoader:[function(e,t,n){"use strict";cc._RF.push(t,"626bcvEcw9GvIkrqD5mZoq9","JTGLoader");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.resType=n.JTGLoaderAssetType=void 0;var a,r=e("../../../../common/component/MultiDragonBonesAtlasAssets"),s=e("../../../../common/utils/GData"),l=e("../../SlotManager/SlotGameManager");(function(e){e[e.SpriteFrame=0]="SpriteFrame",e[e.Clip=1]="Clip",e[e.Skeleton=2]="Skeleton",e[e.DragonBones=3]="DragonBones",e[e.Particle=4]="Particle"})(a=n.JTGLoaderAssetType||(n.JTGLoaderAssetType={}));var c,u=function(e){function t(){var t=e.call(this)||this;t.ccType=null,t.isShowAni=!1,t._playTaskCall=null,t.preLoadUrl="",t.param=null,t.name="GLoader",t._playing=!0,t._touchable=!0,t._url="",t.isShowAni=!1,t._container1=new cc.Node("Image"),t.addChild(t._container1),t._container2=new cc.Node("Animation"),t.addChild(t._container2),t._container3=new cc.Node("Skeleton"),t.addChild(t._container3),t._container4=new cc.Node("dragonBones"),t.addChild(t._container4),t._content4=t._container4.addComponent(dragonBones.ArmatureDisplay),t._dragonAtlasList=t._container4.addComponent(r.default),t._content4.premultipliedAlpha=!1,t._containerMask=new cc.Node("Mask"),t.addChild(t._containerMask),t._content1=t._container1.addComponent(cc.Sprite);var n=t._container2.addComponent(cc.Sprite);return n.type=cc.Sprite.Type.SIMPLE,n.sizeMode=cc.Sprite.SizeMode.RAW,n.trim=!1,t._content2=t._container2.addComponent(cc.Animation),t._content3=t._container3.addComponent(sp.Skeleton),t._content3.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),t._content3.premultipliedAlpha=!1,t._content3.setCompleteListener(function(){if(t.param&&t.param.playCallback){var e=t.param.playCallback;t.param.playCallback=null,e()}}),t._content2.on("finished",function(){if(t.param&&t.param.playCallback){var e=t.param.playCallback;t.param.playCallback=null,e()}}),t._content4.on(dragonBones.EventObject.COMPLETE,function(){if(t.param&&t.param.playCallback){var e=t.param.playCallback;t.param.playCallback=null,e()}}),t._contentMask=t._containerMask.addComponent(cc.Sprite),t}return o(t,e),t.prototype.dispose=function(){this.removeChild(this._container1),this.removeChild(this._container2),this.removeChild(this._containerMask),this.isShowAni=!1,this._container1.destroy(),this._container2.destroy(),this._containerMask.destroy(),game.ResLoader.getInstance().releaseAsset(this.ccType,this.useKey),this.parent&&this.parent.removeChild(this),this.destroy()},Object.defineProperty(t.prototype,"playTaskCall",{get:function(){return this._playTaskCall},set:function(e){this._playTaskCall=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(e){if(this._url!=e)if(this._url=e,this.maskFade=!1,null!=this._url){this.playing=!1,this.param=null;var t=e.split("#"),n=t[0],i=t[1],o=(e=n).lastIndexOf("/"),a=e.slice(o+1),r=l.default.instance.getCardByName(a);r?(this._resType=c.img,this._content1.spriteFrame=r,this._contentMask.node.width=r.getRect().width,this._contentMask.node.height=r.getRect().height,this.activeControl(!0),this.preLoadUrl=this._url):this.loadRes(),this.maskFade="fadeMask"==i}else this.clearContent()},enumerable:!1,configurable:!0}),t.prototype.setAsset=function(e){var t,n;switch(this.param=e,this._playing=!1,e.assetType!=a.DragonBones&&this._content4.enabled&&(this._content4.enabled=!1),e.assetType){case a.Clip:t=e.clip.SpriteAtlasUrl,n=cc.SpriteAtlas,this._url=t,this.loadRes(n);break;case a.DragonBones:t=e.dragonBones.assetUrl,n=dragonBones.DragonBonesAsset,this._url=t,this.loadRes(n);break;case a.Skeleton:if(t=e.skeleton.url,n=sp.SkeletonData,t==this._url)return this._aniName=e.skeleton.defautAniName,void(this.param&&this.param.skeleton&&this.param.skeleton.defaultSkinName?this.loadRes(n):this.playing=!0);this._aniName=e.skeleton.defautAniName,this._url=t,this.loadRes(n);break;case a.SpriteFrame:t=e.sprite.spriteFrameUrl,n=cc.SpriteFrame,this._url=t,this.loadRes(n)}},Object.defineProperty(t.prototype,"spriteTrim",{set:function(e){this._content1.trim=e,this._content1.sizeMode=e?cc.Sprite.SizeMode.TRIMMED:cc.Sprite.SizeMode.RAW},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"touchable",{get:function(){return this._touchable},set:function(e){if(this._touchable!=e)if(this._touchable=e,1==e){var t=this.getComponent(cc.BlockInputEvents);t&&this.removeComponent(t)}else this.addComponent(cc.BlockInputEvents)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},set:function(e){if(this._playing=e,this._resType==c.frame)1==e?this._content2.play(this._clipName):this._content2.stop();else if(this._resType==c.spine)if(1==e){if(this._content3)if(this._playTaskCall)this._playTaskCall.call(this,this._content3);else{var t=!0;if(this._aniName instanceof Array){this.param&&(this._content3.setAnimationCacheMode(this.param.skeleton.animationCacheMode),t=null==this.param.loop||this.param.loop);for(var n=0;n<this._aniName.length;n++){var i=this._aniName[n];this._content3.setAnimation(n,i,t)}}else this.param&&(this.param.skeleton&&this.param.skeleton.defaultSkinName&&(this._content3.setAnimationCacheMode(this.param.skeleton.animationCacheMode),this._content3.setSkin(this.param.skeleton.defaultSkinName)),t=null==this.param.loop||this.param.loop),this._content3.setAnimation(0,this._aniName||"animation",t);var o=!1;this.param&&this.param.skeleton&&this.param.skeleton.premultipliedAlpha&&(o=this.param.skeleton.premultipliedAlpha),this._content3.premultipliedAlpha=o}}else this._content3&&(this.playTaskCall=null,this._content3.isAnimationCached()||this._content3.clearTrack(0));else if(this._resType==c.dragonBones)if(1==e){var a=null==this.param.loop?0:this.param.loop?0:1;this._content4.enabled=!0,this._dragonAtlasList.enabled&&this._dragonAtlasList.reset(),this._content4.armatureName=this.param.dragonBones.armature,o=!1,this.param&&this.param.dragonBones&&this.param.dragonBones.premultipliedAlpha&&(o=this.param.dragonBones.premultipliedAlpha),this._content4.premultipliedAlpha=o,this._content4.playAnimation(this.param.dragonBones.animation,a),this._dragonAtlasList.enabled&&this._dragonAtlasList.reset()}else this._content4._armature.animation.stop()},enumerable:!1,configurable:!0}),t.prototype.stop=function(){this.playing=!1},Object.defineProperty(t.prototype,"aniName",{set:function(e){this._aniName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clipName",{get:function(){return this._clipName},set:function(e){this._clipName=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._content1.spriteFrame},set:function(e){this.url=null,this._content1.spriteFrame=e,this._content1.type=cc.Sprite.Type.SIMPLE,this._content1.sizeMode=cc.Sprite.SizeMode.RAW},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spriteNode",{get:function(){return this._container1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clipNode",{get:function(){return this._container2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skeletonNode",{get:function(){return this._container3},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragonBonesNode",{get:function(){return this._container4},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskContaNode",{get:function(){return this._containerMask},enumerable:!1,configurable:!0}),t.prototype.loadResource=function(e,t){var n=this;this.playing=!1,this._url=e,this.preLoadUrl!=e&&""!=e&&(this.param=null,this.preLoadUrl=this._url,this.isShowAni=!1,this.useKey="@JTGLoader"+game.ResLoader.getInstance().nextUseKey(),game.ResLoader.getInstance().loadRes(e,t,function(t,i){n.analysisAssetType(i,e)},s.GData.bundleName,this.useKey))},t.prototype.loadRes=function(e){var t=this;if(this._url&&(e?this.ccType=e:(this.ccType=null,-1!=this._url.indexOf("cardAni")?this.ccType=sp.SkeletonData:-1!=this._url.indexOf("cardFrame")||-1!=this._url.indexOf("aniFrame")?this.ccType=cc.SpriteAtlas:this.ccType=cc.SpriteFrame),this.useKey="@JTGLoader"+game.ResLoader.getInstance().nextUseKey(),this.isShowAni=!1,this.preLoadUrl!=this._url)){this.preLoadUrl=this._url;var n=this._url;if(this.param&&this.param.assetType==a.DragonBones){var i=this.param.dragonBones.atlasAssetUrl;game.ResLoader.getInstance().loadRes(i,dragonBones.DragonBonesAtlasAsset,function(e,i){i instanceof Array?i.length>1?(t._dragonAtlasList.enabled=!0,t._dragonAtlasList.dragonAtlasAssetArray=i):(t._dragonAtlasList.enabled=!1,t._content4.dragonAtlasAsset=i[0]):(t._content4.dragonAtlasAsset=i,t._dragonAtlasList.enabled=!1),game.ResLoader.getInstance().loadRes(n,dragonBones.DragonBonesAsset,function(e,i){t.playing=!1,t.analysisAssetType(i,n)},s.GData.bundleName,t.useKey)},s.GData.bundleName,this.useKey)}else game.ResLoader.getInstance().loadRes(n,this.ccType,function(e,i){t.playing=!1,t.analysisAssetType(i,n)},s.GData.bundleName,this.useKey)}},t.prototype.analysisAssetType=function(e,t){if(""!=this._url&&null!=this.url&&t==this.url)if(e){if(this.clearContent(),e instanceof cc.SpriteFrame)this._content1.spriteFrame=e,this._resType=c.img,this.activeControl(!0);else if(e instanceof cc.SpriteAtlas){var n=this._url.lastIndexOf("/"),i=this._url.slice(n+1);this.param&&this.param.clip&&this.param&&this.param.clip.clipName&&(i=this.param.clip.clipName);var o=(s=e.getSpriteFrames()).length,a=.5;this.param&&this.param.clip&&(null!=this.param.clip.sample&&(o=this.param.clip.sample),null!=this.param.clip.speed&&(a=this.param.clip.speed)),this.sorSpriteFrames(s),(l=cc.AnimationClip.createWithSpriteFrames(s,o)).name=i,this.param?l.wrapMode=this.param.loop?cc.WrapMode.Loop:cc.WrapMode.Normal:l.wrapMode=cc.WrapMode.Loop,l.speed=a,this._clip=l,this._content2.addClip(l),this._clipName=l.name,this._resType=c.frame,this.activeControl(!1),this.playing=!0,this.isShowAni=!0}else if(e instanceof sp.SkeletonData)null==this._content3?this._content3=this._container3.addComponent(sp.Skeleton):this._content3.enabled=!0,this._content3.skeletonData=e,this.param&&this.param.skeleton&&this.param.skeleton.defaultSkinName&&(this._content3.setSkin(this.param.skeleton.defaultSkinName),this._content3.loop=this.param.loop),this._resType=c.spine,this.activeControl(!1),this.playing=!0,this.isShowAni=!0;else if(e instanceof Array&&e[0]instanceof cc.SpriteAtlas){for(var r=0;r<this._url.length;r++){var s,l,u=this._url[r],p=u.lastIndexOf("/"),h=u.slice(p+1);o=(s=e[r].getSpriteFrames()).length,a=.5,0==r&&(this._clipName=h),this.param&&this.param.clip&&(null!=this.param.clip.sample&&(o=this.param.clip.sample),null!=this.param.clip.speed&&(a=this.param.clip.speed)),this.sorSpriteFrames(s),(l=cc.AnimationClip.createWithSpriteFrames(s,o)).name=h,l.wrapMode=cc.WrapMode.Loop,this.param&&this.param.clip&&(o=this.param.clip.sample,a=this.param.clip.speed),this.param&&!1===this.param.loop&&(l.wrapMode=cc.WrapMode.Normal),l.speed=a,this._clip=l,this.param&&this.param.clip&&this.param.clip.scale&&(this._container2.scale=this.param.clip.scale),this._content2.addClip(l),this._resType=c.frame,this.activeControl(!1),this.isShowAni=!0}this.param&&this.param.clip&&this.param.clip.clipName&&(this.clipName=this.param.clip.clipName),this.playing=!0}else e instanceof dragonBones.DragonBonesAsset?(this._content4.enabled=!0,this._content4.dragonAsset=e,this._resType=c.dragonBones,this.isShowAni=!0,this.playing=!0,this.activeControl(!1)):console.log("error: not SpriteFrame or AnimationClip type!");this.param&&this.param.finishLoadCallback&&(this.param.finishLoadCallback(),this.param.finishLoadCallback=null)}else console.log("error: can not load ant asset!")},t.prototype.sorSpriteFrames=function(e){e.sort(function(e,t){return Number(e.name.replace(/[^\d]/g,""))-Number(t.name.replace(/[^\d]/g,""))})},t.prototype.activeControl=function(e){this._container1.active=e,this._container2.active=!e&&this._resType==c.frame,this._container3.active=!e&&this._resType==c.spine},t.prototype.clearContent=function(){this.preLoadUrl="",this._content1.spriteFrame=null,this.maskFade=!1,this._clip&&this._clip.isValid&&(this._content2.removeClip(this._clip,!0),this._clip.destroy(),this._container2.getComponent(cc.Sprite).spriteFrame=null);var e=this._content2.getClips();if(e.length>0)for(var t=0;t<e.length;t++)this._content2.removeClip(e[t],!0);this._content3&&this._content3.skeletonData&&(this._content3.enabled=!1),this._content4},Object.defineProperty(t.prototype,"maskFade",{set:function(e){e?(this._contentMask.spriteFrame=this._content1.spriteFrame,this._containerMask.color=cc.Color.BLACK,this._containerMask.opacity=140):this._contentMask.spriteFrame=null,this._containerMask.active=e},enumerable:!1,configurable:!0}),t}(cc.Node);n.default=u,function(e){e[e.img=0]="img",e[e.frame=1]="frame",e[e.spine=2]="spine",e[e.dragonBones=3]="dragonBones"}(c=n.resType||(n.resType={})),cc._RF.pop()},{"../../../../common/component/MultiDragonBonesAtlasAssets":"MultiDragonBonesAtlasAssets","../../../../common/utils/GData":"GData","../../SlotManager/SlotGameManager":"SlotGameManager"}],JTGlobalDisplayLines:[function(e,t,n){"use strict";cc._RF.push(t,"5ff0eUwpX5Bu6JT6R+U6nwu","JTGlobalDisplayLines");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTParseTask"),r=e("../../SlotConfigs/GameEventNames"),s=e("../../SlotUtils/SlotUtils"),l=e("../../SlotManager/SpinManager"),c=e("../../SlotDefinitions/SlotEnum"),u=e("../../../../sound/script/SoundMger"),p=e("../../../../common/enum/CommonEnum"),h=e("../rules/JTRuleTaskType"),d=e("../../SlotUtils/Handle"),f=e("../../SlotManager/FreeGameManager"),m=function(e){function t(){var t=e.call(this)||this;return t.addEventListenner(),t}return o(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.lineParser=this.getLineParser();var e=this.lineParser.owner,t=this.lineParser.playLineMap;if(this.lineParser.isInitiative){if(!t||!t.values)return console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62101"),void this.complete();var n=this.lineParser.playLineMap.values;if(n.length<=0)return console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62102"),void this.complete();var i=!0,o=e.getRuleTask(h.default.COMBINE),a=e.getRuleTask(h.default.DYNAMIC_COMBINE);a&&a.isEnabled&&(i=!1),o&&o.checkCanPlayLine()&&(i=!1);for(var m=0;m<n.length;m++){var g=n[m],_=g.line;this.lineParser.playItemRenders(g,i),this.lineParser.showLine(_.lineId,!0)}n.length>1&&u.SoundMger.instance.playEffect(p.SOUND_NAME.Coin_Add),e.updateLayer();var y=s.default.getWinType(l.default.instance.totalWin,l.default.instance.betCost),T=e.interval,S=0;if(this.runningExtendPerfomance&&(S=1e3*this.runningExtendPerfomance()),f.default.instance.isTreateFromFreeGame)T=500,this.intervalComplete(T);else{S>T&&(T=S);var E=0;if(this.getDelayPlayRewardTime&&(E=1e3*this.getDelayPlayRewardTime()),y==c.WinType.Normal)if(T=T-E>0?T-E:200,E>0){var v=d.Handler.create(this,this.intervalComplete,[T]);setTimeout(function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_PLAYED_NORMAL_REWARD),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_PLAY_REWARD_ANI,l.default.instance.totalWin,y,v)},E)}else{l.default.instance.totalWin>l.default.instance.betCost&&T>1e3&&(T-=1e3);var C=d.Handler.create(this,this.intervalComplete,[T]);game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_PLAYED_NORMAL_REWARD),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_PLAY_REWARD_ANI,l.default.instance.totalWin,y,C)}else E>T&&(T=E),this.intervalComplete(T)}}else this.complete()},t.prototype.intervalComplete=function(e){var t=this;this.lineParser.owner,this.lineParser.timer=setTimeout(function(){t.playComplete()},e)},t.prototype.clear=function(){this.lineParser&&this.lineParser.timer&&clearTimeout(this.lineParser.timer),e.prototype.clear.call(this)},t.prototype.playComplete=function(){this.lineParser.owner,console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62103"),this.complete()},t}(a.default);n.default=m,cc._RF.pop()},{"../../../../common/enum/CommonEnum":"CommonEnum","../../../../sound/script/SoundMger":"SoundMger","../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/FreeGameManager":"FreeGameManager","../../SlotManager/SpinManager":"SpinManager","../../SlotUtils/Handle":"Handle","../../SlotUtils/SlotUtils":"SlotUtils","../rules/JTRuleTaskType":"JTRuleTaskType","./JTParseTask":"JTParseTask"}],JTGraphicsSpriteMesh:[function(e,t,n){"use strict";cc._RF.push(t,"6a296RNvwlIO5USsAt8JZC4","JTGraphicsSpriteMesh");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../../common/utils/GData"),r=function(e){function t(){var t=e.call(this)||this;return t.loadComplete=!1,t.cb=null,t._vertices={x:[],y:[],nu:[],nv:[],triangles:[]},t.graphics=t.addComponent(cc.Graphics),t.init(),t}return o(t,e),t.prototype.init=function(){var e=a.GData.getParameter("lineAniConfig"),t=e&&e.graphicsSpriteData||null;this.graphics.lineWidth=t&&t.lineWidth||15,t&&t.url?this.setSprite(t.url,t.anchorY,t.anchorX,t.scaleY,t.scaleX):this.setSprite("")},t.prototype.setSprite=function(e,t,n,i,o){var r=this;void 0===t&&(t=1),void 0===n&&(n=0),void 0===i&&(i=-1),void 0===o&&(o=1);var s=new cc.Node;this.sprite=s.addComponent(cc.Sprite),this.addChild(s),this.sprite.type=cc.Sprite.Type.MESH,s.anchorY=t,s.anchorX=n,s.scaleY=i,s.scaleX=o,s.x=0,s.y=0,e?game.ResLoader.getInstance().loadRes(e,cc.SpriteFrame,function(e,t){e||(r.sprite.spriteFrame=t.clone(),r.sprite.spriteFrame.vertices=r._vertices,r.loadComplete=!0,r.cb&&r.cb())},a.GData.bundleName,""):game.ResLoader.getInstance().loadRes("slot_common/slotMachine/texture/payline_static",cc.SpriteFrame,function(e,t){e||(r.sprite.spriteFrame=t.clone(),r.sprite.spriteFrame.vertices=r._vertices,r.loadComplete=!0,r.cb&&r.cb())},"slot","")},t.prototype.setCb=function(e){e&&(this.cb=e)},t.prototype.stroke=function(){if(cc.game.renderType===cc.game.RENDER_TYPE_WEBGL&&this.loadComplete){var e=this._vertices;e.x.length=e.y.length=e.nu.length=e.nv.length=e.triangles.length=0;for(var t=this.graphics._impl,n=this.graphics.lineWidth,i=[],o=cc.v2(),a=0;a<t._paths.length;a++){var r=t._paths[a].points;if(!(r.length<2))for(var s=r.length-1;s>0;s--){var l=[],c=cc.v2(r[s].x,r[s].y),u=cc.v2(r[s-1].x,r[s-1].y),p=c.sub(u),h=(0==p.y?cc.v2(0,1):cc.v2(1,-p.x/p.y).normalize()).mulSelf(n/2),d=c.add(h),f=c.sub(h),m=u.add(h),g=u.sub(h),_=p.len(),y=e.x.length;if(e.x.push(d.x,f.x,m.x,g.x),e.y.push(d.y,f.y,m.y,g.y),e.nu.push(.02*o.x,.02*o.x,.02*(o.x+_),.02*(o.x+_)),e.nv.push(1,0,1,0),l.push(y+0),l.push(y+1),l.push(y+2),l.push(y+1),l.push(y+2),l.push(y+3),i.push(l),o.addSelf(cc.v2(_,0)),s!=r.length-1){var T=p.signAngle(cc.v2(-1,0));y=e.x.length,e.x.push(c.x),e.y.push(c.y),e.nu.push(.02*o.x),e.nv.push(.5);for(var S=0;S<12;S++){var E=2*Math.PI*S/12,v=cc.v2(n/2*Math.cos(E),n/2*Math.sin(E));e.x.push(v.add(c).x),e.y.push(v.add(c).y),e.nu.push(.02*(v.rotate(T).x+o.x)),e.nv.push(v.rotate(T).y/n+.5),0===S?l.push(y,y+1+S,y+12):l.push(y,y+1+S,y+S)}}}}i.reverse(),i.forEach(function(t){var n;(n=e.triangles).push.apply(n,t)}),this.sprite.spriteFrame.vertices=e,this.sprite.setVertsDirty()}else this.graphics.stroke()},t.prototype.clear=function(){if(this.graphics.clear(!0),cc.game.renderType===cc.game.RENDER_TYPE_WEBGL){var e=this._vertices;e.x.length=e.y.length=e.nu.length=e.nv.length=e.triangles.length=0,this.sprite.setVertsDirty()}},t}(cc.Node);n.default=r,cc._RF.pop()},{"../../../../../common/utils/GData":"GData"}],JTGraphics:[function(e,t,n){"use strict";cc._RF.push(t,"19a50SvrLdOi5SVGwAr4QbM","JTGraphics");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.graphics=t.addComponent(cc.Graphics),t}return o(t,e),t}(cc.Node);n.default=a,cc._RF.pop()},{}],JTGrid:[function(e,t,n){"use strict";cc._RF.push(t,"0b2ebJgPVZDybrgI0CX8s0f","JTGrid"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.value=0,this.row=0,this.col=0,this.x=0,this.y=0,this.width=0,this.height=0}return e.GRIDUINT=45,e}();n.default=i,cc._RF.pop()},{}],JTGroup:[function(e,t,n){"use strict";cc._RF.push(t,"1f57e4gSi1KGo1rvpTn2Lx9","JTGroup");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTItemSkinLoader"),r=e("../JTConfigGroup"),s=function(e){function t(){var t=e.call(this)||this;return t._time=0,t._speed=0,t._delay=0,t._frameRate=0,t._runningTime=0,t._frameRateTime=0,t._defaultFrameRate=0,t._defaultFrameRateTime=0,t._distance=0,t._direction=null,t._beginTime=0,t._endTime=0,t._endDistance=0,t._endDelay=0,t._endSpeed=0,t._endSlowDownTime=0,t._beginSpeedUpTime=0,t._beginSpeed=0,t._isRunning=!1,t._isManualStop=!1,t._isLock=!1,t._config=null,t._sources=null,t._renders=null,t._items=null,t._dataProvider=null,t._complete=null,t._nextHandler=null,t._beginRunning=null,t._isLandscape=!1,t._renders=[],t._config=new r.default,t}return o(t,e),t.prototype.start=function(e,t,n,i,o,a,r,s,l,c,u,p){this._isRunning=!0,this._speed=e,this._delay=t,this._time=n,this._distance=i,this._beginTime=o,this._endDelay=a,this._endDistance=r,this._endTime=s,this._endSpeed=l,this._beginSpeed=u,this._beginSpeedUpTime=p,this._endSlowDownTime=c},t.prototype.setupIsOpenItems=function(e,t){this.owner.setupIsOpenItems(e,t)},t.prototype.updateLayer=function(){for(var e=0;e<this._items.length;e++)this._items[e].zIndex=e},t.prototype.reset=function(){if(this._items)for(var e=0;e<this._items.length;e++)this._items[e].reset()},t.prototype.scrollingComplete=function(){this.clear(),this.updateLayer(),this.layerSort()},t.prototype.layerSort=function(){},Object.defineProperty(t.prototype,"complete",{get:function(){return this._complete},set:function(e){this._complete||(this._complete=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextHandler",{get:function(){return this._nextHandler},set:function(e){this._nextHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginRunning",{get:function(){return this._beginRunning},set:function(e){this._beginRunning=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},set:function(e){this._distance=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endDistance",{get:function(){return this._endDistance},set:function(e){this._endDistance=e},enumerable:!1,configurable:!0}),t.prototype.getItem=function(e){return this._items[e]},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this._time},set:function(e){this._time=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultFrameRate",{get:function(){return this._defaultFrameRate=cc.game.getFrameRate(),this._defaultFrameRate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultFrameRateTime",{get:function(){return this._defaultFrameRateTime=1e3/this.defaultFrameRate,this._defaultFrameRateTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endDelay",{get:function(){return this._endDelay},set:function(e){this._endDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endSpeed",{get:function(){return this._endSpeed},set:function(e){this._endSpeed=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endSlowDownTime",{get:function(){return this._endSlowDownTime},set:function(e){this._endSlowDownTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginSpeed",{get:function(){return this._beginSpeed},set:function(e){this._beginSpeed=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginSpeedUpTime",{get:function(){return this._beginSpeedUpTime},set:function(e){this._beginSpeedUpTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameRate",{get:function(){return this._frameRate=this.defaultFrameRate,this._frameRate},set:function(e){this._frameRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runningTime",{get:function(){return this._runningTime},set:function(e){this._runningTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameRateTime",{get:function(){return this._frameRateTime=1e3/this.frameRate,this._frameRateTime},set:function(e){this._frameRateTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},set:function(e){this._config=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beginTime",{get:function(){return this._beginTime},set:function(e){this._beginTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endTime",{get:function(){return this._endTime},set:function(e){this._endTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._isRunning},set:function(e){this._isRunning=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isManualStop",{get:function(){return this._isManualStop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLock",{get:function(){return this._isLock},set:function(e){this._isLock=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataList",{get:function(){return this._dataProvider.grids.changedDataList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedDataList",{get:function(){return this._dataProvider.changedGrids.changedDataList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sources",{get:function(){return this._sources},set:function(e){this._sources=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renders",{get:function(){return this._renders},set:function(e){this._renders=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataProvider",{get:function(){return this._dataProvider},set:function(e){this._dataProvider=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLandscape",{get:function(){return this._isLandscape},set:function(e){this._isLandscape=e},enumerable:!1,configurable:!0}),t.prototype.layoutLandscape=function(){this._isLandscape=!0},t.prototype.layoutPortrait=function(){this._isLandscape=!1},t.SCROLLINGUP="scrolling_up",t.SCROLLINGDOWN="scrolling_down",t.SCROLLINGLEFT="scrolling_left",t.SCROLLINGRIGHT="scrolling_right",t}(a.default);n.default=s,cc._RF.pop()},{"../JTConfigGroup":"JTConfigGroup","./JTItemSkinLoader":"JTItemSkinLoader"}],JTImage:[function(e,t,n){"use strict";cc._RF.push(t,"629a76RxRBN2LYwvxkq9Yjj","JTImage");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTContainer"),r=function(e){function t(){var t=e.call(this)||this;return t._proxyOwner=null,t.content=t.addComponent(cc.Sprite),t._proxyOwner=new a.default,t}return o(t,e),t.prototype.bind=function(e,t){this._proxyOwner.bind(e,t)},t.prototype.addContainer=function(e){return this._proxyOwner.addContainer(e)},t.prototype.removeContainerAt=function(e,t){return void 0===t&&(t=1),this._proxyOwner.removeContainerAt(e)},t.prototype.removeContainer=function(e){return this._proxyOwner.removeContainer(e)},t.prototype.getContainerByIndex=function(e){return this._proxyOwner.getContainerByIndex(e)},Object.defineProperty(t.prototype,"childsCount",{get:function(){return this._proxyOwner.childsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childs",{get:function(){return this._proxyOwner.childs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._proxyOwner.owner},set:function(e){this._proxyOwner.owner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caller",{get:function(){return this._proxyOwner.caller},set:function(e){this._proxyOwner.caller=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return this._proxyOwner.destroy(),e.prototype.destroy.call(this),!0},t.prototype.clear=function(){this._proxyOwner.clear()},t}(a.default);n.default=r,cc._RF.pop()},{"./JTContainer":"JTContainer"}],JTIrregularPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"4fe86dNG8NC27zgwxEzlTBc","JTIrregularPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../SlotDefinitions/SlotEnum"),r=function(e){function t(){var t=e.call(this)||this;return t.lineTime=null,t.scatterRule=null,t.dynamicWild=null,t.onceWild=null,t.combineRule=null,t.retainWild=null,t.dynamicCombine=null,t}return o(t,e),t.prototype.lineTimeComplete=function(e){void 0===e&&(e=!1);var t=this._scroller,n=this.getConfig(),i=n.gapHeight,o=n.girdHeight,r=t.owner,s=0;t.renders.length=0;for(var l=0;l<t.items.length;l++){var c=t.items[l];0!=l&&l!=t.items.length-1&&(this.isRender(s)&&t.renders.push(c),c.index=t.indexs[s],s++),c.data=e?t.changedDataList[l]:t.dataList[l],c.changedData=t.changedDataList[l],t.config.orientation==a.SlotOrientation.Portrait?(c.y=-i*(l-1)-o/2,c.x=t.config.girdWidth/2):(c.y=-t.config.girdHeight/2,c.x=t.config.gapWidth*l-r.config.girdWidth/2)}this.resetRenderPoints(),t.adjustSkinRenders(!1)},t.prototype.isRender=function(e){var t=this.scroller.owner.gridRenderConfig;return!t||1==t[this.scroller.index][e]},t}(e("../scrolling/JTScrollingPipeline").default);n.default=r,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../scrolling/JTScrollingPipeline":"JTScrollingPipeline"}],JTItemRender:[function(e,t,n){"use strict";cc._RF.push(t,"b2fa4/sWNxD6L+9BTyX9DEi","JTItemRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._data=null,t._index=0,t._currentFrame=0,t._isPlaying=!1,t._changedData=null,t._elementData=null,t.setupSkinLoader(0,0,t),t}return o(t,e),t.prototype.play=function(){this._isPlaying=!0},t.prototype.gotoAndStop=function(){this._isPlaying=!1},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedData",{get:function(){return this._changedData},set:function(e){this._changedData=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"elementData",{get:function(){return this._elementData},set:function(e){this._elementData=e,this.data=this._elementData.data,this.changedData=this.elementData.changedData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this._currentFrame},set:function(e){this._currentFrame=e},enumerable:!1,configurable:!0}),t.prototype.setXYByPoint=function(e){this.x=e.x,this.y=e.y},t.prototype.destory=function(){e.prototype.destroy.call(this),this._skinLoader.removeFromParent(),this._skinLoader=null},t.STATE_DEFAULT=0,t.STATE_ROLLING=1,t.STATE_OVER=2,t}(e("./JTItemSkinLoader").default);n.default=a,cc._RF.pop()},{"./JTItemSkinLoader":"JTItemSkinLoader"}],JTItemSkinLoader:[function(e,t,n){"use strict";cc._RF.push(t,"a9330s5mDRNYakzUilikeIX","JTItemSkinLoader");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTGComponent"),r=e("../../renders/JTGLoader"),s=function(e){function t(){var t=e.call(this)||this;return t._skinLoader=null,t}return o(t,e),t.prototype.setupSkinLoader=function(e,t,n,i){return void 0===i&&(i=!0),this._skinLoader=new r.default,n&&n.addChild(this.skinLoader),this._skinLoader.touchable=!1,this._skinLoader.x=e,this._skinLoader.y=t,this._skinLoader},t.prototype.reset=function(){this._skinLoader&&this._skinLoader.parent&&(this._skinLoader.scaleX=this._skinLoader.scaleY=1,this._skinLoader.opacity=255,this._skinLoader.y=0,this._skinLoader.url=null)},Object.defineProperty(t.prototype,"skinLoader",{get:function(){return this._skinLoader},set:function(e){this._skinLoader=e},enumerable:!1,configurable:!0}),t.prototype.clearSkinLoader=function(){this._skinLoader&&(this._skinLoader.url=null)},t}(a.default);n.default=s,cc._RF.pop()},{"../../renders/JTGLoader":"JTGLoader","./JTGComponent":"JTGComponent"}],JTJackPotGameTask:[function(e,t,n){"use strict";cc._RF.push(t,"a4870730WBJxaNa61tQS6dP","JTJackPotGameTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotManager/JackPotGameManager"),r=e("../../SlotUtils/Handle"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.runningTask=function(){a.default.instance.hasJackGame?a.default.instance.startJackPotGame(r.Handler.create(this,this.finishJackPotGame)):(console.log("\u6d41\u7a0b JTJackPotGameTask\u5b8c\u62101"),this.complete())},t.prototype.finishJackPotGame=function(){console.log("\u6d41\u7a0b JTJackPotGameTask\u5b8c\u62102"),a.default.instance.onJackPotGameFinished(),this.complete()},t}(e("./JTParseTask").default);n.default=s,cc._RF.pop()},{"../../SlotManager/JackPotGameManager":"JackPotGameManager","../../SlotUtils/Handle":"Handle","./JTParseTask":"JTParseTask"}],JTLayerFactory:[function(e,t,n){"use strict";cc._RF.push(t,"a5b56+ydwxOpZfKYq8shZuS","JTLayerFactory");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTFactory"),r=e("../base/JTGComponent"),s=e("../../masks/JTLineMask"),l=e("../../masks/JTScrollerGroupMask"),c=e("../../../SlotData/SDictionary"),u=function(e){function t(){var t=e.call(this)||this;return t.layerMap=null,t._layers=null,t._layers=[],t.layerMap=new c.SDictionary,t}return o(t,e),t.prototype.produce=function(t,n,i){var o=e.prototype.produce.call(this,t,n,i);return o&&n&&o.bind(n,n.caller),this.layerMap.set(t,o),o},t.prototype.initialize=function(e){this.addChildNode(t.EFFECT_BELOW_CONTAINER,e),this.addChildNode(t.SCROLLER_CONTAINER,e),this.addChildNode(t.LINE_CONTAINER,e),this.addChildNode(t.SKIN_LOADER_CONTAINER,e),this.addChildNode(t.FRONT_FRAME_CONTAINER,e),this.addChildNode(t.GIRD_CONTAINER,e),this.addChildNode(t.EFFECT_ABOVE_CONTAINER,e),this.produce(t.SCROLLER_MASK_CONTAINER).launch(e)},t.prototype.produces=function(){for(var e=this.getNotUsedClass(),t=0;t<e.length;t++){var n=e[t];this.produce(n,this)}},t.prototype.updateLayer=function(){},t.prototype.layerSort=function(){},t.prototype.addChildNode=function(e,t){var n=this.layerMap.get(e);return t.addChild(n),this._layers.push({layer:n,parent:t}),n},t.prototype.getLayer=function(e){return this.layerMap.get(e)},Object.defineProperty(t.prototype,"layers",{get:function(){return this._layers},enumerable:!1,configurable:!0}),t.prototype.resetLayer=function(){},t.prototype.registerClassAlias=function(){return this.registerClass(t.SCROLLER_CONTAINER,r.default),this.registerClass(t.LINE_CONTAINER,r.default),this.registerClass(t.GIRD_CONTAINER,r.default),this.registerClass(t.FRONT_FRAME_CONTAINER,r.default),this.registerClass(t.SCROLLER_MASK_CONTAINER,l.default),this.registerClass(t.EFFECT_ABOVE_CONTAINER,r.default),this.registerClass(t.EFFECT_BELOW_CONTAINER,r.default),this.registerClass(t.SKIN_LOADER_CONTAINER,r.default),this.registerClass(t.LINE_MASK_TYPE,s.default),this},t.SCROLLER_CONTAINER=100,t.LINE_CONTAINER=200,t.GIRD_CONTAINER=300,t.FRONT_FRAME_CONTAINER=400,t.SCROLLER_MASK_CONTAINER=500,t.EFFECT_ABOVE_CONTAINER=600,t.LINE_MASK_TYPE=700,t.SCATTER_GRID_CONTAINER=800,t.SKIN_LOADER_CONTAINER=900,t.WILD_FIEXD_TYPE=1e3,t.WILD_RONDOM_TYPE=1100,t.LAYER_SORT_PLAY_RENDER=1200,t.LAYER_SORT_STOP_RENDER=1300,t.LAYER_SORT_FLEXIBLE_CONTAINER=1400,t.EXTENSIONS_SCROLLER_CONTAINER=1500,t.FLASH_LINE_CONTAINER=1600,t.EFFECT_BELOW_CONTAINER=1700,t.SCOLLER_GROUP_BLACK_BACK_GROUND=1800,t.LINE_NUMBER_CONTAINER=1900,t.LAYER_SORT_SCATTER_PLAY_CONTAINER=2e3,t.LAYER_SORT_SCATTER_STOP_CONTAINER=2100,t.SCATTER_BLACK_BACK_GROUND=2200,t.EXTEND_SCROLLER_MASK_CONTAINER_ONE=2300,t.EXTEND_SCROLLER_MASK_CONTAINER_TWO=2400,t}(a.default);n.default=u,cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary","../../masks/JTLineMask":"JTLineMask","../../masks/JTScrollerGroupMask":"JTScrollerGroupMask","../base/JTGComponent":"JTGComponent","./JTFactory":"JTFactory"}],JTLayerSortContainer:[function(e,t,n){"use strict";cc._RF.push(t,"3eda6Mz+gxJOIh+BxgCsU3i","JTLayerSortContainer");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._childs=null,t._layerSortIds=null,t._isSortByPosIndex=!1,t._childs=[],t._layerSortIds=[],t._isSortByPosIndex=!1,t}return o(t,e),t.prototype.updateChangedChildsLayer=function(e,t){void 0===t&&(t=!1);for(var n=0;n<e.length;n++){var i=e[n];-1==this._childs.indexOf(i)&&this._childs.push(i)}t&&this.updateLayer(this.owner)},t.prototype.updateLayer=function(){var e=this.owner;this._childs=this.layerSort(this._childs,this._layerSortIds);for(var t=0;t<this._childs.length;t++){var n=this._childs[t],i=e.getRenderPoint(n.index);n.owner.active&&(n.removeFromParent(!1),n.setXYByPoint(i),this.addChild(n,t))}},t.prototype.sortItems=function(e,t){var n=e.getElementType(),i=t.getElementType();return n!=i?n-i:e.index-t.index},t.prototype.layerSort=function(e,t){if(0==t.length)return e.sort(this.sortItems),e;for(var n=[],i=0;i<t.length;i++)for(var o=t[i],a=e.length,r=0;r<a;r++){var s=e.shift();s.data==o?n.push(s):e.push(s)}return n.concat(e).reverse()},Object.defineProperty(t.prototype,"layerSortIds",{get:function(){return this._layerSortIds},enumerable:!1,configurable:!0}),t.prototype.resetLayerSort=function(){if(0!=this._childs.length)for(;this._childs.length;){var e=this._childs.shift(),t=e.owner,n=t.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2()));e.removeFromParent(!1),e.x=n.x,e.y=n.y,t.addChild(e)}},t.prototype.getChilds=function(){return this._childs},t.prototype.layoutLandscape=function(){for(var e=this.owner,t=0;t<this.children.length;t++){var n=this.children[t],i=e.getRenderPoint(n.index);n.setXYByPoint(i)}},t.prototype.layoutPortrait=function(){for(var e=this.owner,t=0;t<this.children.length;t++){var n=this.children[t],i=e.getRenderPoint(n.index);n.setXYByPoint(i)}},t}(e("../com/base/JTGComponent").default);n.default=a,cc._RF.pop()},{"../com/base/JTGComponent":"JTGComponent"}],JTLayerSortMaskContainer:[function(e,t,n){"use strict";cc._RF.push(t,"4ca2anWbJhOx5EHc5nBM6lq","JTLayerSortMaskContainer");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.mask=null,t.mask=t.addComponent(cc.Mask),t.anchorX=0,t.anchorY=1,t}return o(t,e),t.prototype.updateChangedChildsLayer=function(t,n){void 0===n&&(n=!1),e.prototype.updateChangedChildsLayer.call(this,t,n),this.mask.enabled=!0},t.prototype.setupMask=function(e,t){var n=this.owner;n.mutipleMaskPolygon&&n.mutipleMaskPolygon.length>0?this.drawMutiplePolygon():n.maskPolygon&&n.maskPolygon.length>3?this.drawPolygon():(this.width=e,this.height=t)},t.prototype.drawPolygon=function(){var e=this.getComponent(cc.Mask),t=this.owner.maskPolygon;e._updateGraphics=function(){var n=e._graphics;if(n){n.clear();for(var i=0;i<t.length;i++){var o=t[i];0==i?n.moveTo(o.x,o.y):n.lineTo(o.x,o.y)}n.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?n.stroke():n.fill()}},e._updateGraphics()},t.prototype.drawMutiplePolygon=function(){var e=this.mask,t=this.owner.mutipleMaskPolygon;e._updateGraphics=function(){var n=e._graphics;if(n){n.clear();for(var i=0,o=t;i<o.length;i++)for(var a=o[i],r=0;r<a.length;r++){var s=a[r];0==r?n.moveTo(s.x,s.y):n.lineTo(s.x,s.y)}n.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?n.stroke():n.fill()}},e._updateGraphics()},t.prototype.resetLayerSort=function(){e.prototype.resetLayerSort.call(this),this.mask.enabled=!1},t}(e("./JTLayerSortContainer").default);n.default=a,cc._RF.pop()},{"./JTLayerSortContainer":"JTLayerSortContainer"}],JTLayoutPoint:[function(e,t,n){"use strict";cc._RF.push(t,"5292fwBlytLgYVqgbfMsDE8","JTLayoutPoint"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],JTLengthFixedPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"075d84pNk9DrbZIs+bKnPrB","JTLengthFixedPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTFuturePipeline"),r=e("../../transitions/JTOptionType"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.start=function(){this.runningTask()},t.prototype.create=function(){this.getOption(r.default.OPTION_CREATE).runningTask()},t.prototype.running=function(){var e=this.getOption(r.default.OPTION_RUNNING);e||(e=this.getOption(r.default.OPTION_OVER_RUNNING)),e.runningTask()},t.prototype.contact=function(t){e.prototype.contact.call(this,t);for(var n=this._options.keys,i=0;i<n.length;i++)switch(n[i]){case r.default.OPTION_CREATE:this.setupProcedure(r.default.OPTION_CREATE);break;case r.default.OPTION_BEGIN_RUNNING:this.setupProcedure(r.default.OPTION_BEGIN_RUNNING,t.beginRunning);break;case r.default.OPTION_RUNNING:this.setupProcedure(r.default.OPTION_RUNNING,t.nextHandler);break;case r.default.OPTION_OVER_RUNNING:this.setupProcedure(r.default.OPTION_OVER_RUNNING,t.complete)}this.hasOwnOption(r.default.OPTION_OVER_RUNNING)||(this._handler=t.complete),this.create()},t.prototype.setupProcedure=function(e,t){var n=this._options.get(e);n&&(n.bind(this,this._owner.caller),n.ruleTaskManager=this.ruleTaskManager,n.handler||(n.handler=t))},t.prototype.beginRunning=function(){this.getOption(r.default.OPTION_BEGIN_RUNNING).runningTask()},t.prototype.overRunning=function(){this.getOption(r.default.OPTION_OVER_RUNNING).runningTask()},t}(a.default);n.default=s,cc._RF.pop()},{"../../transitions/JTOptionType":"JTOptionType","./JTFuturePipeline":"JTFuturePipeline"}],JTLineArtMask:[function(e,t,n){"use strict";cc._RF.push(t,"316f60rvLNGXIuBJg31Ihhb","JTLineArtMask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.scroller=null,t}return o(t,e),t.prototype.launch=function(e){this.scroller=e},t.prototype.createMask=function(e,t,n,i,o){void 0===o&&(o="#996600"),this.x=e,this.y=t,this.width=n,this.height=i},t.prototype.showAward=function(e,t){var n=this.scroller.config,i=n.girdWidth*e.length+n.gapX*e.length-1,o=n.getWidth()-i;this.createMask(i,0,o,n.getHeight()),this.parent=t.owner,t.layoutScrollerLayer(e)},t.prototype.redraw=function(){},t.prototype.changed=function(){},t}(e("../com/base/JTSprite").default);n.default=a,cc._RF.pop()},{"../com/base/JTSprite":"JTSprite"}],JTLineDirection:[function(e,t,n){"use strict";cc._RF.push(t,"888d1AXGktMOLgqRGIz9YI0","JTLineDirection"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.DIRECTION_LEFT=1,e.DIRECTION_RIGHT=2,e}();n.default=i,cc._RF.pop()},{}],JTLineMask:[function(e,t,n){"use strict";cc._RF.push(t,"64cc6kF74NCPYVOPFFLm2GU","JTLineMask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/base/JTSprite"),r=e("../com/canvas/JTCanvasTools"),s=e("../com/base/JTMask"),l=function(e){function t(){var t=e.call(this)||this;return t.gridMasks=null,t.vMasks=null,t.hMasks=null,t.scrollerGroup=null,t.gridMasks=[],t.vMasks=[],t.hMasks=[],t}return o(t,e),t.prototype.launch=function(e){this.scrollerGroup=e,this.createMask()},t.prototype.createMask=function(){for(var e=this.scrollerGroup.config,t=(r.default.lineWidth,this.scrollerGroup.renders),n=0;n<t.length;n++){var i=t[n],o=this.scrollerGroup.getRenderPoint(i.index),a=this.drawGridMask(e,i.index);a.x=o.x,a.y=o.y,this.gridMasks.push(a),this.addChild(a),a.parent=this}if(e.gapY>0){var s=t.length/e.col;for(n=1;n<s;n++){var l=n*e.gapHeight-e.gapY,c=this.drawMask(0,l,e.getWidth(),e.gapY,"#996600");c.parent=this,this.hMasks.push(c)}}if(e.gapX>0)for(s=t.length/e.row,n=1;n<s;n++){l=n*e.gapWidth-e.gapX;var u=this.drawMask(l,0,e.gapX,e.getHeight(),"#ff6600");this.vMasks.push(u),u.parent=this}},t.prototype.drawGridMask=function(e,t,n){void 0===n&&(n="#996600");var i=new s.default;return i.name=t.toString(),i.width=e.girdWidth,i.height=e.girdHeight,i},t.prototype.drawMask=function(e,t,n,i,o){void 0===o&&(o="#996600");var a=new s.default;return a.x=e,a.y=t,a.width=n,a.height=i,a},t.prototype.showAward=function(e){for(var t=this.getRenderNames(e),n=0;n<this.gridMasks.length;n++){var i=this.gridMasks[n];i.scaleY=1,-1!=t.indexOf(i.name)?i.active=!1:i.active=!0}},t.prototype.getRenderNames=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i.index.toString())}return t},t.prototype.getGridMask=function(e){for(var t=0;t<this.gridMasks.length;t++){var n=this.gridMasks[t];if(n.scaleY=1,n.name==e.toString())return n}return null},t.prototype.setupGridMask=function(e,t){void 0===t&&(t=!1),this.getGridMask(e).active=t},t.prototype.redraw=function(){},t.prototype.changed=function(){},t}(a.default);n.default=l,cc._RF.pop()},{"../com/base/JTMask":"JTMask","../com/base/JTSprite":"JTSprite","../com/canvas/JTCanvasTools":"JTCanvasTools"}],JTLineMode:[function(e,t,n){"use strict";cc._RF.push(t,"baaeeIzBOFJaoNEgPVZ0dwR","JTLineMode"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.MODE_NORMAL=1,e.MODE_FREE=2,e}();n.default=i,cc._RF.pop()},{}],JTLineRenderUtils:[function(e,t,n){"use strict";cc._RF.push(t,"c1414L+RHtNS48rUzntCVFk","JTLineRenderUtils"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../com/canvas/JTCanvasTools"),o=e("../../SlotData/SDictionary"),a=e("./skinnables/base/JTAdvanceSkinnableLine"),r=e("./skinnables/base/JTRuntimeSkinnableLine"),s=e("./skinnables/base/JTAdvanceSkinnableGrid"),l=e("./skinnables/base/JTRuntimeSkinnableGrid"),c=e("../com/factorys/JTChildFactory"),u=e("./JTRenderMode"),p=e("../com/canvas/JTGrid"),h=e("./JTLineRender"),d=e("../JTOddsUtils"),f=e("./skinnables/FlashLight"),m=function(){function e(){this._context=null,this._scroller=null,this._lineCounter=null,this._gridCounter=null,this.lineMap=null,this.exeucteTimes=0,this.totalTimes=0,this.gridTxtMap=null,this._context=new i.default,this.gridTxtMap=new o.SDictionary}return e.prototype.createLines=function(e,t){this._scroller=e;var n=this._scroller.lineCount;e.factoryChild,this._lineCounter=new _,this._gridCounter=new _,this.lineMap=t;for(var i=1;i<n+1;i++){var o=this.createLine(i,e);if(o){if(o.lineItemRender instanceof a.default?this._lineCounter.counter(o.lineItemRender):(o.lineItemRender,r.default),o.gridItemRender instanceof s.default)this._gridCounter.counter(o.gridItemRender);else if(o.gridItemRender instanceof l.default)for(var u=1;u<o.renders.length;u++)o.createSkinnable(c.default.GIRD_TYPE,e.lineContainer);if(o.flashLineItemRender)for(u=1;u<o.renders.length;u++)o.createSkinnable(c.default.FLASH_LINE_TYPE,e.flashLineContainer);o.addSkinnablesToLayer()}}0==this._lineCounter.qualitys.length&&0==this._gridCounter.qualitys.length?this.executeComplete():0==this._lineCounter.qualitys.length||0==this._gridCounter.qualitys.length?this.totalTimes=1:this.totalTimes=2,this.execute()},e.prototype.execute=function(){var e=this._scroller.config;0==this._lineCounter.qualitys.length?this.executeQualityGrids():this.computeTextureSpace(this._lineCounter.qualitys,e.getWidth(),e.getHeight(),"line_")},e.prototype.executeQualityGrids=function(){var e=this._scroller.config;0==this._gridCounter.qualitys.length?this.executePerformances():this.computeTextureSpace(this._gridCounter.qualitys,e.girdWidth,e.girdHeight,"grid_")},e.prototype.executeComplete=function(){this._scroller.scatterRender&&this._scroller.scatterRender.create(this)},e.prototype.executePerformances=function(){var e=this._gridCounter.performances.concat(this._lineCounter.performances);0!=e.length&&(this._scroller.config,this.computeTextureSpace(e,20,5,"min_line"))},e.prototype.computeTextureSpace=function(t,n,i,o){var a=t.length,r=e.getMaxTextureSize(a,n,i);this._context.initialize(r.width,r.height);for(var s=0;s<a;s++){var l=(u=t[s]).owner.lineId;this._context.cacheSpaceToMap(o,l)}var c=new cc.Rect(0,0,n,i);for(s=0;s<a;s++){var u,p=o+(l=(u=t[s]).owner.lineId),h=this._context.getTextureBounds(p,c);u.createComplete(h)}this.loadComplete("",t,o)},e.prototype.loadComplete=function(e,t,n){this._scroller.config;for(var i=0;i<t.length;i++){var o=t[i],r=n+o.owner.lineId;this._context.getTextureBounds(r),o.mode,u.default.MODE_PERFORMANCE_PRIORITY;var l=o.owner;if(o instanceof s.default){for(var p=l.scroller,h=l.renders,d=0;d<h.length;d++){var f=h[d];0!=d&&(o=l.createSkinnable(c.default.GIRD_TYPE,p.gridContainer)).createComplete(),o.setupTexture(null,d),o.defaultWidth=f.width,o.defaultHeight=f.height,p.gridContainer&&p.gridContainer.addChild(o.skinContainer)}this.gridTxtMap.set(l.lineId,null),l.showGrids(0)}else o instanceof a.default&&o.setupTexture(null)}"line_"==n?this.executeQualityGrids():"grid_"==n&&this.executePerformances(),this.exeucteTimes++,this.exeucteTimes==this.totalTimes&&this.executeComplete()},e.getMaxTextureSize=function(t,n,i){var o=Math.ceil(n/p.default.GRIDUINT)*p.default.GRIDUINT,a=Math.ceil(i/p.default.GRIDUINT)*p.default.GRIDUINT,r=new g;return r.width=o*e.DEFAULT_SKIN_COUNT,r.height=Math.ceil(t/e.DEFAULT_SKIN_COUNT)*a,r},e.prototype.createLine=function(e,t){var n=this.lineMap.get(e);if(!n){n=new h.default;var i=d.default.getOddsLineRenders(t,e,1,1);if(!i||0==i.length)return null;for(var o=d.default.getOddsLineIndexs(t,e,1,1),a=[],r=[],s=0;s<o.length;s++){var l=o[s]-1,c=t.getRenderStaticCenterPointLandscape(l),u=t.getRenderStaticCenterPointPortrait(l);a.push(c),r.push(u)}n.initializes(t,e,i,a,r),this.lineMap.set(e,n)}return n},e.createSingleFlashLight=function(){this.flashLightPrefab||(this.flashLightPrefab=cc.assetManager.getBundle("slot").get(this.flashLightAssetUrl,cc.Prefab)),this.flashLightPool||(this.flashLightPool=new cc.NodePool);var e=this.flashLightPool.get();return e||(e=cc.instantiate(this.flashLightPrefab)).getComponent(f.default).init(),e},e.recoverFlashLight=function(e){this.flashLightPool||(this.flashLightPool=new cc.NodePool),this.flashLightPool.put(e)},e.loadDefaultLineAsset=function(){var e=this;this.outGlowGraphicMaterial||game.ResLoader.getInstance().loadRes(this.outGlowGraphicMaterialUrl,cc.Material,function(t,n){e.outGlowGraphicMaterial=n},"slot","OutGlowGraphicMaterial"),this.flashLightPrefab||game.ResLoader.getInstance().loadRes(this.flashLightAssetUrl,cc.Prefab,function(t,n){e.flashLightPrefab=n},"slot","flashPrefab")},e.getOutGlowGraphicEffect=function(){var e=this;return this.outGlowGraphicMaterial||game.ResLoader.getInstance().loadRes(this.outGlowGraphicMaterialUrl,cc.Material,function(t,n){e.outGlowGraphicMaterial=n},"slot","OutGlowGraphicMaterial"),this.outGlowGraphicMaterial},e.DEFAULT_SKIN_COUNT=4,e.flashLightAssetUrl="slot_common/slotMachine/prefab/flashLightPrefab",e.flashLightPool=null,e.outGlowGraphicMaterialUrl="slot_common/slotMachine/materials/OuterGlowGraphics",e}();n.default=m;var g=function(){},_=function(){function e(){this.arts=[],this.qualitys=[],this.performances=[]}return e.prototype.counter=function(e){if(e){var t=e.mode;switch(t){case u.default.MODE_PERFORMANCE_PRIORITY:this.performances.push(e);break;case u.default.MODE_QUALITY_PRIORITY:this.qualitys.push(e);break;default:var n=e.owner;e instanceof s.default?this.createGridArtSkinnables(e,n):e instanceof a.default&&e.createComplete(t)}}},e.prototype.createGridArtSkinnables=function(e,t){for(var n=t.scroller,i=t.renders,o=0;o<i.length;o++)i[o],0!=o&&(e=t.createSkinnable(c.default.GIRD_TYPE,n.gridContainer)),e.createComplete(null),e.setupTexture(null,o),n.gridContainer&&n.gridContainer.addChild(e.skinContainer);t.showGrids(0)},e}();cc._RF.pop()},{"../../SlotData/SDictionary":"SDictionary","../JTOddsUtils":"JTOddsUtils","../com/canvas/JTCanvasTools":"JTCanvasTools","../com/canvas/JTGrid":"JTGrid","../com/factorys/JTChildFactory":"JTChildFactory","./JTLineRender":"JTLineRender","./JTRenderMode":"JTRenderMode","./skinnables/FlashLight":"FlashLight","./skinnables/base/JTAdvanceSkinnableGrid":"JTAdvanceSkinnableGrid","./skinnables/base/JTAdvanceSkinnableLine":"JTAdvanceSkinnableLine","./skinnables/base/JTRuntimeSkinnableGrid":"JTRuntimeSkinnableGrid","./skinnables/base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"5bc2f0vhJNKwJcX5ktSuaUT","JTLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTScatterGridRender"),r=e("../com/canvas/JTCanvasStyle"),s=e("../com/factorys/JTChildFactory"),l=e("../JTOddsUtils"),c=e("../../SlotUtils/SlotUtils"),u=e("../../SlotConfigs/GameEventNames"),p=e("../../MainView/BaseSpinSlotView"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lineItemRender=null,t._gridItemRender=null,t._lineButtonRender=null,t._renders=null,t._landscapePoints=null,t._portraitPoints=null,t._lineId=0,t._gridPoints=null,t._canvasStyle=null,t._lineResult=null,t._skinnables=null,t._gridIndexs=[],t._rollingResult=null,t}return o(t,e),t.prototype.initializes=function(e,t,n,i,o){this._landscapePoints=i,this._portraitPoints=o,this._lineId=t,this._renders=n,this._scroller=e,this._skinnables=[],this._gridRenders=[],this._lineItemRender=this.createSkinnable(s.default.LINE_TYPE,e.lineContainer),this._flashLineItemRender=this.createSkinnable(s.default.FLASH_LINE_TYPE,e.flashLineContainer),this._gridItemRender=this.createSkinnable(s.default.GIRD_TYPE,e.gridContainer),this._lineButtonRender=this.createSkinnable(s.default.LINE_BUTTON_TYPE),this.lineButtonRender&&this._lineButtonRender.createComplete(this.lineButtonRender.mode),this._gridRenderPoints=this.getGridRenderPoints();var a=l.default.getOddsLineIndexs(e,t,1,1);this._gridIndexs=[];for(var r=0,c=a;r<c.length;r++){var u=c[r];this._gridIndexs.push(u-1)}},t.prototype.getGridPoints=function(){var e=this._renders[0],t=this._scroller.getRenderCenterPoint(e.index),n=(t.x,t.y,e.width),i=e.height,o=[];return o.push(new cc.Vec2(4,4)),o.push(new cc.Vec2(n,4)),o.push(new cc.Vec2(n,i)),o.push(new cc.Vec2(4,i)),o.push(new cc.Vec2(4,4)),o},t.prototype.getGridRenderPoints=function(){for(var e=[],t=0;t<this.renders.length;t++){var n=this.renders[t],i=this._scroller.getRenderPoint(n.index);e.push(i)}return e},t.prototype.createSkinnable=function(e){var t=this._scroller.factoryChild.produce(e,this);return t?(e==s.default.GIRD_TYPE&&this._gridRenders.push(t),this._skinnables.push(t),t):t},t.prototype.addSkinnablesToLayer=function(){this._gridItemRender&&(this._gridItemRender.hide(),this.addSkinnable(this.scroller.gridContainer,this.gridItemRender)),this._lineItemRender&&(this._lineItemRender.hide(),this.addSkinnable(this.scroller.lineContainer,this._lineItemRender)),this._flashLineItemRender&&(this._flashLineItemRender.hide(),this.addSkinnable(this.scroller.flashLineContainer,this._flashLineItemRender))},t.prototype.addSkinnable=function(e,t){t&&e&&t.skinContainer&&e.addChild(t.skinContainer)},t.prototype.showGrid=function(e,t){if(this._renders=l.default.getOddsLineRenders(this._scroller,this._lineId,1,1),e&&(this._rollingResult=e),1==e.direction)this.showGrids(t.length);else{if(this._gridRenders.length!=this._renders.length||this._gridRenderPoints.length!=this._renders.length)return;for(var n=this.gridRenders.length,i=0,o=this._scroller.config,a=n-1;a>=0;a--){i++;var r=this._gridRenders[a];if(r){var s=r.skinContainer,c=this.scroller.getRenderByPos(this._gridIndexs[a]);if(c){var u=this.scroller.getRenderPoint(c.index);if(c.mixRow>1&&c.visibleRow<c.mixRow?(s.x=u.x,s.y=u.y+(c.mixRow-c.visibleRow)*o.girdHeight*.5*(c.hiddenSection==p.SpinSlotHiddenSection.Bottom?1:-1),s.height=c.height-(c.mixRow-c.visibleRow)*o.girdHeight,s.width=c.width):(s.x=u.x,s.y=u.y,s.height=c.height,s.width=c.width),!this.ignoreShowGridByData(c,this.scroller.ignoreShowGridData)){if(t.length>0&&e&&e.winPos&&e.winPos.length>0&&this.checkRenderInWinPos(c,e.winPos)){r.parent&&(r.parent.active=!0),r.show();continue}if(i<=t.length){r.show();continue}}r.hide()}}}}},t.prototype.createGridSkinnables=function(){if(!this.gridItemRender.skinContainer)for(var e=null,t=0;t<this._gridRenders.length;t++){var n=this.gridRenders[t];this._renders[t],0==t&&(n.createComplete(t),e=n),n.setupTexture(e,t)}},t.prototype.showGrids=function(e){this._renders=l.default.getOddsLineRenders(this._scroller,this._lineId,1,1);for(var t=this._gridRenders.length,n=this._scroller.config,i=0;i<t;i++){var o=this._gridRenders[i];if(o){var a=o.skinContainer,r=this.scroller.getRenderByPos(this._gridIndexs[i]);if(r){var s=this.scroller.getRenderPoint(r.index);if(r.mixRow>1&&r.visibleRow<r.mixRow?(a.x=s.x,a.y=s.y+(r.mixRow-r.visibleRow)*n.girdHeight*.5*(r.hiddenSection==p.SpinSlotHiddenSection.Bottom?1:-1),a.height=r.height-(r.mixRow-r.visibleRow)*n.girdHeight,a.width=r.width):(a.x=s.x,a.y=s.y,a.height=r.height,a.width=r.width),!this.ignoreShowGridByData(r,this.scroller.ignoreShowGridData))if(e>0&&this._rollingResult&&this._rollingResult.winPos&&this._rollingResult.winPos.length>0){if(this.checkRenderInWinPos(r,this._rollingResult.winPos)){o.parent&&(o.parent.active=!0),o.show();continue}}else if(e-1>=i){o.parent&&(o.parent.active=!0),o.show();continue}o.hide()}}}},t.prototype.checkRenderInWinPos=function(e,t){if(e)if(e.mixIndexs&&e.mixIndexs.length>0){for(var n=0;n<e.mixIndexs.length;n++)for(var i=e.mixIndexs[n]+1,o=0;o<t.length;o++)if(t[o]==i)return!0}else for(n=0;n<t.length;n++)if(t[n]==e.index+1)return!0;return!1},t.prototype.changedSkinnable=function(e){this._lineResult=e;var t=this.lineResult,n=t.line;t.renders,game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_CHANGE_LINE_WINCOIN,n)},t.prototype.changedGrids=function(e,t,n,i,o,a){if(0!=this._gridRenders.length){var r=this._gridRenders[e];if(r){var s=r.skinContainer;return a||(a=new cc.Rect(20,5,20,5)),c.default.setScale9GridRect(s,a),s.width=i,s.height=o,s.y=n,s.x=t,r}}},t.prototype.hideGrid=function(e){var t=this._gridRenders[e];t&&t.hide()},Object.defineProperty(t.prototype,"skinnables",{get:function(){return this._skinnables},set:function(e){this._skinnables=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineId",{get:function(){return this._lineId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renders",{get:function(){return this._renders},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineResult",{get:function(){return this._lineResult},set:function(e){this._lineResult=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"landscapePoints",{get:function(){return this._landscapePoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"portraitPoints",{get:function(){return this._portraitPoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridPoints",{get:function(){return this._gridPoints},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineItemRender",{get:function(){return this._lineItemRender},set:function(e){this._lineItemRender=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flashLineItemRender",{get:function(){return this._flashLineItemRender},set:function(e){this.flashLineItemRender=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineButtonRender",{get:function(){return this._lineButtonRender},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridItemRender",{get:function(){return this._gridItemRender},set:function(e){this._gridItemRender=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridIndexs",{get:function(){return this._gridIndexs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasStyle",{get:function(){if(!this._canvasStyle){this._canvasStyle=new r.JTCanvasStyle;var e=l.default.getColor(this.lineId);this._canvasStyle.setStyle(e,e)}return this._canvasStyle},enumerable:!1,configurable:!0}),t}(a.default);n.default=h,cc._RF.pop()},{"../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotUtils/SlotUtils":"SlotUtils","../JTOddsUtils":"JTOddsUtils","../com/canvas/JTCanvasStyle":"JTCanvasStyle","../com/factorys/JTChildFactory":"JTChildFactory","./JTScatterGridRender":"JTScatterGridRender"}],JTLineScrollerGroup:[function(e,t,n){"use strict";cc._RF.push(t,"760053KoSJAWKqonR0BDwyx","JTLineScrollerGroup");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTControlScrollerGroup"),r=e("../JTLogger"),s=e("../com/factorys/JTLayerFactory"),l=e("../com/factorys/JTChildFactory"),c=e("./JTEffectContainer"),u=e("../com/factorys/JTBaseLogicFactroy"),p=e("../../../../common/utils/GData"),h=function(e){function t(){var t=e.call(this)||this;return t._lineCount=0,t._lineContainer=null,t._gridContainer=null,t._frameContainer=null,t._interval=0,t._showTime=0,t._lineParser=null,t._lineMask=null,t._effectBelowContainer=null,t._effectAboveContainer=null,t._buttonsComponent=null,t._onClickLineCall=null,t._lineTime=null,t._lineConfig=null,t._factoryLogic=null,t._taskPipeline=null,t._scatterRender=null,t._onceWildContainer=null,t._dynamicWildContainer=null,t._extensionItems=null,t._lineNumContainer=null,t._scatterblackBackGround=null,t._blackBackGround=null,t._showImageInterval=0,t._playRenderInterval=0,t._showLineDuration=0,t._isShowAllLine=!1,t._showAllLineTimes=500,t._runTimeLineOpacity=255,t}return o(t,e),t.prototype.setupFactory=function(t,n,i){return e.prototype.setupFactory.call(this,t,n),i||(i=new u.default),this._factoryLogic=i,this.factoryLogic.bind(this,this.caller),this._channelPipeline},t.prototype.setupLines=function(e,t,n,i,o,a,c,h,d,f){void 0===o&&(o=1500),void 0===c&&(c=0),void 0===d&&(d=0),void 0===f&&(f=0),(c>t||c<0||t<0)&&r.default.error("Invalid `interval` or `showImageInterval`, please check out!"),this._lineTime=new cc.ActionInterval,this._lineConfig=e,this._lineCount=i,this._interval=t,this._showTime=o,this._onClickLineCall=a,this._showImageInterval=c,this._playRenderInterval=d,this._showLineDuration=f,this._lineParser=this.factoryLogic.produce(u.default.SCROLLER_LINE_PARSE,this),this._lineContainer=this._factoryLayer.produce(s.default.LINE_CONTAINER,this,"lineContainer"),this._flashLineContainer=this._factoryLayer.produce(s.default.FLASH_LINE_CONTAINER,this,"flashLineContainer"),this._frameContainer=this._factoryLayer.produce(s.default.FRONT_FRAME_CONTAINER,this,"frameContainer"),this._gridContainer=this._factoryLayer.produce(s.default.GIRD_CONTAINER,this,"gridContainer"),this._effectAboveContainer=this.factoryLayer.produce(s.default.EFFECT_ABOVE_CONTAINER,this,"effectAboveContainer"),this._effectBelowContainer=this.factoryLayer.produce(s.default.EFFECT_BELOW_CONTAINER,this,"effectBelowContainer"),this._scrollerGroupMask=this.factoryLayer.produce(s.default.SCROLLER_MASK_CONTAINER,this),this._layerSortPlayContainer=this.factoryLayer.produce(s.default.LAYER_SORT_PLAY_RENDER,this,"layerSortPlayContainer"),this._layerSortStopContainer=this.factoryLayer.produce(s.default.LAYER_SORT_STOP_RENDER,this,"layerSortStopContainer"),this._onceWildContainer=this.factoryLayer.produce(s.default.WILD_FIEXD_TYPE,this),this._dynamicWildContainer=this.factoryLayer.produce(s.default.WILD_RONDOM_TYPE,this),this._blackBackGround=this.factoryLayer.produce(s.default.SCOLLER_GROUP_BLACK_BACK_GROUND,this),this._layerSortScatterPlayContainer=this.factoryLayer.produce(s.default.LAYER_SORT_SCATTER_PLAY_CONTAINER,this,"layerSortScatterPlayContainer"),this._layerSortScatterStopContainer=this.factoryLayer.produce(s.default.LAYER_SORT_SCATTER_STOP_CONTAINER,this,"layerSortScatterStopContainer"),this._scatterblackBackGround=this.factoryLayer.produce(s.default.SCATTER_BLACK_BACK_GROUND,this),this._lineNumContainer=this.factoryLayer.produce(s.default.LINE_NUMBER_CONTAINER,this),this._taskPipeline=this.factoryLogic.produce(u.default.TASK_PIPELINE_LOGIC,this),this._scatterRender=this.factoryChild.produce(l.default.SCATTER_TYPE,this,"scatterRender"),this._taskPipeline.bind(this,this),this._buttonsComponent=n,this._scatterRender&&this._scatterRender.initialize(),this._lineParser&&this._lineParser.initialize(),this.initializeLayer();var m=this.factoryLogic;if(m.registerFlowOptions(),m.adjustFlowOptions(),this.setupOptions(this._taskPipeline,m.getOptions()),this._lineMask&&this._lineMask.launch(this),this._lineContainer){var g=this.config,_=g.gapWidth*g.col,y=new cc.Node("LineMaskContainer");y.addComponent(cc.Mask),y.setContentSize(2.5*_,2.5*g.gapHeight*g.row),this._lineContainer.addChild(y)}this.afterInitializeLayer();var T=p.GData.getParameter("lineAniConfig");T&&T.lineAttrConfig&&T.lineAttrConfig.isShowAllLine&&(this.isShowAllLine=!0)},t.prototype.onSelectLineButtonHandler=function(e){var t=e.target.$owner.name,n=parseInt(t.replace(/[^0-9]/gi,""));if(!isNaN(n)&&-1!=t.indexOf("img_")){if(!this._onClickLineCall.apply(this.caller,[n]))return;this.clear(),this._lineTime=cc.sequence(cc.fadeOut(this._showTime/1e3),cc.callFunc(this.clear,this)),this.lineContainer.runAction(this._lineTime),this.showLines(n),this.showLineButtonGroup(n)}},t.prototype.create=function(){this._items=[],this.createScrollers(),this._isBackgroundFill&&this.backgroundFill()},t.prototype.showLineButtonGroup=function(e){this._lineParser&&this._lineParser.showLineButtonGroup(e)},t.prototype.showLineButton=function(e,t){this._lineParser&&this._lineParser.showLineButton(e,t)},t.prototype.layoutScrollerLayer=function(){},Object.defineProperty(t.prototype,"lineTime",{get:function(){return this._lineTime},enumerable:!1,configurable:!0}),t.prototype.showLine=function(e,t){this._lineParser&&this._lineParser.showLine(e,t)},t.prototype.start=function(t,n,i,o,a,r,s,l,c,u,p,h){void 0===n&&(n=20),void 0===i&&(i=3e3),void 0===o&&(o=80),void 0===a&&(a=150),void 0===r&&(r=20),void 0===s&&(s=80),void 0===l&&(l=150),this.clear(),e.prototype.start.call(this,t,n,i,o,a,r,s,l,c,u,p,h)},t.prototype.resetLayoutScrollerLayer=function(){},t.prototype.getLineRender=function(e){return this._lineParser.lineMap.get(e)},t.prototype.parse=function(e,t,n,i,o,a,r){if(void 0===n&&(n=!1),void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===a&&(a=!1),void 0===r&&(r=!1),this._lineParser&&(null===e&&this._lineParser.lineResults||(this._lineParser.lineResults=e||[]),this._lineParser.lineComplete=t,this._lineParser.ifStopWhenComplete=n,this._lineParser.isLoopWinInThisRound=i,this._lineParser.isInitiative=o,this._lineParser.isLoopGlobalLines=a,this._lineParser.isSimulateProcedure=r),this._taskPipeline){var s=this._taskPipeline;s.handler=this.launchParse,s.start()}},t.prototype.launchParse=function(){},t.prototype.showLines=function(e){this._lineParser&&this._lineParser.showLines(e)},t.prototype.clear=function(){this._lineTime&&(this._lineTime=null),this._taskPipeline&&this._taskPipeline.clear(),this.lineContainer&&(this.lineContainer.opacity=255),this._lineParser&&this._lineParser&&this._lineParser.clear()},Object.defineProperty(t.prototype,"lineMask",{get:function(){return this._lineMask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameContainer",{get:function(){return this._frameContainer},set:function(e){this._frameContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineContainer",{get:function(){return this._lineContainer},set:function(e){this._lineContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flashLineContainer",{get:function(){return this._flashLineContainer},set:function(e){this._flashLineContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridContainer",{get:function(){return this._gridContainer},set:function(e){this._gridContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskPipeline",{get:function(){return this._taskPipeline},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interval",{get:function(){return this._interval},set:function(e){this._interval=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShowAllLine",{get:function(){return this._isShowAllLine},set:function(e){this._isShowAllLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAllLineTimes",{get:function(){return this._showAllLineTimes},set:function(e){this._showAllLineTimes=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineCount",{get:function(){return this._lineCount},set:function(e){this._lineCount=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineConfig",{get:function(){return this._lineConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buttonsComponent",{get:function(){return this._buttonsComponent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effectAboveContainer",{get:function(){return this._effectAboveContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"effectBelowContainer",{get:function(){return this._effectBelowContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineParser",{get:function(){return this._lineParser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"factoryLogic",{get:function(){return this._factoryLogic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scatterRender",{get:function(){return this._scatterRender},set:function(e){this._scatterRender=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onceWildContainer",{get:function(){return this._onceWildContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dynamicWildContainer",{get:function(){return this._dynamicWildContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"extensionItems",{get:function(){return this._extensionItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineNumContainer",{get:function(){return this._lineNumContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scatterblackBackGround",{get:function(){return this._scatterblackBackGround},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showImageInterval",{get:function(){return this._showImageInterval},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blackBackGround",{get:function(){return this._blackBackGround},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playRenderInterval",{get:function(){return this._playRenderInterval},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showLineDuration",{get:function(){return this._showLineDuration},enumerable:!1,configurable:!0}),t.prototype.layoutLandscape=function(){e.prototype.layoutLandscape.call(this),this.effectAboveContainer&&this.effectAboveContainer instanceof c.default&&this.effectAboveContainer.resetChildrensPosition(),this.effectBelowContainer&&this.effectBelowContainer instanceof c.default&&this.effectBelowContainer.resetChildrensPosition()},t.prototype.layoutPortrait=function(){e.prototype.layoutPortrait.call(this),this.effectAboveContainer&&this.effectAboveContainer instanceof c.default&&this.effectAboveContainer.resetChildrensPosition(),this.effectBelowContainer&&this.effectBelowContainer instanceof c.default&&this.effectBelowContainer.resetChildrensPosition()},Object.defineProperty(t.prototype,"runTimeLineOpacity",{get:function(){return this._runTimeLineOpacity},set:function(e){this._runTimeLineOpacity=e},enumerable:!1,configurable:!0}),t}(a.default);n.default=h,cc._RF.pop()},{"../../../../common/utils/GData":"GData","../JTLogger":"JTLogger","../com/factorys/JTBaseLogicFactroy":"JTBaseLogicFactroy","../com/factorys/JTChildFactory":"JTChildFactory","../com/factorys/JTLayerFactory":"JTLayerFactory","./JTControlScrollerGroup":"JTControlScrollerGroup","./JTEffectContainer":"JTEffectContainer"}],JTLineScroller:[function(e,t,n){"use strict";cc._RF.push(t,"2cf10sXhbFKnpFctap4X52j","JTLineScroller");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("../com/JTScroller").default);n.default=a,cc._RF.pop()},{"../com/JTScroller":"JTScroller"}],JTLineType:[function(e,t,n){"use strict";cc._RF.push(t,"148872InJRAQqTzYAlKJdwp","JTLineType"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.LINE=1,e.APPOINT=2,e.SCROLLER=3,e.INCLUSIVE=4,e.SCATTER=5,e.INCLUSIVE_CONNTIONE=9,e.FULL_LINE=14,e.APPOINT_LINE=18,e.LIGATURE_REPLACE=32,e.UN_CONNTIONE_FULL_LINE=33,e.DESPERSE_REPLACE_LINE=34,e.MAX_COUNT_SCROLLER=35,e.APPOINT_SECOND=36,e}();n.default=i,cc._RF.pop()},{}],JTLogger:[function(e,t,n){"use strict";cc._RF.push(t,"9084dQWpPJJnIJCALjxBxGx","JTLogger"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.getTime()+t.toString();console.log(e.Log+i)},e.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.getTime()+t.toString();throw new Error(e.Error+i)},e.infos=function(e,t){for(var n="",i=0;i<t.length;i++)for(var o=0;o<e.length;o++)n+=e[o][t[i]]+"  ,";this.info(n)},e.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.getTime()+t.toString();console.log(e.Warn+i)},e.getTime=function(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+":"+e.getMilliseconds()+"---"},e.Log="[Log]\uff1a",e.Warn="[Warn]: ",e.Error="[Error]",e}();n.default=i,cc._RF.pop()},{}],JTLogicFactroy:[function(e,t,n){"use strict";cc._RF.push(t,"a5645rUt0pFAp6hnTrIisjE","JTLogicFactroy");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy"),r=e("../../../slot_common/slotMachine/script/Scroller/flows/JT3ComboTask"),s=e("../../../slot_common/slotMachine/script/Scroller/flows/JTAfterRewardTask"),l=e("../../../slot_common/slotMachine/script/Scroller/flows/JTBonusGameTask"),c=e("../../../slot_common/slotMachine/script/Scroller/flows/JTChangeGameTask"),u=e("../../../slot_common/slotMachine/script/Scroller/flows/JTCombineOverTask"),p=e("../../../slot_common/slotMachine/script/Scroller/flows/JTCommonRewardTask"),h=e("../../../slot_common/slotMachine/script/Scroller/flows/JTConvertPlayLines"),d=e("../../../slot_common/slotMachine/script/Scroller/flows/JTDynamicCombineSplit"),f=e("../../../slot_common/slotMachine/script/Scroller/flows/JTFreeGameOverTask "),m=e("../../../slot_common/slotMachine/script/Scroller/flows/JTFullLineAniTask"),g=e("../../../slot_common/slotMachine/script/Scroller/flows/JTJackPotGameTask"),_=e("../../../slot_common/slotMachine/script/Scroller/flows/JTLoopDisplayLines"),y=e("../../../slot_common/slotMachine/script/Scroller/flows/JTNewFreeGameTask"),T=e("./JTPGGlobalDisplayLines"),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.registerFlowOptions=function(){this.childOption(h.default,a.JTTaskPriority.JTCONVERT_PLAYLINES),this.childOption(d.default,a.JTTaskPriority.JTDYNAMIC_COMBINE_SPLIT),this.childOption(m.default,a.JTTaskPriority.JTFULL_LINE_ANI_TASK),this.childOption(r.default,a.JTTaskPriority.JT3COMBO_TASK,this.play3ComboTask),this.childOption(T.default,a.JTTaskPriority.JTGLOBAL_DISPLAY_LINES),this.childOption(p.default,a.JTTaskPriority.JTCOMMON_REWARD_TASK),this.childOption(l.default,a.JTTaskPriority.JTBONUSGAME_TASK),this.childOption(g.default,a.JTTaskPriority.JTJACKPOT_GAME_TASK),this.childOption(f.default,a.JTTaskPriority.JTFREEGAME_OVER_TASK),this.childOption(s.default,a.JTTaskPriority.JTAFTER_REWARD_TASK),this.childOption(u.default,a.JTTaskPriority.JTCOMBINE_OVER_TASK),this.childOption(y.default,a.JTTaskPriority.JTNEW_FREEGAME_TASK),this.childOption(c.default,a.JTTaskPriority.JTCHANGE_GAME_TASK),this.childOption(_.default,a.JTTaskPriority.JTLOOP_DISPLAY_LINES)},t}(a.default);n.default=S,cc._RF.pop()},{"../../../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy":"JTBaseLogicFactroy","../../../slot_common/slotMachine/script/Scroller/flows/JT3ComboTask":"JT3ComboTask","../../../slot_common/slotMachine/script/Scroller/flows/JTAfterRewardTask":"JTAfterRewardTask","../../../slot_common/slotMachine/script/Scroller/flows/JTBonusGameTask":"JTBonusGameTask","../../../slot_common/slotMachine/script/Scroller/flows/JTChangeGameTask":"JTChangeGameTask","../../../slot_common/slotMachine/script/Scroller/flows/JTCombineOverTask":"JTCombineOverTask","../../../slot_common/slotMachine/script/Scroller/flows/JTCommonRewardTask":"JTCommonRewardTask","../../../slot_common/slotMachine/script/Scroller/flows/JTConvertPlayLines":"JTConvertPlayLines","../../../slot_common/slotMachine/script/Scroller/flows/JTDynamicCombineSplit":"JTDynamicCombineSplit","../../../slot_common/slotMachine/script/Scroller/flows/JTFreeGameOverTask ":"JTFreeGameOverTask ","../../../slot_common/slotMachine/script/Scroller/flows/JTFullLineAniTask":"JTFullLineAniTask","../../../slot_common/slotMachine/script/Scroller/flows/JTJackPotGameTask":"JTJackPotGameTask","../../../slot_common/slotMachine/script/Scroller/flows/JTLoopDisplayLines":"JTLoopDisplayLines","../../../slot_common/slotMachine/script/Scroller/flows/JTNewFreeGameTask":"JTNewFreeGameTask","./JTPGGlobalDisplayLines":"JTPGGlobalDisplayLines"}],JTLoopDisplayLines:[function(e,t,n){"use strict";cc._RF.push(t,"e8ed2cT9wFOEZeAzd8KfvXi","JTLoopDisplayLines");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTParseTask"),r=e("../lines/JTLineType"),s=e("../lines/JTLineMode"),l=e("../lines/JTLineDirection"),c=e("../com/base/JTItemRender"),u=e("../JTOddsUtils"),p=e("../renders/JTDefaultItemRender"),h=e("../../MainView/SlotMachineView"),d=e("../../../../sound/script/SoundMger"),f=e("../../../../common/enum/CommonEnum"),m=e("../../SlotManager/SpinManager"),g=e("../../SlotConfigs/GameEventNames"),_=e("../rules/JTRuleTaskType"),y=function(e){function t(){var t=e.call(this)||this;return t._scroller=null,t._playLineMap=null,t.linePosition=0,t.lineList=null,t.isFristPlaySound=!1,t.skipTask=!1,game.EventManager.getInstance().addEventListener(g.GameEventNames.EVENT_SKIP_LOOP_LINE_TASK,t.skipLoopLine,t),game.EventManager.getInstance().addEventListener(g.GameEventNames.EVENT_CLEAR_LOOP_LINE,t.clear,t),t}return o(t,e),t.prototype.skipLoopLine=function(){this._owner&&this.owner.owner&&this.owner.owner.enabled&&(this.skipTask=!0)},t.prototype.runningTask=function(){var e=this;if(this.clear(),this.lineParser=this.getLineParser(),this._playLineMap=this.lineParser.playLineMap,this._scroller=this.lineParser.owner,null==this._scroller||null==this._scroller.parent)return console.log("\u6d41\u7a0b\uff1aJTLoopDisplayLines\u5b8c\u6210 1"),void this.complete();if(this.skipTask||!this._playLineMap||!this._playLineMap.values||0==this._playLineMap.values.length||!this.lineParser.isLoopWinInThisRound||0!=m.default.instance.restAutoTimes||0!=m.default.instance.tempAutoTimes){var t=this._scroller.getRuleTask(_.default.DYNAMIC_COMBINE);t&&t.isEnabled;var n=this._scroller.getRuleTask(_.default.COMBINE);return n&&n.checkCanPlayLine(),this._scroller.updateRenders(),this.lineParser.lineComplete&&(this.lineParser.lineComplete.apply(this.caller,[this]),this.lineParser.lineComplete=null),console.log("\u6d41\u7a0b\uff1aJTLoopDisplayLines\u5b8c\u6210 2"),void this.complete()}var i=this._scroller.interval;this.isFristPlaySound=!1,this.lineList=[].concat(this._playLineMap.values),this.filterLine(),this.lineList.sort(this.sortOn),this._scroller.factoryLayer.resetLayer(),this._scroller.enableds(),1==this.lineList.length&&m.default.instance.spinTouchEnable&&d.SoundMger.instance.playEffect(f.SOUND_NAME.Line_Switch),this.loopWinLine(),this.interval=setInterval(function(){e.loopWinLine()},i)},t.prototype.filterLine=function(){},t.prototype.sortOn=function(e,t){return e.line.lineType==r.default.FULL_LINE&&t.line.lineType==r.default.FULL_LINE?e.line.winCoin<t.line.winCoin?1:-1:e.line.lineId<t.line.lineId?-1:0},t.prototype.complete=function(){this.skipTask=!1,this.lineParser.lineComplete&&(this.lineParser.lineComplete.apply(this.caller,[this]),this.lineParser.lineComplete=null),e.prototype.complete.call(this)},t.prototype.clear=function(){e.prototype.clear.call(this),this.linePosition=0,this.interval&&(clearInterval(this.interval),this.interval=0),this._scroller&&cc.director.getScheduler().unschedule(this.onChangedImageTimer,this)},t.prototype.loopWinLine=function(){if(null==this._scroller||null==this._scroller.parent)return console.log("\u6d41\u7a0b\uff1aJTLoopDisplayLines\u5b8c\u6210"),void this.clear();this.lineParser.showLines(0);var e=this.lineParser;if(e.lineComplete&&(e.lineComplete.apply(this.caller,[this]),e.lineComplete=null,e.ifStopWhenComplete))return this.clear(),console.log("\u6d41\u7a0b\uff1aJTLoopDisplayLines\u5b8c\u6210"),void this.complete();var t=this._scroller.getRuleTask(_.default.DYNAMIC_COMBINE),n=!0;t&&t.isEnabled&&(n=!1);var i=this._scroller.getRuleTask(_.default.COMBINE);i&&i.checkCanPlayLine()&&(n=!1);var o=!0;if(this.linePosition>=this.lineList.length&&(this.linePosition=0,e.isLoopGlobalLines)){this._scroller.enableds();for(var a=0;a<this.lineList.length;a++){var c=this.lineList[a],u=c.line;this.lineParser.playItemRenders(c,n),this.lineParser.showLine(u.lineId,!0)}return this._scroller.updateLayer(),void((o=0!=h.default._instance.onShowMoreWinLineCb(this.lineList,this.lineList.length>1))&&m.default.instance.spinTouchEnable&&d.SoundMger.instance.playEffect(f.SOUND_NAME.Line_Switch))}o=0!=h.default._instance.onShowMoreWinLineCb(this.lineList,!1),this._scroller.showImageInterval>0&&(this._scroller.showImageInterval,this._scroller.interval);var y=this.lineList[this.linePosition],T=y.line;if(this._scroller.enableds(),e.showMaskWithGridLine(T,n),m.default.instance.spinTouchEnable&&o&&d.SoundMger.instance.playEffect(f.SOUND_NAME.Line_Switch),T.lineType===r.default.LINE&&T.lineType==s.default.MODE_NORMAL){var S=p.default.playIndex,E=[].concat(y.renders);T.direction==l.default.DIRECTION_RIGHT&&(E=E.reverse()),(C=S>=E.length?E[E.length-1]:E[S]).playRewardsAnimation(T,S,C.index,h.default.instance)}else{var v=y.renders;if(v.length>0){var C,b=Math.floor(.5*(v.length-1));if(-1!=p.default.fullTypeIndex)for(a=0;a<v.length;a++){var R=v[a];if(R&&R.index>=0){var M=this.owner&&this.owner.owner;if(M){var L=M.config.row;if(Math.floor(R.index/L)==p.default.fullTypeIndex){b=a;break}}}}(C=v[b]).playRewardsAnimation(T,0,C.index,h.default.instance)}}this.linePosition+=1,this.lineParser.isTreatFullLine(T)&&game.EventManager.getInstance().raiseEvent(g.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP)},t.prototype.onChangedImageTimer=function(e){e=this.linePosition,cc.director.getScheduler().unschedule(this.onChangedImageTimer,this);var t=this.lineList[e].line,n=u.default.getLineKey(t),i=this._playLineMap.get(n),o=[].concat(i.renders);console.log("onChangedImageTimer");for(var a=0;a<o.length;a++){var r=o[a];0==r._inAni&&0==r._playingRewardsAni||r.gotoAndStop(c.default.STATE_DEFAULT)}},t}(a.default);n.default=y,cc._RF.pop()},{"../../../../common/enum/CommonEnum":"CommonEnum","../../../../sound/script/SoundMger":"SoundMger","../../MainView/SlotMachineView":"SlotMachineView","../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotManager/SpinManager":"SpinManager","../JTOddsUtils":"JTOddsUtils","../com/base/JTItemRender":"JTItemRender","../lines/JTLineDirection":"JTLineDirection","../lines/JTLineMode":"JTLineMode","../lines/JTLineType":"JTLineType","../renders/JTDefaultItemRender":"JTDefaultItemRender","../rules/JTRuleTaskType":"JTRuleTaskType","./JTParseTask":"JTParseTask"}],JTLouverPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"5841aKwbqhJTpvwSxoWVLLa","JTLouverPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/JTScheduledPipeline"),r=e("../../../com/base/JTItemRender"),s=function(e){function t(){var t=e.call(this)||this;return t.lineTimes=null,t.lineTimes=[],t}return o(t,e),t.prototype.clear=function(){for(var e=0;e<this.lineTimes.length;e++)this.lineTimes[e]=null},t.prototype.updateRenders=function(){var e=this._scroller;e.renders.length=0;for(var t=0;t<e.items.length;t++){var n=e.items[t];n.gotoAndStop(r.default.STATE_DEFAULT),n.scaleX=n.scaleY=1,n.opacity=255*n.scaleX,n.data=e.dataList[t],n.index=e.indexs[t],e.renders.push(n)}},t.prototype.lineTimeComplete=function(){var e=this._scroller;e.renders.length=0;for(var t=0;t<e.items.length;t++){var n=e.items[t];n.gotoAndStop(r.default.STATE_DEFAULT),n.data=e.dataList[t],n.changedData=e.changedDataList[t],n.index=e.indexs[t],e.renders.push(n)}},t.prototype.resetRenderPoints=function(){},t}(a.default);n.default=s,cc._RF.pop()},{"../../../com/base/JTItemRender":"JTItemRender","../../../com/plugins/JTScheduledPipeline":"JTScheduledPipeline"}],JTMask:[function(e,t,n){"use strict";cc._RF.push(t,"192dcUejMZHTbFVHoAWb60y","JTMask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.mask=t.addComponent(cc.Mask),t}return o(t,e),t.prototype.launch=function(){},t.prototype.redraw=function(){throw new Error("Method not implemented.")},t.prototype.changed=function(){throw new Error("Method not implemented.")},t.prototype.clear=function(){throw new Error("Method not implemented.")},t.prototype.addContainer=function(){throw new Error("Method not implemented.")},t.prototype.removeContainerAt=function(){throw new Error("Method not implemented.")},t.prototype.removeContainer=function(){throw new Error("Method not implemented.")},t.prototype.getContainerByIndex=function(){throw new Error("Method not implemented.")},t}(e("./JTGComponent").default);n.default=a,cc._RF.pop()},{"./JTGComponent":"JTGComponent"}],JTMixItemConfig:[function(e,t,n){"use strict";cc._RF.push(t,"72143i4kKhG2YcWTc9qdKDb","JTMixItemConfig"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){this.column=1,this.row=1},cc._RF.pop()},{}],JTModelFactory:[function(e,t,n){"use strict";cc._RF.push(t,"bbf28U5mAxLt7rqH5fJ/WU/","JTModelFactory");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTFactory"),r=e("../datas/JTElementCollection"),s=e("../datas/JTElementData"),l=e("../datas/JTElementArrayList"),c=e("../datas/JTArrayCollection"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.produce=function(t,n){var i=e.prototype.produce.call(this,t);return i&&n&&i.bind(n,n.caller),i},t.prototype.registerClassAlias=function(){return this.registerClass(t.SCROLLER_DATA_MODEL,r.default),this.registerClass(t.ITEMRENDER_DATA_MODEL,s.default),this.registerClass(t.ELEMENT_LIST_DATA_MODEL,l.default),this.registerClass(t.SCROLLERGROUP_DATA_MODEL,c.default),this},t.ITEMRENDER_DATA_MODEL=100,t.SCROLLER_DATA_MODEL=200,t.ELEMENT_LIST_DATA_MODEL=300,t.SCROLLERGROUP_DATA_MODEL=400,t}(a.default);n.default=u,cc._RF.pop()},{"../datas/JTArrayCollection":"JTArrayCollection","../datas/JTElementArrayList":"JTElementArrayList","../datas/JTElementCollection":"JTElementCollection","../datas/JTElementData":"JTElementData","./JTFactory":"JTFactory"}],JTNewFreeGameTask:[function(e,t,n){"use strict";cc._RF.push(t,"cd1a99swdhNwJuVMgKjuwRo","JTNewFreeGameTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotManager/FreeGameManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stepsCache=[],t}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_TASK,this.addFreeGameTrigger,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN_TASK,this.addFreeGameTriggerAgain,this),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED_TASK,this.addFreeGameInfoUpdate,this)},t.prototype.runningTask=function(){this.getLineParser().isSimulateProcedure?this.steps.length>0&&(this.stepsCache=this.steps,this.steps=[]):this.stepsCache.length>0&&(this.steps=this.stepsCache,this.stepsCache=[]),this.nextStep()},t.prototype.addFreeGameTrigger=function(){this.addStepTask(a.GameEventNames.EVENT_PLAY_FREE_GAME_ANI,r.default.instance.freeGameInfo),this.addStepTask(a.GameEventNames.EVENT_FREE_GAME_TRIGGERED),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_SKIP_LOOP_LINE_TASK)},t.prototype.addFreeGameTriggerAgain=function(e,t){this.addStepTask(a.GameEventNames.EVENT_PLAY_FREE_GAME_ADMISSION_ANI,t),this.addStepTask(a.GameEventNames.EVENT_NEW_FREE_GAME_TRIGGERED_AGAIN,t),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_SKIP_LOOP_LINE_TASK)},t.prototype.addFreeGameInfoUpdate=function(e,t){this.addStepTask(a.GameEventNames.EVENT_FREE_GAME_INFO_UPDATED,t)},t.prototype.complete=function(){e.prototype.complete.call(this)},t}(e("./JTPerformanceTask").default);n.default=s,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotManager/FreeGameManager":"FreeGameManager","./JTPerformanceTask":"JTPerformanceTask"}],JTOddsUtils:[function(e,t,n){"use strict";cc._RF.push(t,"9899eKXelVCqZYk1JEYfmTk","JTOddsUtils"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./lines/JTLineDirection"),o=e("./JTLogger"),a=e("../SlotData/SDictionary"),r=e("../SlotManager/SlotConfigManager"),s=e("./lines/JTLineType"),l=function(){function e(){}return e.computeOdds=function(e,t){for(var n=[],i=0;i<t.length;i++){var o=t[i],a=this.getRowValues(e,o);n.push(a)}return n},e.getRowValues=function(e,t){for(var n=[],i=0;i<t.length;i++){var o=e[t[i]-1];n.push(o)}return n},e.compare=function(e,t){for(var n=null,i=(e.toString(),0);i<t.length;i++){var o=t[i],a=o[0],r=this.matchStr(e,a);if(r){var s=this.getOddsValue(r,o,r.length);s&&(n||(n=[]),n.push(s))}}return n},e.getOddsValue=function(e,t,n){var i=null;return e.length==n&&0!=t[n]&&((i={}).list=e,i.odds=t[n]),i},e.matchStr=function(e,t){var n=null,i=e.length;if(e[0]!=t&&e[i-1]!=t)return null;if(e[0]==t){n=[];for(var o=0;o<e.length&&(a=e[o])==t;o++)n.push(a)}if(e[i-1]==t)for(n=[],o=e.length-1;o>0;o--){var a;if((a=e[o])!=t)break;n.push(a)}return n},e.formateOdds=function(e){for(var t="\n",n=[],i=0;i<e.length;i++){var o=n[i%3];o||(o=[],n.push(o)),o.push(e[i])}for(i=0;i<n.length;i++)t+=n[i].toString()+"\n";return t},e.toArrayValues=function(e,t){void 0===t&&(t=0);var n=[];for(var i in e){var o=[];for(var a in e[i]){var r=e[i][a];o.push(Number(r))}o.splice(t,1),n.push(o)}return n},e.getOddsLineRenders=function(e,t,n,i){void 0===n&&(n=1),void 0===i&&(i=1);var o=e.gameID,a=this.getLineString(o,n,t,i),l=this.oddLineMap[a];if(!l){var u=e.lineConfig.getData(t),p=new c;u?p.color=u.lineColor[0].color?u.lineColor[0].color.replace(/ /g,""):"":u=(u=r.default.instance.DataFreePayLine).getData(t);var h=u.type||[],d=u.linePos||[];(l=new c).indexs=[];for(var f=0;f<h.length;f++){var m=h[f];if(m.lineType==i||m.lineType==s.default.LIGATURE_REPLACE||m.lineType==s.default.APPOINT_LINE){for(var g=null,_=0;_<d.length&&(g=d[_]).index!=m.index;_++);l.indexs=g.elems;break}}this.oddLineMap[t]=p,this.oddLineMap[a]=l}var y=[];for(f=0;f<l.indexs.length;f++){var T=e.getRenderByIndex(l.indexs[f]);T&&y.push(T)}return y},e.getOddsLineIndexs=function(e,t,n,i){void 0===n&&(n=1),void 0===i&&(i=1);var o=e.gameID,a=this.getLineString(o,n,t,i),s=this.oddLineMap[a];if(!s){var l=e.lineConfig.getData(t),u=new c;l?u.color=l.lineColor[0].color?l.lineColor[0].color.replace(/ /g,""):"":l=(l=r.default.instance.DataFreePayLine).getData(t);var p=l.type||[],h=l.linePos||[];(s=new c).indexs=[];for(var d=0;d<p.length;d++){var f=p[d];if(f.lineType==i){for(var m=null,g=0;g<h.length&&(m=h[g]).index!=f.index;g++);s.indexs=m.elems;break}}this.oddLineMap[t]=u,this.oddLineMap[a]=s}return s.indexs},e.getInclusiveContinueRenders=function(e,t){var n=t.lineId,i=[],o=e.lineConfig.getData(n);o||(o=(o=r.default.instance.DataFreePayLine).getData(n));var a=o.linePos[0],s=[].concat(a.elems),l=o.assignElement,c=this.fromArrayByIndex(l,1,"index"),u=[].concat(c.elems),p=!1;u[0]==t.eleId&&(p=!0);for(var h=0;h<s.length;h++){var d=s[h]-1,f=e.getItem(d),m=f.getSomeChangedById(t.eleId);if(p)for(var g=1;g<u.length;g++){var _=u[g];m=m.concat(f.getSomeChangedById(_))}if(0!=m.length){if(i.push(m.shift()),i.length==t.eleNum)break}else i.length=0}return i},e.fromArrayByIndex=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];if(o[n]==t)return o}return null},e.getFiexdScrollerRenders=function(e,t){var n=t.lineId,o=[],a=e.lineConfig.getData(n);a||(a=(a=r.default.instance.DataFreePayLine).getData(n));var s=a.linePos[0],l=[].concat(s.elems);t.direction==i.default.DIRECTION_RIGHT&&(l=l.reverse());var c=a.assignElement,u=this.fromArrayByIndex(c,1,"index"),p=[].concat(u.elems),h=!1;p[0]==t.eleId&&(h=!0);for(var d=0;d<l.length;d++){var f=l[d]-1,m=e.getItem(f),g=m.getSomeChangedById(t.eleId);if(h)for(var _=1;_<p.length;_++){var y=p[_];g=g.concat(m.getSomeChangedById(y))}if(0!=g.length){var T=g.shift();if(o.push(T),o.length==t.eleNum)break}}return o},e.getLineKey=function(e){return"lineMode:"+e.lineMode+"lineId:"+e.lineId+"dir:"+e.direction+"lineType:"+e.lineType+"elementId:"+e.eleId},e.getLineString=function(e,t,n,i,o){return void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=1),"gameID"+e+"lineMode: "+t+"lineId"+n+"dir"+o+"lineType "+i},e.getColor=function(e){return this.oddLineMap[e].color},e.getLineRenders=function(e,t){var n=[],i=this.getOddsLineRenders(t,e.lineId,e.lineMode,e.lineType);if(e.eleId,1==e.direction)for(var a=0;a<e.eleNum&&(r=i.shift());a++)n.push(r);else if(2==e.direction)for(a=0;a<e.eleNum;a++){var r;if(!(r=i.pop()))break;n.push(r)}else o.default.warn("Can't find line.direction :  "+e.direction);return 0==n.length&&o.default.warn(" ________________________________________>>>>>>>>    get odds error!"),n},e.getAppointLineRenders=function(e,t){if(e.winPos&&e.winPos.length>0)return this.getAppointIndexRenders(e,t);var n=[],i=this.getOddsLineRenders(t,e.lineId,e.lineMode,e.lineType);if(1==e.direction)for(var a=0;a<e.eleNum&&(r=i.shift());a++)n.push(r);else if(2==e.direction)for(a=0;a<e.eleNum;a++){var r;if(!(r=i.pop()))break;n.push(r)}else o.default.warn("Can't find line.direction :  "+e.direction);return 0==n.length&&o.default.warn(" ________________________________________>>>>>>>>    get odds error!"),n},e.getFiexdLineRenders=function(e,t){var n=[],i=this.getOddsLineRenders(t,e.lineId,e.lineMode,e.lineType),a=(i.slice(),e.eleId,i.length);if(1==e.direction)for(var r=0;r<a;r++){var s=i.shift();e.eleList.includes(s.changedData)&&n.push(s)}else if(2==e.direction)for(r=0;r<a;r++)s=i.pop(),e.eleList.includes(s.changedData)&&n.push(s);else o.default.warn("Can't find line.direction :  "+e.direction);return 0==n.length&&o.default.warn(" ________________________________________>>>>>>>>    get odds error!"),n},e.getAppointIndexRenders=function(e,t){for(var n=[],i=0,o=e.winPos;i<o.length;i++){var a=o[i],r=t.getRenderByIndex(a);n.push(r)}return n},e.destroy=function(){this.oddLineMap=new a.SDictionary},e.oddLineMap=new a.SDictionary,e}();n.default=l;var c=function(){};cc._RF.pop()},{"../SlotData/SDictionary":"SDictionary","../SlotManager/SlotConfigManager":"SlotConfigManager","./JTLogger":"JTLogger","./lines/JTLineDirection":"JTLineDirection","./lines/JTLineType":"JTLineType"}],JTOnceWildTask:[function(e,t,n){"use strict";cc._RF.push(t,"53b3bJeHShH5IrkQo57pZHM","JTOnceWildTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.showScroller=function(e){e.active=!0,this._skinLoaders[e.index].url=null},t}(e("./JTWildTask").JTWildTask);n.default=a,cc._RF.pop()},{"./JTWildTask":"JTWildTask"}],JTOptionTask:[function(e,t,n){"use strict";cc._RF.push(t,"e23a9wnbu9FIaqPOp6d15Pr","JTOptionTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._scrollerGroup=null,t}return o(t,e),t.prototype.contact=function(e){this._scrollerGroup=e},Object.defineProperty(t.prototype,"scrollerGroup",{get:function(){return this._scrollerGroup},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return e.prototype.destroy.call(this),this._scrollerGroup=null,!0},t}(e("./JTTaskFlow").default);n.default=a,cc._RF.pop()},{"./JTTaskFlow":"JTTaskFlow"}],JTOptionTransition:[function(e,t,n){"use strict";cc._RF.push(t,"7a33fUgp/pOK4Crcbq2ohvm","JTOptionTransition");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._scroller=null,t._ruleTaskManager=null,t._index=0,t}return o(t,e),Object.defineProperty(t.prototype,"scroller",{get:function(){return this._scroller},enumerable:!1,configurable:!0}),t.prototype.contact=function(e){this._scroller=e,this._index=this._scroller.index,this._scrollerGroup=e.owner},t.prototype.getObject=function(e,t){return this._scrollerGroup.factoryChild.produce(e,t)},t.prototype.getRuleContainer=function(e){return this._ruleTaskManager.getRuleContainer(e)},t.prototype.hasOwnRunning=function(e){return this._ruleTaskManager.hasOwnRunning(e)},t.prototype.getRuleTask=function(e){return this._ruleTaskManager.getRuleTask(e)},t.prototype.registerTask=function(e,t){return this._ruleTaskManager.registerTask(e,t)},Object.defineProperty(t.prototype,"ruleMap",{get:function(){return this._ruleTaskManager.ruleMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskContainers",{get:function(){return this._ruleTaskManager.taskContainers},enumerable:!1,configurable:!0}),t.prototype.removeRuleTask=function(e){this._ruleTaskManager.removeRuleTask(e)},t.prototype.runningCallTask=function(){this._ruleTaskManager.runningCallTask()},t.prototype.runningRuleTasks=function(){this._ruleTaskManager.runningRuleTasks()},Object.defineProperty(t.prototype,"histroys",{get:function(){return this._ruleTaskManager.histroys},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ruleTaskManager",{get:function(){return this._ruleTaskManager},set:function(e){this._ruleTaskManager=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return e.prototype.destroy.call(this),this._scroller=null,this._ruleTaskManager=null,!0},t}(e("../../tasks/JTOptionTask").default);n.default=a,cc._RF.pop()},{"../../tasks/JTOptionTask":"JTOptionTask"}],JTOptionType:[function(e,t,n){"use strict";cc._RF.push(t,"6816eoyPONH6Z9REQa2WR0u","JTOptionType"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.OPTION_CREATE=0,e.OPTION_BEGIN_RUNNING=100,e.OPTION_RUNNING=200,e.OPTION_OVER_RUNNING=300,e.LENGTH_FIXED_PIPELINE=1e5,e}();n.default=i,cc._RF.pop()},{}],JTOverAnomaly:[function(e,t,n){"use strict";cc._RF.push(t,"92826kK1k1FN6vDR9AbGylk","JTOverAnomaly");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTOverRunning"),r=e("../../../../SlotDefinitions/SlotEnum"),s=e("../../../../../../common/enum/CommonEnum"),l=e("../../../../../../common/utils/GData"),c=e("../../../../../../sound/script/SoundMger"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this._scroller,t=this.owner,n=t.changeSpeed;if(e.isScatter()&&l.GData.getParameter("sound")[s.SOUND_NAME.Sctter]?c.SoundMger.instance.playEffect(s.SOUND_NAME.Sctter+"_0"+(e.index+1)):(e.index==e.config.col-1&&c.SoundMger.instance.stopEffect(s.SOUND_NAME.Reel_Spin),c.SoundMger.instance.playEffect(s.SOUND_NAME.Reel_Stop)),null!=e&&null!=e.parent){if(0!=e.dataList.length)if(t.lineTimeComplete(),e.config.orientation==r.SlotOrientation.Portrait){if(n&&n.onScrollingOver(e,this.complete.bind(this)))return;var i=e.speed<0?this.scroller.endDistance:-this.scroller.endDistance;t.lineTime=new cc.Tween,t.lineTime.target(e),t.lineTime.to(.5*e.endTime/1e3,{y:i}).to(.5*e.endTime/1e3,{y:0}).to(.5*e.endTime/1e3,{y:i}).to(.5*e.endTime/1e3,{y:0}).call(this.complete.bind(this)).start()}else{var o=e.speed<0?this.scroller.endDistance:-this.scroller.endDistance;t.lineTime=new cc.Tween,t.lineTime.target(e),t.lineTime.to(.5*e.endTime/1e3,{x:o}).to(.5*e.endTime/1e3,{x:0},{easing:"backOut"}).call(this.complete.bind(this)).start()}}else t.clear()},t.prototype.complete=function(){var t=this._scroller,n=this._owner;n.onceWild&&n.onceWild.callWatchWild(t),n.scatterRule&&(n.scatterRule.callScatterComplete(t),n.scatterRule.callWatchScatter(t)),e.prototype.complete.call(this)},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../../../common/enum/CommonEnum":"CommonEnum","../../../../../../common/utils/GData":"GData","../../../../../../sound/script/SoundMger":"SoundMger","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/procedure/JTOverRunning":"JTOverRunning"}],JTOverColumnMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"7b02f/ey2pDnqkWws2nISCb","JTOverColumnMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("../scrolling/JTOverScrolling").default);n.default=a,cc._RF.pop()},{"../scrolling/JTOverScrolling":"JTOverScrolling"}],JTOverElastic:[function(e,t,n){"use strict";cc._RF.push(t,"bd964TT5fpHQboAO48XVEuK","JTOverElastic");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this._owner;e.lineTimeComplete();for(var t=this._scroller,n=t.config,i=t.items.length,o=i-1;o>=0;o--){var a,r=t.items[o],s=e.lineTimes[o],l=Math.floor(o/n.row)*n.gapWidth,c=o%n.row*n.gapHeight,u=(o+1)%n.row;a=0==u?n.col-u+1:n.col-u+i-o,r.x=l,r.y=-r.height,r.scaleX=r.scaleY=1,r.opacity=255*r.scaleX,s=cc.moveTo(t.time,new cc.Vec2(l,c)),r.runAction(cc.sequence(cc.delayTime(a*t.beginTime/2),s.easing(cc.easeElasticInOut(3)),cc.callFunc(d,this,r)))}var p=this,h=0;function d(e){e.stopAllActions(),++h==p.dataList.length&&p.complete()}},t}(e("../../../com/plugins/procedure/JTOverRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTOverRunning":"JTOverRunning"}],JTOverEliminateFallByRow:[function(e,t,n){"use strict";cc._RF.push(t,"8dbd8kaQbxGkqjPkGyMFUSk","JTOverEliminateFallByRow");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../SlotUtils/Handle"),r=e("./EliminateEffectUtils"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){this._owner.owner.index==this.scroller.config.col-1?this.eliminate():this.complete()},t.prototype.eliminate=function(){this.scrollerGroup.isSkipChangeTask?this.complete():(this.scrollerGroup.updateRenders(),r.default.resetElimate(),r.default.processEliminateEffect(this.scrollerGroup,a.Handler.create(this,this.processEnd),!0))},t.prototype.processEnd=function(){for(var e=this.scrollerGroup.items,t=0;t<e.length;t++)e[t].pipeline.updateRenderData();this.complete()},t.prototype.complete=function(){var t=this._scroller;if(0!=t.dataList.length){var n=this.owner;n.onceWild&&n.onceWild.callWatchWild(t),e.prototype.complete.call(this)}},t}(e("../../../com/plugins/procedure/JTOverRunning").default);n.default=s,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTOverRunning":"JTOverRunning","./EliminateEffectUtils":"EliminateEffectUtils"}],JTOverEliminate:[function(e,t,n){"use strict";cc._RF.push(t,"239d6teFu1Gqo6VG742LTms","JTOverEliminate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../SlotUtils/Handle"),r=e("./EliminateEffectUtils"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this._owner;this.scroller.adjustSkinRenders(!1),e.owner.index==this.scroller.config.col-1?this.eliminate():this.complete()},t.prototype.eliminate=function(){this.scrollerGroup.isSkipChangeTask?this.complete():(this.scrollerGroup.updateRenders(),r.default.resetElimate(),r.default.processEliminateEffect(this.scrollerGroup,a.Handler.create(this,this.processEnd),!1))},t.prototype.processEnd=function(){for(var e=this.scrollerGroup.items,t=0;t<e.length;t++)e[t].pipeline.updateRenderData();this.complete()},t.prototype.complete=function(){var t=this._scroller;if(0!=t.dataList.length){var n=this.owner;n.onceWild&&n.onceWild.callWatchWild(t),e.prototype.complete.call(this)}},t}(e("../../../com/plugins/procedure/JTOverRunning").default);n.default=s,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTOverRunning":"JTOverRunning","./EliminateEffectUtils":"EliminateEffectUtils"}],JTOverIrregular:[function(e,t,n){"use strict";cc._RF.push(t,"dbd7ch/yT9H0bclQlO3ZB3T","JTOverIrregular");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("../scrolling/JTOverScrolling").default);n.default=a,cc._RF.pop()},{"../scrolling/JTOverScrolling":"JTOverScrolling"}],JTOverLouver:[function(e,t,n){"use strict";cc._RF.push(t,"c7a31MTaM1OCYPWniqFirJH","JTOverLouver");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this._owner;e.lineTimeComplete();for(var t=this._scroller,n=t.config,i=t.items,o=0;o<i.length;o++){var a=i[o],r=e.lineTimes[o],s=Math.floor(o/n.row)*n.gapWidth,l=o%n.row*n.gapHeight;a.x=s,a.y=l,a.scaleX=a.scaleY=0,a.opacity=255*a.scaleX,r=cc.sequence(cc.delayTime(20*a.index/2/1e3),cc.spawn(cc.scaleTo(1.5*t.time/1e3,1,1).easing(cc.easeElasticInOut(3)),cc.fadeIn(1.5*t.time/1e3)),cc.callFunc(u,this,[o,a])),a.runAction(r)}var c=this;function u(e,t){t.stopAllActions(),e<i.length-1||c.complete()}},t}(e("../../../com/plugins/procedure/JTOverRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTOverRunning":"JTOverRunning"}],JTOverMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"de4c3XKh/VF8r1O46S8pRYY","JTOverMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("../scrolling/JTOverScrolling").default);n.default=a,cc._RF.pop()},{"../scrolling/JTOverScrolling":"JTOverScrolling"}],JTOverRunning:[function(e,t,n){"use strict";cc._RF.push(t,"edc68jQXnBJUrXMVybqkmw7","JTOverRunning");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.runningTask=function(){this.overRunning()},t}(e("./JTProcedure").default);n.default=a,cc._RF.pop()},{"./JTProcedure":"JTProcedure"}],JTOverScrollEliminateFallByRow:[function(e,t,n){"use strict";cc._RF.push(t,"4cbdcfKYtZA1Joc3+/s4c9Y","JTOverScrollEliminateFallByRow");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../eliminate/EliminateEffectUtils"),r=e("../../../../SlotUtils/Handle"),s=e("./JTOverScrolling"),l=e("../../../../../../common/enum/CommonEnum"),c=e("../../../../../../sound/script/SoundMger"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.scrollComplete=function(){this.scroller.adjustSkinRenders(!1);for(var e=this.owner.owner.owner.items,t=0,n=0;n<e.length;n++)e[n].pipeline.getCurrentTask()&&t++;1==t?(this.eliminate(),c.SoundMger.instance.stopEffect(l.SOUND_NAME.Reel_Spin)):this.complete()},t.prototype.eliminate=function(){this.scrollerGroup.isSkipChangeTask?this.complete():(this.scrollerGroup.updateRenders(),a.default.resetElimate(),a.default.processEliminateEffect(this.scrollerGroup,r.Handler.create(this,this.processEnd),!0))},t.prototype.processEnd=function(){this.complete()},t.prototype.complete=function(){var t=this._scroller,n=this._owner;n.onceWild&&n.onceWild.callWatchWild(t),n.scatterRule&&(n.scatterRule.callScatterComplete(t),n.scatterRule.callWatchScatter(t)),e.prototype.complete.call(this)},t}(s.default);n.default=u,cc._RF.pop()},{"../../../../../../common/enum/CommonEnum":"CommonEnum","../../../../../../sound/script/SoundMger":"SoundMger","../../../../SlotUtils/Handle":"Handle","../eliminate/EliminateEffectUtils":"EliminateEffectUtils","./JTOverScrolling":"JTOverScrolling"}],JTOverScrollEliminate:[function(e,t,n){"use strict";cc._RF.push(t,"fec9cqhqn9HV7VeODE5tPDX","JTOverScrollEliminate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../eliminate/EliminateEffectUtils"),r=e("../../../../SlotUtils/Handle"),s=e("./JTOverScrolling"),l=e("../../../../../../common/enum/CommonEnum"),c=e("../../../../../../sound/script/SoundMger"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.scrollComplete=function(){this.scroller.adjustSkinRenders(!1);var e=this._scroller,t=this._owner;t.onceWild&&t.onceWild.callWatchWild(e),t.scatterRule&&(t.scatterRule.callScatterComplete(e),t.scatterRule.callWatchScatter(e));for(var n=this.scrollerGroup.items,i=0,o=0;o<n.length;o++)n[o].pipeline.getCurrentTask()&&i++;1==i?(this.eliminate(),c.SoundMger.instance.stopEffect(l.SOUND_NAME.Reel_Spin)):this.complete()},t.prototype.eliminate=function(){this.scrollerGroup.isSkipChangeTask?this.complete():(this.scrollerGroup.updateRenders(),a.default.resetElimate(),a.default.processEliminateEffect(this.scrollerGroup,r.Handler.create(this,this.processEnd),!1))},t.prototype.processEnd=function(){for(var e=this.scrollerGroup.items,t=0;t<e.length;t++)e[t].pipeline.updateRenderData();this.complete()},t.prototype.complete=function(){e.prototype.complete.call(this)},t}(s.default);n.default=u,cc._RF.pop()},{"../../../../../../common/enum/CommonEnum":"CommonEnum","../../../../../../sound/script/SoundMger":"SoundMger","../../../../SlotUtils/Handle":"Handle","../eliminate/EliminateEffectUtils":"EliminateEffectUtils","./JTOverScrolling":"JTOverScrolling"}],JTOverScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"a3e7f0skiRFWZDZO620mbux","JTOverScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTOverRunning"),r=e("../../../../../../common/utils/GData"),s=e("../../../../../../common/enum/CommonEnum"),l=e("../../../../../../sound/script/SoundMger"),c=e("../../../../SlotDefinitions/SlotEnum"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this,t=this._scroller,n=this.owner;if(l.SoundMger.instance.stopEffect(s.SOUND_NAME.Reel_Quick),t.isScatter()&&r.GData.getParameter("sound")[s.SOUND_NAME.Sctter]&&n.scatterRule&&n.scatterRule.isTreatScatterEvent()?l.SoundMger.instance.playEffect(s.SOUND_NAME.Sctter+"_0"+(t.index+1)):(t.index==t.config.col-1&&l.SoundMger.instance.stopEffect(s.SOUND_NAME.Reel_Spin),l.SoundMger.instance.playEffect(s.SOUND_NAME.Reel_Stop)),null!=t&&null!=t.parent){if(0!=t.dataList.length)if(n.lineTimeComplete(),t.adjustSkinRenders(!0),t.config.orientation==c.SlotOrientation.Portrait){var i=t.speed<0?this.scroller.endDistance:-this.scroller.endDistance;n.lineTime=new cc.Tween,n.lineTime.target(t),n.lineTime.to(.5*t.endTime/1e3,{y:i}).to(.5*t.endTime/1e3,{y:0}).call(function(){t.onStopRoll(),e.scrollComplete()}).start()}else{var o=t.speed<0?this.scroller.endDistance:-this.scroller.endDistance;n.lineTime=new cc.Tween,n.lineTime.target(t),n.lineTime.to(.5*t.endTime/1e3,{x:o}).to(.5*t.endTime/1e3,{x:0}).call(function(){t.onStopRoll(),e.scrollComplete()}).start()}}else n.clear()},t.prototype.scrollComplete=function(){this.scroller.adjustSkinRenders(!1);var e=this._scroller,t=this._owner;t.onceWild&&t.onceWild.callWatchWild(e),t.scatterRule&&(t.scatterRule.callScatterComplete(e),t.scatterRule.callWatchScatter(e)),this.complete()},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../../../common/enum/CommonEnum":"CommonEnum","../../../../../../common/utils/GData":"GData","../../../../../../sound/script/SoundMger":"SoundMger","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/procedure/JTOverRunning":"JTOverRunning"}],JTOverUnfixedLength:[function(e,t,n){"use strict";cc._RF.push(t,"8a148FmQKxGOqmGfhgaNtvJ","JTOverUnfixedLength");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../../../common/enum/CommonEnum"),r=e("../../../../../../common/utils/GData"),s=e("../../../../../../sound/script/SoundMger"),l=e("../../../../SlotDefinitions/SlotEnum"),c=e("../../../../SlotUtils/Handle"),u=e("../eliminate/EliminateEffectUtils"),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.overRunning=function(){var e=this,t=this._scroller,n=this.owner,i=n.extendScrollerInfo;if(s.SoundMger.instance.stopEffect(a.SOUND_NAME.Reel_Quick),t.isScatter()&&r.GData.getParameter("sound")[a.SOUND_NAME.Sctter]&&n.scatterRule&&n.scatterRule.isTreatScatterEvent()?s.SoundMger.instance.playEffect(a.SOUND_NAME.Sctter+"_0"+(t.index+1)):(t.index==t.config.col-1&&s.SoundMger.instance.stopEffect(a.SOUND_NAME.Reel_Spin),s.SoundMger.instance.playEffect(a.SOUND_NAME.Reel_Stop)),null!=t&&null!=t.parent){if(0!=t.dataList.length)if(n.lineTimeComplete(),t.adjustSkinRenders(!0),(i?i.direction:t.config.orientation)==l.SlotOrientation.Portrait){var o=t.speed<0?this.scroller.endDistance:-this.scroller.endDistance;n.lineTime=new cc.Tween,n.lineTime.target(t),n.lineTime.to(.5*t.endTime/1e3,{y:o}).to(.5*t.endTime/1e3,{y:0}).call(function(){t.onStopRoll(),e.scrollComplete()}).start()}else{var c=t.speed<0?this.scroller.endDistance:-this.scroller.endDistance;n.lineTime=new cc.Tween,n.lineTime.target(t),n.lineTime.to(.5*t.endTime/1e3,{x:c}).to(.5*t.endTime/1e3,{x:i?i.position.x:0}).call(function(){if(i.curveDegree)for(var o=0;o<t.items.length;o++){var a=t.items[o];a.y=-t.config.girdHeight/2,n.adjustExtendItemCurve(a)}t.onStopRoll(),e.scrollComplete()}).start()}}else n.clear()},t.prototype.scrollComplete=function(){this._scroller.adjustSkinRenders(!1);var e=this._scroller,t=this._owner;t.onceWild&&t.onceWild.callWatchWild(e),t.scatterRule&&(t.scatterRule.callScatterComplete(e),t.scatterRule.callWatchScatter(e));for(var n=this.scrollerGroup.items,i=0,o=0;o<n.length;o++)n[o].pipeline.getCurrentTask()&&i++;1==i?(this.eliminate(),s.SoundMger.instance.stopEffect(a.SOUND_NAME.Reel_Spin)):this.complete()},t.prototype.eliminate=function(){this.scrollerGroup.isSkipChangeTask?this.complete():(this.scrollerGroup.updateRenders(),u.default.resetElimate(),u.default.processUnfixedLengthEliminateEffect(this.scrollerGroup,c.Handler.create(this,this.processEnd),!1))},t.prototype.processEnd=function(){for(var e=this.scrollerGroup.items,t=0;t<e.length;t++)e[t].pipeline.updateRenderData();this.complete()},t}(e("../scrolling/JTOverScrolling").default);n.default=p,cc._RF.pop()},{"../../../../../../common/enum/CommonEnum":"CommonEnum","../../../../../../common/utils/GData":"GData","../../../../../../sound/script/SoundMger":"SoundMger","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../../SlotUtils/Handle":"Handle","../eliminate/EliminateEffectUtils":"EliminateEffectUtils","../scrolling/JTOverScrolling":"JTOverScrolling"}],JTPGGlobalDisplayLines:[function(e,t,n){"use strict";cc._RF.push(t,"228a3+ALLZOc5nWZU39lBVg","JTPGGlobalDisplayLines");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../slot_common/common/enum/CommonEnum"),r=e("../../../slot_common/slotMachine/script/MainView/SlotMachineView"),s=e("../../../slot_common/slotMachine/script/Scroller/flows/JTGlobalDisplayLines"),l=e("../../../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskType"),c=e("../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),u=e("../../../slot_common/slotMachine/script/SlotDefinitions/SlotEnum"),p=e("../../../slot_common/slotMachine/script/SlotManager/SpinManager"),h=e("../../../slot_common/slotMachine/script/SlotUtils/Handle"),d=e("../../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),f=e("../../../slot_common/sound/script/SoundMger"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.runningTask=function(){this.lineParser=this.getLineParser();var e=this.lineParser.owner,t=this.lineParser.playLineMap;if(!t||!t.values)return console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62101"),void this.complete();var n=this.lineParser.playLineMap.values;if(n.length<=0)return console.log("\u6d41\u7a0b JTGlobalDisplayLines\u5b8c\u62102"),void this.complete();var i,o=!0,s=e.getRuleTask(l.default.COMBINE),m=e.getRuleTask(l.default.DYNAMIC_COMBINE);m&&m.isEnabled&&(o=!1),s&&s.checkCanPlayLine()&&(o=!1);for(var g=0;g<n.length;g++){var _=n[g],y=_.line;this.lineParser.playItemRenders(_,o),this.lineParser.showLine(y.lineId,!0)}i=0!=r.default._instance.onShowMoreWinLineCb(n,n.length>1),n.length>1&&i&&f.SoundMger.instance.playEffect(a.SOUND_NAME.Coin_Add),e.updateLayer();var T=d.default.getWinType(p.default.instance.totalWin,p.default.instance.betCost),S=e.showLineDuration||e.interval,E=0;this.runningExtendPerfomance&&(E=1e3*this.runningExtendPerfomance()),E>S&&(S=E);var v=0;if(this.getDelayPlayRewardTime&&(v=1e3*this.getDelayPlayRewardTime()),T==u.WinType.Normal)if(S=S-v>0?S-v:200,v>0){var C=h.Handler.create(this,this.intervalComplete,[S]);setTimeout(function(){game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_PLAY_REWARD_ANI,p.default.instance.totalWin,T,C)},v)}else{S>300&&(S-=300);var b=h.Handler.create(this,this.intervalComplete,[S]);game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_PLAY_REWARD_ANI,p.default.instance.totalWin,T,b)}else v>S&&(S=v),this.intervalComplete(S);game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_PLAYED_NORMAL_REWARD)},t}(s.default);n.default=m,cc._RF.pop()},{"../../../slot_common/common/enum/CommonEnum":"CommonEnum","../../../slot_common/slotMachine/script/MainView/SlotMachineView":"SlotMachineView","../../../slot_common/slotMachine/script/Scroller/flows/JTGlobalDisplayLines":"JTGlobalDisplayLines","../../../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskType":"JTRuleTaskType","../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../../slot_common/slotMachine/script/SlotDefinitions/SlotEnum":"SlotEnum","../../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../../slot_common/slotMachine/script/SlotUtils/Handle":"Handle","../../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../../slot_common/sound/script/SoundMger":"SoundMger"}],JTPGScrollerGroup:[function(e,t,n){"use strict";cc._RF.push(t,"c83fdevvy1N5LAb2x7pth1X","JTPGScrollerGroup");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../main/script/CommonConst"),r=e("../../../slot_common/common/enum/CommonEnum"),s=e("../../../slot_common/common/utils/GData"),l=e("../../../slot_common/slotMachine/script/MainView/SlotMachineView"),c=e("../../../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy"),u=e("../../../slot_common/slotMachine/script/Scroller/com/factorys/JTLayerFactory"),p=e("../../../slot_common/slotMachine/script/Scroller/extensions/JTChannelScrollerGroup"),h=e("../../../slot_common/slotMachine/script/Scroller/renders/JTBlackBackGround"),d=e("../../../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskType"),f=e("../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),m=e("../../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),g=e("../../../slot_common/slotMachine/script/SlotManager/SpinManager"),_=e("../../../slot_common/sound/script/SoundMger"),y=e("../MainView/SpinSlotView"),T=e("./JTLogicFactroy"),S=e("./SpinElementView"),E=function(e){function t(){var t=e.call(this)||this;return t.elementView=null,t.elementBlackGround=null,t.clickEffectNode=null,t.clickAnimation=null,t.clicked=!1,t.isInited=!1,t.isAssetLoaded=!1,t.isKeyColdDown=!1,t._canClickElem=!0,t.resetTime=150,s.GData.getParameter("elementPayConfig")&&game.ResLoader.getInstance().loadRes("slotMachine/prefab/spinElementView",cc.Prefab,function(e,n){var i=cc.instantiate(n);t.elementView=i.getComponent(S.default),t.isAssetLoaded=!0,t.initElementView()},"slot","spinElementView"),t.clickEffectNode=new cc.Node,t.clickEffectNode.active=!1,game.ResLoader.getInstance().loadRes("main/prefabs/clickEffect",cc.Prefab,function(e,n){var i=cc.instantiate(n);t.clickAnimation=i.getComponent(cc.Animation),t.clickEffectNode.addChild(i),t.clickAnimation.on("finished",function(){t.clickEffectNode.active=!1},t)},"slot","clickEffect"),t}return o(t,e),t.prototype.registerControl=function(e,t,n){var i=this;!this._stopCall&&e&&(this._stopCall=e,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){i.onKeypressHandler(e)})),!this._sendCall&&t&&(this._sendCall=t,n?n.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this):this.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this))},t.prototype.onTouchStart=function(e){if(this.enabled){this.playClickEffect(e);var t=this.getRuleTask(d.default.SCATTER);if(!t||!t.onSpeedScrolling)if(this.isRunning){if(!g.default.instance.rollingResult)return;this.onMouseClickHandler(e)}else this.isRunningParseFlowTask()||this.checkTouchElement(e)}},t.prototype.checkTouchElement=function(e){var t,n,i=this;if(!(m.default.instance.hasFreeGame||g.default.instance.restAutoTimes>0)&&this._canClickElem){this._canClickElem=!1,setTimeout(function(){i._canClickElem=!0},this.resetTime);for(var o,a=(null===(n=null===(t=s.GData.getParameter("elementPayConfig"))||void 0===t?void 0:t.show)||void 0===n?void 0:n.maxCol)||this.config.col,l=e.getLocation(),c=this.convertToNodeSpaceAR(l),u=-1,p=0;p<this.config.col;p++)for(var h=this.items[p],d=0;d<h.renders.length;d++){var y=h.renders[d],T=this.getRenderPoint(y.index);if(c.x>T.x-.5*y.width&&c.x<T.x+.5*y.width&&c.y>T.y-.5*y.height&&c.y<T.y+.5*y.height){o=y,u=p%a,c.x=T.x,c.y=T.y;break}}if(o&&this.elementView){var S=u<.5*a,E=this.expandScrollerInfo;E&&E.length>0&&(S=u<.5*(a-E.length),E.findIndex(function(e){return e.index==u})>-1&&(S=(h=this.items[u]).renders.indexOf(o)>=.5*h.renders.length)),c.x=c.x+.5*this.config.girdWidth*(S?1:-1),_.SoundMger.instance.playEffect(r.SOUND_NAME.CLICK_ELEMENT_VIEW),game.EventManager.getInstance().raiseEvent(f.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,o.data),this.elementView.show(o.data,c,S,this,o)}}},t.prototype.playClickEffect=function(e){if(this.isRunning&&!this.clicked){this.clicked=!0;var t=e.getLocation(),n=this.convertToNodeSpaceAR(t);this.clickEffectNode.x=n.x,this.clickEffectNode.y=n.y,this.clickAnimation&&(this.clickEffectNode.active=!0,this.clickAnimation.play("click"))}},t.prototype.initializeLayer=function(){e.prototype.initializeLayer.call(this),this.elementBlackGround=new h.default,this.elementBlackGround.bind(this,this.caller),this.elementBlackGround.setup(this.config.getWidth(),this.config.getHeight(),180),this.elementBlackGround.active=!1,this.addChild(this.elementBlackGround);var t=this.factoryLayer,n=t.getLayer(u.default.EXTEND_SCROLLER_MASK_CONTAINER_ONE),i=t.getLayer(u.default.EXTEND_SCROLLER_MASK_CONTAINER_TWO);n&&n.parent&&n.on(cc.Node.EventType.TOUCH_START,this.onTouchExtendScroller,this),i&&i.parent&&i.on(cc.Node.EventType.TOUCH_START,this.onTouchExtendScroller,this)},t.prototype.onTouchExtendScroller=function(e){if(!this.isRunning&&!this.isRunningParseFlowTask()){var t=e.target.maskPolygon,n=!1;if(!t||t&&0==t.length)n=!0;else{var i=e.getLocation(),o=e.getCurrentTarget().convertToNodeSpaceAR(i);n=cc.Intersection.pointInPolygon(o,t)}n&&this.checkTouchElement(e)}},t.prototype.initElementView=function(){if(this.isAssetLoaded&&this.isInited){var e=l.default.instance.gameLayer;e.elementViewLayer?e.elementViewLayer.addChild(this.elementView.node):this.parent.parent.parent.addChild(this.elementView.node),this.elementView.init(this)}},t.prototype.afterInitializeLayer=function(){this.isInited=!0,this.initElementView(),this.addChild(this.clickEffectNode)},t.prototype.enableds=function(e){void 0===e&&(e=y.default.STATE_OVER);for(var t=this._items.length,n=0;n<t;n++)for(var i=this._items[n],o=0;o<i.items.length;o++){var a=i.items[o];e==y.default.STATE_OVER&&(a.isWild()||a.isScatter())?a.stopRewardsAnimation():a.gotoAndStop(e)}},t.prototype.setupFactory=function(t,n,i){return e.prototype.setupFactory.call(this,t,n),i||(i=new T.default),this._factoryLogic=i,this.factoryLogic.bind(this,this.caller),this._channelPipeline},t.prototype.onKeypressHandler=function(e){var t=this;if(e.keyCode==cc.macro.KEY.space&&!game.UIManager.getInstance().preventKeyboard&&!this.isKeyColdDown&&(setTimeout(function(){t.isKeyColdDown=!1},300),this.isKeyColdDown=!0,this.enabled)){var n=this.getRuleTask(d.default.SCATTER);n&&n.onSpeedScrolling||!g.default.instance.spinTouchEnable||this.isRunning&&!g.default.instance.rollingResult||this.isRunningParseFlowTask()||(g.default.instance.inGame||_.SoundMger.instance.playEffect(r.SOUND_NAME.Spin_Button_Sound,!1)||_.SoundMger.instance.playEffect(r.SOUND_NAME.Currency_Button,!1),game.EventManager.getInstance().raiseEvent(a.CommonEventNames.EVENT_CLICK_SPIN_BTN))}},t.prototype.isRunningParseFlowTask=function(){if(this.isRunning)return!1;var e=this.taskPipeline;return!!e.getCurrentTask()&&e.getCurrentPriority()<c.JTTaskPriority.JTLOOP_DISPLAY_LINES},t.prototype.beforeStart=function(){if(this.resetLayerSort(),this.clicked=!1,this._items)for(var e=0;e<this._items.length;e++)for(var t=this._items[e],n=0;n<t.items.length;n++){var i=t.items[n];i.isWild()||i.isScatter()||i.isResetBeforeScrolling()?i.stopRewardsAnimation():i.reset()}},t.prototype.clear=function(){e.prototype.clear.call(this),this.elementView&&this.elementView.hide()},t}(p.default);n.default=E,cc._RF.pop()},{"../../../main/script/CommonConst":"CommonConst","../../../slot_common/common/enum/CommonEnum":"CommonEnum","../../../slot_common/common/utils/GData":"GData","../../../slot_common/slotMachine/script/MainView/SlotMachineView":"SlotMachineView","../../../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy":"JTBaseLogicFactroy","../../../slot_common/slotMachine/script/Scroller/com/factorys/JTLayerFactory":"JTLayerFactory","../../../slot_common/slotMachine/script/Scroller/extensions/JTChannelScrollerGroup":"JTChannelScrollerGroup","../../../slot_common/slotMachine/script/Scroller/renders/JTBlackBackGround":"JTBlackBackGround","../../../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskType":"JTRuleTaskType","../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../../slot_common/sound/script/SoundMger":"SoundMger","../MainView/SpinSlotView":"SpinSlotView","./JTLogicFactroy":"JTLogicFactroy","./SpinElementView":"SpinElementView"}],JTParseTask:[function(e,t,n){"use strict";cc._RF.push(t,"ea824dOSldDK4J326Gktk4b","JTParseTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.lineParser=null,t}return o(t,e),t.prototype.runningTask=function(){},t.prototype.complete=function(){this.clear(),this._owner.runningTask()},t.prototype.getLineParser=function(){if(!this.lineParser){var e=this._owner.owner;this.lineParser=e.lineParser}return this.lineParser},t.prototype.getScrollerGroup=function(){return this.getLineParser().owner},t.prototype.getLineResults=function(){return this.lineParser||this.getLineParser(),this.lineParser.lineResults},t}(e("../com/tasks/JTTaskFlow").default);n.default=a,cc._RF.pop()},{"../com/tasks/JTTaskFlow":"JTTaskFlow"}],JTPerformanceTask:[function(e,t,n){"use strict";cc._RF.push(t,"19f82mYcctGKZHRNipdgSvb","JTPerformanceTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,o++)i[o]=a[r];return i};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../SlotUtils/Handle"),s=function(e){function t(){var t=e.call(this)||this;return t.steps=[],t.pending=!1,t.steps=[],t.addEventListenner(),t}return o(t,e),t.prototype.runningTask=function(){this.nextStep()},t.prototype.isActive=function(){var e=this.getScrollerGroup();return e&&e.enabled},t.prototype.addStepTask=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(this.isActive()){var i=r.Handler.create(this,this.nextStep),o=t||[];o.push(i);var a={eventName:e,args:o};this.steps.push(a)}},t.prototype.nextStep=function(){var e;if(this.isActive()){var t=this.steps.shift();t?(e=game.EventManager.getInstance()).raiseEvent.apply(e,a([t.eventName],t.args)):this.pending||this.complete()}},t.prototype.complete=function(){this.pending=!1,this.steps=[],e.prototype.complete.call(this)},t.prototype.clear=function(){this.pending=!1,this.steps=[],e.prototype.clear.call(this)},t}(e("./JTParseTask").default);n.default=s,cc._RF.pop()},{"../../SlotUtils/Handle":"Handle","./JTParseTask":"JTParseTask"}],JTPipelineTemplate:[function(e,t,n){"use strict";cc._RF.push(t,"c83847ukIZOwYXuK98SpNkw","JTPipelineTemplate"),Object.defineProperty(n,"__esModule",{value:!0}),n.JTTaskInfo=n.JTPipelineTemplate=void 0;var i=e("../../../../SlotData/SDictionary"),o=function(){function e(){this._indexs=null,this._index=null,this._type=null,this._options=null,this._dataListType=0,this._taskInfo=null,this._options=new i.SDictionary}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"indexs",{get:function(){return this._indexs},set:function(e){this._indexs=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataListType",{get:function(){return this._dataListType},set:function(e){this._dataListType=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!1,configurable:!0}),e.prototype.setupOption=function(e,t,n){this.index=t,this._taskInfo=new a,this._taskInfo.cls=e,this._taskInfo.handler=n},e.prototype.getTaskClass=function(){return this._taskInfo._cls},e.prototype.childOption=function(e,t,n){var i=new a;return i.cls=e,i.handler=n,this._options.set(t,i),i},e.prototype.create=function(){},e.prototype.getOptions=function(){return this._options.values},e.prototype.getTaskInfo=function(){return this._taskInfo},e.prototype.getChildOption=function(e){return this._options.get(e)},e.OPTION="option",e}();n.JTPipelineTemplate=o;var a=function(){function e(){this._cls=null,this._pipeline=null,this._handler=null}return Object.defineProperty(e.prototype,"cls",{get:function(){return this._cls},set:function(e){this._cls=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pipeline",{get:function(){return this._pipeline},set:function(e){this._pipeline=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handler",{get:function(){return this._handler},set:function(e){this._handler=e},enumerable:!1,configurable:!0}),e.prototype.create=function(){return this.pipeline=new this.cls,this.pipeline.handler=this.handler,this.pipeline},e}();n.JTTaskInfo=a,cc._RF.pop()},{"../../../../SlotData/SDictionary":"SDictionary"}],JTProcedure:[function(e,t,n){"use strict";cc._RF.push(t,"d6c8c2kQjRKTJZ+ITOLxjnz","JTProcedure");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.isDataReady=!1,t}return o(t,e),t.prototype.setScrollerXY=function(e,t,n,i){this._owner.setScrollerXY(e,t,n,i)},t.prototype.setupRender=function(e,t){this._owner.setupRender(e,t)},t.prototype.dataStandby=function(){this.isDataReady=!0},t.prototype.continue=function(){},t.prototype.complete=function(){this.isDataReady=!1,this.clear(),this._handler&&this._handler.apply(this._caller,[this._scroller]),this._owner&&this._owner.runningTask()},t}(e("./JTOptionTransition").default);n.default=a,cc._RF.pop()},{"./JTOptionTransition":"JTOptionTransition"}],JTProduct:[function(e,t,n){"use strict";cc._RF.push(t,"1c9854nbe5DVadbF+egy0zO","JTProduct");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(e("../com/base/JTContainer").default);n.default=a,cc._RF.pop()},{"../com/base/JTContainer":"JTContainer"}],JTRenderMode:[function(e,t,n){"use strict";cc._RF.push(t,"6206dEQM/BNBpYGCrMfuvRT","JTRenderMode"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.MODE_ART_PRIORITY=1,e.MODE_QUALITY_PRIORITY=2,e.MODE_PERFORMANCE_PRIORITY=3,e}();n.default=i,cc._RF.pop()},{}],JTRetainWildTask:[function(e,t,n){"use strict";cc._RF.push(t,"41f8ba70iBO2aByFedosR2k","JTRetainWildTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JTRetainWildConfig=n.JTRetainWildTask=void 0;var a=e("../../SlotConfigs/GameEventNames"),r=e("../../SlotManager/FreeGameManager"),s=function(e){function t(){var t=e.call(this)||this;return t.state=0,t.configs=null,t.curConfig=null,t.configs=[],game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_TRIGGERED,t.treateNewFreeGame,t),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_FREE_GAME_OVER,t.treateFreeGameOver,t),game.EventManager.getInstance().addEventListener(a.GameEventNames.EVENT_INIT_FREEGAME,t.onFreeGameInit,t),t}return o(t,e),t.prototype.onFreeGameInit=function(){if(r.default.instance.freeGameInfo&&r.default.instance.freeGameInfo.elemFixPos.length>0)for(var e=r.default.instance.freeGameInfo.elemFixPos[0].elem,t=0;t<this.configs.length;t++)if(this.configs[t].id==e){this.curConfig=this.configs[t],this.state=l.Stay;break}if(this.curConfig)for(t=0;t<this.curConfig.wildIndexs.length;t++){var n=this.curConfig.wildIndexs[t],i=this.scrollerGroup.items[n];this.curConfig.startCall&&this.curConfig.startCall.apply(this.caller,[i]),i.skinLoader.active=!0,i.active=!1}},t.prototype.treateNewFreeGame=function(){if(r.default.instance.freeGameInfo&&r.default.instance.freeGameInfo.elemFixPos.length>0)for(var e=r.default.instance.freeGameInfo.elemFixPos[0].elem,t=0;t<this.configs.length;t++)if(this.configs[t].id==e){this.curConfig=this.configs[t],this.state=l.TurnStay;break}},t.prototype.treateFreeGameOver=function(){this.state==l.Stay&&(this.state=l.TurnNone)},t.prototype.runningTask=function(){return e.prototype.runningTask.call(this),this.state==l.TurnStay&&(this.state=l.Stay),this.state==l.TurnNone&&(this.state=l.None,this.curConfig=null),this._isRunning},t.prototype.config=function(e,t,n,i,o,a,r){void 0===a&&(a=0),void 0===r&&(r=0);var s=new c;s.id=e,s.condition=t,s.skinURL=i,s.startCall=o,s.scrollDelay=a,s.wildIndexs=n,s.showWildDelay=r,this.configs.push(s)},t.prototype.setupWildScroller=function(e){this.curConfig&&this.curConfig.wildIndexs.indexOf(e.index)>-1&&(e.skinLoader=this.skinLoaders[e.index],e.skinLoader.url=this.curConfig.skinURL),this.state==l.TurnNone&&this.curConfig.wildIndexs.indexOf(e.index)>-1&&(e.skinLoader=this.skinLoaders[e.index],e.skinLoader.url=null,e.active=!0)},t.prototype.checkPlayLineItem=function(e){if((this.state==l.Stay||this.state==l.TurnNone)&&e)for(var t=0;t<this.curConfig.wildIndexs.length;t++)for(var n=this.curConfig.wildIndexs[t],i=this.scrollerGroup.items[n],o=0;o<e.length;o++){var a=e[o];i.renders.indexOf(a)>-1&&e.splice(o--,1)}},t.prototype.checkStart=function(){return this.state==l.TurnStay},t.prototype.retainWildStart=function(e){if(this.curConfig){for(var t=[],n=0;n<this.curConfig.wildIndexs.length;n++){var i=this.curConfig.wildIndexs[n],o=this.scrollerGroup.items[i];this.curConfig.startCall&&this.curConfig.startCall.apply(this.caller,[o]),o.skinLoader.active=!1,t.push(o)}cc.tween(this).delay(this.curConfig.showWildDelay).call(function(){for(var e=0,n=t;e<n.length;e++){var i=n[e];i.skinLoader.active=!0,i.active=!1}}).start(),cc.tween(this).delay(this.curConfig.scrollDelay).call(function(){e.run()}).start()}},t}(e("./JTRuleTask").default);n.JTRetainWildTask=s;var l,c=function(){this.scrollDelay=0,this.showWildDelay=0};n.JTRetainWildConfig=c,function(e){e[e.None=0]="None",e[e.TurnStay=1]="TurnStay",e[e.Stay=2]="Stay",e[e.TurnNone=3]="TurnNone"}(l||(l={})),cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotManager/FreeGameManager":"FreeGameManager","./JTRuleTask":"JTRuleTask"}],JTRollerData:[function(e,t,n){"use strict";cc._RF.push(t,"f6a31c8Xi5EFJbKItu64Ss9","JTRollerData"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.elements=[],this.roller=[]}return e.prototype.getElementsByRollerId=function(e){for(var t,n=0,i=this.roller;n<i.length;n++){var o=i[n];o.rollerId==e&&(t=o)}if(!t)return this.elements;for(var a=[],r=t.start-1;r<t.end;r++){var s=this.elements[r];null!=s&&a.push(s)}return a},e}();n.default=i,cc._RF.pop()},{}],JTRuleTaskManager:[function(e,t,n){"use strict";cc._RF.push(t,"d5d8bJl6DFIfrkUBdxvg4jw","JTRuleTaskManager");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/base/JTContainer"),r=e("../../SlotData/SDictionary"),s=e("./JTTaskContainer"),l=function(e){function t(){var t=e.call(this)||this;return t._ruleMap=null,t._historys=null,t._dataProvider=null,t._historys=[],t._ruleMap=new r.SDictionary,t}return o(t,e),t.prototype.getRuleContainer=function(e){return this._ruleMap.get(e)},t.prototype.hasOwnRunning=function(e){return-1!=this._historys.indexOf(e)},t.prototype.getRuleTask=function(e){var t=this.getRuleContainer(e);return t?t.task:null},t.prototype.registerTask=function(e,t,n){var i=n||new s.default;return i.contact(t,e),i.bind(this,this.caller),t.scrollerGroup=this._owner,t.registerComplete(),this._ruleMap.set(e,i),this},Object.defineProperty(t.prototype,"collection",{get:function(){return this._dataProvider},set:function(e){this._dataProvider=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ruleMap",{get:function(){return this._ruleMap},set:function(e){this._ruleMap=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskContainers",{get:function(){return[].concat(this._ruleMap.values)},enumerable:!1,configurable:!0}),t.prototype.runningCallTask=function(){for(var e=this._ruleMap.values,t=[],n=0;n<e.length;n++){var i=e[n];i.dataProvider=this._dataProvider,i.runningCallTask()&&t.push(i)}this._historys=this._historys.concat(t)},t.prototype.removeRuleTask=function(e){this._ruleMap.remove(e)},t.prototype.clear=function(){for(var e=this._ruleMap.values,t=0;t<e.length;t++)e[t].task.clear()},t.prototype.runningRuleTasks=function(){for(var e=this._ruleMap.values,t=[],n=0;n<e.length;n++){var i=e[n];i.dataProvider=this._dataProvider,i.runningTask()&&t.push(i)}this._historys=this._historys.concat(t)},Object.defineProperty(t.prototype,"histroys",{get:function(){return this._historys},enumerable:!1,configurable:!0}),t.TYPE_SCATTER="scatter",t}(a.default);n.default=l,cc._RF.pop()},{"../../SlotData/SDictionary":"SDictionary","../com/base/JTContainer":"JTContainer","./JTTaskContainer":"JTTaskContainer"}],JTRuleTaskType:[function(e,t,n){"use strict";cc._RF.push(t,"0de00iDPRlC5roYQBHO7neQ","JTRuleTaskType"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.WILD_DYNAMIC_TIME_TYPE="wild_dynamic_time_type",e.WILD_ONCE_TIME_TYPE="wild_once_time_type",e.SCATTER="scatter",e.COMBINE="combine",e.RETAIN_WILD_TASK="RETAIN_WILD_TASK",e.DYNAMIC_COMBINE="DYNAMIC_COMBINE",e.ADVANCE_TASK="ADVANCE_TASK",e.CHANGE_SPEED_TASK="CHANGE_SPEED_TASK",e.INFINITY_TASK="INFINITY_TASK",e}();n.default=i,cc._RF.pop()},{}],JTRuleTask:[function(e,t,n){"use strict";cc._RF.push(t,"7e27et1B95GkpT1utmvcIFL","JTRuleTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/tasks/JTTask"),r=e("../com/JTScrollerGroup"),s=function(e){function t(){var t=e.call(this)||this;return t._isLock=!1,t._time=0,t._id=null,t._speed=null,t._condition=null,t._endCall=null,t._priority=0,t._skinURL=null,t._isRunning=!1,t._scrollerGroup=null,t._skinLoaders=null,t._skinLoaders=[],t}return o(t,e),t.prototype.registerComplete=function(){},t.prototype.runningTask=function(){return this._isRunning=!1,this._isRunning},Object.defineProperty(t.prototype,"skinURL",{get:function(){return this._skinURL},set:function(e){this._skinURL=e},enumerable:!1,configurable:!0}),t.prototype.isContainId=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=[]);var o=!1;null==n&&(n=this._id);var a=this._scrollerGroup.channelPipeline.getTemplate(e);if(a.dataListType==r.default.USE_CONVERT_MROE_LIST)for(var s=0;s<t.length;s++){var l=t[s];i.includes(s-1)||0==s||s==t.length-1||l==n&&(o=!0)}else if(a.dataListType==r.default.USE_CONVERT_TO_LIST)for(s=0;s<t.length;s++)l=t[s],i.includes(s)||l==n&&(o=!0);return o},t.prototype.containIdCount=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=[]);var o=0;null==n&&(n=this._id);var a=this._scrollerGroup.channelPipeline.getTemplate(e);if(a.dataListType==r.default.USE_CONVERT_MROE_LIST)for(var s=1;s<t.length-1;s++)i.length>0&&i.indexOf(s-1)>-1||(n instanceof Array?n.includes(t[s])&&o++:t[s]==n&&o++);else if(a.dataListType==r.default.USE_CONVERT_TO_LIST)for(s=0;s<t.length;s++)i.length>0&&i.indexOf(s)>-1||(n instanceof Array?n.includes(t[s])&&o++:t[s]==n&&o++);return o},t.prototype.setupLock=function(e){this._isLock=e},Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},set:function(e){this._priority=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinLoaders",{get:function(){return this._skinLoaders},set:function(){this._skinLoaders=[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"condition",{get:function(){return this._condition},set:function(e){this._condition=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"time",{get:function(){return this._time},set:function(e){this._time=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._isRunning},set:function(e){this._isRunning=e},enumerable:!1,configurable:!0}),t.prototype.clearSkinLoaders=function(){if(this._skinLoaders&&0!=this._skinLoaders.length)for(var e=0;e<this._skinLoaders.length;e++)this._skinLoaders[e].url=null},Object.defineProperty(t.prototype,"scrollerGroup",{get:function(){return this._scrollerGroup},set:function(e){this._scrollerGroup=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLock",{get:function(){return this._isLock},set:function(e){this._isLock=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(e){this._speed=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endCall",{get:function(){return this._endCall},set:function(e){this._endCall=e},enumerable:!1,configurable:!0}),t.prototype.clear=function(){e.prototype.clear.call(this)},t}(a.default);n.default=s,cc._RF.pop()},{"../com/JTScrollerGroup":"JTScrollerGroup","../com/tasks/JTTask":"JTTask"}],JTRunAnomaly:[function(e,t,n){"use strict";cc._RF.push(t,"7558epjWLVKDYbJlnrprjpc","JTRunAnomaly");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTRunning"),r=e("../../../../SlotDefinitions/SlotEnum"),s=e("../../../com/JTScrollerGroup"),l=function(e){function t(){var t=e.call(this)||this;return t.timer=null,t.isChangedTime=!1,t.dataListType=s.default.USE_CONVERT_TO_LIST,t.timer=cc.director.getScheduler(),t}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0,this._scroller.time+=this.scroller.endDelay,this.timer.schedule(this.onEnterFrame,this,0),this.dataListType=this.scrollerGroup.channelPipeline.getTemplate(this._scroller.index).dataListType},t.prototype.clear=function(){this.timer.unschedule(this.onEnterFrame,this)},t.prototype.dataStandby=function(){var t=this._scroller;e.prototype.dataStandby.call(this),t.runningTime=0,t.changedTimes=0},t.prototype.onEnterFrame=function(e){var t=this._scroller;if(null!=t&&null!=t.parent){var n=this._owner.changeSpeed,i=this._owner.scatterRule;if(!(i&&i.onRunningSpeedUp(t)||n&&n.onRunningSpeedUp(t))){this.isChangedTime=!0,i&&!i.updateScatterTime(t)&&(this.isChangedTime=!1),n&&!n.updateTime(t)&&(this.isChangedTime=!1);var o=60*e;t.config.orientation==r.SlotOrientation.Portrait?(t.y-=t.speed*o,this._scroller.speed>0?this.scrollingDown():this.scrollingUp()):(t.x-=t.speed*o,this._scroller.speed>0?this.scrollingLeft():this.scrollingRight()),this.isChangedTime&&(!this._owner.isPending&&this.isDataReady&&(t.runningTime+=1e3*e),i&&i.onRunningSlowdown(t)||n&&n.onRunningSlowdown(t)||t.runningTime<t.time||(this.dataListType==s.default.USE_CONVERT_TO_LIST&&t.changedTimes>=t.config.row||t.changedTimes>=t.config.row+2)&&this.isDataReady&&this.complete())}}else this.clear()},t.prototype.scrollingDown=function(){var e=this._scroller,t=e.items,n=e.config,i=n.gapHeight,o=n.girdHeight,a=Math.floor(Math.abs(e.y)/i);if(a>=1){for(var r=0;r<a;r++){var s=t.pop();t.unshift(s),e.refreshRenders(s)}var l=i;for(r=0;r<t.length;r++){var c=t[r];0!=c.data&&(c.y=l-o/2,l-=c.height+n.gapY)}e.y+=a*i}},t.prototype.scrollingUp=function(){var e=this._scroller,t=e.items,n=e.config,i=n.gapHeight,o=n.girdHeight,a=Math.floor(Math.abs(e.y)/i);if(a>=1){for(var r=0;r<a;r++){var s=t.shift();t.push(s),e.refreshRenders(s)}var l=i;for(r=0;r<t.length;r++){var c=t[r];0!=c.data&&(c.y=l-o/2,l-=c.height+n.gapY)}e.y-=i*a}},t.prototype.scrollingLeft=function(){var e=this._scroller,t=e.items;if(Math.abs(e.x)>=e.config.gapWidth){var n=t.shift();t.push(n),e.refreshRenders(n,!0);for(var i=e.config.gapWidth,o=0;o<t.length;o++){var a=e.items[o];0==o&&0!=a.data&&(i=e.config.gapWidth/2),a.x=i-e.config.girdWidth/4,i+=a.width}e.x+=e.config.gapWidth}},t.prototype.scrollingRight=function(){var e=this._scroller,t=e.items;if(Math.abs(e.x)>=e.config.gapWidth){var n=t.pop();t.unshift(n),e.refreshRenders(n,!0);for(var i=e.config.gapWidth,o=0;o<t.length;o++){var a=e.items[o];0==o&&0!=a.data&&(i=e.config.gapWidth/2),a.x=i-e.config.girdWidth/4,i+=a.width}e.x-=e.config.gapWidth}},t}(a.default);n.default=l,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/JTScrollerGroup":"JTScrollerGroup","../../../com/plugins/procedure/JTRunning":"JTRunning"}],JTRunColumnMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"1e343lGHFdEvIA4gXts1h+M","JTRunColumnMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTRunning"),r=e("../../../../SlotDefinitions/SlotEnum"),s=e("../../JTEasing"),l=function(e){function t(){var t=e.call(this)||this;return t.timer=cc.director.getScheduler(),t.isChangedTime=!1,t.endScrollingDistance=0,t.isRunSlowDown=!1,t.isRunSpeedUp=!1,t.speedUpEasing=null,t.slowDownEasing=null,t.timer=cc.director.getScheduler(),t.speedUpEasing=new s.default,t.slowDownEasing=new s.default,t}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0,this.isRunSlowDown=!1,this.isRunSpeedUp=!1,this.endScrollingDistance=0,this.scroller.adjustSkinRenders(!0),this._scroller.time+=this.scroller.endDelay,this.timer.schedule(this.onEnterFrame,this,0)},t.prototype.continue=function(){var e=this._scroller;e.runningTime=0,e.changedTimes=0},t.prototype.dataStandby=function(){var t=this._scroller;t.runningTime=0,t.changedTimes=0,e.prototype.dataStandby.call(this)},t.prototype.clear=function(){this.timer.unschedule(this.onEnterFrame,this)},t.prototype.onEnterFrame=function(e){var t=this._scroller;if(null!=t&&null!=t.parent){var n=this._owner,i=this._owner.scatterRule,o=this._owner.changeSpeed;if(!n.isPending&&this.isDataReady&&(t.runningTime+=1e3*e),!(i&&i.onRunningSpeedUp(t)||o&&o.onRunningSpeedUp(t))){this.isChangedTime=!0,i&&!i.updateScatterTime(t)&&(this.isChangedTime=!1),o&&!o.updateTime(t)&&(this.isChangedTime=!1);var a=60*e;t.config.orientation==r.SlotOrientation.Portrait?(t.y-=t.speed*a,this._scroller.speed>0?this.scrollingDown():this.scrollingUp()):(t.x-=t.speed*a,this._scroller.speed>0?this.scrollingLeft():this.scrollingRight()),this.beginSpeedUp(e)||this.isChangedTime&&(!n.isPending&&this.isDataReady&&(t.runningTime+=1e3*e),this.beginSpeedUp(e)||i&&i.onRunningSlowdown(t)||o&&o.onRunningSlowdown(t)||this.isDataReady&&(t.runningTime<t.time||(this.endScrollingDistance+=Math.abs(t.speed)*a,this.overSlowDown(e)||this.endScrollingDistance<(t.config.row+2)*t.config.gapHeight||(t.y=0,this.complete()))))}}else this.clear()},t.prototype.scrollingUp=function(){var e=this.scrollerGroup.config,t=this._scroller,n=t.items,i=n[n.length-1].y-.5*n[n.length-1].height;if(t.y+i>-e.getHeight()){for(var o=0,a=0;a<n.length;a++){var r=n[n.length-1],s=n.shift();if(n.push(s),t.refreshRenders(s),o+=s.height+e.gapY,s.y=r.y-.5*r.height-e.gapY-.5*s.height,s.x=s.width/2,i=s.y-.5*s.height,t.y+i<=-e.getHeight())break}for(a=0;a<n.length;a++){var l=n[a];l.y=l.y+o}t.y-=o}},t.prototype.scrollingDown=function(){var e=this.scrollerGroup.config,t=this._scroller,n=t.items,i=(this._owner,n[0].y+.5*n[0].height);if(t.y+i<0){for(var o=0,a=0;a<n.length;a++){var r=n[0],s=n.pop();if(n.unshift(s),t.refreshRenders(s),o+=s.height+e.gapY,s.y=r.y+.5*r.height+e.gapY+.5*s.height,i=s.y+.5*s.height,t.y+i>=0)break}for(a=0;a<n.length;a++)(s=n[a]).y=s.y-o;t.y+=o,this.adjustBeforeOver()}},t.prototype.scrollingLeft=function(){var e=this._scroller,t=e.items,n=Math.floor(Math.abs(e.x)/e.config.gapWidth);if(n>=1){for(var i=0;i<n;i++){var o=t.shift();t.push(o),e.refreshRenders(o)}for(i=0;i<t.length;i++)t[i].x=e.config.gapWidth*i-e.config.girdWidth/2;e.x+=e.config.gapWidth*n}},t.prototype.scrollingRight=function(){var e=this._scroller,t=e.items,n=Math.floor(Math.abs(e.x)/e.config.gapWidth);if(n>=1){for(var i=0;i<n;i++){var o=t.pop();t.unshift(o),e.refreshRenders(o)}for(i=0;i<t.length;i++)t[i].x=e.config.gapWidth*i-e.config.girdWidth/2;e.x-=e.config.gapWidth*n}},t.prototype.overSlowDown=function(e){var t=this._scroller,n=this._owner.scatterRule,i=this._owner.changeSpeed;if(!(n&&n.getScatterInfo(t.index)||i&&i.getChangeSpeedInfo(t.index))&&t.endSlowDownTime&&t.endSpeed&&!(t.changedTimes<2||this.endScrollingDistance>=(t.config.row+2)*t.config.gapHeight||(this.isRunSlowDown||(this.isRunSlowDown=!0,this.slowDownEasing.start(t.speed,t.endSpeed,t.endSlowDownTime/1e3,s.JTEasingType.easeOutCubic)),this.slowDownEasing.isComplete)))return this.slowDownEasing.update(e),t.speed=this.slowDownEasing.getCurrentValue(),!0},t.prototype.beginSpeedUp=function(e){var t=this._scroller;return!!t.beginSpeedUpTime&&(this.isRunSpeedUp||(this.isRunSpeedUp=!0,this.speedUpEasing.start(t.beginSpeed,t.speed,t.beginSpeedUpTime/1e3,s.JTEasingType.easeOutCubic)),this.speedUpEasing.isComplete?void 0:(this.speedUpEasing.update(e),t.speed=this.speedUpEasing.getCurrentValue(),!0))},t.prototype.adjustBeforeOver=function(){var e=this._scroller,t=e.config,n=e.sources,i=e.imageIndex,o=n[i];if(t.isMixElement(o)){if(e.speed>0){for(var a=0,r=i+1;r<n.length&&n[r]==o;r++)a++;e.imageIndex+=a}else{for(a=0,r=i-1;r>=0&&n[r]==o;r--)a++;e.imageIndex-=a}e.runningTime<e.time||1==e.changedTimes||e.changedTimes>=t.row+2||e.changedTimes++}},t}(a.default);n.default=l,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/procedure/JTRunning":"JTRunning","../../JTEasing":"JTEasing"}],JTRunEliminateFallAndDrop:[function(e,t,n){"use strict";cc._RF.push(t,"bd9afxq0VhOwo/tHESPGXtW","JTRunEliminateFallAndDrop");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./EliminateEffectUtils"),r=e("../../../com/plugins/procedure/JTRunning"),s=e("../../../../SlotUtils/Handle"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0,this._owner.owner.index==this.scroller.config.col-1?this.dropItem():this.endComplete()},t.prototype.dropItem=function(){a.default.beginFallToBelowThenAboveFall(this.owner.owner.owner,s.Handler.create(this,this.endComplete,[]))},t.prototype.endComplete=function(){e.prototype.complete.call(this)},t}(r.default);n.default=l,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTRunning":"JTRunning","./EliminateEffectUtils":"EliminateEffectUtils"}],JTRunEliminateFallByRow:[function(e,t,n){"use strict";cc._RF.push(t,"90f18hKQQVG2Jpa6invPVWl","JTRunEliminateFallByRow");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./EliminateEffectUtils"),r=e("../../../com/plugins/procedure/JTRunning"),s=e("../../../../SlotUtils/Handle"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0,this._owner.owner.index==this.scroller.config.col-1?this.dropItem():(this.changeItem(),this.endComplete())},t.prototype.dropItem=function(){this.changeItem(),a.default.startEffect(this.owner.owner.owner,s.Handler.create(this,this.endComplete,[]),450)},t.prototype.changeItem=function(){0!=this._scroller.dataList.length&&this.owner.lineTimeComplete()},t.prototype.endComplete=function(){e.prototype.complete.call(this)},t}(r.default);n.default=l,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTRunning":"JTRunning","./EliminateEffectUtils":"EliminateEffectUtils"}],JTRunEliminate:[function(e,t,n){"use strict";cc._RF.push(t,"e9766T5vdNKS6BuqRs0XBuD","JTRunEliminate");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./EliminateEffectUtils"),r=e("../../../com/plugins/procedure/JTRunning"),s=e("../../../../SlotUtils/Handle"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0,this._owner.owner.index==this.scroller.config.col-1?this.dropItem():(this.changeItem(),this.endComplete())},t.prototype.dropItem=function(){this.changeItem(),a.default.beginFallAllElementFromAbove(this.owner.owner.owner,s.Handler.create(this,this.endComplete,[]))},t.prototype.changeItem=function(){0!=this._scroller.dataList.length&&this.owner.lineTimeComplete()},t.prototype.endComplete=function(){e.prototype.complete.call(this)},t}(r.default);n.default=l,cc._RF.pop()},{"../../../../SlotUtils/Handle":"Handle","../../../com/plugins/procedure/JTRunning":"JTRunning","./EliminateEffectUtils":"EliminateEffectUtils"}],JTRunIrregular:[function(e,t,n){"use strict";cc._RF.push(t,"2e0b2ANeTpEtZJFZMdXLhhS","JTRunIrregular");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("../scrolling/JTRunScrolling").default);n.default=a,cc._RF.pop()},{"../scrolling/JTRunScrolling":"JTRunScrolling"}],JTRunMixScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"882fe13JvlOi4Ig4UWpF/d6","JTRunMixScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.timer=cc.director.getScheduler(),t.isChangedTime=!1,t.timer=cc.director.getScheduler(),t}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0;var e=this.owner;e.plugin.start(this.scroller.index),e.plugin.running(this.scroller.index)},t.prototype.continue=function(){this.owner.plugin.continue(this.scroller.index)},t.prototype.dataStandby=function(){},t.prototype.clear=function(){},t}(e("../../../com/plugins/procedure/JTRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTRunning":"JTRunning"}],JTRunScrolling:[function(e,t,n){"use strict";cc._RF.push(t,"9e67c2t6GlBUbLhVm99eHPb","JTRunScrolling");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTRunning"),r=e("../../../../SlotDefinitions/SlotEnum"),s=e("../../../rules/JTCombineTask"),l=e("../../JTEasing"),c=function(e){function t(){var t=e.call(this)||this;return t.timer=cc.director.getScheduler(),t.isChangedTime=!1,t.isRunSlowDown=!1,t.isRunSpeedUp=!1,t.speedUpEasing=null,t.slowDownEasing=null,t.timer=cc.director.getScheduler(),t.speedUpEasing=new l.default,t.slowDownEasing=new l.default,t}return o(t,e),t.prototype.running=function(){this._scroller.isRunning=!0,this.isRunSlowDown=!1,this.isRunSpeedUp=!1,this.scroller.adjustSkinRenders(!0),this._scroller.time+=this.scroller.endDelay,this._scroller.time+=this._scroller.beginSpeedUpTime,this.timer.schedule(this.onEnterFrame,this,0)},t.prototype.continue=function(){var e=this._scroller;e.runningTime=0,e.changedTimes=0},t.prototype.dataStandby=function(){var t=this._scroller;t.runningTime=0,t.changedTimes=0,e.prototype.dataStandby.call(this)},t.prototype.clear=function(){this.timer.unschedule(this.onEnterFrame,this)},t.prototype.onEnterFrame=function(e){var t=this._scroller;if(null!=t&&null!=t.parent){var n=this._owner,i=this._owner.scatterRule,o=this._owner.combineRule,a=this._owner.changeSpeed;if(o&&o.combineState==s.JTCombineState.Stay&&(i=null),!(i&&i.onRunningSpeedUp(t)||a&&a.onRunningSpeedUp(t))){this.isChangedTime=!0,i&&!i.updateScatterTime(t)&&(this.isChangedTime=!1),a&&!a.updateTime(t)&&(this.isChangedTime=!1);var l=60*e;t.config.orientation==r.SlotOrientation.Portrait?(t.y-=t.speed*l,this._scroller.speed>0?this.scrollingDown():this.scrollingUp()):(t.x-=t.speed*l,this._scroller.speed>0?this.scrollingLeft():this.scrollingRight()),this.isChangedTime&&(!n.isPending&&this.isDataReady&&(t.runningTime+=1e3*e),this.beginSpeedUp(e)||i&&i.onRunningSlowdown(t)||a&&a.onRunningSlowdown(t)||t.runningTime<t.time||this.overSlowDown(e)||t.changedTimes>=t.config.row+2&&this.isDataReady&&this.complete())}}else this.clear()},t.prototype.scrollingUp=function(){var e=this._owner.getConfig(),t=this._scroller,n=t.items,i=t.owner,o=e.gapHeight,a=e.girdHeight,r=Math.floor(Math.abs(t.y)/o);if(r>=1){for(var s=0;s<r;s++){var l=n.shift();n.push(l),t.refreshRenders(l)}for(s=0;s<n.length;s++)(u=n[s]).y=-o*(s-1)-a/2;t.y-=o*r}if(i.isIncline){var c=this._owner;for(s=0;s<n.length;s++)(u=n[s]).x=t.config.girdWidth/2,c.adjustItemIncline(u)}if(i.isCurve)for(c=this._owner,s=0;s<n.length;s++){var u;(u=n[s]).x=t.config.girdWidth/2,c.adjustItemCurve(u)}},t.prototype.scrollingDown=function(){var e=this._owner.getConfig(),t=this._scroller,n=t.items,i=t.owner,o=e.gapHeight,a=e.girdHeight,r=Math.floor(Math.abs(t.y)/o);if(r>=1){for(var s=0;s<r;s++){var l=n.pop();n.unshift(l),t.refreshRenders(l)}for(s=0;s<n.length;s++)(u=n[s]).y=-o*(s-1)-a/2;t.y+=o*r}if(i.isIncline){var c=this._owner;for(s=0;s<n.length;s++)(u=n[s]).x=t.config.girdWidth/2,c.adjustItemIncline(u)}if(i.isCurve)for(c=this._owner,s=0;s<n.length;s++){var u;(u=n[s]).x=t.config.girdWidth/2,c.adjustItemCurve(u)}},t.prototype.scrollingLeft=function(){var e=this._scroller,t=e.items,n=Math.floor(Math.abs(e.x)/e.config.gapWidth);if(n>=1){for(var i=0;i<n;i++){var o=t.shift();t.push(o),e.refreshRenders(o)}for(i=0;i<t.length;i++)t[i].x=e.config.gapWidth*i-e.config.girdWidth/2;e.x+=e.config.gapWidth*n}},t.prototype.scrollingRight=function(){var e=this._scroller,t=e.items,n=Math.floor(Math.abs(e.x)/e.config.gapWidth);if(n>=1){for(var i=0;i<n;i++){var o=t.pop();t.unshift(o),e.refreshRenders(o)}for(i=0;i<t.length;i++)t[i].x=e.config.gapWidth*i-e.config.girdWidth/2;e.x-=e.config.gapWidth*n}},t.prototype.overSlowDown=function(e){var t=this._scroller,n=this._owner.scatterRule,i=this._owner.changeSpeed;if(!(n&&n.getScatterInfo(t.index)||i&&i.getChangeSpeedInfo(t.index))&&t.endSlowDownTime&&t.endSpeed&&!(t.changedTimes<2||t.changedTimes>=t.dataList.length||(this.isRunSlowDown||(this.isRunSlowDown=!0,this.slowDownEasing.start(t.speed,t.endSpeed,t.endSlowDownTime/1e3,l.JTEasingType.easeOutCubic)),this.slowDownEasing.isComplete)))return this.slowDownEasing.update(e),t.speed=this.slowDownEasing.getCurrentValue(),!0},t.prototype.beginSpeedUp=function(e){var t=this._scroller;return!!t.beginSpeedUpTime&&(this.isRunSpeedUp||(this.isRunSpeedUp=!0,this.speedUpEasing.start(t.beginSpeed,t.speed,t.beginSpeedUpTime/1e3,l.JTEasingType.easeOutCubic)),this.speedUpEasing.isComplete?void 0:(this.speedUpEasing.update(e),t.speed=this.speedUpEasing.getCurrentValue(),!0))},t}(a.default);n.default=c,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/procedure/JTRunning":"JTRunning","../../../rules/JTCombineTask":"JTCombineTask","../../JTEasing":"JTEasing"}],JTRunUnfixedLength:[function(e,t,n){"use strict";cc._RF.push(t,"82447NMrrpLv4L22HVTYH1K","JTRunUnfixedLength");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTRunning"),r=e("../../../../SlotDefinitions/SlotEnum"),s=e("../../../../MainView/BaseSpinSlotView"),l=e("../../JTEasing"),c=function(e){function t(){var t=e.call(this)||this;return t.timer=cc.director.getScheduler(),t.isChangedTime=!1,t.isRunSlowDown=!1,t.isRunSpeedUp=!1,t.speedUpEasing=null,t.slowDownEasing=null,t.startedSync=!1,t.timer=cc.director.getScheduler(),t.speedUpEasing=new l.default,t.slowDownEasing=new l.default,t}return o(t,e),t.prototype.running=function(){var e=this.scroller;e.isRunning=!0,e.adjustSkinRenders(!0),this.isRunSlowDown=!1,this.isRunSpeedUp=!1,this.startedSync=!1,this._owner.extendScrollerInfo||(e.time+=e.endDelay),e.time+=e.beginSpeedUpTime,this.timer.schedule(this.onEnterFrame,this,0)},t.prototype.continue=function(){var e=this._scroller;e.runningTime=0,e.changedTimes=0},t.prototype.dataStandby=function(){var t=this._scroller;t.runningTime=0,t.changedTimes=0,e.prototype.dataStandby.call(this)},t.prototype.clear=function(){this.timer.unschedule(this.onEnterFrame,this)},t.prototype.onEnterFrame=function(e){var t=this._scroller;if(null!=t&&null!=t.parent){var n=this._owner,i=this._owner.scatterRule,o=this._owner.changeSpeed;if(!(i&&i.onRunningSpeedUp(t)||o&&o.onRunningSpeedUp(t))){this.isChangedTime=!0,i&&!i.updateScatterTime(t)&&(this.isChangedTime=!1,n.extendScrollerInfo&&(this.isChangedTime=!0)),o&&!o.updateTime(t)&&(this.isChangedTime=!1);var a=this.beginSpeedUp(e),s=t.config.orientation;n.extendScrollerInfo&&(s=n.extendScrollerInfo.direction);var l=60*e;s==r.SlotOrientation.Portrait?(t.y-=t.speed*l,this._scroller.speed>0?this.scrollingDown():this.scrollingUp()):(t.x-=t.speed*l,this._scroller.speed>0?this.scrollingLeft():this.scrollingRight()),!a&&this.startLinkSync(),this.isChangedTime&&(!n.isPending&&this.isDataReady&&(t.runningTime+=1e3*e),i&&i.onRunningSlowdown(t)||o&&o.onRunningSlowdown(t)||t.runningTime<t.time||this.overSlowDown(e)||t.changedTimes>=t.dataList.length&&this.isDataReady&&this.complete())}}else this.clear()},t.prototype.scrollingUp=function(){var e=this.scrollerGroup.config,t=this._scroller,n=t.items,i=t.owner,o=n[n.length-1].y-.5*n[n.length-1].height;if(t.y+o>-e.getHeight()){for(var a=0,r=0;r<n.length;r++){var s=n[n.length-1],l=n.shift();if(n.push(l),this.refreshRenders(l),a+=l.height+e.gapY,l.y=s.y-.5*s.height-e.gapY-.5*l.height,l.x=l.width/2,o=l.y-.5*l.height,t.y+o<=-e.getHeight())break}t.y-=a}if(i.isIncline){var c=this._owner;for(r=0;r<n.length;r++){var u=n[r];u.x=t.config.girdWidth/2,c.adjustItemIncline(u)}}},t.prototype.scrollingDown=function(){var e=this.scrollerGroup.config,t=this._scroller,n=t.items,i=n[0].y+.5*n[0].height,o=t.owner;if(t.y+i<0){for(var a=0,r=0;r<n.length;r++){var s=n[0],l=n.pop();if(n.unshift(l),this.refreshRenders(l),a+=l.height+e.gapY,l.y=s.y+.5*s.height+e.gapY+.5*l.height,i=l.y+.5*l.height,t.y+i>=0)break}for(r=0;r<n.length;r++)(l=n[r]).y=l.y-a;t.y+=a}if(o.isIncline){var c=this._owner;for(r=0;r<n.length;r++){var u=n[r];u.x=t.config.girdWidth/2,c.adjustItemIncline(u)}}},t.prototype.scrollingLeft=function(){var e=this._scroller,t=e.items,n=e.config,i=Math.floor(Math.abs(e.x-e.pipeline.sourceX)/e.config.gapWidth),o=this.owner,a=o.extendScrollerInfo,r=a?a.gap:0;if(i>=1){for(var l=0;l<i;l++){var c=t.shift();t.push(c);var u=c.mixRow;if(this.refreshRenders(c),a){c.mixRow=u,c.height=n.girdHeight*u+n.gapY*(u-1),c.gotoAndStop(s.default.STATE_ROLLING);var p=n.getUnfixedLengthItemConfig(c.data,c.mixRow);p&&(c.data=p.mapId)}}for(l=0;l<t.length;l++)(h=t[l]).x=(e.config.gapWidth+r)*l-e.config.girdWidth/2;e.x+=e.config.gapWidth*i}if(a.curveDegree)for(l=0;l<t.length;l++){var h;(h=t[l]).y=-e.config.girdHeight/2,o.adjustExtendItemCurve(h)}},t.prototype.scrollingRight=function(){var e=this._scroller,t=e.items,n=Math.floor(Math.abs(e.x)/e.config.gapWidth),i=this.owner.extendScrollerInfo,o=e.config,a=i?i.gap:0;if(n>=1){for(var r=0;r<n;r++){var l=t.pop();t.unshift(l),this.refreshRenders(l);var c=l.mixRow;if(i){l.mixRow=c,l.height=o.girdHeight*c+o.gapY*(c-1);var u=o.getUnfixedLengthItemConfig(l.data,l.mixRow);u&&(l.data=u.mapId),l.gotoAndStop(s.default.STATE_ROLLING)}}for(r=0;r<t.length;r++)t[r].x=(e.config.gapWidth+a)*r-e.config.girdWidth/2;e.x-=e.config.gapWidth*n}},t.prototype.refreshRenders=function(e){var t=this._scroller,n=t.config,i=this.owner;if(t.runningTime<t.time){t.imageIndex+=1,t.imageIndex>t.sources.length-1&&(t.imageIndex=0);var o=t.sources[t.imageIndex];e.realData=o;var a=i.getOccupyPosData(t.imageIndex,o),r=n.getUnfixedLengthItemConfig(o,a);e.realData=o,e.mixRow=a,e.data=r?r.mapId:o,e.height=n.girdHeight*e.mixRow+n.gapY*(e.mixRow-1),e.gotoAndStop(s.default.STATE_ROLLING)}else{t.speed>=0?(t.imageIndex+=1,t.imageIndex>t.sources.length-1&&(t.imageIndex=0),0==t.changedTimes&&(t.imageIndex=t.sources.length-t.dataList.length)):(t.imageIndex-=1,t.imageIndex<0&&(t.imageIndex=t.sources.length-1),0==t.changedTimes&&(t.imageIndex=t.sources.length-1)),o=t.sources[t.imageIndex];var l=t.dataProvider.grids.occupyPosList,c=t.dataProvider.grids.gridShapes;if(0==l.length){l=[];for(var u=n.row/c.length,p=0,h=c;p<h.length;p++){var d=h[p];l.push({pos:d,len:u})}}if(t.pipeline.setRenderBeforeComplete(e))a=l[t.speed>0?t.dataList.length-2-t.changedTimes:t.changedTimes-1].len,r=n.getUnfixedLengthItemConfig(o,a),e.realData=o,e.mixRow=a,e.data=r?r.mapId:o,e.height=n.girdHeight*a+n.gapY*(a-1),e.beforeRollComplete();else{var f=0==l.length,m=t.sources[t.imageIndex];e.realData=m,!f&&(e.mixRow=1),r=n.getUnfixedLengthItemConfig(m,e.mixRow),e.data=r?r.mapId:m,e.height=n.girdHeight*e.mixRow+n.gapY*(e.mixRow-1)}t.imageIndex>t.sources.length-1&&(t.imageIndex=0),t.changedTimes+=1}},t.prototype.overSlowDown=function(e){var t=this._scroller,n=this._owner.scatterRule,i=this._owner.changeSpeed;if(!(n&&n.getScatterInfo(t.index)||i&&i.getChangeSpeedInfo(t.index))&&t.endSlowDownTime&&t.endSpeed&&!(t.changedTimes<2||t.changedTimes>=t.dataList.length||(this.isRunSlowDown||(this.isRunSlowDown=!0,this.slowDownEasing.start(t.speed,t.endSpeed,t.endSlowDownTime/1e3,l.JTEasingType.easeOutCubic)),this.slowDownEasing.isComplete)))return this.slowDownEasing.update(e),t.speed=this.slowDownEasing.getCurrentValue(),!0},t.prototype.beginSpeedUp=function(e){var t=this._scroller;return!!t.beginSpeedUpTime&&(this.isRunSpeedUp||(this.isRunSpeedUp=!0,this.speedUpEasing.start(t.beginSpeed,t.speed,t.beginSpeedUpTime/1e3,l.JTEasingType.easeOutCubic)),this.speedUpEasing.isComplete?void 0:(this.speedUpEasing.update(e),t.speed=this.speedUpEasing.getCurrentValue(),!0))},t.prototype.startLinkSync=function(){var e=this._owner;if(e.linkIndexs.includes(this._index)&&!this.startedSync){var t=this._scroller;this.startedSync=!0;var n=this.scrollerGroup.items[e.linkIndexs[0]];t!=n&&(t.imageIndex=n.imageIndex,t.time=n.time,t.endDelay=n.endDelay,t.runningTime=n.runningTime,t.y=n.y,e.occupyPosData=n.pipeline.occupyPosData)}},t}(a.default);n.default=c,cc._RF.pop()},{"../../../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/procedure/JTRunning":"JTRunning","../../JTEasing":"JTEasing"}],JTRunning:[function(e,t,n){"use strict";cc._RF.push(t,"803ffAQNU1HtouXFpvY8fi9","JTRunning");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.runningTask=function(){this.running()},t}(e("./JTProcedure").default);n.default=a,cc._RF.pop()},{"./JTProcedure":"JTProcedure"}],JTRuntimeSkinnableGrid:[function(e,t,n){"use strict";cc._RF.push(t,"350fd5NMlRKCLyUry6klbD+","JTRuntimeSkinnableGrid");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("./JTRuntimeSkinnable").default);n.default=a,cc._RF.pop()},{"./JTRuntimeSkinnable":"JTRuntimeSkinnable"}],JTRuntimeSkinnableLine:[function(e,t,n){"use strict";cc._RF.push(t,"825b3tS9gZGXI1d10gSOwUm","JTRuntimeSkinnableLine");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("./JTRuntimeSkinnable").default);n.default=a,cc._RF.pop()},{"./JTRuntimeSkinnable":"JTRuntimeSkinnable"}],JTRuntimeSkinnable:[function(e,t,n){"use strict";cc._RF.push(t,"6d0b80g25tOJoyyEzFwBg4u","JTRuntimeSkinnable");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t}(e("./JTSkinnable").default);n.default=a,cc._RF.pop()},{"./JTSkinnable":"JTSkinnable"}],JTScatterGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"a4a8b1SC/5FxocmNVTykn94","JTScatterGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/base/JTContainer"),r=e("../com/factorys/JTLayerFactory"),s=e("../com/factorys/JTChildFactory"),l=e("../JTLogger"),c=e("./skinnables/JTSkinnableGridRender"),u=e("./skinnables/base/JTAdvanceSkinnable"),p=e("./skinnables/JTSkinnableArtGridRender"),h=function(e){function t(){var t=e.call(this)||this;return t._gridMap=null,t._gridContainer=null,t._gridRenders=null,t._gridRenderPoints=null,t._scroller=null,t.gridRenderPoints=[],t}return o(t,e),t.prototype.initialize=function(){this._gridMap={},this._gridRenders=[],this._scroller=this.owner,this._gridRenderPoints=this.getGridRenderPoints(),this.gridContainer=this._scroller.factoryLayer.produce(r.default.SCATTER_GRID_CONTAINER,this._scroller)},t.prototype.createSkinnable=function(e){return this._scroller.factoryChild.produce(e,this)},t.prototype.getGridRenderPoints=function(){for(var e=this._scroller.renders,t=[],n=0;n<e.length;n++){var i=e[n],o=this._scroller.getRenderPoint(i.index);t.push(o)}return t},t.prototype.create=function(e){for(var t=e.gridTxtMap.get(1),n=this._scroller.config,i=n.row*n.col,o=0;o<i;o++){var a=this.createSkinnable(s.default.SCATTER_GRID_TYPE,this.gridContainer);a||(a=this.createSkinnable(s.default.GIRD_TYPE,this.gridContainer)),this.gridRenders.push(a),!t&&a instanceof c.default&&(l.default.info("JTScatterGridRender.create:              "),a.createComplete(null)),a instanceof u.default?(a.setupTexture(t,o),a.defaultWidth=n.girdWidth,a.defaultHeight=n.girdHeight):a instanceof p.default&&(a.createComplete(null),a.setupTexture(null,o)),a&&a.skinContainer&&this.gridContainer&&this.gridContainer.addChild(a.skinContainer)}this.showGrids(0)},t.prototype.showGrid=function(e,t){for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(o.index)}this.showGrids(n)},t.prototype.showGrids=function(e){0==e&&(e=[]);for(var t=this._gridRenders.length,n=0;n<t;n++){var i=this._gridRenders[n];if(i){var o=this.scroller.getRenderByPos(n);if(o){var a=this.scroller.getRenderPoint(o.index),r=i.skinContainer;r&&(r.x=a.x,r.y=a.y,r.height=o.height,r.width=o.width,-1==e.indexOf(n)||this.ignoreShowGridByData(o,this.scroller.ignoreShowGridData)?i.hide():i.show())}}}},t.prototype.hideGrid=function(e){var t=this._gridRenders[e];t&&t.hide()},t.prototype.changedSkinnable=function(){},Object.defineProperty(t.prototype,"gridMap",{get:function(){return this._gridMap},set:function(e){this._gridMap=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scroller",{get:function(){return this._scroller},set:function(e){this._scroller=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridRenders",{get:function(){return this._gridRenders},set:function(e){this._gridRenders=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridRenderPoints",{get:function(){return this._gridRenderPoints},set:function(e){this._gridRenderPoints=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridContainer",{get:function(){return this._gridContainer},set:function(e){this._gridContainer=e},enumerable:!1,configurable:!0}),t.prototype.ignoreShowGridByData=function(e,t){if(e)if(t instanceof Array&&t.length>0){if(-1!=t.indexOf(e.data))return!0}else if("number"==typeof t&&t==e.data)return!0;return!1},t}(a.default);n.default=h,cc._RF.pop()},{"../JTLogger":"JTLogger","../com/base/JTContainer":"JTContainer","../com/factorys/JTChildFactory":"JTChildFactory","../com/factorys/JTLayerFactory":"JTLayerFactory","./skinnables/JTSkinnableArtGridRender":"JTSkinnableArtGridRender","./skinnables/JTSkinnableGridRender":"JTSkinnableGridRender","./skinnables/base/JTAdvanceSkinnable":"JTAdvanceSkinnable"}],JTScatterTask:[function(e,t,n){"use strict";cc._RF.push(t,"b30f98sYIZBZ6z8YrBO5wZk","JTScatterTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTRuleTask"),r=e("../com/JTScrollerGroup"),s=e("../../SlotData/SDictionary"),l=e("../../SlotConfigs/GameEventNames"),c=e("../../SlotDefinitions/SlotEnum"),u=e("../JTOddsUtils"),p=e("../../SlotUtils/SlotUtils"),h=function(e){function t(){var t=e.call(this)||this;return t.ranCallTask=!1,t._scatterCount=0,t.indexs=null,t.lastIndex=0,t.rangeMin=0,t.rangeMax=0,t.rangeValue=0,t._scatterMap=null,t._lastScrollerTime=0,t.configs=null,t._currentConfig=null,t.subgroupConfigMap=null,t.operationState=c.OperationState.Normal,t.requireIndexs=[],t.callIndexs=[],t.tempCallIndexs=[],t.onSpeedScrolling=!1,t.expectItemIndexs=[],t.linkIndexs=[],game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_OPERATIONSTATE_CHANGE,t.operationStateChange,t),t._scatterMap=new s.SDictionary,t.subgroupConfigMap=new s.SDictionary,t.configs=[],t}return o(t,e),t.prototype.operationStateChange=function(e,t){this.operationState=t},t.prototype.isTreatScatterEvent=function(){for(var e=0,t=this.configs;e<t.length;e++)if(!t[e].isTreatInFree&&(this.operationState==c.OperationState.Free||this.operationState==c.OperationState.ReSpin))return!1;return!0},t.prototype.config=function(e,n,i,o,a,r,s,l,c,u,p,h,d,m){void 0===s&&(s=!0),void 0===u&&(u=t.COUNT_MODE),void 0===p&&(p=null),void 0===h&&(h=!0),void 0===d&&(d=!0),void 0===m&&(m=!1);var g=new f;u==t.INDEX_MODE&&n.sort(function(e,t){return e-t}),g.condition=n,g.id=e,g.type=u,g.speed=i,g.isTogether=s,g.time=o,g.skinURL=r,g.priority=a,g.progress=c,g.scatterIndexList=p,g.isTreatInFree=h,g.isTreatInTurbo=d,g.onlyTreatInFree=m,this.configs.push(g),this.configs.sort(function(e,t){return t.priority-e.priority}),this._skinURL=r},t.prototype.runningTask=function(){if(this.ranCallTask){e.prototype.runningTask.call(this),this._currentConfig=null,this.requireIndexs=[],this.callIndexs=[],this.tempCallIndexs=[];for(var n=0;n<this.configs.length;n++){var i=this.configs[n],o=this.runningLoopTask(i);if(o){if(o.type==t.FULL_CONTINUE_MODE||o.type==t.LINE_MODE);else if(o.scatterIndexList)for(var a=0,r=o.scatterIndexList;a<r.length;a++){var s=r[a];!this.indexs.includes(s)&&s>this.lastIndex&&this.tempCallIndexs.push(s)}else for(var l=this.lastIndex+1;l<this.dataList.length;l++)this.tempCallIndexs.push(l);if(this.scrollerGroup.subgroupConfigs.length>0)this._currentConfig=o,this.setSubgroupTask(o,this.tempCallIndexs.concat(this.indexs)),this.requireIndexs=this.requireIndexs.concat(this.indexs),this.callIndexs=this.callIndexs.concat(this.tempCallIndexs);else if(this._currentConfig){var c=this.callIndexs[0],u=this.tempCallIndexs[0];u<c?(this.callIndexs=[].concat(this.tempCallIndexs),this.requireIndexs=[].concat(this.indexs),this._currentConfig=o):u==c&&o.priority>this._currentConfig.priority&&(this.callIndexs=[].concat(this.tempCallIndexs),this.requireIndexs=[].concat(this.indexs),this._currentConfig=o)}else this._currentConfig=o,this.requireIndexs=[].concat(this.indexs),this.callIndexs=[].concat(this.tempCallIndexs)}}return this.requireIndexs.length>0&&(this.lastIndex=this.requireIndexs[this.requireIndexs.length-1]),this._isRunning}this.ranCallTask=!0},t.prototype.runningLoopTask=function(e){this.lastIndex=0,this.indexs=[],this._scatterCount=0;var n=null;if(this.tempCallIndexs=[],this.expectItemIndexs=[],(e.isTreatInFree||this.operationState!=c.OperationState.Free&&this.operationState!=c.OperationState.ReSpin)&&(!e.onlyTreatInFree||this.operationState!=c.OperationState.Normal)){var i=this.scrollerGroup.caller.settings;if(e.isTreatInTurbo||i.isNormalMode()){if(e.type==t.INDEX_MODE){for(var o=0;o<e.condition.length;o++){var a=e.condition[o],r=this.dataList[a],s=this.getIgnoreIndexs(a);if(this.isContainId(a,r,e.id,s)&&(this.indexs.push(a),this.indexs.length==e.condition.length)){this.lastIndex=a,n=e;break}}if(this._scatterCount=this.indexs.length,this._scatterCount==e.condition.length&&(this._isRunning=!0),n&&null!=n.scatterIndexList){var l=[];for(o=0;o<e.condition.length;o++)a=e.condition[o],-1==n.scatterIndexList.indexOf(a)&&l.push(a);l.length>0&&(this.lastIndex=l[l.length-1])}}else if(e.type==t.ITEM_COUNT_MODE||e.type==t.MULTIPLE_ITEM_COUNT_MODE){var u=0;for(o=0;o<this.dataList.length;o++)if(r=this.dataList[o],s=this.getIgnoreIndexs(o),0!=(A=this.containIdCount(o,r,e.id,s))&&(u+=A,this.indexs.push(o),u>=e.condition)){this.lastIndex=o,n=e;break}this._scatterCount=u,this._scatterCount>=e.condition&&this.lastIndex!=this.dataList.length-1&&(this._isRunning=!0)}else if(e.type==t.APPOINT_MODE){var h=!0;for(o=0;o<e.condition.length;o++){var d=e.condition[o].id;if(a=e.condition[o].index,r=this.dataList[a],s=this.getIgnoreIndexs(a),!this.isContainId(a,r,d,s)){h=!1;break}this.indexs.push(a),this.lastIndex=a}h&&(n=e),h&&this.lastIndex!=this.dataList.length-1&&(this._isRunning=!0)}else if(e.type==t.FULL_CONTINUE_MODE){for(h=!0,o=0;o<e.condition.length;o++){a=e.condition[o],r=this.dataList[a],s=this.getIgnoreIndexs(a);for(var f=!1,m=0,g=e.id;m<g.length;m++)if(u=(T=g[m]).count,d=T.id,(A=this.containIdCount(a,r,d,s))>=u){f=!0;break}f||(h=!1),this.indexs.push(a),this.lastIndex=a}if(h)for(n=e,this._isRunning=!0,this.lastIndex+1<this.dataList.length&&this.tempCallIndexs.push(this.lastIndex+1),o=this.lastIndex+1;o<this.dataList.length;o++){r=this.dataList[o],s=this.getIgnoreIndexs(o),f=!1;for(var _=0,y=e.id;_<y.length;_++){var T;if(u=(T=y[_]).count,d=T.id,(A=this.containIdCount(o,r,d,s))>=u){f=!0;break}}if(!f)break;o+1<this.dataList.length&&this.tempCallIndexs.push(o+1)}}else if(e.type==t.APPOINT_MULTIPLE_ITEM_COUNT_MODE){var S=e.condition.count,E=e.condition.indexs;for(u=0,o=0;o<E.length;o++)if(a=E[o],r=this.dataList[a],s=this.getIgnoreIndexs(a),0!=(A=this.containIdCount(a,r,e.id,s))&&(u+=A,this.indexs.push(a),u>=S)){this.lastIndex=a,n=e;break}this._scatterCount=u,this._scatterCount>=S&&this.lastIndex!=this.dataList.length-1&&(this._isRunning=!0)}else if(e.type==t.LINE_MODE){d=e.id;for(var v=e.condition,C=this.getAllLineIndexs(),b=this.scrollerGroup.config,R=(E=[],null),M=0,L=C;M<L.length;M++){for(var N=L[M],I=[],O=0;O<N.length;O++){s=this.getIgnoreIndexs(O);var P=(a=N[O]-1)%b.row;if(!this.isEqualId(P,O,d,s)&&!p.default.isWild(d))break;I.push(O)}I.length>=v&&I.length>E.length&&(E=I,R=N)}if(E.length>=v){for(o=0;o<E.length;o++)o<v?this.indexs.push(E[o]):this.tempCallIndexs.push(E[o]);for(this.lastIndex=this.indexs[this.indexs.length-1],E[E.length-1]<this.dataList.length-1&&this.tempCallIndexs.push(E[E.length-1]+1),n=e,O=0;O<R.length;O++)a=R[O]-1,this.expectItemIndexs.push(a)}this.indexs.length>=v&&(this._isRunning=!0)}else if(e.type==t.APPOINT_COUNT_MODE){for(h=!0,o=0;o<e.condition.length;o++){var A;if(d=e.condition[o].id,a=e.condition[o].index,u=e.condition[o].count,r=this.dataList[a],s=this.getIgnoreIndexs(a),(A=this.containIdCount(a,r,d,s))<u){h=!1;break}this.indexs.push(a),this.lastIndex=a}h&&(n=e),h&&this.lastIndex!=this.dataList.length-1&&(this._isRunning=!0)}else this.hasOwnContinueId(e)&&(n=e),this._scatterCount=this.indexs.length,this._scatterCount==e.condition&&this.lastIndex!=this.dataList.length-1&&(this._isRunning=!0);return n}}},t.prototype.isEqualId=function(e,t,n,i){void 0===i&&(i=[]);var o=this._scrollerGroup.channelPipeline.getTemplate(t),a=this.dataList[t];return o.dataListType==r.default.USE_CONVERT_MROE_LIST?!(i.indexOf(e-1)>-1)&&a[e+1]==n:!(i.indexOf(e)>-1)&&a[e]==n},t.prototype.getIgnoreIndexs=function(e){for(var t=this.scrollerGroup.gridRenderConfig?this.scrollerGroup.gridRenderConfig[e]:[],n=[],i=0;i<t.length;i++)0==t[i]&&n.push(i);return n},t.prototype.getAllLineIndexs=function(){for(var e=this.scrollerGroup.lineCount,t=[],n=1;n<e+1;n++){var i=u.default.getOddsLineIndexs(this.scrollerGroup,n,1,1);t.push(i)}return t},t.prototype.hasOwnContinueId=function(e){for(var t=!1,n=0;n<this.dataList.length;n++){var i=this.dataList[n],o=this.getIgnoreIndexs(n);if(this.isContainId(n,i,e.id,o)&&(this.indexs.push(n),this.indexs.length==e.condition)){this.lastIndex=n,t=!0;break}}return t},t.prototype.getPlayItemIndexs=function(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=[]),null==n&&(n=this._id);for(var o=this._scrollerGroup.channelPipeline.getTemplate(e),a=this.scrollerGroup.items[e],s=[],l=0;l<t.length;l++)if(t[l]==n)if(o.dataListType==r.default.USE_CONVERT_MROE_LIST){if(0==l||l==t.length-1||i.includes(l-1))continue;s.push(a.indexs[l-1])}else if(o.dataListType==r.default.USE_CONVERT_TO_LIST){if(i.includes(l))continue;s.push(a.indexs[l])}return s},t.prototype.setupScatterTime=function(e){for(var t=e.owner,n=!1,i=0;i<t.runnings.length;i++)t.runnings[i].index<e.index&&(n=!0);if(n){var o=this.getConfigByIndex(e.index);if(this.callIndexs.indexOf(e.index)>-1&&this._isRunning){if(!e.isRunning)return;if(-1!=o.speed.indexOf("-")){var a=o.speed.split("-"),r=new d;r.velocity={};var s=parseFloat(a[0]),l=parseFloat(a[1]),c=parseFloat(a[2]);r.step=Math.ceil((l-s)/c),r.step=0==r.step?1:r.step,r.currentStep=0;var u=r.step*e.defaultFrameRateTime+this.time;e.time+=u,this._scatterMap.set(e.index,r),this._lastScrollerTime=e.time,this.skinLoaders[e.index].active=e.active}else e.time+=this.time}}},t.prototype.updateScatterTime=function(e){var n=this._scatterMap.get(e.index),i=this.getConfigByIndex(e.index);if(n){if(n.velocity.cadence==t.FAST_VELOCITY){if(n.runningTime+=e.defaultFrameRateTime,n.runningTime<i.time)return!1}else if(0==n.runningTime)return!1;return!0}if(!this.isRunning)return!0;var o=e.owner;if(!i.isTogether&&!this.callIndexs.includes(e.index))return!0;for(var a=0;a<e.index;a++){var r=this._scatterMap.get(a),s=o.items[a];if(r&&s.isRunning&&this.onSpeedScrolling)return!1}return!0},t.prototype.onRunningSpeedUp=function(e){var n=this._scatterMap.get(e.index);if(n&&n.velocity.cadence==t.SLOW_VELOCITY){if(n.velocity.init||(e.speed=this.rangeMin,n.velocity.init=!0),n.currentStep==n.step)return n.velocity.cadence=t.FAST_VELOCITY,n.currentStep=0,!0;e.speed+=e.speed>this.rangeMax?-Math.abs(this.rangeValue):this.rangeValue,n.currentStep+=1}return!1},t.prototype.getScatterInfo=function(e){return this._scatterMap.get(e)},t.prototype.onRunningSlowdown=function(e){var n=this._scatterMap.get(e.index);return!(!n||n.velocity.cadence!=t.FAST_VELOCITY||(n.currentStep==n.step?(n.velocity.cadence=t.DEFAULT_VELOCITY,n.currentStep=0,0):(e.speed+=e.speed>this.rangeMin?-Math.abs(this.rangeValue):this.rangeValue,n.currentStep+=1,0)))},t.prototype.callWatchScatter=function(e){var t=e.owner;if(this.getConfigByIndex(e.index)){var n=t.items,i=e.index+1;if(!(i>=n.length)){var o=n[i];if(!this.requireIndexs.includes(i)||!o.isRunning)if(0==this.linkIndexs.length){for(var a=i;a<n.length;a++)if(n[a].isRunning){if(!this.callIndexs.includes(a))break;this.launchWatch(a,t);break}}else{if(this.linkIndexs[this.linkIndexs.length-1]==i)return void this.callWatchScatter(o);if(this.linkIndexs[0]==i);else if(this.linkIndexs.includes(i))return;var r=[];for(a=i;a<n.length;a++)if(n[a].isRunning){if(!this.callIndexs.includes(a))break;if(this.linkIndexs.includes(a)){r=this.linkIndexs;break}r.push(a);break}for(var s=0,l=r;s<l.length;s++){var c=l[s];this.launchWatch(c,t)}}}}},t.prototype.launchWatch=function(e,t){var n=t.getItem(e),i=this.getConfigByIndex(n.index);if(i&&n.isRunning){if(-1==i.speed.indexOf("-"))n.speed=t.direction==r.default.SCROLLINGDOWN?Math.abs(parseInt(i.speed)):-Math.abs(parseInt(this._currentConfig.speed));else{var o=i.speed.split("-"),a=parseInt(o[0]),s=parseInt(o[1]),c=parseFloat(o[2]),u=this._scatterMap.get(e);this.setupVelocity(n,u,a,s,c)}n.skinLoader=this.skinLoaders[n.index],this._skinURL=n.skinLoader.url=i.skinURL,i.progress&&i.progress.apply(this.caller,[n]);var p=!this.onSpeedScrolling;this.onSpeedScrolling=!0,this.playRenders(e),p&&game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_SCROLLER_ONSPEED_RUNNING_START)}},t.prototype.getCurrentExpectItemIndex=function(e){if(this.isRunning&&this.expectItemIndexs&&this.expectItemIndexs.length>0)return this.expectItemIndexs[e]},t.prototype.setupVelocity=function(e,n,i,o,a){void 0===a&&(a=2),this.rangeMax=e.owner.direction==r.default.SCROLLINGDOWN?o:-o,this.rangeMin=e.owner.direction==r.default.SCROLLINGDOWN?i:-i,this.rangeValue=a,n&&n.velocity&&(n.velocity.cadence=t.SLOW_VELOCITY)},t.prototype.getCurrentTask=function(){return this._currentConfig},t.prototype.isIgnoreItem=function(e){var t=this.scrollerGroup.config,n=Math.floor(e.index/t.row),i=e.index%t.row;return this.getIgnoreIndexs(n).includes(i)},t.prototype.callScatterComplete=function(e){var t=this.getConfigByIndex(e.index);if(t&&e.isRunning&&t&&null!=t.progress&&this._isRunning){this.onScatterComplte(e);var n=this.callIndexs[this.callIndexs.length-1],i=!1,o=e.pipeline;o&&o.extendScrollerInfo&&o.extendScrollerInfo.index==e.index&&e.index!=n&&(i=!0),i||(e.index>=n&&(this.scrollerGroup.scatterblackBackGround&&(this.scrollerGroup.scatterblackBackGround.active=!1),this.scrollerGroup.layerSortScatterPlayContainer&&this.scrollerGroup.layerSortScatterPlayContainer.resetLayerSort(),this.scrollerGroup.layerSortScatterStopContainer&&this.scrollerGroup.layerSortScatterStopContainer.resetLayerSort()),e.index<this.lastIndex||(this._skinLoaders[e.index].url=null))}},t.prototype.playRenders=function(e){for(var n=this._currentConfig,i=[],o=[],a=[],r=this.scrollerGroup,s=0;s<e;s++){var l=r.items[s];if(this.linkIndexs.includes(e)&&this.linkIndexs.includes(s))break;a=a.concat(l.renders)}if(n.type==t.APPOINT_MODE||n.type==t.APPOINT_COUNT_MODE)for(s=0;s<n.condition.length;s++){var c=n.condition[s].id;if(!(e<n.condition[s].index))for(var u=0,p=a;u<p.length;u++){var h=p[u];(n.id instanceof Array&&n.id.includes(c)||h.data==c)&&!this.isIgnoreItem(h)?i.push(h):o.push(h)}}else if(n.type==t.LINE_MODE){s=this.expectItemIndexs[e];for(var d=0,f=a;d<f.length;d++)(h=f[d]).index==s?i.push(h):o.push(h)}else for(var m=function(e){var t=!1;n.id instanceof Array?n.id.length>0&&("object"==typeof n.id[0]?t=n.id.findIndex(function(t){return t.id==e.data})>-1:n.id.includes(e.data)&&(t=!0)):e.data==n.id&&(t=!0),t&&!g.isIgnoreItem(e)?i.push(e):o.push(e)},g=this,_=0,y=a;_<y.length;_++)m(h=y[_]);for(var T=0,S=i;T<S.length;T++)(h=S[T]).onScattterTaskCall();this.scrollerGroup.scatterblackBackGround&&(this.scrollerGroup.scatterblackBackGround.active=!0),this.scrollerGroup.layerSortScatterStopContainer&&this.scrollerGroup.layerSortScatterStopContainer.updateChangedChildsLayer(o,!0),this.scrollerGroup.layerSortScatterPlayContainer&&this.scrollerGroup.layerSortScatterPlayContainer.updateChangedChildsLayer(i,!0)},t.prototype.removeIndexs=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=this.callIndexs.indexOf(i);-1!=o&&(this.callIndexs.splice(o,1),this._scatterMap.remove(i))}},t.prototype.onScatterComplte=function(){},t.prototype.setLinkIndexs=function(e){var t=this;this.isRunning&&(this.linkIndexs=e,this.requireIndexs.some(function(e){return t.linkIndexs.includes(e)})&&this.removeIndexs(this.linkIndexs))},t.prototype.setSubgroupTask=function(e,t){for(var n=this.scrollerGroup.subgroupConfigs,i=function(t){var i=n.find(function(e){return e.indexs.includes(t)});if(i){var a=i.subgroupId;return o.subgroupConfigMap.set(a,e),"break"}},o=this,a=0,r=t;a<r.length&&"break"!==i(r[a]);a++);},t.prototype.getConfigByIndex=function(e){var t=this.scrollerGroup.subgroupConfigs;if(t&&t.length>0){var n=t.find(function(t){return t.indexs.includes(e)}).subgroupId,i=this.subgroupConfigMap.get(n);if(i)return i}return this._currentConfig},t.prototype.clear=function(){this.isRunning&&game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_SCROLLER_ONSPEED_RUNNING_END),e.prototype.clear.call(this),this._scatterMap.clear(),this._lastScrollerTime=0,this._isRunning=!1,this.lastIndex=0,this._currentConfig=null,this.requireIndexs=[],this.callIndexs=[],this.scrollerGroup.scatterblackBackGround&&(this.scrollerGroup.scatterblackBackGround.active=!1),this.scrollerGroup.layerSortScatterPlayContainer&&this.scrollerGroup.layerSortScatterPlayContainer.resetLayerSort(),this.scrollerGroup.layerSortScatterStopContainer&&this.scrollerGroup.layerSortScatterStopContainer.resetLayerSort(),this.clearSkinLoaders(),this.onSpeedScrolling=!1,this.linkIndexs=[]},t.SLOW_VELOCITY=2,t.FAST_VELOCITY=1,t.DEFAULT_VELOCITY=0,t.COUNT_MODE=1,t.INDEX_MODE=2,t.ITEM_COUNT_MODE=3,t.APPOINT_MODE=4,t.FULL_CONTINUE_MODE=5,t.MULTIPLE_ITEM_COUNT_MODE=6,t.APPOINT_MULTIPLE_ITEM_COUNT_MODE=7,t.LINE_MODE=8,t.APPOINT_COUNT_MODE=9,t}(a.default);n.default=h;var d=function(){this.velocity={},this.runningTime=0,this.step=0,this.currentStep=0},f=function(){this.condition=null,this.type=0,this.id=null,this.speed=null,this.isTogether=!1,this.time=0,this.priority=0,this.skinURL=null,this.progress=null,this.scatterIndexList=null,this.isTreatInFree=!0,this.isTreatInTurbo=!0,this.onlyTreatInFree=!1};cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","../../SlotData/SDictionary":"SDictionary","../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotUtils/SlotUtils":"SlotUtils","../JTOddsUtils":"JTOddsUtils","../com/JTScrollerGroup":"JTScrollerGroup","./JTRuleTask":"JTRuleTask"}],JTScheduledPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"99dc7Twq6RHJ7tkAmbd8Jd4","JTScheduledPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTFuturePipeline"),r=e("../../transitions/JTOptionType"),s=function(e){function t(){var t=e.call(this)||this;return t.tasks=null,t.workLines=[],t.currentTask=null,t._renders=null,t._isCreate=!1,t.isPending=!1,t._renders=[],t}return o(t,e),t.prototype.start=function(){this.workLines=[].concat(this.tasks),this.clearBasicAttributes(),this.runningTask()},t.prototype.runningTask=function(){0==this.workLines.length?(this.currentTask=null,this._scroller.scrollingComplete()):(this.currentTask=this.workLines.shift(),this.currentTask.runningTask(),this._loop&&this._loop.run())},t.prototype.getCurrentTask=function(){return this.currentTask},t.prototype.getCurrentPriority=function(){return this.currentTask.priority},t.prototype.getTasks=function(){if(!this.tasks){this.tasks=[];var e=this._options.keys;e.sort(this.sortOn);for(var t=0;t<e.length;t++){var n=e[t],i=this.getOption(n);i.bind(this,this._owner.caller),0!=t&&this.tasks.push(i)}}return this.tasks},t.prototype.setupRender=function(e,t){var n=this._scroller,i=e,o=this.getCounterIndex(),a=new cc.Vec2,r=new cc.Vec2(t.landscapeX+n.pipeline.sourceXLandscape,t.landscapeY+n.pipeline.sourceYLandscape),s=new cc.Vec2,l=new cc.Vec2(t.portraitX+n.pipeline.sourceXPortrait,t.portraitY+n.pipeline.sourceYPortrait);this._scrollerGroup.pointMapLandscape[o]=r,a.x=r.x+i.width/2,a.y=r.y+i.height/2,this._scrollerGroup.centerMapLandscape[o.toString()]=a,this._scrollerGroup.pointMapPortrait[o]=l,s.x=l.x+i.width/2,s.y=l.y+i.height/2,this._scrollerGroup.centerMapPortrait[o.toString()]=s,this._scrollerGroup.staticCenterMapLandscape[o]=a.clone(),this._scrollerGroup.staticCenterMapPortrait[o]=s.clone(),this._scroller.renders.push(i),i.index=o,i.name="render_"+o,this._renders.push(i),this._indexs.push(o)},t.prototype.reSetCounterIndex=function(){this.setCounterIndex(0)},t.prototype.sortOnByPriority=function(e,t){return e.priority>t.priority?1:e.priority==t.priority?0:-1},t.prototype.sortOn=function(e,t){return e>t?1:e==t?0:-1},t.prototype.contact=function(t){e.prototype.contact.call(this,t),this.create()},t.prototype.create=function(){this._isCreate=!0,this.tasks=this.getTasks();var e=this.getOption(r.default.OPTION_CREATE);e&&e.runningTask()},t.prototype.updateRenders=function(){},t.prototype.updateRenderPosition=function(){},t.prototype.dataStandby=function(){this.onDataStandBy();for(var e=0;e<this.workLines.length;e++)this.workLines[e].isDataReady=!0;var t=this.getCurrentTask();t&&t.dataStandby()},t.prototype.onDataStandBy=function(){},t.prototype.setTaskPending=function(){this.isPending=!0},t.prototype.continuePendingTask=function(){this.isPending=!1;var e=this.getCurrentTask();e&&e.continue()},t.prototype.clear=function(){for(var t=0;t<this.tasks.length;t++)this.tasks[t].isDataReady=!1;this.isPending=!1,this.workLines.length=0,e.prototype.clear.call(this)},t.prototype.clearBasicAttributes=function(){for(var e=0;e<this.tasks.length;e++)this.tasks[e].isDataReady=!1;this.isPending=!1},t.prototype.destory=function(){e.prototype.destroy.call(this),this.currentTask=null,this.tasks.length=0,this._indexCounter=0,this.childsCount,this.tasks=null,this.workLines=[],this._options.clear()},Object.defineProperty(t.prototype,"renders",{get:function(){return this._renders},set:function(e){this._renders=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCreate",{get:function(){return this._isCreate},enumerable:!1,configurable:!0}),t}(a.default);n.default=s,cc._RF.pop()},{"../../transitions/JTOptionType":"JTOptionType","./JTFuturePipeline":"JTFuturePipeline"}],JTScheduledTaskPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"c436czo0cpO5rpMt8/aS6x2","JTScheduledTaskPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.tasks=null,t.workLines=null,t.currentTask=null,t}return o(t,e),t.prototype.getObject=function(){return null},t.prototype.contact=function(){throw new Error("Method not implemented.")},t.prototype.getRuleContainer=function(){throw new Error("Method not implemented.")},t.prototype.hasOwnRunning=function(){throw new Error("Method not implemented.")},t.prototype.getRuleTask=function(){throw new Error("Method not implemented.")},t.prototype.registerTask=function(){throw new Error("Method not implemented.")},t.prototype.removeRuleTask=function(){throw new Error("Method not implemented.")},t.prototype.runningRuleTasks=function(){throw new Error("Method not implemented.")},t.prototype.runningCallTask=function(){throw new Error("Method not implemented.")},t.prototype.updateRenders=function(){},t.prototype.getCounterIndex=function(){return 0},t.prototype.setupRender=function(){return null},t.prototype.setScrollerXY=function(){},t.prototype.beforeStart=function(){},t.prototype.runningTask=function(){0==this.workLines.length?this.complete():(this.currentTask=this.workLines.shift(),this.currentTask.runningTask(),this._loop&&this._loop.run())},t.prototype.childOption=function(e,t,n){var i=e.create();i.handler=n,i.priority=t,i.bind(this,this.owner.caller),this._options.set(t,i)},t.prototype.getCurrentTask=function(){return this.currentTask},t.prototype.getCurrentPriority=function(){return this.currentTask?this.currentTask.priority:0},t.prototype.start=function(){this.workLines=[].concat(this.getTasks()),this.runningTask()},t.prototype.startWithPrioritys=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n],a=this.getOption(o);a&&t.push(a)}this.workLines=[].concat(t),this.runningTask()},t.prototype.getTasks=function(){if(!this.tasks){this.tasks=[];for(var e=[],t=0;t<this._options.keys.length;t++)e.push(this._options.keys[t]);e.sort(this.sortOn);for(var n=0;n<e.length;n++){var i=e[n],o=this.getOption(i);this.tasks.push(o)}}return this.tasks},t.prototype.sortOn=function(e,t){return e>t?1:e==t?0:-1},t.prototype.complete=function(){this.clear(),this._handler&&this._handler.apply(this._caller,[this])},t}(e("./JTTaskPipeline").default);n.default=a,cc._RF.pop()},{"./JTTaskPipeline":"JTTaskPipeline"}],JTScrollerGroupMask:[function(e,t,n){"use strict";cc._RF.push(t,"72897lWLz9NA4zmdCMyXnjK","JTScrollerGroupMask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t.maskPolygon=[],t.mutipleMaskPolygon=[],t}return o(t,e),t.prototype.launch=function(e){var t=e.config;this.width=t.getWidth(),this.height=t.getHeight()-t.gapY,this.anchorX=0,this.anchorY=1,this.x=0,this.y=0},t.prototype.redraw=function(e,t,n,i,o){this.x=t,this.y=n,this.width=i,this.height=o},t.prototype.updateMask=function(){var e=this.owner;this.mutipleMaskPolygon&&this.mutipleMaskPolygon.length>0||e.mutipleMaskPolygon&&e.mutipleMaskPolygon.length>0?this.drawMutiplePolygon():this.drawPolygon()},t.prototype.setPolygon=function(e){this.maskPolygon=e,this.drawPolygon()},t.prototype.drawPolygon=function(){var e,t=this.mask;!(e=this.maskPolygon&&this.maskPolygon.length>=3?this.maskPolygon:this.owner.maskPolygon)||e.length<3||(t._updateGraphics=function(){var n=t._graphics;if(n){n.clear();for(var i=0;i<e.length;i++){var o=e[i];0==i?n.moveTo(o.x,o.y):n.lineTo(o.x,o.y)}n.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?n.stroke():n.fill()}},t._updateGraphics())},t.prototype.setMutiplePolygon=function(e){this.mutipleMaskPolygon=e,this.drawMutiplePolygon()},t.prototype.drawMutiplePolygon=function(){var e,t=this.mask;e=this.mutipleMaskPolygon&&this.mutipleMaskPolygon.length>0?this.maskPolygon:this.owner.mutipleMaskPolygon,t._updateGraphics=function(){var n=t._graphics;if(n){n.clear();for(var i=0,o=e;i<o.length;i++)for(var a=o[i],r=0;r<a.length;r++){var s=a[r];0==r?n.moveTo(s.x,s.y):n.lineTo(s.x,s.y)}n.close(),cc.game.renderType===cc.game.RENDER_TYPE_CANVAS?n.stroke():n.fill()}},t._updateGraphics()},t}(e("../com/base/JTMask").default);n.default=a,cc._RF.pop()},{"../com/base/JTMask":"JTMask"}],JTScrollerGroup:[function(e,t,n){"use strict";cc._RF.push(t,"f7dd3/FVBxAx5JaHa6c9sqG","JTScrollerGroup");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTGroup"),r=e("./base/JTGComponent"),s=e("./JTConfigGroup"),l=e("../rules/JTRuleTaskManager"),c=e("./factorys/JTModelFactory"),u=e("./plugins/JTChannelPipeline"),p=e("./datas/JTArrayCollection"),h=e("./base/JTItemRender"),d=e("./factorys/JTLayerFactory"),f=e("./factorys/JTChildFactory"),m=e("../renders/JTGLoader"),g=e("./base/JTGraphics"),_=e("../../SlotDefinitions/SlotEnum"),y=e("../extensions/JTMixItemConfig"),T=e("../extensions/JTUnfixedLengthItemConfig"),S=e("../rules/JTRuleTaskType"),E=function(e){function t(){var n=e.call(this)||this;return n._background=null,n._freeList=null,n._runnings=null,n._isContext=!1,n._defualtImageIds=null,n._progress=null,n._isBackgroundFill=!1,n._sContainer=null,n._factoryLayer=null,n._factoryChild=null,n._factoryModel=null,n._ruleTaskManager=null,n._channelPipeline=null,n._skinLoaders=null,n._skinLoaderContainer=null,n._layerSortPlayContainer=null,n._layerSortStopContainer=null,n._layerSortScatterPlayContainer=null,n._layerSortScatterStopContainer=null,n._scrollerGroupMask=null,n._pContainer=null,n._isOnceOpenItems=!0,n._isOpenItems=!1,n._openItemIds=null,n._itemContainers=null,n._enabled=!0,n._freeSources=null,n._defaultSources=null,n._itemOffsets=[],n._isPending=!1,n._isSkipChangeTask=!1,n._inclineDegrees=[],n._isIncline=!1,n._isInclineSkew=!0,n._curveDegrees=[],n._isCurve=!1,n._expandScrollerInfo=[],n._gridLengthRange=[],n._subgroupConfigs=[],n._isManualStopEnabled=!0,n._ignoreShowGridData=[],n._freeList=[],n._runnings=[],n._skinLoaders=[],n._openItemIds=[],n._itemContainers=[],n._config=new s.default,n._skinLoader=new m.default,n._ruleTaskManager=new l.default,n.direction=t.SCROLLINGDOWN,n}return o(t,e),t.prototype.setupFactory=function(e,t,n,i){return this._factoryLayer=e,this._factoryChild=t,this._factoryChild.bind(this,this.caller),this.factoryLayer.bind(this,this.caller),i||(i=new c.default),this._factoryModel=i,this._factoryModel.bind(this,this.caller),this._channelPipeline},t.prototype.setupIsOpenItems=function(e,t){this._isOnceOpenItems=e,this._isOpenItems=!0,this._openItemIds=[],this._openItemIds=this._openItemIds.concat(t)},t.prototype.addMixItemConfig=function(e,t,n){var i=new y.default;i.id=e,i.row=t,i.column=n,this.config.mixConfig.push(i)},t.prototype.addExpandScrollerInfo=function(e,t,n,i,o,a,r){void 0===a&&(a=0),void 0===r&&(r=0);var s=new T.JTExpandScrollerInfo;s.index=e,s.row=t,s.position=n,s.direction=i,s.curveDegree=r,s.maskContainerType=o,s.gap=a,this._expandScrollerInfo.push(s)},t.prototype.addUnfixedLengthItemConfig=function(e,t,n,i){var o=new T.default;o.sourceId=e,o.row=i,o.column=n,o.mapId=t,this.config.unfixedItemConfig.push(o)},t.prototype.registerSubgroup=function(e,t){var n=new v;n.subgroupId=e,n.indexs=t,this.subgroupConfigs.push(n)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOpenItems",{get:function(){return this._isOpenItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"openItemIds",{get:function(){return this._openItemIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOnceOpenItems",{get:function(){return this._isOnceOpenItems},enumerable:!1,configurable:!0}),t.prototype.setupDefaultItemList=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=null),this._defualtImageIds=t,n&&(this._isContext=n),this._defaultSources=e instanceof Function?e(this):e,i&&(this._freeSources=i instanceof Function?i(this):i),this.sources=[];for(var o=0;o<this.defaultSources.length;o++){var a=this.defaultSources[o],r=a.getElementsByRollerId(1);r?this.sources.push(r.concat([])):this.sources.push(a.elements.concat([]))}},t.prototype.setupGridConfig=function(e,t,n,i,o,a,r,s,l,c){void 0===o&&(o=0),void 0===a&&(a=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===l&&(l=!1),void 0===c&&(c=_.SlotOrientation.Portrait),this._config.col=i,this._config.row=n,this._config.girdWidth=e,this._config.girdHeight=t,this._config.gapXLandscape=o,this._config.gapYLandscape=a,this._config.gapXPortrait=r,this._config.gapYPortrait=s,this.config.orientation=c,this._isBackgroundFill=l},t.prototype.setupRegister=function(e,t,n,i){this._progress=e,this._complete=t,this._nextHandler=n,this._beginRunning=i},t.prototype.mark=function(e){return this._channelPipeline=u.default.mark(e),this._channelPipeline},t.prototype.changeChannelPipeline=function(e){if(this._channelPipeline){if(this._channelPipeline.id==e)return this._channelPipeline;if(this._items&&this._items.length>0){this.reset(),this.clear(),this._channelPipeline.reset(),this._channelPipeline=u.default.mark(e),this._channelPipeline.isEgoClone||this._channelPipeline.egoClone(),this._dataProvider.convertDataList(this._dataProvider.grids.dataList);for(var t=0;t<this._items.length;t++){var n=this._items[t];this.setupScrollerPipeline(n,t)}this.updateRenders()}else this._channelPipeline=u.default.mark(e)}else this._channelPipeline=u.default.mark(e);return this._channelPipeline},t.prototype.changeDataMode=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=[]),this._dataProvider||(this._dataProvider=this._factoryModel.produce(c.default.SCROLLERGROUP_DATA_MODEL,this),this._dataProvider.initialize()),this._dataProvider.setDataMode(e?p.default.FREE_MODE:p.default.NORMAL_MODE,t,n)},t.prototype.onUpdate=function(e,t,n,i,o,a){if(void 0===n&&(n=[]),void 0===i&&(i=[]),void 0===o&&(o=[]),void 0===a&&(a=[]),this._dataProvider||(this._dataProvider=this._factoryModel.produce(c.default.SCROLLERGROUP_DATA_MODEL,this),this._dataProvider.initialize()),this._customSourceHandler){var r=this._customSourceHandler.run();r&&r.length>0&&this._dataProvider.forceUpdateDefaultDataList(r)}this._dataProvider.update(e,t,n,i,o,a)},t.prototype.reRender=function(e,t){this._dataProvider.update(e,t);for(var n=0;n<this._items.length;n++){var i=this._items[n];i.pipeline.lineTimeComplete(!0),i.sortItemszIndex()}},t.prototype.sortScrollerItemsIndex=function(){for(var e=0;e<this._items.length;e++)this._items[e].sortItemszIndex()},t.prototype.randomChanged=function(){var e=u.default.channelIds(),t=e.length,n=e[Math.floor(Math.random()*t)];return this.changeChannelPipeline(n)},t.prototype.childOption=function(e,t,n,i){return this._channelPipeline.childOption(e,t,n,i)},t.prototype.optionIndexs=function(e,t,n,i){null!=i&&(this._complete=i);var o=this._channelPipeline.option(e,n[0],t,i);return o.indexs=n,o},t.prototype.option=function(e,t,n){return this.optionIndexs(e,t,[0],n)},t.prototype.options=function(e,t,n,i){for(var o=[],a=0;a<n;a++)o.push(a);return this.optionIndexs(e,t,o,i)},t.prototype.launch=function(e){this.start(e.getSpeed(),e.getDelayTime(),e.getTime(),e.getDistance(),e.getBeginTime(),e.getEndDelayTime(),e.getEndDistance(),e.getEndTime(),e.getEndSpeed(),e.getEndSlowDownTime(),e.getBeginSpeed(),e.getBeginSpeedUpTime())},t.prototype.launchItem=function(e){var t=this.getItem(e);this.clear(),this.beforeStart(),this._isRunning=!0,t.start(this._speed,this._delay,this._time,this._distance,this._beginTime,this._endDelay,this._endDistance,this._endTime,this._endSpeed,this._endSlowDownTime,this.beginSpeed,this.beginSpeedUpTime)},t.prototype.launchItemsBySequence=function(e){for(var t=e.getRunSequence(),n=[],i=0;i<t.length;i++){var o=t[i];if(o instanceof Array){for(var a=[],r=0,s=o;r<s.length;r++){var l=s[r];a.push(l+1)}n[i]=a}else n[i]=t[i]+1}this.launchItems(n,e)},t.prototype.launchItems=function(t,n){if(!this._isRunning){var i=n.getSpeed(),o=n.getDelayTime(),r=n.getTime(),s=n.getDistance(),l=n.getBeginTime(),c=n.getEndDistance(),u=n.getEndTime(),p=n.getEndDelayTime(),h=n.getEndSpeed(),d=n.getEndSlowDownTime(),f=n.getBeginSpeed(),m=n.getBeginSpeedUpTime();this._ruleTaskManager.clear(),this.clear(),e.prototype.start.call(this,i,o,r,s,l,p,c,u,h,d,f,m),this._isRunning=!0,this._isManualStop=!1,this._isSkipChangeTask=!1,this.beginTime=l,this._freeList.length=this._runnings.length=0,this.beforeStart(),""!=this.direction&&(i=this.config.orientation==_.SlotOrientation.Portrait?this.direction==a.default.SCROLLINGDOWN?Math.abs(i):-Math.abs(i):this.direction==a.default.SCROLLINGLEFT?Math.abs(i):-Math.abs(i));for(var g=[],y=0;y<t.length;y++){var T=t[y];if(T instanceof Array)for(var S=0,E=T;S<E.length;S++){var v=E[S];g.push({index:v-1,beginDelay:o*y,endDelay:p*y})}else g.push({index:T-1,beginDelay:o*y,endDelay:p*y})}for(y=0;y<g.length;y++){v=g[y].index;var C=this.getItem(v);C.start(i,g[y].beginDelay,r,s,l,g[y].endDelay,c,u,h,d,f,m),this._isPending&&C.pipeline.setTaskPending(),this._runnings.push(C)}}},t.prototype.setOncePendingSchedule=function(){if(this._isPending=!0,this._isRunning)for(var e=0;e<this._runnings.length;e++)this._runnings[e].pipeline.setTaskPending()},t.prototype.rendersDataReady=function(){if(this._items)for(var e=0;e<this._items.length;e++)this._items[e].rendersDataReady()},t.prototype.continuePendingTask=function(){if(this._items)for(var e=0;e<this._items.length;e++)this._items[e].pipeline.continuePendingTask()},t.prototype.backgroundFill=function(){var e=this._config.col*this._config.gapWidth,t=this._config.row*this._config.gapHeight;this._background=new g.default,this._background.graphics.fillColor=new cc.Color(255,102,0),this._background.graphics.roundRect(0,0,e,t),this._background.opacity=0,this.addChild(this._background)},t.prototype.stopAll=function(e){if(void 0===e&&(e=!1),this._isManualStop=!0,this._items)for(var t=0;t<this._items.length;t++)this.stop(t,e);this._ruleTaskManager.clear()},t.prototype.clearSkinLoaders=function(){for(var e=0;e<this._items.length;e++)this._items[e].clearSkinLoader()},t.prototype.clearGroupSkinLoaders=function(){this.clearSkinLoader(),this.clearSkinLoaders()},t.prototype.stop=function(e,t){void 0===t&&(t=!1),this._isRunning&&this._items[e].kill(t)},t.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this._ruleTaskManager.bind(this,n)},t.prototype.start=function(t,n,i,o,r,s,l,c,u,p,h,d){if(void 0===n&&(n=20),void 0===i&&(i=3e3),void 0===o&&(o=80),void 0===r&&(r=150),void 0===s&&(s=20),void 0===l&&(l=80),void 0===c&&(c=150),!this._isRunning){this._ruleTaskManager.clear(),""!=this.direction&&(t=this.config.orientation==_.SlotOrientation.Portrait?this.direction==a.default.SCROLLINGDOWN?Math.abs(t):-Math.abs(t):this.direction==a.default.SCROLLINGLEFT?Math.abs(t):-Math.abs(t)),e.prototype.start.call(this,t,n,i,o,r,s,l,c,p,h,d),this._isRunning=!0,this._isManualStop=!1,this.beginTime=r,this._isSkipChangeTask=!1,this._freeList.length=this._runnings.length=0,this.beforeStart();for(var f=[].concat(this.items),m=0,g=this.expandScrollerInfo||[];m<g.length;m++)for(var y=g[m],T=0;T<f.length;T++){var S=f[T];if(S.index==y.index){f.splice(T,1),f.unshift(S);break}}for(T=0;T<f.length;T++){var E=f[T];E.beginTime=r,this._runnings.push(E),E.start(t,n>0?n*T:n,i,o,r,s*T,l,c,u,p,h,d),this._isPending&&E.pipeline.setTaskPending()}}},t.prototype.addRunningTime=function(e){for(var t=0;t<this._items.length;t++)this._items[t].time+=e},t.prototype.reset=function(){e.prototype.reset.call(this),this.resetLayerSort(),this.sortScrollerItemsIndex()},t.prototype.getConvertToList=function(e,t){for(var n=[],i=0;i<t;i++)n.push(e.shift());return n},t.prototype.getRenderByIndex=function(e){for(var t=0;t<this._items.length;t++)for(var n=this._items[t].renders,i=0;i<n.length;i++)if(n[i].index+1==e||n[i].mixIndexs.includes(e-1))return n[i];return null},t.prototype.getRenderByPos=function(e){for(var t=0;t<this._items.length;t++)for(var n=this._items[t].renders,i=0;i<n.length;i++)if(n[i].index==e||n[i].mixIndexs.includes(e))return n[i];return null},t.prototype.getSomesById=function(e){for(var t=[],n=0;n<this._items.length;n++){var i=this._items[n];t=t.concat(i.getSomeById(e))}return t},t.prototype.getSomeChangedById=function(e){for(var t=[],n=0;n<this._items.length;n++){var i=this._items[n];t=t.concat(i.getSomeChangedById(e))}return t},t.prototype.enableds=function(e){void 0===e&&(e=h.default.STATE_OVER);for(var t=this._items.length,n=0;n<t;n++)this._items[n].enableds(e)},t.prototype.forceUpdate=function(e){this._dataProvider.grids.dataList=e;for(var t=0;t<this._items.length;t++)this._items[t].forceUpdate(e[t])},t.prototype.getRondomId=function(){var e=Math.floor(Math.random()*this._defualtImageIds.length);return this._defualtImageIds[e]},t.prototype.create=function(){this._items=[],this.initializeLayer(),this.createScrollers(),this._isBackgroundFill&&this.backgroundFill()},t.prototype.createScrollers=function(){var e=this._factoryLayer;this._sContainer=e.produce(d.default.SCROLLER_CONTAINER,this),this._skinLoaderContainer=e.produce(d.default.SKIN_LOADER_CONTAINER);var t=this._channelPipeline.getCount();this._pContainer=new r.default,this._sContainer.addChild(this._pContainer);for(var n=0;n<t;n++){var i=this.factoryChild.produce(f.default.SCROLLER_TYPE,this._sContainer),o=this._dataProvider.elements[n];o.scroller=i,i.dataProvider=o;var a=new r.default;this._itemContainers.push(a),a.addChild(i),this._sContainer.addChild(a),this.setupScrollerPipeline(i,n),this._items.push(i)}this.updateRenders()},t.prototype.setupScrollerPipeline=function(e,t){var n=this._channelPipeline.getTemplate(t),i=n.getTaskInfo(),o=n.options,a=o.keys,r=i.pipeline?i.pipeline:i.create();return a.length>0&&this.setupOptions(r,o),e.config=this._config,e.index=t,e.name="scroller_"+t,e.sources=this.sources[t],e.bind(this,this.caller),r.dataProvider=e.dataProvider,r.ruleTaskManager=this._ruleTaskManager,e.setupRegister(this._progress,this._nextHandler,this._beginRunning),e.setupPipeline(r),r},t.prototype.initializeLayer=function(){this.setupSkinLoader(0,0,this.skinLoaderContainer),this.factoryLayer.produces(),this.factoryLayer.initialize(this)},t.prototype.afterInitializeLayer=function(){},t.prototype.beforeStart=function(){this.reset()},t.prototype.setupOptions=function(e,t){for(var n=t.keys,i=n.length,o=0;o<i;o++){var a=n[o],r=t.get(a);e.childOption(r,a,r.handler)}},t.prototype.superScrollerComplete=function(){e.prototype.scrollingComplete.call(this)},t.prototype.scrollingComplete=function(){this._freeList.push(this._runnings.shift()),0==this._runnings.length&&(this.updateRenders(),e.prototype.scrollingComplete.call(this),this._isRunning=!1,this._isOnceOpenItems&&(this._openItemIds=[],this._isOpenItems=!1),this._ruleTaskManager.clear(),this._complete&&this._complete.apply(this.caller,[this]),this._freeList.length=0,this._isPending=!1)},t.prototype.removeRunnings=function(e){var t=this._runnings.indexOf(e);t>-1&&(this._runnings.splice(t,1),this._freeList.push(e),e.clear())},t.prototype.getRuleContainer=function(e){return this._ruleTaskManager.getRuleContainer(e)},t.prototype.hasOwnRunning=function(e){return this._ruleTaskManager.hasOwnRunning(e)},t.prototype.getRuleTask=function(e){return this._ruleTaskManager.getRuleTask(e)},Object.defineProperty(t.prototype,"isScrollOnSpeedRunning",{get:function(){if(this.getRuleTask){var e=this.getRuleTask(S.default.SCATTER);if(e&&e.onSpeedScrolling)return!0}return!1},enumerable:!1,configurable:!0}),t.prototype.registerTask=function(e,t,n){return this._ruleTaskManager.registerTask(e,t,n)},t.prototype.runningCallTask=function(){this._ruleTaskManager.runningCallTask()},t.prototype.removeRuleTask=function(e){this._ruleTaskManager.removeRuleTask(e)},t.prototype.runningRuleTasks=function(){this._ruleTaskManager.runningRuleTasks()},Object.defineProperty(t.prototype,"histroys",{get:function(){return this._ruleTaskManager.histroys},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ruleTaskManager",{get:function(){return this._ruleTaskManager},enumerable:!1,configurable:!0}),t.prototype.updateRenders=function(){this._renders.length=0;for(var e=0;e<this._items.length;e++){var t=this._items[e];this._renders=this._renders.concat(t.renders)}return this._renders},t.prototype.refreshScrollers=function(){this.reset();for(var e=0;e<this._items.length;e++){var t=this._items[e];t.pipeline.lineTimeComplete(!0),t.sortItemszIndex()}},t.prototype.linkSyncItems=function(e){if(this._isRunning&&0!=e.length)for(var t=0;t<this._items.length;t++){var n=this._items[t].pipeline;n.linkSyncRunning&&n.linkSyncRunning(e)}},Object.defineProperty(t.prototype,"freeList",{get:function(){return this._freeList},set:function(e){this._freeList=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runnings",{get:function(){return this._runnings},set:function(e){this._runnings=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerMapLandscape",{get:function(){return this._channelPipeline.centerMapLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"centerMapPortrait",{get:function(){return this._channelPipeline.centerMapPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointMapLandscape",{get:function(){return this._channelPipeline.pointMapLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointMapPortrait",{get:function(){return this._channelPipeline.pointMapPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"staticCenterMapLandscape",{get:function(){return this._channelPipeline.staticCenterMapLandscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"staticCenterMapPortrait",{get:function(){return this._channelPipeline.staticCenterMapPortrait},enumerable:!1,configurable:!0}),t.prototype.getMatchingContinueByIds=function(e,t,n){for(var i=[],o=0;o<this._items.length&&!(o>=n);o++){var a=this._items[o],r=a.getSomeById(e);if(r=1==t.length?r.concat(a.getSomeById(t[0])):r.concat(a.getSomeById2(t)),console.log(o,r.length,e,n),0==r.length)break;i=i.concat(r)}return i},t.prototype.getContinueByIds=function(e,t){for(var n=[],i=0;i<this._items.length&&!(i>=t);i++){var o=this._items[i].getSomeById(e);0!=o.length&&(n=n.concat(o))}return n},t.prototype.getRenderCenterPoint=function(e){return this.isLandscape?this._channelPipeline.getRenderCenterPointLandscape(e):this._channelPipeline.getRenderCenterPointPortrait(e)},t.prototype.getRenderCenterPointLandscape=function(e){return this._channelPipeline.getRenderCenterPointLandscape(e)},t.prototype.getRenderCenterPointPortrait=function(e){return this._channelPipeline.getRenderCenterPointPortrait(e)},t.prototype.getRenderPoint=function(e){return this.isLandscape?this._channelPipeline.getRenderPointLandscape(e):this._channelPipeline.getRenderPointPortrait(e)},t.prototype.getRenderPointLandscape=function(e){return this._channelPipeline.getRenderPointLandscape(e)},t.prototype.getRenderPointPortrait=function(e){return this._channelPipeline.getRenderPointPortrait(e)},t.prototype.getRenderStaticCenterPointLandscape=function(e){return this._channelPipeline.getRenderStaticCenterPointLandscape(e)},t.prototype.getRenderStaticCenterPointPortrait=function(e){return this._channelPipeline.getRenderStaticCenterPointPortrait(e)},t.prototype.getRenderStaticCenterPoint=function(e){return this.isLandscape?this._channelPipeline.getRenderStaticCenterPointLandscape(e):this._channelPipeline.getRenderStaticCenterPointPortrait(e)},Object.defineProperty(t.prototype,"channelPipeline",{get:function(){return this._channelPipeline},enumerable:!1,configurable:!0}),t.prototype.changeRenderValue=function(e,t){for(var n=0;n<this.items.length;n++)this.items[n][e]=t},t.prototype.updateChangedChildsLayer=function(e,t){if(void 0===t&&(t=!1),this._layerSortPlayContainer&&this._layerSortPlayContainer.updateChangedChildsLayer(e,t),this._layerSortStopContainer){var n=[];this._layerSortPlayContainer&&(n=this._layerSortPlayContainer.getChilds());for(var i=this._layerSortStopContainer.getChilds(),o=[],a=0;a<this._renders.length;a++){var r=this._renders[a];if(-1==n.indexOf(r))-1==e.indexOf(r)&&o.push(r);else{var s=i.indexOf(r);i.splice(s,1)}}this._layerSortStopContainer.updateChangedChildsLayer(o,t)}},t.prototype.updateLayer=function(){this._layerSortPlayContainer&&this._layerSortPlayContainer.updateLayer(),this._layerSortStopContainer&&this._layerSortStopContainer.updateLayer()},t.prototype.resetLayerSort=function(){this._layerSortPlayContainer&&this._layerSortPlayContainer.resetLayerSort(),this._layerSortStopContainer&&this._layerSortStopContainer.resetLayerSort()},t.prototype.isRenderInSortLayer=function(e){return!!(this._layerSortPlayContainer&&this._layerSortPlayContainer.getChilds().indexOf(e)>-1||this._layerSortStopContainer&&this._layerSortStopContainer.getChilds().indexOf(e)>-1||this._layerSortScatterPlayContainer&&this._layerSortScatterPlayContainer.getChilds().indexOf(e)>-1||this._layerSortScatterStopContainer&&this._layerSortScatterStopContainer.getChilds().indexOf(e)>-1)},t.prototype.adjustScrollerPostion=function(e,t){var n=this._itemContainers[e];n&&(n.x+=t.x,n.y+=t.y),this._itemOffsets[e]=t;for(var i=this.items[e],o=0;o<i.indexs.length;o++){var a=i.indexs[o],r=this.getRenderCenterPointLandscape(a);r&&(r.x+=t.x,r.y+=t.y);var s=this.getRenderCenterPointPortrait(a);s&&(s.x+=t.x,s.y+=t.y);var l=this.getRenderPointLandscape(a);l&&(l.x+=t.x,l.y+=t.y);var c=this.getRenderPointPortrait(a);c&&(c.x+=t.x,c.y+=t.y);var u=this.getRenderStaticCenterPointLandscape(a);u.x+=t.x,u.y+=t.y;var p=this.getRenderStaticCenterPointPortrait(a);p.x+=t.x,p.y+=t.y}},t.prototype.setupItemInclineDegrees=function(e,t){void 0===t&&(t=!0),this._isIncline=!0,this._inclineDegrees=e,this._isInclineSkew=t},t.prototype.setupItemCurve=function(e){this._isCurve=!0,this._curveDegrees=e},t.prototype.setupGridRenderConfig=function(e){this._gridRenderConfig=e},Object.defineProperty(t.prototype,"gridRenderConfig",{get:function(){return this._gridRenderConfig},enumerable:!1,configurable:!0}),t.prototype.setupGridShape=function(e){this.config.gridShape=e},Object.defineProperty(t.prototype,"factoryLayer",{get:function(){return this._factoryLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"factoryChild",{get:function(){return this._factoryChild},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"factoryModel",{get:function(){return this._factoryModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinLoaders",{get:function(){return this._skinLoaders},set:function(e){this._skinLoaders=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerSortPlayContainer",{get:function(){return this._layerSortPlayContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerSortStopContainer",{get:function(){return this._layerSortStopContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerSortScatterPlayContainer",{get:function(){return this._layerSortScatterPlayContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerSortScatterStopContainer",{get:function(){return this._layerSortScatterStopContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skinLoaderContainer",{get:function(){return this._skinLoaderContainer},set:function(e){this._skinLoaderContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ruleMap",{get:function(){return this._ruleTaskManager.ruleMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"taskContainers",{get:function(){return this.ruleTaskManager.taskContainers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollerContainer",{get:function(){return this._sContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultImageIds",{get:function(){return this._defualtImageIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scrollerGroupMask",{get:function(){return this._scrollerGroupMask},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameID",{get:function(){return this._gameID},set:function(e){this._gameID=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"freeSources",{get:function(){return this._freeSources},set:function(e){this._freeSources=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultSources",{get:function(){return this._defaultSources},set:function(e){this._defaultSources=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemOffsets",{get:function(){return this._itemOffsets},set:function(e){this._itemOffsets=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pluginContainer",{get:function(){return this._pContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSkipChangeTask",{get:function(){return this._isSkipChangeTask},set:function(e){this._isSkipChangeTask=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inclineDegrees",{get:function(){return this._inclineDegrees},set:function(e){this._inclineDegrees=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIncline",{get:function(){return this._isIncline},set:function(e){this._isIncline=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInclineSkew",{get:function(){return this._isInclineSkew},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curveDegrees",{get:function(){return this._curveDegrees},set:function(e){this._curveDegrees=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCurve",{get:function(){return this._isCurve},set:function(e){this._isCurve=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expandScrollerInfo",{get:function(){return this._expandScrollerInfo},set:function(e){this._expandScrollerInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemContainers",{get:function(){return this._itemContainers},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isManualStopEnabled",{get:function(){return this._isManualStopEnabled},set:function(e){this._isManualStopEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridLengthRange",{get:function(){return this._gridLengthRange},set:function(e){this._gridLengthRange=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"subgroupConfigs",{get:function(){return this._subgroupConfigs},set:function(e){this._subgroupConfigs=e},enumerable:!1,configurable:!0}),t.prototype.layoutLandscape=function(){if(e.prototype.layoutLandscape.call(this),this.config.isLandscape=!0,this.items)for(var t=0;t<this.items.length;t++)this.items[t].layoutLandscape();this.isRunning||(this._layerSortPlayContainer&&this._layerSortPlayContainer.layoutLandscape(),this._layerSortStopContainer&&this._layerSortStopContainer.layoutLandscape())},t.prototype.layoutPortrait=function(){if(e.prototype.layoutPortrait.call(this),this.config.isLandscape=!1,this.items)for(var t=0;t<this.items.length;t++)this.items[t].layoutPortrait();this.isRunning||(this._layerSortPlayContainer&&this._layerSortPlayContainer.layoutPortrait(),this._layerSortStopContainer&&this._layerSortStopContainer.layoutPortrait())},Object.defineProperty(t.prototype,"ignoreShowGridData",{get:function(){return this._ignoreShowGridData},set:function(e){this._ignoreShowGridData=e},enumerable:!1,configurable:!0}),t.USE_CONVERT_MROE_LIST=1,t.USE_CONVERT_TO_LIST=2,t}(a.default);n.default=E;var v=function(){this.indexs=[]};cc._RF.pop()},{"../../SlotDefinitions/SlotEnum":"SlotEnum","../extensions/JTMixItemConfig":"JTMixItemConfig","../extensions/JTUnfixedLengthItemConfig":"JTUnfixedLengthItemConfig","../renders/JTGLoader":"JTGLoader","../rules/JTRuleTaskManager":"JTRuleTaskManager","../rules/JTRuleTaskType":"JTRuleTaskType","./JTConfigGroup":"JTConfigGroup","./base/JTGComponent":"JTGComponent","./base/JTGraphics":"JTGraphics","./base/JTGroup":"JTGroup","./base/JTItemRender":"JTItemRender","./datas/JTArrayCollection":"JTArrayCollection","./factorys/JTChildFactory":"JTChildFactory","./factorys/JTLayerFactory":"JTLayerFactory","./factorys/JTModelFactory":"JTModelFactory","./plugins/JTChannelPipeline":"JTChannelPipeline"}],JTScrollerLineParser:[function(e,t,n){"use strict";cc._RF.push(t,"ce274A91lxCt6hW9lx4auW3","JTScrollerLineParser");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JTLineInfo=void 0;var a=e("../com/base/JTContainer"),r=e("./JTLineRenderUtils"),s=e("../../SlotData/SDictionary"),l=e("../JTOddsUtils"),c=e("../rules/JTRuleTaskType"),u=e("./JTElementIdType"),p=e("../../SlotManager/SlotConfigManager"),h=e("./JTLineType"),d=e("../../MainView/SlotMachineView"),f=function(e){function t(){var t=e.call(this)||this;return t._renderUtils=null,t._scroller=null,t._lineMap=null,t._lineComplete=null,t._ifStopWhenComplete=!0,t._linesResult=null,t._timer=null,t._playLineMap=null,t._wildId=[],t._dynamicWildId=[],t._scatterId=0,t._boundsId=0,t._singleLineComplete=null,t._isLoopWinInThisRound=!0,t._isInitiative=!0,t._isLoopGlobalLines=!0,t.showPreLineId=-1,t._isSimulateProcedure=!1,t}return o(t,e),t.prototype.initialize=function(){this._lineMap=new s.SDictionary,this._scroller=this._owner,this._renderUtils=new r.default,this._renderUtils.createLines(this._scroller,this._lineMap)},t.prototype.parse=function(e,t,n,i,o){void 0===n&&(n=!0),void 0===i&&(i=!0),void 0===o&&(o=!1),this._linesResult=e,this.lineComplete=t,this._ifStopWhenComplete=n,this._isLoopWinInThisRound=i,this._isLoopGlobalLines=o,this.autoParse()},t.prototype.autoParse=function(){this.clear(),this.onPlayLines()},t.prototype.onPlayLines=function(){},t.prototype.converToRenderInfo=function(e,t,n){void 0===n&&(n=[]);var i=new m;return i.line=t,i.renders=e,i.unRewardRenders=n,i},t.prototype.playItemRenders=function(e,t){void 0===t&&(t=!0);var n=e.renders,i=(this._scroller.showLineDuration,this._scroller.config.col);i=this._scroller.playRenderInterval,e.unRewardRenders;for(var o=function(t){var o=n[t];cc.tween(a).delay(i*t/1e3).call(function(){o.play(e.line,t,null)}).start()},a=this,r=0;r<n.length;r++)o(r);t&&this._scroller.updateChangedChildsLayer(n,!1),this.showBlackBackGround(n.length>0)},t.prototype.showLineButtonGroup=function(e){for(var t=0;t<this._lineMap.keys.length;t++){var n=t+1;this._lineMap.get(n),t>e-1?this.showLineButton(n,!1):this.showLineButton(n,!0)}},t.prototype.showLineButton=function(e,t){var n=this._lineMap.get(e);if(n&&n.lineButtonRender)for(var i=n.lineButtonRender.imgNodes,o=0;o<i.length;o++){var a=i[o];a.active=t,a.children[0].active=!0,a.children[1].active=!1}},t.prototype.showWinLineButtonGroup=function(e){for(var t=0;t<this._lineMap.keys.length;t++){var n=t+1;this._lineMap.get(n),t>e-1?this.showWinLineButton(n,!1):this.showWinLineButton(n,!0)}},t.prototype.showWinLineButton=function(e,t){var n=this._lineMap.get(e);if(n&&n.lineButtonRender)for(var i=n.lineButtonRender.imgNodes,o=0;o<i.length;o++){var a=i[o];a.children[0].active=!t,a.children[1].active=t}},t.prototype.onPlayStepEffect=function(){},t.prototype.showLine=function(e,t,n,i,o,a,r){var s=this._lineMap.get(e);if(s){var l=s.lineItemRender;l&&(t?l.show(this._singleLineComplete,i>0,i,o,a,r):l.hide());var c=s.flashLineItemRender;return c&&(t?c.show(this._singleLineComplete,i>0,i,o,a,r):c.hide()),s.showGrids(0),this._scroller.scatterRender&&this._scroller.scatterRender.showGrids(0),s}},t.prototype.showBlackBackGround=function(e){var t=this._scroller.blackBackGround;t&&(t.active=e)},t.prototype.clear=function(){this.hideGrids(),this.showLines(0),this.showWinLineButtonGroup(0),this._playLineMap=null,this.ifStopWhenComplete=!0,this.isLoopWinInThisRound=!0,this._dynamicWildId=[],this._scroller.lineContainer&&(this._scroller.lineContainer.opacity=255),cc.Tween.stopAllByTarget(this)},t.prototype.showLineAndGrid=function(e){var t=l.default.getLineKey(e);if(this._playLineMap){var n=this._playLineMap.get(t),i=n.line,o=n.renders,a=this.lineMap.get(i.lineId);this.showLine(i.lineId,!0,this.singleLineComplete,o.length,i.direction,n,i.winCoin);var r=this._scroller.getRuleTask(c.default.WILD_DYNAMIC_TIME_TYPE),s=this._scroller.getRuleTask(c.default.WILD_ONCE_TIME_TYPE);return a?(a.changedSkinnable(n),a.showGrid(i,o),r&&r.changedLineGrids(a),s&&s.changedLineGrids(a),this._scroller.lineMask&&this._scroller.lineMask.showAward(o,this._scroller),a.lineItemRender):this._scroller.scatterRender&&this._scroller.scatterRender.showGrid(i,o),this._scroller.resetLayerSort(),this._scroller.updateChangedChildsLayer(n.renders,!0),this._scroller.factoryChild.changedLine(a,n),this.showBlackBackGround(o.length>0),a}},t.prototype.showMaskWithGridLine=function(e,t,n,i,o){void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===o&&(o=!0);var a=l.default.getLineKey(e);if(this._playLineMap){var r=this._playLineMap.get(a),s=r.line,u=r.renders,p=r.unRewardRenders,h=this.lineMap.get(s.lineId),f=n;if(f||(f=r),o?this.showLine(s.lineId,!0,this.singleLineComplete,u.length,s.direction,f,s.winCoin):this.showLine(s.lineId,!0,this.singleLineComplete,-1,s.direction,f,s.winCoin),o){var m=this._scroller.getRuleTask(c.default.WILD_DYNAMIC_TIME_TYPE),g=this._scroller.getRuleTask(c.default.WILD_ONCE_TIME_TYPE);h?(h.changedSkinnable(r),h.showGrid(s,u),m&&m.changedLineGrids(h),g&&g.changedLineGrids(h),this._scroller.lineMask&&this._scroller.lineMask.showAward(u,this._scroller),h.lineItemRender):this._scroller.scatterRender&&this._scroller.scatterRender.showGrid(s,u)}i&&d.default.instance.isResetRewardAni&&(this._scroller.resetLayerSort(),this._scroller.enableds()),t&&this._scroller.updateChangedChildsLayer(r.renders,!0),this._scroller.factoryLayer.updateLayer(this._scroller),this._scroller.factoryChild.changedLine(h,r);for(var _=this._scroller.playRenderInterval,y=function(){var e=u[S];cc.tween(T).delay(_*S/1e3).call(function(){e.play(s,S,null)}).start()},T=this,S=0;S<u.length;S++)y();for(var E=u.length+1,v=function(e){var t=p[e];cc.tween(C).delay(_*(e+E)/1e3).call(function(){t.playLineCall(s,null)}).start()},C=this,b=0;b<p.length;b++)v(b);return this.showBlackBackGround(u.length>0),h}},t.prototype.isTreatFullLine=function(e){var t=this._scroller.config.col;return e.eleNum>=t&&t>=5&&(e.lineType==h.default.LINE||e.lineType==h.default.FULL_LINE||e.lineType==h.default.APPOINT_LINE||e.lineType==h.default.LIGATURE_REPLACE)},t.prototype.hideGrids=function(){for(var e=0;e<this._lineMap.keys.length;e++){var t=e+1;this._lineMap.get(t).showGrids(0)}this._scroller.scatterRender&&this._scroller.scatterRender.showGrids(0)},t.prototype.showLines=function(e){for(var t=0;t<this._lineMap.keys.length;t++){var n=t+1;this._lineMap.get(n),t>e-1?this.showLine(n,!1,this.singleLineComplete):this.showLine(n,!0,this.singleLineComplete)}this._scroller.scatterRender&&this._scroller.scatterRender.showGrids(0),this.showBlackBackGround(e>0)},t.prototype.adjustScrollerLineLayer=function(e,t){for(var n=this._scroller,i=n.items,o=i.length,a=o-1;a>=0;a--){var r=i[a];o-a!=t.length?e.addChild(r):e.addChild(n.lineContainer)}},Object.defineProperty(t.prototype,"lineMap",{get:function(){return this._lineMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineResults",{get:function(){return this._linesResult},set:function(e){this._linesResult=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineComplete",{get:function(){return this._lineComplete},set:function(e){this._lineComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoopWinInThisRound",{get:function(){return this._isLoopWinInThisRound},set:function(e){this._isLoopWinInThisRound=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoopGlobalLines",{get:function(){return this._isLoopGlobalLines},set:function(e){this._isLoopGlobalLines=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ifStopWhenComplete",{get:function(){return this._ifStopWhenComplete},set:function(e){this._ifStopWhenComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isInitiative",{get:function(){return this._isInitiative},set:function(e){this._isInitiative=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSimulateProcedure",{get:function(){return this._isSimulateProcedure},set:function(e){this._isSimulateProcedure=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playLineMap",{get:function(){return this._playLineMap},set:function(e){this._playLineMap=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timer",{get:function(){return this._timer},set:function(e){this._timer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dynamicWildId",{get:function(){return this._dynamicWildId},set:function(e){this._dynamicWildId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"boundsId",{get:function(){return 0==this._boundsId&&(this._boundsId=this.getIdByType2(u.default.TYPE_BOUNDS)),this._boundsId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scatterId",{get:function(){return 0==this._scatterId&&(this._scatterId=this.getIdByType2(u.default.TYPE_SCATTER)),this._scatterId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wildId",{get:function(){return 0==this._wildId.length&&(this._wildId=this.getIdByType(u.default.TYPE_WILD)),this._wildId},enumerable:!1,configurable:!0}),t.prototype.pushWildIds=function(e){for(var t=0;t<e.length;t++)e[t]<=0||this._wildId.indexOf(e[t])<0&&this._wildId.push(e[t])},t.prototype.delWildIds=function(e){for(var t=0;t<e.length;t++)if(!(e[t]<=0)){var n=this._wildId.indexOf(e[t]);n>-1&&this._wildId.splice(n,1)}},t.prototype.isSpecialId=function(e){return!(this.wildId.indexOf(e)>=0||0!=this.scatterId||0!=this.boundsId)},t.prototype.getIdByType=function(e){for(var t=p.default.instance.DataElement,n=t.getIds(),i=[],o=0;o<n.length;o++){var a=n[o];t.getData(a).type==e&&i.push(Number(a))}return i},t.prototype.getIdByType2=function(e){for(var t=p.default.instance.DataElement,n=t.getIds(),i=0;i<n.length;i++){var o=n[i];if(t.getData(o).type==e)return Number(o)}return 0},Object.defineProperty(t.prototype,"renderUtils",{get:function(){return this._renderUtils},set:function(e){this._renderUtils=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleLineComplete",{get:function(){return this._singleLineComplete},set:function(e){this._singleLineComplete=e},enumerable:!1,configurable:!0}),t}(a.default);n.default=f;var m=function(){this.line=null,this.renders=null,this.unRewardRenders=null};n.JTLineInfo=m,cc._RF.pop()},{"../../MainView/SlotMachineView":"SlotMachineView","../../SlotData/SDictionary":"SDictionary","../../SlotManager/SlotConfigManager":"SlotConfigManager","../JTOddsUtils":"JTOddsUtils","../com/base/JTContainer":"JTContainer","../rules/JTRuleTaskType":"JTRuleTaskType","./JTElementIdType":"JTElementIdType","./JTLineRenderUtils":"JTLineRenderUtils","./JTLineType":"JTLineType"}],JTScrollerSettings:[function(e,t,n){"use strict";cc._RF.push(t,"e05400to2xHB5cgjzJHLMW8","JTScrollerSettings"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../../common/utils/GData"),o=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!0),this._isNormal=!1,this._time=0,this._beginTime=0,this._endTime=0,this._distance=0,this._endDistance=0,this._delayTime=0,this._endDelayTime=0,this._speed=0,this._endSpeed=0,this._endSlowDownTime=0,this._beginSpeedUpTime=0,this._beginSpeed=0,this.settingConfig=null,this._sequence=[],this._isNormal=t,this.settingConfig=i.GData.getParameter("slotMachine").scrollerSetting}return e.prototype.setDefaultSettingConfig=function(e){this.settingConfig=e},e.prototype.getTime=function(){return void 0!==this._tempTime?(this._time=this._tempTime,this._tempTime=void 0):this.settingConfig&&this.settingConfig.time?this._time=this.isNormalMode()?this.settingConfig.time.normal:this.settingConfig.time.fast:this._time=this.isNormalMode()?480:100,this._time},e.prototype.getBeginTime=function(){return void 0!==this._tempBeginTime?(this._beginTime=this._tempBeginTime,this._tempBeginTime=void 0):this.settingConfig&&this.settingConfig.beginTime?this._beginTime=this.isNormalMode()?this.settingConfig.beginTime.normal:this.settingConfig.beginTime.fast:this._beginTime=this.isNormalMode()?150:10,this._beginTime},e.prototype.getEndTime=function(){return void 0!==this._tempEndTime?(this._endTime=this._tempEndTime,this._tempEndTime=void 0):this.settingConfig&&this.settingConfig.endTime?this._endTime=this.isNormalMode()?this.settingConfig.endTime.normal:this.settingConfig.endTime.fast:this._endTime=this.isNormalMode()?50:10,this._endTime},e.prototype.getDistance=function(){return void 0!==this._tempDistance?(this._distance=this._tempDistance,this._tempDistance=void 0):this.settingConfig&&this.settingConfig.distance?this._distance=this.isNormalMode()?this.settingConfig.distance.normal:this.settingConfig.distance.fast:this._distance=this.isNormalMode()?50:0,this._distance},e.prototype.getEndDistance=function(){return void 0!==this._tempEndDistance?(this._endDistance=this._tempEndDistance,this._tempEndDistance=void 0):this.settingConfig&&this.settingConfig.endDistance?this._endDistance=this.isNormalMode()?this.settingConfig.endDistance.normal:this.settingConfig.endDistance.fast:this._endDistance=this.isNormalMode()?50:0,this._endDistance},e.prototype.getSpeed=function(){return void 0!==this._tempSpeed?(this._speed=this._tempSpeed,this._tempSpeed=void 0):this.settingConfig&&this.settingConfig.speed?this._speed=this.isNormalMode()?this.settingConfig.speed.normal:this.settingConfig.speed.fast:this._speed=this.isNormalMode()?50:100,this._speed},e.prototype.getEndSpeed=function(){return this.settingConfig&&this.settingConfig.endSpeed?this._endSpeed=this.isNormalMode()?this.settingConfig.endSpeed.normal:this.settingConfig.endSpeed.fast:this._endSpeed=this.isNormalMode()?30:0,this._endSpeed},e.prototype.getDelayTime=function(){return void 0!==this._tempDelayTime?(this._delayTime=this._tempDelayTime,this._tempDelayTime=void 0):this.settingConfig&&this.settingConfig.delayTime?this._delayTime=this.isNormalMode()?this.settingConfig.delayTime.normal:this.settingConfig.delayTime.fast:this._delayTime=this.isNormalMode()?50:0,this._delayTime},e.prototype.getEndDelayTime=function(){return void 0!==this._tempDelayTime?(this._endDelayTime=this._tempDelayTime,this._tempDelayTime=void 0):this.settingConfig&&this.settingConfig.endDelayTime?this._endDelayTime=this.isNormalMode()?this.settingConfig.endDelayTime.normal:this.settingConfig.endDelayTime.fast:this._endDelayTime=this.isNormalMode()?50:0,this._endDelayTime},e.prototype.getBeginSpeed=function(){return this.settingConfig&&this.settingConfig.beginSpeed?this._beginSpeed=this.isNormalMode()?this.settingConfig.beginSpeed.normal:this.settingConfig.beginSpeed.fast:this._beginSpeed=(this.isNormalMode(),0),this._beginSpeed},e.prototype.getBeginSpeedUpTime=function(){return this.settingConfig&&this.settingConfig.beginSpeedUpTime?this._beginSpeedUpTime=this.isNormalMode()?this.settingConfig.beginSpeedUpTime.normal:this.settingConfig.beginSpeedUpTime.fast:this._beginSpeedUpTime=(this.isNormalMode(),0),this._beginSpeedUpTime},e.prototype.getEndSlowDownTime=function(){return this.settingConfig&&this.settingConfig.endSlowDownTime?this._endSlowDownTime=this.isNormalMode()?this.settingConfig.endSlowDownTime.normal:this.settingConfig.endSlowDownTime.fast:this._endSlowDownTime=(this.isNormalMode(),0),this._endSlowDownTime},e.prototype.setRunSequence=function(e){this._sequence=e},e.prototype.getRunSequence=function(){return this._sequence},e.prototype.isNormalMode=function(){return this._isNormal},e.prototype.updateMode=function(e){void 0===e&&(e=!0),this._isNormal=e},e.prototype.setOnceSettings=function(e,t,n,i,o,a,r,s){this._tempSpeed=e,this._tempDelayTime=t,this._tempTime=n,this._tempDistance=i,this._tempBeginTime=o,this._tempEndDelayTime=a,this._tempEndDistance=r,this._tempEndTime=s},e}();n.default=o,cc._RF.pop()},{"../../../../common/utils/GData":"GData"}],JTScroller:[function(e,t,n){"use strict";cc._RF.push(t,"e913bGyzz5MeYXeYOIMo5iT","JTScroller");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTGroup"),r=e("./base/JTItemRender"),s=e("../../SlotUtils/SlotUtils"),l=e("./JTScrollerGroup"),c=e("./plugins/JTFuturePipeline"),u=e("../../SlotDefinitions/SlotEnum"),p=e("../../SlotManager/SlotConfigManager"),h=e("../../SlotManager/SpinManager"),d=function(e){function t(){var t=e.call(this)||this;return t._index=0,t._imageIndex=0,t.delayRate=0,t._changedTimes=0,t._indexs=null,t._pipeline=null,t._indexs=[],t}return o(t,e),t.prototype.setupSkinLoader=function(t,n,i,o){void 0===o&&(o=!0);for(var a=this.owner,r=a.taskContainers,s=null,l=0;l<r.length;l++){var c=r[l].task;s=e.prototype.setupSkinLoader.call(this,t,n,a.skinLoaderContainer?a.skinLoaderContainer:a,o),c.skinLoaders.push(s),-1==a.skinLoaders.indexOf(s)&&(a.skinLoaders.push(s),s.name=a.skinLoaders.length.toString())}return s},t.prototype.start=function(t,n,i,o,a,r,s,l,c,u,p,h){this._isRunning=!0,this._isManualStop=!1,e.prototype.start.call(this,t,n,i,o,a,r,s,l,c,u,p,h),this._pipeline.start()},t.prototype.enableds=function(e){void 0===e&&(e=r.default.STATE_OVER);for(var t=0;t<this._items.length;t++)this._items[t].gotoAndStop(e)},t.prototype.isScatter=function(){for(var e=this._dataProvider.grids,t=this.owner.gridRenderConfig,n=t?t[this.index]:null,i=0;i<e.dataList.length;i++)if((!n||0!=n[i])&&s.default.isScatter(e.dataList[i]))return!0;return!1},t.prototype.setupRegister=function(e,t,n){this._complete=e,this._nextHandler=t,this._beginRunning=n},t.prototype.rendersDataReady=function(){this.pipeline.dataStandby()},t.prototype.resetLocaltion=function(){for(var e=0;e<this._items.length;e++)this._items[e].y=this.config.gapHeight*(e-1)},t.prototype.addChildItem=function(e,t){void 0===t&&(t=!0);var n=e;n.bind(this,this.caller),this.addChild(n),this._items.push(n)},t.prototype.clear=function(){this._isRunning=!1,this._runningTime=0,this._changedTimes=0,this._pipeline.clear()},t.prototype.setupPipeline=function(e){this._indexs=this._items=this._renders=null,this._pipeline=e,this._renders=[],this._items=this._pipeline.items,this._indexs=this._pipeline.indexs,this._pipeline.bind(this,this.caller),this._pipeline.contact(this)},t.prototype.forceUpdate=function(e){this._dataProvider.grids.dataList=e;for(var t=0;t<this._items.length;t++)this._items[t].data=e[t]},t.prototype.refreshRenders=function(e,t){void 0===t&&(t=!1);var n=this.owner.channelPipeline.getTemplate(this.index).dataListType;this.runningTime>=this.time?(this.speed>=0?(this.imageIndex+=1,this.imageIndex>this.sources.length-1&&(this.imageIndex=0),0==this.changedTimes&&(n==l.default.USE_CONVERT_MROE_LIST?this.imageIndex=this.sources.length-(this.config.row+2):this.imageIndex=this.sources.length-this.config.row),this.checkLineNoZero()):(this.imageIndex-=1,this.imageIndex<0&&(this.imageIndex=this.sources.length-1),0==this.changedTimes&&(this.imageIndex=this.sources.length-1)),e.data=this.sources[this.imageIndex],this.pipeline.setRenderBeforeComplete(e)&&e.beforeRollComplete(),this.imageIndex>this.sources.length-1&&(this.imageIndex=0),this.changedTimes+=1):(this.imageIndex+=1,this.imageIndex>this.sources.length-1&&(this.imageIndex=0),this.checkLineNoZero(),t&&this.skipEmptySource(!0),e.data=this.sources[this.imageIndex],e.gotoAndStop(r.default.STATE_ROLLING))},t.prototype.skipEmptySource=function(e){if(e)for(;0==this.sources[this.imageIndex];)this.imageIndex++,this.imageIndex>this.sources.length-1&&(this.imageIndex=0);else for(;0==this.sources[this.imageIndex];)this.imageIndex--,this.imageIndex<0&&(this.imageIndex=this.sources.length-1)},t.prototype.checkLineNoZero=function(){if(this.sources.includes(0))for(var e=0;e<this.items.length;e++){var t=this.items[e];if(1==e){if(0!=this.sources[this.imageIndex]&&0!=t.data)for(var n=0;0!=this.sources[this.imageIndex];)if(this.imageIndex>this.sources.length-1&&(this.imageIndex=0),this.imageIndex++,++n>5)return;break}}},t.prototype.getSomeById=function(e){for(var t=[],n=0;n<this.renders.length;n++)this.setRenders(t,this.renders[n],e);return t},t.prototype.getSomeById2=function(e){for(var t=[],n=0;n<this.renders.length;n++)this.setRenders2(t,this.renders[n],e);return t},t.prototype.adjustSkinRenders=function(e){for(var t=0;t<this._items.length;t++){var n=this._items[t];-1==this._renders.indexOf(n)&&(n.active=e)}},t.prototype.getSomeChangedById=function(e){for(var t=[],n=0;n<this.renders.length;n++){var i=this._renders[n];i.changedData==e&&t.push(i)}return t},t.prototype.setRenders=function(e,t,n){t.changedData==n&&e.push(t)},t.prototype.setRenders2=function(e,t,n){n.indexOf(t.changedData)<0||e.push(t)},t.prototype.refreshList=function(e){this._imageIndex=0;for(var t=0;t<this._items.length;t++)this._items[t].data=e?this.dataList[t]:this._sources[t],this._imageIndex++},t.prototype.scrollingComplete=function(){e.prototype.scrollingComplete.call(this);var t=this.owner;if(this.nextHandler){var n=this.index+1;n<=t.items.length-1&&this.nextHandler.apply(this.caller,[t.getItem(n)])}t.scrollingComplete(),this.setItemsZindex()},t.prototype.setItemsZindex=function(){var e=h.default.instance.rollingResult,t=e?e.spinResult.lineResult:null;if(t&&t.length>0)for(var n=0;n<t.length;n++){var i=t[n],o=p.default.instance.DataPayLine.getData(i.lineId),a=i.elementResult.elem;if(o&&o.linePos[0]&&o.linePos[0].elems){var r=o.linePos[0].elems[this.index];this.sortItemszIndex(r,a,i.elementResult.elemList)}else a?this.sortItemszIndex(-1,a):this.sortItemszIndex()}else this.sortItemszIndex()},t.prototype.sortItemszIndex=function(e,t,n){var i=this.items,o=i.length,a=this.index*(o-2);i&&i[1]&&i[1].children&&!i[1].children[0].active&&(e=-1);var r=!1;if(n)for(var l=0;l<n.length;l++){var c=n[l];if(r=s.default.isWild(c.elem))break}for(var u=0;u<o;u++){var p=i[u],h=0,d=(e==u+a||-1==e)&&(p.changedData==t||p.isWild()),f=r&&p.isWild();(d||f)&&(h=5),p.zIndex=u+a+5*(p.getElementType()+h)}},t.prototype.kill=function(e,t){if(void 0===t&&(t=!0),this._isManualStop=!0,this._isRunning){var n=this._pipeline;if(this._pipeline instanceof c.default){if(0==this._dataProvider.grids.dataList.length)return;if(n.isImmediatlyJumpToOver)return;this.config.orientation==u.SlotOrientation.Portrait?this.y=0:this.x=0,n.jumpToOverRunning?n.jumpToOverRunning():(t&&n.updateRenders(),this.onStopRoll(),this.scrollingComplete())}}},Object.defineProperty(t.prototype,"pipeline",{get:function(){return this._pipeline},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexs",{get:function(){return this._indexs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this._index=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageIndex",{get:function(){return this._imageIndex},set:function(e){this._imageIndex=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedTimes",{get:function(){return this._changedTimes},set:function(e){this._changedTimes=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceX",{get:function(){return this.isLandscape?this._pipeline.sourceXLandscape:this._pipeline.sourceXPortrait},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sourceY",{get:function(){return this.isLandscape?this._pipeline.sourceYLandscape:this._pipeline.sourceYPortrait},enumerable:!1,configurable:!0}),t.prototype.create=function(){},t.prototype.onStopRoll=function(){for(var e=0;e<this._renders.length;e++)this._renders[e].onRollEnd()},t.prototype.layoutLandscape=function(){e.prototype.layoutLandscape.call(this);var t=this._pipeline;this.isRunning||t.updateRenderPosition(),t.resetScrollerPosition(this.isRunning)},t.prototype.layoutPortrait=function(){e.prototype.layoutPortrait.call(this);var t=this._pipeline;this.isRunning||t.updateRenderPosition(),t.resetScrollerPosition(this.isRunning)},t}(a.default);n.default=d,cc._RF.pop()},{"../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/SlotConfigManager":"SlotConfigManager","../../SlotManager/SpinManager":"SpinManager","../../SlotUtils/SlotUtils":"SlotUtils","./JTScrollerGroup":"JTScrollerGroup","./base/JTGroup":"JTGroup","./base/JTItemRender":"JTItemRender","./plugins/JTFuturePipeline":"JTFuturePipeline"}],JTScrollingColumnMixPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"acb72F7RShJd5XOipwBkTPm","JTScrollingColumnMixPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/JTScheduledPipeline"),r=e("../../../rules/JTRuleTaskType"),s=e("../../JTOptionType"),l=e("../../../com/JTScrollerGroup"),c=e("../../../../MainView/BaseSpinSlotView"),u=function(e){function t(){var t=e.call(this)||this;return t.lineTime=null,t.scatterRule=null,t.dynamicWild=null,t.onceWild=null,t.changeSpeed=null,t.mixConfig=[],t.mixElements=[],t}return o(t,e),t.prototype.create=function(){this.init(),e.prototype.create.call(this)},t.prototype.beforeStart=function(){var e=this._scroller,t=e.owner.channelPipeline.getTemplate(e.index).dataListType,n=e.dataProvider.grids.changedDataList;t==l.default.USE_CONVERT_MROE_LIST&&(n[0]=this.getRandomId(),n[n.length-1]=this.getRandomId())},t.prototype.init=function(){this.scrollerGroup.dataProvider.elements[this.scroller.index].refDataList;for(var e=this.scrollerGroup.config,t=0,n=this.scrollerGroup.config.mixConfig;t<n.length;t++){var i=n[t];this.mixElements.push(i.id)}for(var o=0;o<e.row;o++){var a=this.getCounterIndex();this._indexs.push(a)}},t.prototype.start=function(){this.dynamicWild=this.getRuleTask(r.default.WILD_DYNAMIC_TIME_TYPE),this.onceWild=this.getRuleTask(r.default.WILD_ONCE_TIME_TYPE),this.changeSpeed=this.getRuleTask(r.default.CHANGE_SPEED_TASK),this.dynamicWild&&this.dynamicWild.showScroller(this._scroller),this.onceWild&&this.onceWild.showScroller(this._scroller),e.prototype.start.call(this)},t.prototype.onDataStandBy=function(){this.scatterRule=this.getRuleTask(r.default.SCATTER),this.scatterRule&&this.scatterRule.setupScatterTime(this.scroller)},t.prototype.clear=function(){e.prototype.clear.call(this),this.lineTime&&(this.lineTime.stop(),this.lineTime=null)},t.prototype.updateRenders=function(){this.lineTimeComplete();var e=this.getOption(s.default.OPTION_OVER_RUNNING);e.handler&&e.handler.apply(e.caller,[this._scroller]),this.onceWild&&this.onceWild.callWatchWild(this._scroller)},t.prototype.lineTimeComplete=function(e){void 0===e&&(e=!1);var t=this._scroller,n=t.config;t.owner,t.renders.length=0;for(var i=1,o=1,a=0,r=0,s=!1;a<n.row;){var l=e?this.changedDataList:this.dataList,u=l[i],p=this.changedDataList[i],h=t.items[o],d=n.getMixElementConfig(u);if(d){var f=this.getMixItemFixLength(i,u,l);f=Math.min(f,d.row);var m=n.girdHeight*d.row+n.gapY*(d.row-1);s||(r=(d.row-f)*n.gapHeight,(g=t.items[0]).data=this.getRandomId(),g.changedData=g.data,g.y=r+n.gapHeight-.5*n.girdHeight,s=!0),h.y=r-.5*m,h.x=n.girdWidth/2,h.index=this.indexs[a],h.mixIndexs=this.getMixIndexs(h.index,f,d.column),h.visibleRow=f,f<d.row?h.hiddenSection=1==i?c.SpinSlotHiddenSection.Top:c.SpinSlotHiddenSection.Bottom:h.hiddenSection=c.SpinSlotHiddenSection.None,r-=m+n.gapY,i+=f,a+=f,h.data=u,h.changedData=p,t.renders.push(h)}else{var g;s||((g=t.items[0]).data=this.getRandomId(),g.y=r+n.gapHeight-.5*n.girdHeight,h.hiddenSection=c.SpinSlotHiddenSection.None,s=!0),h.mixIndexs=[],h.data=u,h.changedData=p,h.y=r-.5*n.girdHeight,h.x=n.girdWidth/2,h.index=this.indexs[a],h.hiddenSection=c.SpinSlotHiddenSection.None,h.visibleRow=1,r-=n.gapHeight,i++,a++,t.renders.push(h)}h.active=!0,o++}for(var _=o;_<n.row+2;_++)(h=t.items[_]).data=this.getRandomId(),h.changedData=h.data,h.y=r-.5*n.girdHeight,h.x=n.girdWidth/2,r-=n.gapHeight;this.resetRenderPoints(),t.adjustSkinRenders(!1)},t.prototype.setRenderBeforeComplete=function(e){var t=this._scroller;if(0!=t.changedTimes&&t.changedTimes!=t.items.length-1){var n=t.speed>0?t.config.row-t.changedTimes:t.changedTimes-1;return e.index=t.indexs[n],!0}return!1},t.prototype.updateRenderPosition=function(){},t.prototype.resetRenderPoints=function(){for(var e=this._scroller,t=this.scrollerGroup.itemOffsets[e.index]||cc.v2(),n=(e.config,0);n<e.renders.length;n++)for(var i=e.renders[n],o=0,a=i.mixIndexs.length>0?i.mixIndexs:[i.index];o<a.length;o++){var r=a[o],s=i.width/2,l=i.y,c=i.width/2,u=i.y,p=new cc.Vec2,h=new cc.Vec2(s+e.pipeline.sourceXLandscape,l+e.pipeline.sourceYLandscape),d=new cc.Vec2,f=new cc.Vec2(c+e.pipeline.sourceXPortrait,u+e.pipeline.sourceYPortrait);h.x+=t.x,h.y+=t.y,this._scrollerGroup.pointMapLandscape[r]=h,p.x=h.x+i.width/2,p.y=h.y+i.height/2,this._scrollerGroup.centerMapLandscape[r.toString()]=p,f.x+=t.x,f.y+=t.y,this._scrollerGroup.pointMapPortrait[r]=f,d.x=f.x+i.width/2,d.y=f.y+i.height/2,this._scrollerGroup.centerMapPortrait[r.toString()]=d}},t.prototype.setupRender=function(e,t){var n=this._scroller,i=e;n.config,this._scroller.renders.push(i),i.name="render_"+i.index,this._renders.push(i);for(var o=i.mixIndexs.length>0?i.mixIndexs:[i.index],a=0;a<o.length;a++){var r=o[a],s=new cc.Vec2,l=t.landscapeY,c=t.portraitY,u=new cc.Vec2(t.landscapeX+n.pipeline.sourceXLandscape,l+n.pipeline.sourceYLandscape),p=new cc.Vec2,h=new cc.Vec2(t.portraitX+n.pipeline.sourceXPortrait,c+n.pipeline.sourceYPortrait);this._scrollerGroup.pointMapLandscape[r]=u,s.x=u.x+i.width/2,s.y=u.y+i.height/2,this._scrollerGroup.centerMapLandscape[r.toString()]=s,this._scrollerGroup.pointMapPortrait[r]=h,p.x=h.x+i.width/2,p.y=h.y+i.height/2,this._scrollerGroup.centerMapPortrait[r.toString()]=p}},t.prototype.setupStaticRenderPoint=function(){for(var e=this._scroller,t=e.config,n=0;n<this.indexs.length;n++){var i=this.indexs[n],o=cc.v2(t.girdWidth+e.pipeline.sourceXLandscape,-n*(t.girdHeight+t.gapYLandscape)+e.pipeline.sourceYLandscape),a=cc.v2(t.girdWidth+e.pipeline.sourceXPortrait,-n*(t.girdHeight+t.gapYPortrait)+e.pipeline.sourceYPortrait);this._scrollerGroup.staticCenterMapLandscape[i]=o,this._scrollerGroup.staticCenterMapPortrait[i]=a}},t.prototype.getRandomId=function(){for(var e=this.dataProvider.refDataList,t=e[Math.floor(Math.random()*e.length)];this.mixElements.includes(t);)t=e[Math.floor(Math.random()*e.length)];return t},t.prototype.getMixItemFixLength=function(e,t,n){for(var i=0,o=e;o<n.length-1&&n[o]==t;o++)i++;return i},t.prototype.getMixIndexs=function(e,t,n){for(var i=this.scrollerGroup.config,o=[],a=0;a<n;a++)for(var r=0;r<t;r++){var s=e+a*i.col+r;o.push(s)}return o},t}(a.default);n.default=u,cc._RF.pop()},{"../../../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../com/JTScrollerGroup":"JTScrollerGroup","../../../com/plugins/JTScheduledPipeline":"JTScheduledPipeline","../../../rules/JTRuleTaskType":"JTRuleTaskType","../../JTOptionType":"JTOptionType"}],JTScrollingMixPipelinePlugin:[function(e,t,n){"use strict";cc._RF.push(t,"2ff94rl+5hHX4rb6srJB9tc","JTScrollingMixPipelinePlugin");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../../MainView/BaseSpinSlotView"),r=e("../../../../SlotData/SDictionary"),s=e("../../../../SlotDefinitions/SlotEnum"),l=function(e){function t(){var t=e.call(this)||this;return t.timer=cc.director.getScheduler(),t.scrollerGroup=null,t.container=null,t.imageIndex=0,t.isDataReady=!1,t.isPending=!1,t.changedTimes=0,t.isTogether=!1,t.runningCount=0,t.runnnigs=[],t.pendingList=[],t.timer=cc.director.getScheduler(),t}return o(t,e),t.getMixPipelinePlugin=function(e,n){var i=this._librarys.get(e);return i||((i=new t).scrollerGroup=n,i.container=n.pluginContainer,this._librarys.set(e,i)),i},t.prototype.start=function(e){this.runningCount++,e==this.scrollerGroup.config.col-1&&this.setItemsToMixLayer()},t.prototype.running=function(e){var t=this.scrollerGroup;this.runnnigs.push(t.items[e]),e==t.config.col-1&&(t.time+=t.endDelay,0==t.time&&(t.time=100),this.isTogether=!0,this.timer.schedule(this.onEnterFrame,this,0))},t.prototype.setItemsToMixLayer=function(){this.scrollerGroup.pluginContainer.y=0;for(var e=0,t=this.scrollerGroup.items;e<t.length;e++)for(var n=0,i=(f=t[e]).items;n<i.length;n++)(c=i[n]).removeFromParent(),c.x=f.x+.5*c.width,this.scrollerGroup.pluginContainer.addChild(c);for(var o=this.scrollerGroup.items,a=this.scrollerGroup.config,r=0;r<o.length;r++)for(var s=o[r].items,l=0;l<s.length;l++){for(var c=s[l],u=a.gapX<0?a.gapX:0,p=!1,h=c.x-.5*c.width-.5*u,d=0;d<r;d++)for(var f,m=0,g=(f=o[d]).items;m<g.length;m++){var _=g[m],y=_.x+.5*_.width-1+.5*u;if(_.active&&y>h&&c.y>_.y-.5*_.height&&c.y<_.y+.5*_.height){p=!0;break}}c.active=!p}},t.prototype.continue=function(e){e==this.scrollerGroup.config.col-1&&(this.isPending=!1)},t.prototype.dataStandby=function(e){e==this.scrollerGroup.config.col-1&&(this.isDataReady=!0)},t.prototype.onEnterFrame=function(e){var t=this.scrollerGroup;this.isDataReady&&!this.isPending&&(t.runningTime+=1e3*e),t.config.orientation==s.SlotOrientation.Portrait&&(t.speed>0?this.scrollingDown(e):this.scrollingUp(e)),t.runningTime<t.time||this.isTogether&&(this.isTogether=!1,this.readyToComplete())},t.prototype.scrollingUp=function(e){var t=this.scrollerGroup,n=t.config,i=this.container,o=60*e,r=this.scrollerGroup.sources,s=this.scrollerGroup.items;if(this.isTogether){i.y-=t.speed*o,this.fixImageIndex();for(var l=0;l<s.length;l++){var c=(S=s[l]).items,u=r[l],p=(C=c[c.length-1]).y-.5*C.height;if(p+i.y>-n.getHeight())for(var h=Math.ceil(Math.abs(p+i.y+n.getHeight())/n.gapHeight),d=0;d<h;d++){var f=c.shift();c.push(f);var m=u[this.imageIndex];f.data=m,f.gotoAndStop(a.default.STATE_ROLLING),f.x=S.x+.5*f.width,f.y=C.y-.5*C.height-n.gapY-.5*f.height;var g=n.getMixElementConfig(m);l>0&&r[l-1][this.imageIndex]==m&&g&&g.column>1?f.active=!1:f.active=!0,C=f}}for(l=0;l<s.length;l++)for(var _=0,y=c=(S=s[l]).items;_<y.length;_++)(f=y[_]).y+=n.gapHeight;i.y-=n.gapHeight}else{var T=!1;for(l=0;l<s.length;l++){c=(S=s[l]).items;var S,E=S.pipeline.scatterRule,v=!0;if(S.isRunning&&this.runnnigs.includes(S))if(E&&E.onRunningSpeedUp(S))T=!0;else{var C,b=S.speed*o;if(Math.abs(b)>n.getHeight()&&(b=S.speed>0?b-n.getHeight():b+n.getHeight()),S.y-=b,(C=c[c.length-1]).y+.5*C.height+S.y>-n.getHeight()){f=c.shift(),c.push(f),S.imageIndex--,m=S.sources[S.imageIndex],f.data=m,f.gotoAndStop(a.default.STATE_ROLLING),f.x=.5*f.width,f.y=C.y-.5*C.height-n.gapY-.5*f.height,g=n.getMixElementConfig(m);var R=n.gapX<0?n.gapX:0,M=!1,L=f.x+S.x-.5*f.width-.5*R;for(d=0;d<l;d++)for(var N=s[d],I=0,O=N.items;I<O.length;I++){var P=O[I],A=P.x+N.x+.5*P.width-1+.5*R;if(P.active&&A>L&&f.y+S.y>P.y+N.y-.5*P.height&&f.y+S.y<P.y+N.y+.5*P.height){M=!0;break}}f.active=!M,g&&g.row>1&&(S.imageIndex-=g.row-1);for(var w=0,G=c;w<G.length;w++)G[w].y+=n.gapHeight;if(S.y-=n.gapHeight,this.pendingList.includes(S)){S.imageIndex<0&&(S.imageIndex=S.sources.length);continue}if(E&&!E.updateScatterTime(S)&&(v=!1,S.imageIndex<0&&(S.imageIndex=S.sources.length)),!v){T=!0;continue}if(E&&E.onRunningSlowdown(S)){T=!0;continue}if(T){S.imageIndex<0&&(S.imageIndex=S.sources.length);continue}if(E&&E.getScatterInfo(S.index)&&0==S.changedTimes)for(S.changedTimes++,S.imageIndex=S.sources.length,d=S.index+1;d<s.length;d++){var D=s[d];E.getScatterInfo(d)||(D.imageIndex=n.row+2+d*n.row)}if(0==S.changedTimes&&0!=S.imageIndex)continue;if(0==S.imageIndex&&(S.changedTimes=0,S.imageIndex=S.sources.length),S.imageIndex<=S.sources.length&&(this.setRenderBeforeComplete(f,S)&&f.active&&f.beforeRollComplete(),S.changedTimes++),S.imageIndex<=S.sources.length-1-(n.row+2)){for(var k=-S.y,x=0,B=c;x<B.length;x++)B[x].y-=k;S.y+=k;var J=this.runnnigs.indexOf(S);this.runnnigs.splice(J,1);for(var F=l+1;F<s.length&&(D=s[F],-1!=(h=this.pendingList.indexOf(D)));F++)this.pendingList.splice(h,1),D.imageIndex=3*n.row;S.pipeline.getCurrentTask().complete()}}}}}},t.prototype.scrollingDown=function(e){var t=this.scrollerGroup,n=t.config,i=this.container,o=60*e,r=this.scrollerGroup.sources,s=this.scrollerGroup.items;if(this.isTogether){i.y-=t.speed*o,this.fixImageIndex();for(var l=0;l<s.length;l++){var c=(T=s[l]).items,u=r[l];if((C=(v=c[0]).y+.5*v.height)+i.y<0)for(var p=Math.ceil(Math.abs(C+i.y)/n.gapHeight),h=0;h<p;h++){var d=c.pop();c.unshift(d);var f=u[this.imageIndex];d.data=f,d.gotoAndStop(a.default.STATE_ROLLING),d.x=T.x+.5*d.width,d.y=v.y+.5*v.height+n.gapY+.5*d.height;var m=n.getMixElementConfig(f);l>0&&r[l-1][this.imageIndex]==f&&m&&m.column>1?d.active=!1:d.active=!0,v=d}}for(l=0;l<s.length;l++)for(var g=0,_=c=(T=s[l]).items;g<_.length;g++)(d=_[g]).y-=n.gapHeight;i.y+=n.gapHeight}else{var y=!1;for(l=0;l<s.length;l++){c=(T=s[l]).items;var T,S=T.pipeline.scatterRule,E=!0;if(T.isRunning&&this.runnnigs.includes(T))if(S&&S.onRunningSpeedUp(T))y=!0;else{var v,C,b=T.speed*o;if(Math.abs(b)>n.getHeight()&&(b=T.speed>0?b-n.getHeight():b+n.getHeight()),T.y-=b,(C=(v=c[0]).y+.5*v.height)+T.y<0){var R=0,M=[];for((p=Math.ceil(Math.abs(C+T.y)/n.gapHeight))>1&&T.imageIndex+p>T.sources.length-1&&(T.imageIndex=T.sources.length-1-p),h=0;h<p;h++){d=c.pop(),c.unshift(d),T.imageIndex++,(f=T.sources[T.imageIndex])?M.push(d):f=T.pipeline.getRandomId(),d.data=f,d.gotoAndStop(a.default.STATE_ROLLING),d.x=.5*d.width,d.y=v.y+.5*v.height+n.gapY+.5*d.height,R+=d.height,v=d,m=n.getMixElementConfig(f);for(var L=n.gapX<0?n.gapX:0,N=!1,I=d.x+T.x-.5*d.width-.5*L,O=0;O<l;O++)for(var P=0,A=s[O].items;P<A.length;P++){var w=(x=A[P]).parent,G=x.x+w.x+.5*x.width-1+.5*L;if(x.active&&G>I&&d.y+T.y>x.y+w.y-.5*x.height&&d.y+T.y<x.y+w.y+.5*x.height){N=!0;break}}d.active=!N,m&&m.row>1&&(T.imageIndex+=m.row-1)}for(var D=0,k=c;D<k.length;D++){var x;(x=k[D]).y-=R}if(T.y+=R,this.pendingList.includes(T)){T.imageIndex>=T.sources.length&&(T.imageIndex=0);continue}if(S&&!S.updateScatterTime(T)&&(E=!1,T.imageIndex>=T.sources.length&&(T.imageIndex=0)),!E){y=!0;continue}if(S&&S.onRunningSlowdown(T)){y=!0;continue}if(y){T.imageIndex>=T.sources.length&&(T.imageIndex=0);continue}if(S&&S.getScatterInfo(T.index)&&0==T.changedTimes)for(T.changedTimes++,T.imageIndex=T.sources.length-1-(n.row+2),h=T.index+1;h<s.length;h++){var B=s[h];S.getScatterInfo(h)||(B.imageIndex=B.sources.length-1-(n.row+2)-h*n.row)}if(T.imageIndex==T.sources.length-(n.row+2)&&(T.changedTimes=0),T.imageIndex>=T.sources.length-(n.row+2))for(var J=0,F=M;J<F.length;J++)d=F[J],this.setRenderBeforeComplete(d,T)&&d.active&&d.beforeRollComplete(),T.changedTimes++;if(T.imageIndex>=T.sources.length-1){for(var U=-T.y,j=0,V=c;j<V.length;j++)(d=V[j]).y-=U;T.y+=U;var H=this.runnnigs.indexOf(T);this.runnnigs.splice(H,1);for(var W=l+1;W<s.length;W++){B=s[W];var Y=this.pendingList.indexOf(B);if(-1==Y)break;this.pendingList.splice(Y,1),B.imageIndex=B.sources.length-1-3*n.row}T.pipeline.getCurrentTask().complete()}}}}}},t.prototype.fixRendersVisible=function(){for(var e=this.scrollerGroup.items,t=this.scrollerGroup.config,n=0;n<e.length;n++)for(var i=e[n],o=i.items,a=0;a<o.length;a++){var r=o[a];if(r.active)for(var s=t.gapX<0?t.gapX:0,l=r.x+i.x-.5*r.width-.5*s,c=0;c<n;c++)for(var u=e[c].items,p=0;p<u.length;p++){var h=u[p],d=h.parent,f=h.x+d.x+.5*h.width-1+.5*s;if(h.active&&f>l&&r.y+i.y>h.y+d.y-.5*h.height&&r.y+i.y<h.y+d.y+.5*h.height){r.active=!1;break}}}},t.prototype.setRenderBeforeComplete=function(e,t){if(0!=t.changedTimes&&t.changedTimes!=t.items.length-1){var n=t.speed>0?t.config.row-t.changedTimes:t.changedTimes-1;return e.index=t.indexs[n],!0}return!1},t.prototype.getExtraElement=function(e,t){return this.scrollerGroup.sources[e][t]},t.prototype.resetRenderParent=function(){for(var e=this.scrollerGroup.items,t=this.container,n=0;n<e.length;n++)for(var i=e[n],o=0,a=i.items;o<a.length;o++){var r=a[o];r.parent==t&&(r.removeFromParent(),i.addChild(r),r.y=t.y+r.y-i.y,r.x=r.width/2)}},t.prototype.readyToComplete=function(){var e=this.scrollerGroup.items,t=this.scrollerGroup;this.container,this.resetRenderParent();for(var n=this.scrollerGroup.config,i=this.scrollerGroup.dataList,o=0,a=0;a<i.length;a++){for(var r=i[a],s=e[a],l=s.pipeline,c=l.scatterRule,u=!1,p=1;p<r.length;p++){var h=r[p],d=n.getMixElementConfig(h);if(d&&l.isMixAcrossColumnGrid(h,p,d.column)){u=!0;break}}if(c&&c.isRunning&&l.isMixAcrossColumnScroller()&&(c.removeIndexs([a]),!this.pendingList.includes(s))){for(var f=!1,m=0;m<a;m++)if(c.getScatterInfo(m)){f=!0;break}f&&this.pendingList.push(s)}t.speed>0?(u||(o+=s.endDelay>0?2*n.row:0),s.imageIndex=s.sources.length-1-(n.row+2)-o):(u||(o+=s.endDelay>0?2*n.row:0),s.imageIndex=n.row+2+o)}this.fixRendersVisible()},t.prototype.fixImageIndex=function(){for(var e=this.scrollerGroup,t=e.sources[0].length,n=0,i=e.sources;n<i.length;n++){var o=i[n];o.length<t&&(t=o.length)}e.runningTime>=e.time?(e.speed>=0?(this.imageIndex+=1,this.imageIndex>t-1&&(this.imageIndex=0),0==this.changedTimes&&(this.imageIndex=t-(e.config.row+2))):(this.imageIndex-=1,this.imageIndex<0&&(this.imageIndex=t-1),0==this.changedTimes&&(this.imageIndex=t-1)),this.imageIndex>t-1&&(this.imageIndex=0),this.changedTimes+=1):(this.imageIndex+=1,this.imageIndex>t-1-(e.config.row+2)&&(this.imageIndex=0))},t.prototype.callClear=function(){this.runningCount>0&&this.runningCount--,0==this.runningCount&&this.clear()},t.prototype.clear=function(){this.timer.unschedule(this.onEnterFrame,this),this.runnnigs=[],this.pendingList=[],this.imageIndex=0,this.changedTimes=0,this.isDataReady=!1,this.isTogether=!1,this.scrollerGroup.runningTime=0},t._librarys=new r.SDictionary,t}(e("../../../com/base/JTContainer").default);n.default=l,cc._RF.pop()},{"../../../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../../SlotData/SDictionary":"SDictionary","../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/base/JTContainer":"JTContainer"}],JTScrollingMixPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"40bde1B6oZKGZHOrh1xDT3I","JTScrollingMixPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/JTScheduledPipeline"),r=e("../../../rules/JTRuleTaskType"),s=e("../../JTOptionType"),l=e("../../../../MainView/BaseSpinSlotView"),c=function(e){function t(){var t=e.call(this)||this;return t.lineTime=null,t.scatterRule=null,t.dynamicWild=null,t.onceWild=null,t.changeSpeed=null,t.mixConfig=[],t.elements=[],t.mixElements=[],t.plugin=null,t}return o(t,e),t.prototype.create=function(){this.init(),e.prototype.create.call(this)},t.prototype.beforeStart=function(){},t.prototype.init=function(){this.scrollerGroup.dataProvider;for(var e=this.scrollerGroup.config,t=this.scrollerGroup.config.mixConfig,n=this.scrollerGroup.defaultImageIds,i=0,o=t;i<o.length;i++){var a=o[i];this.mixElements.push(a.id)}for(var r=0,s=n;r<s.length;r++){var l=s[r];this.mixElements.includes(l)||this.elements.push(l)}for(var c=0;c<e.row;c++){var u=this.getCounterIndex();this._indexs.push(u)}},t.prototype.start=function(){this.dynamicWild=this.getRuleTask(r.default.WILD_DYNAMIC_TIME_TYPE),this.onceWild=this.getRuleTask(r.default.WILD_ONCE_TIME_TYPE),this.scatterRule=this.getRuleTask(r.default.SCATTER),this.changeSpeed=this.getRuleTask(r.default.CHANGE_SPEED_TASK),this.dynamicWild&&this.dynamicWild.showScroller(this._scroller),this.onceWild&&this.onceWild.showScroller(this._scroller),e.prototype.start.call(this)},t.prototype.onDataStandBy=function(){this.plugin.dataStandby(this.scroller.index),this.scatterRule&&this.scatterRule.setupScatterTime(this.scroller)},t.prototype.setTaskPending=function(){e.prototype.setTaskPending.call(this),this.plugin.isPending=!0},t.prototype.clear=function(){e.prototype.clear.call(this),this.plugin.callClear(this.scroller.index),this.lineTime&&(this.lineTime.stop(),this.lineTime=null)},t.prototype.updateRenders=function(){this.plugin.resetRenderParent(),this.lineTimeComplete();var e=this.getOption(s.default.OPTION_OVER_RUNNING);e.handler&&e.handler.apply(e.caller,[this._scroller]),this.onceWild&&this.onceWild.callWatchWild(this._scroller)},t.prototype.lineTimeComplete=function(e){void 0===e&&(e=!1);var t=this._scroller;this.scrollerGroup.pluginContainer&&(this.scrollerGroup.pluginContainer.y=0);var n=t.config;t.renders.length=0;for(var i=1,o=1,a=0,r=0,s=!1,c=0;a<n.row;){var u=e?this.changedDataList:this.dataList,p=u[i],h=this.changedDataList[i],d=t.items[o],f=n.getMixElementConfig(p);if(f){var m=this.getMixItemFixLength(i,p,u);m=Math.min(m,f.row);var g=n.girdHeight*f.row+n.gapY*(f.row-1),_=n.girdWidth*f.column+n.gapX*(f.column-1);if(s||(r=(f.row-m)*n.gapHeight,(y=t.items[0]).data=this.plugin.getExtraElement(t.index,c++),y.changedData=h,y.x=.5*y.width,y.y=r+.5*y.height+n.gapY,s=!0),this.isMixAcrossColumnGrid(p,i,f.column,e)){r-=g+n.gapY,i+=m,a+=m;continue}d.y=r-.5*g,d.x=_/2,d.index=this.indexs[a],d.visibleRow=m,m<f.row?d.hiddenSection=1==i?l.SpinSlotHiddenSection.Top:l.SpinSlotHiddenSection.Bottom:d.hiddenSection=l.SpinSlotHiddenSection.None,d.mixIndexs=this.getMixIndexs(d.index,m,f.column),r-=g+n.gapY,i+=m,a+=m,d.data=p,d.changedData=h,t.renders.push(d)}else{var y;s||((y=t.items[0]).data=this.plugin.getExtraElement(t.index,c++),y.changedData=y.data,y.x=.5*y.width,y.y=r+.5*y.height+n.gapY,s=!0),d.mixIndexs=[],d.data=p,d.changedData=h,d.y=r-.5*n.girdHeight,d.x=n.girdWidth/2,d.index=this.indexs[a],r-=n.gapHeight,i++,a++,t.renders.push(d)}d.active=!0,o++}for(var T=o;T<n.row+2;T++)(d=t.items[T]).data=this.plugin.getExtraElement(t.index,c++),d.changedData=d.data,d.y=r-.5*d.height,d.x=d.width/2,r-=n.gapHeight;this.resetRenderPoints(),t.adjustSkinRenders(!1)},t.prototype.setRenderBeforeComplete=function(e){var t=this._scroller;if(0!=t.changedTimes&&t.changedTimes!=t.items.length-1){var n=t.speed>0?t.config.row-t.changedTimes:t.changedTimes-1;return e.index=t.indexs[n],!0}return!1},t.prototype.updateRenderPosition=function(){},t.prototype.resetRenderPoints=function(){for(var e=this._scroller,t=this.scrollerGroup.itemOffsets[e.index]||cc.v2(),n=(e.config,0);n<e.renders.length;n++)for(var i=e.renders[n],o=0,a=i.mixIndexs.length>0?i.mixIndexs:[i.index];o<a.length;o++){var r=a[o],s=i.width/2,l=i.y,c=i.width/2,u=i.y,p=new cc.Vec2,h=new cc.Vec2(s+e.pipeline.sourceXLandscape,l+e.pipeline.sourceYLandscape),d=new cc.Vec2,f=new cc.Vec2(c+e.pipeline.sourceXPortrait,u+e.pipeline.sourceYPortrait);h.x+=t.x,h.y+=t.y,this._scrollerGroup.pointMapLandscape[r]=h,p.x=h.x+i.width/2,p.y=h.y+i.height/2,this._scrollerGroup.centerMapLandscape[r.toString()]=p,f.x+=t.x,f.y+=t.y,this._scrollerGroup.pointMapPortrait[r]=f,d.x=f.x+i.width/2,d.y=f.y+i.height/2,this._scrollerGroup.centerMapPortrait[r.toString()]=d}},t.prototype.setupRender=function(e,t){var n=this._scroller,i=e;this._scroller.renders.push(i),i.name="render_"+i.index,this._renders.push(i);for(var o=i.mixIndexs.length>0?i.mixIndexs:[i.index],a=0;a<o.length;a++){var r=o[a],s=new cc.Vec2,l=new cc.Vec2(t.landscapeX+n.pipeline.sourceXLandscape,t.landscapeY+n.pipeline.sourceYLandscape),c=new cc.Vec2,u=new cc.Vec2(t.portraitX+n.pipeline.sourceXPortrait,t.portraitY+n.pipeline.sourceYPortrait);this._scrollerGroup.pointMapLandscape[r]=l,s.x=l.x+i.width/2,s.y=l.y+i.height/2,this._scrollerGroup.centerMapLandscape[r.toString()]=s,this._scrollerGroup.pointMapPortrait[r]=u,c.x=u.x+i.width/2,c.y=u.y+i.height/2,this._scrollerGroup.centerMapPortrait[r.toString()]=c}},t.prototype.setupStaticRenderPoint=function(){for(var e=this._scroller,t=e.config,n=0;n<this.indexs.length;n++){var i=this.indexs[n],o=cc.v2(t.girdWidth+e.pipeline.sourceXLandscape,-n*(t.girdHeight+t.gapYLandscape)+e.pipeline.sourceYLandscape),a=cc.v2(t.girdWidth+e.pipeline.sourceXPortrait,-n*(t.girdHeight+t.gapYPortrait)+e.pipeline.sourceYPortrait);this._scrollerGroup.staticCenterMapLandscape[i]=o,this._scrollerGroup.staticCenterMapPortrait[i]=a}},t.prototype.getRandomId=function(){var e=this.elements;return e[Math.floor(Math.random()*e.length)]},t.prototype.getMixItemFixLength=function(e,t,n){for(var i=0,o=e;o<n.length-1&&n[o]==t;o++)i++;return i},t.prototype.isMixAcrossColumnScroller=function(e){void 0===e&&(e=!1);for(var t=this.scrollerGroup,n=this.scroller.index,i=e?t.changedDataList:t.dataList,o=t.config,a=1;a<this.dataList.length-1;a++){var r=this.dataList[a],s=o.getMixElementConfig(r);if(s&&s.column>1){if(n>0&&i[n-1][a]==r)return!0;if(n<o.col-1&&i[n+1][a]==r)return!0}}return!1},t.prototype.isMixAcrossColumnGrid=function(e,t,n,i){void 0===i&&(i=!1);var o=this.scrollerGroup,a=this.scroller.index;if(0==a||n<2)return!1;for(var r=0,s=i?o.changedDataList:o.dataList;r<s.length-1;)if(s[r][t]==e){if(a==r)return!1;if(a>r&&a<=r+n-1)return!0;r+=n}else r++;return!1},t.prototype.getMixIndexs=function(e,t,n){for(var i=this.scrollerGroup.config,o=[],a=0;a<n;a++)for(var r=0;r<t;r++){var s=e+a*i.row+r;o.push(s)}return o},t}(a.default);n.default=c,cc._RF.pop()},{"../../../../MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../com/plugins/JTScheduledPipeline":"JTScheduledPipeline","../../../rules/JTRuleTaskType":"JTRuleTaskType","../../JTOptionType":"JTOptionType"}],JTScrollingPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"31307ejEfdKO5lqSt9EB8b+","JTScrollingPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/JTScheduledPipeline"),r=e("../../../rules/JTRuleTaskType"),s=e("../../JTOptionType"),l=e("../../../../SlotDefinitions/SlotEnum"),c=function(e){function t(){var t=e.call(this)||this;return t.lineTime=null,t.scatterRule=null,t.dynamicWild=null,t.onceWild=null,t.combineRule=null,t.retainWild=null,t.dynamicCombine=null,t.advanceTask=null,t.changeSpeed=null,t}return o(t,e),t.prototype.start=function(){this.dynamicWild=this.getRuleTask(r.default.WILD_DYNAMIC_TIME_TYPE),this.onceWild=this.getRuleTask(r.default.WILD_ONCE_TIME_TYPE),this.combineRule=this.getRuleTask(r.default.COMBINE),this.retainWild=this.getRuleTask(r.default.RETAIN_WILD_TASK),this.dynamicCombine=this.getRuleTask(r.default.DYNAMIC_COMBINE),this.advanceTask=this.getRuleTask(r.default.ADVANCE_TASK),this.changeSpeed=this.getRuleTask(r.default.CHANGE_SPEED_TASK),this.retainWild&&this.retainWild.setupWildScroller(this.scroller),this.dynamicWild&&this.dynamicWild.showScroller(this._scroller),this.onceWild&&this.onceWild.showScroller(this._scroller),this.combineRule?(this.combineRule.setupCombineScroller(this._scroller),!this.combineRule.isInHide(this._scroller)&&e.prototype.start.call(this)):this.dynamicCombine?this.dynamicCombine.setupScroller(this._scroller)&&e.prototype.start.call(this):e.prototype.start.call(this)},t.prototype.onDataStandBy=function(){this.scatterRule=this.getRuleTask(r.default.SCATTER),this.scatterRule&&this.scatterRule.setupScatterTime(this.scroller)},t.prototype.clear=function(){e.prototype.clear.call(this),this.lineTime&&(this.lineTime.stop(),this.lineTime=null)},t.prototype.updateRenders=function(){var e=this.getOption(s.default.OPTION_OVER_RUNNING);this.lineTimeComplete(),e.handler&&e.handler.apply(e.caller,[this._scroller]),this.onceWild&&this.onceWild.callWatchWild(this._scroller)},t.prototype.getConfig=function(){var e=this._scroller,t=this.combineRule,n=this.dynamicCombine,i=e.config.gapHeight,o=e.config.girdHeight;return t&&t.isCombineIndexInRunnnig(e)&&(i=t.gapY+t.gridHeight,o=t.gridHeight),n&&n.isCombineScroller(e)&&(i=n.gapY+n.gridHeight,o=n.gridHeight),{gapHeight:i,girdHeight:o}},t.prototype.lineTimeComplete=function(e){void 0===e&&(e=!1);var t=this._scroller,n=this.getConfig(),i=n.gapHeight,o=n.girdHeight,a=t.owner,r=0;t.renders.length=0;for(var s=this.combineRule,c=s&&s.isCombineIndexInRunnnig(t)?-1:0,u=0;u<t.items.length;u++){var p=t.items[u];0!=u&&u!=t.items.length-1&&(t.renders.push(p),p.index=t.indexs[r],r++),p.data=e?t.changedDataList[u]:t.dataList[u],p.changedData=t.changedDataList[u],t.config.orientation==l.SlotOrientation.Portrait?(p.x=t.config.girdWidth/2,p.y=-i*(u-1+c)-o/2):(p.y=-t.config.girdHeight/2,p.x=t.config.gapWidth*u-a.config.girdWidth/2),a.isIncline&&this.adjustItemIncline(p),a.isCurve&&this.adjustItemCurve(p)}this.resetRenderPoints(),t.adjustSkinRenders(!1),this.dynamicCombine&&this.dynamicCombine.resetRenders(t),this.combineRule&&this.combineRule.resetRenders(t)},t.prototype.setRenderBeforeComplete=function(e){var t=this._scroller;if(0!=t.changedTimes&&t.changedTimes!=t.items.length-1){var n=t.speed>0?t.config.row-t.changedTimes:t.changedTimes-1;return e.index=t.indexs[n],!0}return!1},t.prototype.updateRenderPosition=function(){var e=this._scroller,t=this.getConfig(),n=t.gapHeight,i=t.girdHeight,o=e.owner,a=this.combineRule,r=a&&a.isCombineIndexInRunnnig(e)?-1:0;if(!this.dynamicCombine||!this.dynamicCombine.isEnabled)for(var s=0;s<e.items.length;s++){var c=e.items[s];o.isRenderInSortLayer(c)||(e.config.orientation==l.SlotOrientation.Portrait?(c.x=e.config.girdWidth/2,c.y=-n*(s-1+r)-i/2,o.isIncline&&this.adjustItemIncline(c),o.isCurve&&this.adjustItemCurve(c)):(c.y=-e.config.girdHeight/2,c.x=e.config.gapWidth*s-o.config.girdWidth/2))}},t.prototype.resetRenderPoints=function(){for(var e=this._scroller,t=this.scrollerGroup.itemOffsets[e.index]||cc.v2(),n=e.config,i=0;i<e.renders.length;i++){var o=e.renders[i],a=o.x,r=-i*(n.girdHeight+n.gapYLandscape)-n.girdHeight/2,s=o.x,l=-i*(n.girdHeight+n.gapYPortrait)-n.girdHeight/2,c=new cc.Vec2,u=new cc.Vec2(a+e.pipeline.sourceXLandscape,r+e.pipeline.sourceYLandscape),p=new cc.Vec2,h=new cc.Vec2(s+e.pipeline.sourceXPortrait,l+e.pipeline.sourceYPortrait),d=o.index;u.x+=t.x,u.y+=t.y,this._scrollerGroup.pointMapLandscape[d]=u,c.x=u.x+o.width/2,c.y=u.y+o.height/2,this._scrollerGroup.centerMapLandscape[d.toString()]=c,h.x+=t.x,h.y+=t.y,this._scrollerGroup.pointMapPortrait[d]=h,p.x=h.x+o.width/2,p.y=h.y+o.height/2,this._scrollerGroup.centerMapPortrait[d.toString()]=p}},t.prototype.adjustItemIncline=function(e){var t=this.scrollerGroup.inclineDegrees[this.scroller.index];if(t){var n=this.scrollerGroup.config,i=90-t,o=this.scroller.y+e.y,a=(n.getHeight()-Math.abs(o))*Math.atan(i/180*Math.PI);return e.x+=a,e.skewX=i,a}},t.prototype.getItemInclineProperty=function(e){var t=this.scrollerGroup.inclineDegrees[this.scroller.index];if(t){var n=this.scrollerGroup.config,i=90-t;return e=this.scroller.y+e,{offsetX:(n.getHeight()-Math.abs(e))*Math.atan(i/180*Math.PI),skewX:i}}},t.prototype.adjustItemCurve=function(e){var t=this.scroller,n=this.scrollerGroup.config,i=this.scrollerGroup.curveDegrees[t.index];if(i&&0!=i){var o=n.getHeight(),a=.5*o/Math.sin(.5*Math.abs(i)/180*Math.PI),r=this.scrollerGroup.itemOffsets[t.index]||cc.v2(),s=t.y+e.y+r.y,l=Math.abs(s+.5*o),c=Math.sqrt(a*a-l*l),u=i>0?a-c:-(a-c),p=Math.asin(l/a)/Math.PI*180;p*=s+.5*o>0?1:-1,p*=i>0?1:-1,e.x+=u,e.skewX=p}},t}(a.default);n.default=c,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/JTScheduledPipeline":"JTScheduledPipeline","../../../rules/JTRuleTaskType":"JTRuleTaskType","../../JTOptionType":"JTOptionType"}],JTSingleBeginElastic:[function(e,t,n){"use strict";cc._RF.push(t,"780a49XYshOCYlpghKm4SUK","JTSingleBeginElastic");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this.clear();for(var e=this._scroller,t=e.config,n=this.owner,i=e.items.length,o=0;o<i;o++){var a=e.items[o],r=n.lineTimes[o],s=Math.random()*i+1,l=Math.floor(o/t.row)*t.gapWidth,c=o%t.row*t.gapHeight;a.x=l,a.y=c,r=cc.sequence(cc.delayTime(e.beginTime*s/1e3),cc.moveTo(e.time/1e3,l,e.config.getHeight()).easing(cc.easeElasticInOut(3)),cc.callFunc(p,this,[o,a])),a.runAction(r)}var u=this;function p(e,t){t.stopAllActions(),this._scroller,e<u.dataList.length-1||u.complete()}},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTSingleBeginLouver:[function(e,t,n){"use strict";cc._RF.push(t,"b0bdfHBaKpGi5RH8U0fK82C","JTSingleBeginLouver");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.beginRunning=function(){this.clear();for(var e=this._scroller,t=this._owner,n=e.items,i=0;i<n.length;i++){var o=n[i],a=t.lineTimes[i];o.scaleX=o.scaleY=1,a=cc.sequence(cc.delayTime(o.index*e.beginTime/2/1e3),cc.spawn(cc.scaleTo(e.time/1e3,0,0).easing(cc.easeElasticInOut(3)),cc.fadeOut(e.time/1e3)),cc.callFunc(r,this,[i,o])),o.runAction(a)}function r(e,i){i.stopAllActions(),e<n.length-1||t.runningTask()}},t}(e("../../../com/plugins/procedure/JTBeginRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTBeginRunning":"JTBeginRunning"}],JTSingleCreateElastic:[function(e,t,n){"use strict";cc._RF.push(t,"25d33amuXNA14mncTJhkgSd","JTSingleCreateElastic");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../extensions/JTLayoutPoint"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.config,n=this.owner;this.setScrollerXY(e.index*(t.gapXLandscape+t.girdWidth),0,e.index*(t.gapXPortrait+t.girdWidth),0);for(var i=0;i<t.col;i++)for(var o=0;o<t.row;o++){var a=this.getObject(r.default.ITEMRENDER_TYPE,e);a.x=i*t.gapWidth,a.y=o*t.gapHeight,a.width=t.girdWidth,a.height=t.girdHeight;var l=new s.default;l.landscapeX=i*(t.gapXLandscape+t.girdWidth)-t.girdWidth/2,l.landscapeY=-t.girdHeight/2,l.portraitX=i*(t.gapXPortrait+t.girdWidth)-t.girdWidth/2,l.portraitY=-t.girdHeight/2,e.addChildItem(a),a.setAnchorPoint(.5,.5),this.setupRender(a,l);var c=a.index;a.data=this.dataList[c],n.lineTimes[c]=new cc.ActionInterval}this.complete()},t}(a.default);n.default=l,cc._RF.pop()},{"../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTSingleCreateLouver:[function(e,t,n){"use strict";cc._RF.push(t,"88c5bH/Qu5JpJJlYnROHtBk","JTSingleCreateLouver");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/procedure/JTCreate"),r=e("../../../com/factorys/JTChildFactory"),s=e("../../../extensions/JTLayoutPoint"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.create=function(){var e=this._scroller,t=e.config,n=this.owner;this.setScrollerXY(e.index*(t.gapXLandscape+t.girdWidth),0,e.index*(t.gapXPortrait+t.girdWidth),0);for(var i=0;i<t.col;i++)for(var o=0;o<t.row;o++){var a=this.getObject(r.default.ITEMRENDER_TYPE,e);a.x=i*t.gapWidth,a.y=o*t.gapHeight,a.width=t.girdWidth,a.height=t.girdHeight,e.addChildItem(a),a.setAnchorPoint(.5,.5);var l=new s.default;l.landscapeX=i*(t.gapXLandscape+t.girdWidth)-t.girdWidth/2,l.landscapeY=-t.girdHeight/2,l.portraitX=i*(t.gapXPortrait+t.girdWidth)-t.girdWidth/2,l.portraitY=-t.girdHeight/2,this.setupRender(a,l);var c=a.index;a.data=this.dataList[c],n.lineTimes[c]=new cc.ActionInterval}this.complete()},t}(a.default);n.default=l,cc._RF.pop()},{"../../../com/factorys/JTChildFactory":"JTChildFactory","../../../com/plugins/procedure/JTCreate":"JTCreate","../../../extensions/JTLayoutPoint":"JTLayoutPoint"}],JTSingleElasticPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"ecee4Rma2VBQ5FE1drxhBD5","JTSingleElasticPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/base/JTItemRender"),r=function(e){function t(){var t=e.call(this)||this;return t.lineTimes=[],t.lineTimes=[],t}return o(t,e),t.prototype.clear=function(){for(var e=0;e<this.lineTimes.length;e++)this.lineTimes[e]=null},t.prototype.updateRenders=function(){var e=this._scroller,t=0,n=e.config;e.renders.length=0;for(var i=0;i<e.items.length;i++){var o=e.items[i];o.gotoAndStop(a.default.STATE_DEFAULT),o.scaleX=o.scaleY=1,o.opacity=255*o.scaleX,o.data=e.dataList[i],o.index=e.indexs[t],o.x=i/n.col*n.gapWidth,o.y=i%n.row*n.gapHeight,e.renders.push(o),t++}},t.prototype.lineTimeComplete=function(){var e=this._scroller,t=0;e.renders.length=0;for(var n=0;n<e.items.length;n++){var i=e.items[n];i.gotoAndStop(a.default.STATE_DEFAULT),i.data=e.dataList[n],i.index=e.indexs[t],e.renders.push(i),t++}},t}(e("../../../com/plugins/procedure/JTSingleScheduledPipeline").default);n.default=r,cc._RF.pop()},{"../../../com/base/JTItemRender":"JTItemRender","../../../com/plugins/procedure/JTSingleScheduledPipeline":"JTSingleScheduledPipeline"}],JTSingleLouverPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"56cdbAKu9xKdq/o742C6OOE","JTSingleLouverPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/base/JTItemRender"),r=function(e){function t(){var t=e.call(this)||this;return t.lineTimes=null,t.lineTimes=[],t}return o(t,e),t.prototype.clear=function(){for(var e=0;e<this.lineTimes.length;e++)this.lineTimes[e]=null},t.prototype.updateRenders=function(){var e=this._scroller,t=0;e.renders.length=0;for(var n=0;n<e.items.length;n++){var i=e.items[n];i.gotoAndStop(a.default.STATE_DEFAULT),i.scaleX=i.scaleY=1,i.opacity=255*i.scaleX,i.data=e.dataList[n],i.index=e.indexs[t],e.renders.push(i),t++}},t.prototype.lineTimeComplete=function(){var e=this._scroller,t=0;e.renders.length=0;for(var n=0;n<e.items.length;n++){var i=e.items[n];i.gotoAndStop(a.default.STATE_DEFAULT),i.data=e.dataList[n],i.index=e.indexs[t],e.renders.push(i),t++}},t.prototype.resetRenderPoints=function(){},t}(e("../../../com/plugins/procedure/JTSingleScheduledPipeline").default);n.default=r,cc._RF.pop()},{"../../../com/base/JTItemRender":"JTItemRender","../../../com/plugins/procedure/JTSingleScheduledPipeline":"JTSingleScheduledPipeline"}],JTSingleOverElastic:[function(e,t,n){"use strict";cc._RF.push(t,"cab00/Pp31BW4d65zDdD4qN","JTSingleOverElastic");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this._owner;e.lineTimeComplete();for(var t=this._scroller,n=t.config,i=t.items.length,o=i-1;o>=0;o--){var a,r=t.items[o],s=e.lineTimes[o],l=Math.floor(o/n.row)*n.gapWidth,c=o%n.row*n.gapHeight,u=(o+1)%n.row;a=0==u?n.col-u+1:n.col-u+i-o,r.x=l,r.y=-r.height,s=cc.sequence(cc.delayTime(a*t.beginTime/2/1e3),cc.moveTo(t.time/1e3,l,c).easing(cc.easeElasticInOut(3)),cc.callFunc(d,this,[o,r])),r.runAction(s)}var p=this,h=0;function d(e,t){t.stopAllActions(),++h==p.dataList.length&&p.complete()}},t}(e("../../../com/plugins/procedure/JTOverRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTOverRunning":"JTOverRunning"}],JTSingleOverLouver:[function(e,t,n){"use strict";cc._RF.push(t,"45452m3VRVGSbN7nEYAY3pK","JTSingleOverLouver");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.overRunning=function(){var e=this._owner;e.lineTimeComplete();for(var t=this._scroller,n=t.config,i=t.items,o=0;o<i.length;o++){var a=i[o],r=e.lineTimes[o],s=Math.floor(o/n.row)*n.gapWidth,l=o%n.row*n.gapHeight;a.x=s,a.y=l,a.scaleX=a.scaleY=0,a.opacity=255*a.scaleX,r=cc.sequence(cc.delayTime(t.beginTime*a.index/2/1e3),cc.spawn(cc.scaleTo(t.time/1e3,1,1).easing(cc.easeElasticInOut(3)),cc.fadeIn(t.time/1e3)),cc.callFunc(u,this,[o,a])),a.runAction(r)}var c=this;function u(e,t){t.stopAllActions(),e<i.length-1||c.complete()}},t.prototype.complete=function(){e.prototype.complete.call(this),this._owner.clear(),this._scroller.scrollingComplete()},t}(e("../../../com/plugins/procedure/JTOverRunning").default);n.default=a,cc._RF.pop()},{"../../../com/plugins/procedure/JTOverRunning":"JTOverRunning"}],JTSingleScheduledPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"042fcuyAktIeKn1tMXIiEpq","JTSingleScheduledPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.setRenderBeforeComplete=function(){throw new Error("Method not implemented.")},t.prototype.resetRenderPoints=function(){throw new Error("Method not implemented.")},t.prototype.lineTimeComplete=function(){throw new Error("Method not implemented.")},t}(e("../JTScheduledPipeline").default);n.default=a,cc._RF.pop()},{"../JTScheduledPipeline":"JTScheduledPipeline"}],JTSkinnableArtGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"f3318ylIJ5I3oGupM7Kf1CB","JTSkinnableArtGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableGrid"),r=e("../JTRenderMode"),s=e("../../renders/JTGLoader"),l=e("../../com/canvas/JTCanvasTools"),c=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_ART_PRIORITY,t}return o(t,e),t.prototype.getSlotFrameResName=function(){return"ui://Game/SlotFrameAni"},t.prototype.createComplete=function(){var e=this.getSlotFrameResName(),t=this._owner.scroller.config,n=new s.default;this.skinContainer=n,n.url=e,n.setAnchorPoint(.5,.5),n.width=t.girdWidth+l.default.lineWidth,n.height=t.girdHeight+l.default.lineWidth,this._defaultWidth=t.girdWidth+l.default.lineWidth,this._defaultHeight=t.girdHeight+l.default.lineWidth},t.prototype.setupTexture=function(e,t){var n=this._owner.gridRenderPoints[t];this.skinContainer.x=n.x-l.default.lineWidth/2,this.skinContainer.y=n.y-l.default.lineWidth/2},t}(a.default);n.default=c,cc._RF.pop()},{"../../com/canvas/JTCanvasTools":"JTCanvasTools","../../renders/JTGLoader":"JTGLoader","../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableGrid":"JTAdvanceSkinnableGrid"}],JTSkinnableArtLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"a01deZtavFDpb1TiiIQASDf","JTSkinnableArtLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableLine"),r=e("../JTRenderMode"),s=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_ART_PRIORITY,t}return o(t,e),t.prototype.createComplete=function(){var e=this._owner;e.scroller,e.lineId},t.prototype.setupTexture=function(){},t}(a.default);n.default=s,cc._RF.pop()},{"../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableLine":"JTAdvanceSkinnableLine"}],JTSkinnableFlashLightLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"dc3f81YJhZEuaskVY/V534T","JTSkinnableFlashLightLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../SlotUtils/Handle"),r=e("../../../SlotUtils/SlotUtils"),s=e("../JTLineRenderUtils"),l=e("./base/JTRuntimeSkinnableLine"),c=e("./FlashLight"),u=function(e){function t(){var t=e.call(this)||this;return t.loopIndex=0,t}return o(t,e),t.prototype.createComplete=function(){this.loopIndex=0;var e=this.owner,t=e.scroller,n=t.config;this.flashLights=[],this.clearLines();for(var i=new cc.Node,o=[],a=(t.isLandscape?e.landscapePoints:e.portraitPoints).slice(),l=0;l<a.length-2;){var u=a[l],p=a[l+1],h=a[l+2];Math.atan2(p.y-u.y,p.x-u.x)==Math.atan2(h.y-p.y,h.x-p.x)?a.splice(l+1,1):l++}for(var d=0,f=0;f<a.length-1;f++){var m=a[f],g=a[f+1],_=g.x-m.x,y=g.y-m.y,T=r.default.toAngle(Math.atan2(y,_)),S=Math.sqrt(Math.pow(_,2)+Math.pow(y,2)),E=(g.x+m.x)/2-.5*n.girdWidth,v=(g.y+m.y)/2-.5*n.girdHeight;o.push({x:E,y:v,angle:T,width:S}),d+=S}for(f=0;f<o.length;f++){var C=s.default.createSingleFlashLight();C.angle=o[f].angle,C.width=o[f].width,C.x=o[f].x,C.y=o[f].y;var b=C.getComponent(c.default);this.flashLights.push(b),i.addChild(C),b.roundTime=o[f].width/d*1.2}this._skinContainer=i,t.flashLineContainer&&t.flashLineContainer.addChild(this._skinContainer)},t.prototype.createMaskLine=function(e,t){this.loopIndex=0,this.clearLines();for(var n=this.owner,i=n.renders,o=n.scroller,a=o.config,l=a.girdHeight,u=o.isLandscape?n.landscapePoints:n.portraitPoints,p=[],h=0;h<i.length;h++){var d=1==t?1:-1,f=1==t?h:i.length-h-1,m=u[f].clone();m.x=m.x-a.girdWidth/2,m.y=m.y-a.girdHeight/2;var g=m.x,_=m.y,y=void 0,T=void 0,S=void 0;if(h<e){if(u[f+d]&&((y=u[f+d].clone()).x=y.x-a.girdWidth/2,y.y=y.y-a.girdHeight/2,S=m.y,_>y.y&&(S=m.y-l/2),_<y.y&&(S=m.y+l/2)),T=m.x+d*a.girdWidth/2,m.y-y.y!=0&&(T=(S-m.y)/(m.y-y.y)*(m.x-y.x)+m.x),T=Math.floor(T),S=Math.floor(S),p.push({x:T,y:S,end:!1}),h!=e-1){var E=u[f+d].clone();E.x=E.x-a.girdWidth/2,E.y=E.y-a.girdHeight/2;var v=E.y;m.y>E.y&&(v=E.y+l/2),m.y<E.y&&(v=E.y-l/2),T=E.x-d*a.girdWidth/2,m.y-E.y!=0&&(T=(v-m.y)/(m.y-E.y)*(m.x-E.x)+m.x),T=Math.floor(T),v=Math.floor(v),p.push({x:T,y:v,end:!0})}}else T=Math.floor(g),S=Math.floor(_),p.push({x:T,y:S,end:!0})}this.flashLights=[];var C=new cc.Node;for(h=0;h<p.length-1;h++){var b=s.default.createSingleFlashLight(),R=p[h],M=p[h+1],L=M.x-R.x,N=M.y-R.y;if(!(R.end&&h<p.length-2)){if(0!=L){var I=r.default.toAngle(Math.atan(N/L));b.angle=I}b.width=Math.sqrt(Math.pow(L,2)+Math.pow(N,2)),b.x=(M.x+R.x)/2,b.y=(M.y+R.y)/2;var O=b.getComponent(c.default);this.flashLights.push(O),C.addChild(b),O.roundTime=.4}}this._skinContainer&&this._skinContainer.removeFromParent(),this._skinContainer=C,o.flashLineContainer&&o.flashLineContainer.addChild(this._skinContainer)},t.prototype.show=function(){this.createComplete(),this.showLines(),e.prototype.show.call(this)},t.prototype.showLines=function(){var e=this;this.loopIndex>=this.flashLights.length||(this.flashLights[this.loopIndex].show(!1,.4,a.Handler.create(this,function(){e.showLines()})),this.loopIndex++)},t.prototype.clearLines=function(){if(this._skinContainer){for(var e=0,t=this._skinContainer.children;e<t.length;e++){var n=t[e];s.default.recoverFlashLight(n)}this._skinContainer.removeAllChildren(),this._skinContainer.removeFromParent()}},t.prototype.hide=function(){e.prototype.hide.call(this),this.clearLines()},t}(l.default);n.default=u,cc._RF.pop()},{"../../../SlotUtils/Handle":"Handle","../../../SlotUtils/SlotUtils":"SlotUtils","../JTLineRenderUtils":"JTLineRenderUtils","./FlashLight":"FlashLight","./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"215b2EToT9FnYHS6h8FY8q1","JTSkinnableGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableGrid"),r=e("../JTRenderMode"),s=e("../../com/base/JTImage"),l=e("../../com/canvas/JTCanvasStyle"),c=e("../../com/base/JTGraphics"),u=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_QUALITY_PRIORITY,t.setupDefaultSkinClass(s.default),t}return o(t,e),t.prototype.createComplete=function(){var e=new c.default;this.skinContainer=e},t.prototype.show=function(){var t=this.owner,n=this.skinContainer,i=t.canvasStyle;n.graphics.clear(),n.graphics.strokeColor=cc.Color.BLACK.fromHEX(i?i.strokeStyle:l.JTCanvasStyle.strokeStyle),n.graphics.lineWidth=l.JTCanvasStyle.lineWidth,n.graphics.rect(-n.width/2,-n.height/2,n.width,n.height),n.graphics.stroke(),e.prototype.show.call(this)},t.prototype.setupTexture=function(){},t.prototype.changedSkinnable=function(){},t}(a.default);n.default=u,cc._RF.pop()},{"../../com/base/JTGraphics":"JTGraphics","../../com/base/JTImage":"JTImage","../../com/canvas/JTCanvasStyle":"JTCanvasStyle","../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableGrid":"JTAdvanceSkinnableGrid"}],JTSkinnableLineButtonRender:[function(e,t,n){"use strict";cc._RF.push(t,"1082ebk/hNKIb3qhin2YukO","JTSkinnableLineButtonRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnable"),r=e("../JTRenderMode"),s=function(e){function t(){var t=e.call(this)||this;return t.imgNodes=null,t.imgNodes=[],t}return o(t,e),t.prototype.createComplete=function(){var e=this._owner,t=e.scroller.buttonsComponent;if(t){for(var n=e.lineId,i=t.getChildByName("img_"+n),o=0;o<i.children.length;o++)this.imgNodes.push(i.children[o]),i.children[o].children[1].active=!1;e.skinnables.push(this)}},t.prototype.getRenderMode=function(){return r.default.MODE_QUALITY_PRIORITY},t}(a.default);n.default=s,cc._RF.pop()},{"../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnable":"JTAdvanceSkinnable"}],JTSkinnableLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"3c5a95hUkZJqqVaC5RDDKxd","JTSkinnableLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableLine"),r=e("../JTRenderMode"),s=e("../../com/base/JTImage"),l=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_QUALITY_PRIORITY,t.setupDefaultSkinClass(s.default),t}return o(t,e),t.prototype.createComplete=function(){},t.prototype.show=function(){e.prototype.show.call(this)},t.prototype.setupTexture=function(){},t}(a.default);n.default=l,cc._RF.pop()},{"../../com/base/JTImage":"JTImage","../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableLine":"JTAdvanceSkinnableLine"}],JTSkinnableRuntimeArtGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"d4e58sbAUxMOYY29Upz6aqF","JTSkinnableRuntimeArtGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.createComplete=function(){},t}(e("./base/JTRuntimeSkinnableGrid").default);n.default=a,cc._RF.pop()},{"./base/JTRuntimeSkinnableGrid":"JTRuntimeSkinnableGrid"}],JTSkinnableRuntimeArtLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"d5ab2poEyVOb6xfFGOIv3aL","JTSkinnableRuntimeArtLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.createComplete=function(){},t}(e("./base/JTRuntimeSkinnableLine").default);n.default=a,cc._RF.pop()},{"./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableRuntimeGraphicLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"44ab3cTp4FMcIll2Wd7wV1p","JTSkinnableRuntimeGraphicLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../com/base/JTGraphics"),r=e("./base/JTRuntimeSkinnableLine"),s=e("../../com/canvas/JTCanvasStyle"),l=function(e){function t(){var t=e.call(this)||this;return t._alpha=255,t.isShowMaskLine=!1,t.winCount=1,t.direction=1,t}return o(t,e),t.prototype.createComplete=function(){},Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){this._alpha!=e&&(this._alpha=e,this.skinContainer&&(this.isShowMaskLine?this.drawGraphicMaskLine():this.drawGraphicLine()))},enumerable:!1,configurable:!0}),t.prototype.setupTexture=function(){},t.prototype.drawGraphicLine=function(){var e=this.owner,t=e.renders,n=e.canvasStyle,i=e.scroller,o=i.config,a=i.isLandscape?e.landscapePoints:e.portraitPoints,r=this._skinContainer;r.graphics.clear(),r.graphics.lineWidth=s.JTCanvasStyle.lineWidth,r.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,r.graphics.lineCap=cc.Graphics.LineCap.ROUND;var l=cc.Color.BLACK.fromHEX(n.strokeStyle);l.setA(this.alpha),r.graphics.strokeColor=l;for(var c=0;c<t.length;c++){var u=a[c],p=u.x-o.girdWidth/2,h=u.y-o.girdHeight/2;0==c?r.graphics.moveTo(p,h):(r.graphics.lineTo(p,h),r.graphics.stroke())}i.lineContainer&&!this.skinContainer.parent&&i.lineContainer.addChild(this._skinContainer)},t.prototype.isHitMixRenderRect=function(e,t){for(var n=this.owner,i=n.renders,o=n.scroller,a=0,r=i;a<r.length;a++){var s=r[a];if(s.mixRow>1||s.mixColumn>1){var l=o.getRenderPoint(s.index);if(l.x-.5*s.width<e&&e<l.x+.5*s.width&&l.y-.5*s.height<t&&t<l.y+.5*s.height)return!0}}return!1},t.prototype.drawGraphicMaskLine=function(){var e=this.owner,t=e.lineResult&&e.lineResult.line,n=e.renders,i=this.winCount||n.length,o=e.canvasStyle,a=e.scroller,r=a.config,l=a.isLandscape?e.landscapePoints:e.portraitPoints,c=r.girdHeight,u=this.skinContainer;u.graphics.clear(),u.graphics.lineWidth=s.JTCanvasStyle.lineWidth,u.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,u.graphics.lineCap=cc.Graphics.LineCap.ROUND;var p=cc.Color.BLACK.fromHEX(o.strokeStyle);if(p.setA(this.alpha),u.graphics.strokeColor=p,t&&t.winPos&&t.winPos.length>0)for(var h=t.winPos,d=0;d<n.length;d++){var f=c/2,m=r.girdWidth,g=m/2,_=1==t.direction?1:-1,y=l[E=1==t.direction?d:n.length-d-1].clone(),T=C=y.x-g,S=b=y.y-f;d<n.length-1&&(e.checkRenderInWinPos(n[E],h)?(L=l[E+_])&&(C>L.x-g?C-=g:C<L.x-g&&(C+=g),b>L.y-f?b-=f:b<L.y-f&&(b+=f),e.checkRenderInWinPos(n[E+_],h)?(C>L.x-g?T=L.x:C<L.x-g&&(T=L.x-m),b>L.y-f?S=L.y:b<L.y-f&&(S=L.y-c)):(T=L.x-g,S=L.y-f),u.graphics.moveTo(Math.floor(C),Math.floor(b)),u.graphics.lineTo(Math.floor(T),Math.floor(S)),u.graphics.stroke()):(L=l[E+_])&&(e.checkRenderInWinPos(n[E+_],h)?(C>L.x-g?T=L.x:C<L.x-g&&(T=L.x-m),b>L.y-f?S=L.y:b<L.y-f&&(S=L.y-c)):(T=L.x-g,S=L.y-f),u.graphics.moveTo(Math.floor(C),Math.floor(b)),u.graphics.lineTo(Math.floor(T),Math.floor(S)),u.graphics.stroke()))}else for(d=0;d<n.length;d++){_=1==this.direction?1:-1;var E,v=l[E=1==this.direction?d:n.length-d-1].clone();v.x=v.x-r.girdWidth/2,v.y=v.y-r.girdHeight/2;var C=v.x,b=v.y,R=void 0,M=void 0;if(d<i){var L;if(l[E+_]?((L=l[E+_].clone()).x=L.x-r.girdWidth/2,L.y=L.y-r.girdHeight/2,M=v.y,b>L.y&&(M=v.y-c/2),b<L.y&&(M=v.y+c/2),R=L.x==v.x?v.x:v.x+_*r.girdWidth/2):R=v.x+_*r.girdWidth/2,R=Math.floor(R),M=Math.floor(M),this.isHitMixRenderRect(R,M))continue;u.graphics.moveTo(R,M),d!=i-1&&((L=l[E+_].clone()).x=L.x-r.girdWidth/2,L.y=L.y-r.girdHeight/2,M=L.y,v.y>L.y&&(M=L.y+c/2),v.y<L.y&&(M=L.y-c/2),R=L.x==v.x?v.x:L.x-_*r.girdWidth/2,R=Math.floor(R),M=Math.floor(M),u.graphics.lineTo(R,M),u.graphics.stroke())}else R=Math.floor(C),M=Math.floor(b),u.graphics.lineTo(C,b),u.graphics.stroke()}a.lineContainer&&!this.skinContainer.parent&&a.lineContainer.addChild(this.skinContainer)},t.prototype.show=function(t,n,i,o,r){void 0===o&&(o=1),e.prototype.show.call(this),cc.Tween.stopAllByTarget(this),this.skinContainer||(this.skinContainer=new a.default),this.isShowMaskLine=n,this.winCount=i,this.direction=o;var s=this.owner;r&&s&&(s.lineResult=r),this.alpha=255,n?this.drawGraphicMaskLine():this.drawGraphicLine()},t.prototype.hide=function(){this.skinContainer&&this.skinContainer.active&&this.skinContainer.parent&&(cc.Tween.stopAllByTarget(this),e.prototype.hide.call(this))},t}(r.default);n.default=l,cc._RF.pop()},{"../../com/base/JTGraphics":"JTGraphics","../../com/canvas/JTCanvasStyle":"JTCanvasStyle","./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableRuntimeGraphicsSpriteMeshLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"16debhpaxxNop5dt7YGVDm4","JTSkinnableRuntimeGraphicsSpriteMeshLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTRuntimeSkinnableLine"),r=e("../../com/base/JTGraphicsSpriteMesh"),s=e("../../../MainView/SlotMachineView"),l=function(e){function t(){var t=e.call(this)||this;return t.lineImageNode=null,t.hasAddNode=!1,t.lineMaskContainer=null,t.addShowLineNode(),t}return o(t,e),t.prototype.createComplete=function(){this.addShowLineNode();var e=this.owner,t=e.renders,n=e.scroller,i=n.config,o=n.isLandscape?e.landscapePoints:e.portraitPoints;this.hasAddNode||(this._skinContainer&&this._skinContainer.removeFromParent(),n.lineContainer&&(this.lineMaskContainer=n.lineContainer.getChildByName("LineMaskContainer"),this._skinContainer=this.lineImageNode,this.lineMaskContainer.addChild(this._skinContainer),this.hasAddNode=!0)),this.lineImageNode.clear();for(var a=0;a<t.length;a++){var r=o[a],l=r.x-i.girdWidth/2,c=r.y-i.girdHeight/2;0==a?this.lineImageNode.graphics.moveTo(l,c):(this.lineImageNode.graphics.lineTo(l,c),a==t.length-1&&(this.lineImageNode.stroke(),this.lineImageNode.active=!0))}if(s.default.instance.isGraphicsLineShowAni&&this.lineMaskContainer){var u=i.gapWidth*i.col;this.lineMaskContainer.width=0,cc.tween(this.lineMaskContainer).to(.3,{width:2*u}).start()}},t.prototype.addShowLineNode=function(){return this.lineImageNode?this.lineImageNode:(this.lineImageNode=new r.default,this.lineImageNode.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,this.lineImageNode.graphics.lineCap=cc.Graphics.LineCap.ROUND,this.lineImageNode)},t.prototype.setupTexture=function(){},t.prototype.show=function(){e.prototype.show.call(this),this.createComplete()},t.prototype.hide=function(){e.prototype.hide.call(this),this.owner.scroller,this.lineImageNode&&(this.lineImageNode.active=!1)},t}(a.default);n.default=l,cc._RF.pop()},{"../../../MainView/SlotMachineView":"SlotMachineView","../../com/base/JTGraphicsSpriteMesh":"JTGraphicsSpriteMesh","./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableRuntimeGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"68456wjAa9IGJrygTbYjfEt","JTSkinnableRuntimeGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTRuntimeSkinnableGrid"),r=e("../../com/canvas/JTCanvasTools"),s=e("../../com/base/JTImage"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.createComplete=function(){this.owner;var e=new s.default,t=cc.loader.getRes("");e.content.spriteFrame=new cc.SpriteFrame(t),this._skinContainer=e},t.prototype.setupTexture=function(e,t){var n=e,i=this._owner,o=i.scroller,a=(o.config,o.getRenderPoint(t));this._skinContainer||(this.skinContainer=new s.default,this.skinContainer.content.spriteFrame=n.skinContainer.content.spriteFrame),this.skinContainer.x=a.x-r.default.lineWidth/2,this.skinContainer.y=a.y-r.default.lineWidth/2,this.show(),i.gridRenderPoints.push(new cc.Vec2(this._skinContainer.x,this._skinContainer.y)),o.gridContainer&&o.gridContainer.addChild(this._skinContainer)},t}(a.default);n.default=l,cc._RF.pop()},{"../../com/base/JTImage":"JTImage","../../com/canvas/JTCanvasTools":"JTCanvasTools","./base/JTRuntimeSkinnableGrid":"JTRuntimeSkinnableGrid"}],JTSkinnableRuntimeLineAnimationRender:[function(e,t,n){"use strict";cc._RF.push(t,"7fe9en1JkdIbplVLJfe98/q","JTSkinnableRuntimeLineAnimationRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../slot_common/common/component/CommonNumAtlasBase"),r=e("../../../slot_common/common/utils/GData"),s=e("../../../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnableLine"),l=e("../../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),c=e("./LineAnimationManager"),u=function(e){function t(){var t=e.call(this)||this;return t.aniLines=[],t.lineIdLabels=[],t.lineIdBgs=[],t}return o(t,e),t.prototype.createComplete=function(){var e=this.owner,t=r.GData.getParameter("lineAniConfig");if(t){var n=e.scroller,i=n.config;t.isMultipleScroller&&(t=t[n.gameID]);for(var o=new cc.Node,s=[],u=n.isLandscape?e.landscapePoints:e.portraitPoints,p=e.lineId,h=t.linePoint[p],d=[].concat(h.points),f=0;f<u.length;f++){var m=u[f],g=0;if(0!=d.length){for(var _=0;_<d.length;_++){var y=d[_],T=m.x-.5*i.girdWidth,S=m.x+.5*i.girdWidth;T<y.x&&y.x<S&&g++,0==f&&y.x<=T&&g++,f==u.length-1&&y.x>=S&&g++}(0!=f&&f!=u.length-1||1!=g)&&0!=g||this.insertSplitPoint(m,d)}}var E=0;for(f=0;f<d.length-1;f++){y=d[f];var v=d[f+1],C=v.x-y.x,b=v.y-y.y,R=l.default.toAngle(Math.atan2(b,C)),M=Math.sqrt(Math.pow(C,2)+Math.pow(b,2)),L=(v.x+y.x)/2-.5*i.girdWidth,N=(v.y+y.y)/2-.5*i.girdHeight;(P=this.aniLines[f])||(P=c.default.instance.createLineAni(),this.aniLines[f]=P);var I="center";0==f?I="left":f==d.length-2&&(I="right");var O=E;E+=.35*P.getDuration(I),s.push({x:L,y:N,angle:R,width:M,distanceX:C,site:I,delay:O})}for(f=0;f<s.length;f++){var P;(P=this.aniLines[f]).node.angle=s[f].angle,P.node.x=s[f].x,P.node.y=s[f].y,P.clear(),P.node.parent&&P.node.removeFromParent(),o.addChild(P.node),O=s[f].delay,s[f].distanceX,I=s[f].site,P.play(s[f].width,O,I,E)}this._skinContainer=o,n.lineContainer.addChild(o);var A=h.lineIdLabel,w=h.lineIdBg,G=!!t.isFormat&&t.isFormat,D=h.lineIdString||p;if(A instanceof Array||(A=[A]),w?w instanceof Array||(w=[w]):w=A,0==this.lineIdLabels.length)for(f=0;f<A.length;f++)(x=c.default.instance.createLineIdLabel())&&this.lineIdLabels.push(x),(k=c.default.instance.createLineIdBg())&&this.lineIdBgs.push(k);for(f=0;f<this.lineIdBgs.length;f++){var k;(k=this.lineIdBgs[f]).x=w[f].x,k.y=w[f].y,k.scaleX=w[f].scaleX||1,k.scaleY=w[f].scaleY||1,k.zIndex=w[f].zIndex||0,k.parent&&k.removeFromParent(),n.lineNumContainer&&n.lineNumContainer.addChild(k)}for(f=0;f<this.lineIdLabels.length;f++){var x;(x=this.lineIdLabels[f]).x=A[f].x,x.y=A[f].y,x.zIndex=A[f].zIndex||0,x.parent&&x.removeFromParent(),n.lineNumContainer&&n.lineNumContainer.addChild(x),x.getComponent(a.default).string=G&&10-p>0?String(0).concat(""+D):""+D}}},t.prototype.insertSplitPoint=function(e,t){for(var n=t[0],i=0,o=0;o<t.length;o++){var a=t[o];if(e.x<a.x)break;n=a,i=o}var r=t[t.length-1];for(o=t.length-1;o>=0;o--){var s=t[o];if(e.x>s.x)break;r=s}if(n.x!=r.x){var l=n.y+(r.y-n.y)/(r.x-n.x)*(e.x-n.x),c={x:e.x,y:l};t.splice(i+1,0,c)}},t.prototype.removeLines=function(){for(var e=0,t=this.aniLines;e<t.length;e++){var n=t[e];n.node.removeFromParent(),n.clear()}for(var i=0,o=this.lineIdLabels;i<o.length;i++)o[i].removeFromParent();for(var a=0,r=this.lineIdBgs;a<r.length;a++)r[a].removeFromParent()},t.prototype.setupTexture=function(){},t.prototype.show=function(){e.prototype.show.call(this),this.createComplete()},t.prototype.hide=function(){e.prototype.hide.call(this),this.removeLines();var t=this.owner.scroller;t.lineContainer&&t.lineContainer.removeChild(this._skinContainer)},t}(s.default);n.default=u,cc._RF.pop()},{"../../../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../../../slot_common/common/utils/GData":"GData","../../../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine","../../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","./LineAnimationManager":"LineAnimationManager"}],JTSkinnableRuntimeLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"a954cVjPBRM4rVIbRnyLyM2","JTSkinnableRuntimeLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTRuntimeSkinnableLine"),r=e("../../com/base/JTGraphics"),s=e("../../../MainView/SlotMachineView"),l=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.createComplete=function(){var e=this.owner,t=e.renders,n=e.canvasStyle,i=e.scroller,o=i.config,a=i.isLandscape?e.landscapePoints:e.portraitPoints,l=this._skinContainer||new r.default;l.graphics.clear(),l.graphics.lineWidth=n.lineWidth,l.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,l.graphics.lineCap=cc.Graphics.LineCap.ROUND;var c=cc.Color.BLACK.fromHEX(n.strokeStyle);c.setA(i.runTimeLineOpacity),l.graphics.strokeColor=c;for(var u=0;u<t.length;u++){var p=a[u],h=p.x-o.girdWidth/2,d=p.y-o.girdHeight/2;0==u?l.graphics.moveTo(h,d):(l.graphics.lineTo(h,d),l.graphics.stroke())}if(i.lineContainer){var f=i.lineContainer.getChildByName("LineMaskContainer");if(s.default.instance.isGraphicsLineShowAni){var m=o.gapWidth*o.col;f.width=0,cc.tween(f).to(.5,{width:2*m}).start()}f.removeChild(this._skinContainer),this._skinContainer=l,f.addChild(this._skinContainer)}},t.prototype.createMaskLine=function(e,t){var n=this.owner,i=n.renders,o=n.canvasStyle,a=n.scroller,s=a.config,l=a.isLandscape?n.landscapePoints:n.portraitPoints,c=s.girdHeight,u=this.skinContainer||new r.default;u.graphics.clear(),u.graphics.lineWidth=o.lineWidth,u.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,u.graphics.lineCap=cc.Graphics.LineCap.ROUND;var p=cc.Color.BLACK.fromHEX(o.strokeStyle);p.setA(a.runTimeLineOpacity),u.graphics.strokeColor=p;for(var h=0;h<i.length;h++){var d=1==t?1:-1,f=1==t?h:i.length-h-1,m=(i[f],l[f].clone());m.x=m.x-s.girdWidth/2,m.y=m.y-s.girdHeight/2;var g=m.x,_=m.y;if(h<e){if(l[f+d]){(S=l[f+d].clone()).x=S.x-s.girdWidth/2,S.y=S.y-s.girdHeight/2;var y=m.y;_>S.y&&(y=m.y-c/2),_<S.y&&(y=m.y+c/2)}if(T=m.x+d*s.girdWidth/2,m.y-S.y!=0)var T=(y-m.y)/(m.y-S.y)*(m.x-S.x)+m.x;var S;if(T=Math.floor(T),y=Math.floor(y),u.graphics.moveTo(T,y),h!=e-1)(S=l[f+d].clone()).x=S.x-s.girdWidth/2,S.y=S.y-s.girdHeight/2,y=S.y,m.y>S.y&&(y=S.y+c/2),m.y<S.y&&(y=S.y-c/2),T=S.x-d*s.girdWidth/2,m.y-S.y!=0&&(T=(y-m.y)/(m.y-S.y)*(m.x-S.x)+m.x),T=Math.floor(T),y=Math.floor(y),u.graphics.lineTo(T,y),u.graphics.stroke()}else T=Math.floor(g),y=Math.floor(_),u.graphics.lineTo(g,_),u.graphics.stroke()}a.lineContainer&&a.lineContainer.removeChild(this._skinContainer),this._skinContainer=u,a.lineContainer&&a.lineContainer.addChild(this._skinContainer)},t.prototype.setupTexture=function(){},t.prototype.show=function(){e.prototype.show.call(this),this.createComplete()},t.prototype.hide=function(){e.prototype.hide.call(this);var t=this.owner.scroller;t.lineContainer&&t.lineContainer.removeChild(this._skinContainer)},t}(a.default);n.default=l,cc._RF.pop()},{"../../../MainView/SlotMachineView":"SlotMachineView","../../com/base/JTGraphics":"JTGraphics","./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableRuntimeMaskLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"811c7OiRdFAHYToIbJwFxpa","JTSkinnableRuntimeMaskLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTRuntimeSkinnableLine"),r=e("../../com/base/JTGraphics"),s=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.createComplete=function(){var e=this.owner,t=e.renders,n=e.canvasStyle,i=e.scroller,o=i.config,a=i.isLandscape?e.landscapePoints:e.portraitPoints,s=this._skinContainer||new r.default;s.graphics.clear(),s.graphics.lineWidth=n.lineWidth,s.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,s.graphics.lineCap=cc.Graphics.LineCap.ROUND;var l=cc.Color.BLACK.fromHEX(n.strokeStyle);l.setA(i.runTimeLineOpacity),s.graphics.strokeColor=l;for(var c=0;c<t.length;c++){var u=a[c],p=u.x-o.girdWidth/2,h=u.y-o.girdHeight/2;0==c?s.graphics.moveTo(p,h):(s.graphics.lineTo(p,h),s.graphics.stroke())}if(i.lineContainer){var d=i.lineContainer.getChildByName("LineMaskContainer");this._skinContainer&&this._skinContainer.parent&&this._skinContainer.removeFromParent(!0),d.removeChild(this._skinContainer),this._skinContainer=s,d.addChild(this._skinContainer)}},t.prototype.isHitMixRenderRect=function(e,t){for(var n=this.owner,i=n.renders,o=n.scroller,a=0,r=i;a<r.length;a++){var s=r[a];if(s.mixRow>1||s.mixColumn>1){var l=o.getRenderPoint(s.index);if(l.x-.5*s.width<e&&e<l.x+.5*s.width&&l.y-.5*s.height<t&&t<l.y+.5*s.height)return!0}}return!1},t.prototype.createMaskLine=function(e,t){var n,i=this.owner,o=i.renders,a=i.lineResult;n=a&&a.renders&&a.renders.length>0?a.renders.length:e||o.length;var s=i.canvasStyle,l=i.scroller,c=l.config,u=l.isLandscape?i.landscapePoints:i.portraitPoints,p=this.skinContainer||new r.default;p.graphics.clear(),p.graphics.lineWidth=s.lineWidth,p.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,p.graphics.lineCap=cc.Graphics.LineCap.ROUND;var h=cc.Color.BLACK.fromHEX(s.strokeStyle);h.setA(l.runTimeLineOpacity),p.graphics.strokeColor=h;for(var d=0;d<o.length;d++){var f=1==t?1:-1,m=1==t?d:o.length-d-1,g=(o[m],u[m].clone());g.x=g.x-c.girdWidth/2,g.y=g.y-c.girdHeight/2;var _=g.x,y=g.y,T=void 0,S=void 0;if(d<n){u[m+f]&&((C=u[m+f].clone()).x=C.x-c.girdWidth/2,C.y=C.y-c.girdHeight/2,S=g.y,y>C.y&&(S=g.y-c.girdHeight/2),y<C.y&&(S=g.y+c.girdHeight/2)),T=g.x+f*c.girdWidth/2;var E=Math.floor(T),v=Math.floor(S);if(d!=n-1){var C;if((C=u[m+f].clone()).x=C.x-c.girdWidth/2,C.y=C.y-c.girdHeight/2,S=C.y,g.y>C.y&&(S=C.y+c.girdHeight/2),g.y<C.y&&(S=C.y-c.girdHeight/2),T=C.x-f*c.girdWidth/2,T=Math.floor(T),S=Math.floor(S),E==T&&v==S||this.isHitMixRenderRect(E,v)||this.isHitMixRenderRect(T,S))continue;p.graphics.moveTo(E,v),p.graphics.lineTo(T,S),p.graphics.stroke()}else p.graphics.moveTo(E,v)}else T=Math.floor(_),S=Math.floor(y),p.graphics.lineTo(_,y),p.graphics.stroke()}this._skinContainer&&this._skinContainer.removeFromParent(!0),this._skinContainer=p,l.lineContainer&&l.lineContainer.addChild(this._skinContainer)},t.prototype.setupTexture=function(){},t.prototype.show=function(t,n,i,o){void 0===o&&(o=1),e.prototype.show.call(this),n?this.createMaskLine(i,o):this.createComplete()},t.prototype.hide=function(){e.prototype.hide.call(this);var t=this.owner.scroller;t.lineContainer&&t.lineContainer.removeChild(this._skinContainer)},t}(a.default);n.default=s,cc._RF.pop()},{"../../com/base/JTGraphics":"JTGraphics","./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableRuntimeOutGlowGraphicGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"a2449EoKbtI47m/IoX/9TgU","JTSkinnableRuntimeOutGlowGraphicGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableGrid"),r=e("../JTRenderMode"),s=e("../../com/base/JTImage"),l=e("../../com/canvas/JTCanvasStyle"),c=e("../../com/base/JTGraphics"),u=e("../JTLineRenderUtils"),p=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_QUALITY_PRIORITY,t.setupDefaultSkinClass(s.default),t}return o(t,e),t.prototype.createComplete=function(){var e=new c.default;this.skinContainer=e,e.graphics.setMaterial(0,u.default.outGlowGraphicMaterial)},t.prototype.show=function(){var t=this.owner,n=this.skinContainer;if(n.graphics){var i=t.canvasStyle;n.graphics.clear(),n.graphics.strokeColor=cc.Color.BLACK.fromHEX(i?i.strokeStyle:l.JTCanvasStyle.strokeStyle),n.graphics.lineWidth=l.JTCanvasStyle.lineWidth,n.graphics.rect(-n.width/2,-n.height/2,n.width,n.height),n.graphics.stroke(),e.prototype.show.call(this)}},t.prototype.setupTexture=function(){},t.prototype.changedSkinnable=function(){},t}(a.default);n.default=p,cc._RF.pop()},{"../../com/base/JTGraphics":"JTGraphics","../../com/base/JTImage":"JTImage","../../com/canvas/JTCanvasStyle":"JTCanvasStyle","../JTLineRenderUtils":"JTLineRenderUtils","../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableGrid":"JTAdvanceSkinnableGrid"}],JTSkinnableRuntimeOutGlowGraphicLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"7bca5PDGy1OQ4dxlv+lWCDb","JTSkinnableRuntimeOutGlowGraphicLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../com/base/JTGraphics"),r=e("./base/JTRuntimeSkinnableLine"),s=e("../../com/canvas/JTCanvasStyle"),l=e("../JTLineRenderUtils"),c=function(e){function t(){var t=e.call(this)||this;return t.isShowMaskLine=!1,t.winCount=1,t.direction=1,t}return o(t,e),t.prototype.createComplete=function(){},t.prototype.setupTexture=function(){},t.prototype.drawGraphicLine=function(){var e=this.owner,t=e.renders,n=e.canvasStyle,i=e.scroller,o=i.config,a=i.isLandscape?e.landscapePoints:e.portraitPoints,r=this._skinContainer;r.graphics.clear(),r.graphics.lineWidth=s.JTCanvasStyle.lineWidth,r.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,r.graphics.lineCap=cc.Graphics.LineCap.ROUND;var l=cc.Color.BLACK.fromHEX(n.strokeStyle);l.setA(120),r.graphics.strokeColor=l;for(var c=0;c<t.length;c++){var u=a[c],p=u.x-o.girdWidth/2,h=u.y-o.girdHeight/2;0==c?r.graphics.moveTo(p,h):(r.graphics.lineTo(p,h),r.graphics.stroke())}i.lineContainer&&!this.skinContainer.parent&&i.lineContainer.addChild(this._skinContainer)},t.prototype.isHitMixRenderRect=function(e,t){for(var n=this.owner,i=n.renders,o=n.scroller,a=0,r=i;a<r.length;a++){var s=r[a];if(s.mixRow>1||s.mixColumn>1){var l=o.getRenderPoint(s.index);if(l.x-.5*s.width<e&&e<l.x+.5*s.width&&l.y-.5*s.height<t&&t<l.y+.5*s.height)return!0}}return!1},t.prototype.drawGraphicMaskLine=function(){var e=this.owner,t=e.lineResult&&e.lineResult.line,n=e.renders,i=this.winCount||n.length,o=e.canvasStyle,a=e.scroller,r=a.config,l=a.isLandscape?e.landscapePoints:e.portraitPoints,c=r.girdHeight,u=this.skinContainer;u.graphics.clear(),u.graphics.lineWidth=s.JTCanvasStyle.lineWidth,u.graphics.lineJoin=cc.Graphics.LineJoin.ROUND,u.graphics.lineCap=cc.Graphics.LineCap.ROUND;var p=cc.Color.BLACK.fromHEX(o.strokeStyle);if(p.setA(120),u.graphics.strokeColor=p,t&&t.winPos&&t.winPos.length>0)for(var h=t.winPos,d=0;d<n.length;d++){var f=c/2,m=r.girdWidth,g=m/2,_=1==t.direction?1:-1,y=l[E=1==t.direction?d:n.length-d-1].clone(),T=C=y.x-g,S=b=y.y-f;d<n.length-1&&(e.checkRenderInWinPos(n[E],h)?(L=l[E+_])&&(C>L.x-g?C-=g:C<L.x-g&&(C+=g),b>L.y-f?b-=f:b<L.y-f&&(b+=f),e.checkRenderInWinPos(n[E+_],h)?(C>L.x-g?T=L.x:C<L.x-g&&(T=L.x-m),b>L.y-f?S=L.y:b<L.y-f&&(S=L.y-c)):(T=L.x-g,S=L.y-f),u.graphics.moveTo(Math.floor(C),Math.floor(b)),u.graphics.lineTo(Math.floor(T),Math.floor(S)),u.graphics.stroke()):(L=l[E+_])&&(e.checkRenderInWinPos(n[E+_],h)?(C>L.x-g?T=L.x:C<L.x-g&&(T=L.x-m),b>L.y-f?S=L.y:b<L.y-f&&(S=L.y-c)):(T=L.x-g,S=L.y-f),u.graphics.moveTo(Math.floor(C),Math.floor(b)),u.graphics.lineTo(Math.floor(T),Math.floor(S)),u.graphics.stroke()))}else for(d=0;d<n.length;d++){_=1==this.direction?1:-1;var E,v=l[E=1==this.direction?d:n.length-d-1].clone();v.x=v.x-r.girdWidth/2,v.y=v.y-r.girdHeight/2;var C=v.x,b=v.y,R=void 0,M=void 0;if(d<i){var L;if(l[E+_]?((L=l[E+_].clone()).x=L.x-r.girdWidth/2,L.y=L.y-r.girdHeight/2,M=v.y,b>L.y&&(M=v.y-c/2),b<L.y&&(M=v.y+c/2),R=L.x==v.x?v.x:v.x+_*r.girdWidth/2):R=v.x+_*r.girdWidth/2,R=Math.floor(R),M=Math.floor(M),this.isHitMixRenderRect(R,M))continue;u.graphics.moveTo(R,M),d!=i-1&&((L=l[E+_].clone()).x=L.x-r.girdWidth/2,L.y=L.y-r.girdHeight/2,M=L.y,v.y>L.y&&(M=L.y+c/2),v.y<L.y&&(M=L.y-c/2),R=L.x==v.x?v.x:L.x-_*r.girdWidth/2,R=Math.floor(R),M=Math.floor(M),u.graphics.lineTo(R,M),u.graphics.stroke())}else R=Math.floor(C),M=Math.floor(b),u.graphics.lineTo(C,b),u.graphics.stroke()}a.lineContainer&&!this.skinContainer.parent&&a.lineContainer.addChild(this.skinContainer)},t.prototype.show=function(t,n,i,o,r){void 0===o&&(o=1),e.prototype.show.call(this),this.skinContainer||(this.skinContainer=new a.default,this.skinContainer.graphics.setMaterial(0,l.default.outGlowGraphicMaterial)),this.isShowMaskLine=n,this.winCount=i,this.direction=o;var s=this.owner;r&&s&&(s.lineResult=r),n?this.drawGraphicMaskLine():this.drawGraphicLine()},t.prototype.hide=function(){this.skinContainer&&this.skinContainer.active&&this.skinContainer.parent&&e.prototype.hide.call(this)},t}(r.default);n.default=c,cc._RF.pop()},{"../../com/base/JTGraphics":"JTGraphics","../../com/canvas/JTCanvasStyle":"JTCanvasStyle","../JTLineRenderUtils":"JTLineRenderUtils","./base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine"}],JTSkinnableScaleGridRender:[function(e,t,n){"use strict";cc._RF.push(t,"4b5b6IG6q9Hnr0Rl1YMOV4h","JTSkinnableScaleGridRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableGrid"),r=e("../JTRenderMode"),s=e("../../com/base/JTImage"),l=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_QUALITY_PRIORITY,t.setupDefaultSkinClass(s.default),t}return o(t,e),t.prototype.createComplete=function(){this.owner.skinnables.push(this)},t.prototype.setupTexture=function(){},t.skinnables=[],t}(a.default);n.default=l,cc._RF.pop()},{"../../com/base/JTImage":"JTImage","../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableGrid":"JTAdvanceSkinnableGrid"}],JTSkinnableScaleLineRender:[function(e,t,n){"use strict";cc._RF.push(t,"5f095x2UF5Ie71eZlz9Gvf1","JTSkinnableScaleLineRender");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./base/JTAdvanceSkinnableLine"),r=e("../JTRenderMode"),s=e("../../com/base/JTImage"),l=e("../../com/canvas/JTCanvasTools"),c=e("../../../SlotUtils/SlotUtils"),u=function(e){function t(){var t=e.call(this)||this;return t._mode=r.default.MODE_PERFORMANCE_PRIORITY,t.setupDefaultSkinClass(s.default),t}return o(t,e),t.prototype.createComplete=function(){},t.prototype.setupTexture=function(){for(var e=this.owner,t=e.renders,n=e.scroller,i=n.config,o=0,a=0,r=l.default.lineWidth,u=[],p=0;p<i.col-1;p++){var h=new s.default;c.default.setScale9GridRect(h,new cc.Rect(3,1,3,1)),h.setAnchorPoint(r/2,r/2);var d=t[p],f=t[p+1],m=n.getRenderCenterPoint(d.index),g=n.getRenderCenterPoint(f.index);if(o=g.x-m.x,0!=(a=g.y-m.y)){var _=-c.default.toAngle(Math.atan(a/o));h.angle=_}h.width=Math.sqrt(Math.pow(o,2)+Math.pow(a,2))+r,h.x=m.x,h.y=m.y,u.push(h)}for(var y=0;y<u.length;y++)this.addChild(u[y])},t}(a.default);n.default=u,cc._RF.pop()},{"../../../SlotUtils/SlotUtils":"SlotUtils","../../com/base/JTImage":"JTImage","../../com/canvas/JTCanvasTools":"JTCanvasTools","../JTRenderMode":"JTRenderMode","./base/JTAdvanceSkinnableLine":"JTAdvanceSkinnableLine"}],JTSkinnable:[function(e,t,n){"use strict";cc._RF.push(t,"f4485BGMRdJLaxYkgchKbmR","JTSkinnable");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._defaultWidth=0,t._defaultHeight=0,t._skinContainer=null,t._skinClass=null,t._singleLineComplete=null,t}return o(t,e),t.prototype.preloader=function(){},t.prototype.changedSkinnable=function(){},t.prototype.setSkeSkin=function(){},t.prototype.show=function(){this._skinContainer&&(this._skinContainer.active=!0)},t.prototype.hide=function(){this._skinContainer&&(this._skinContainer.active=!1)},t.prototype.setupDefaultSkinClass=function(e){this._skinClass=e,this._skinContainer=new e},t.prototype.addChild=function(e){this._skinContainer.addChild(e)},t.prototype.setupTexture=function(e){this._skinContainer.texture=e},Object.defineProperty(t.prototype,"skinContainer",{get:function(){return this._skinContainer},set:function(e){this._skinContainer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultHeight",{get:function(){return this._defaultHeight},set:function(e){this._defaultHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultWidth",{get:function(){return this._defaultWidth},set:function(e){this._defaultWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{set:function(){this._skinContainer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleLineComplete",{get:function(){return this._singleLineComplete},set:function(e){this._singleLineComplete=e},enumerable:!1,configurable:!0}),t}(e("../../../com/base/JTContainer").default);n.default=a,cc._RF.pop()},{"../../../com/base/JTContainer":"JTContainer"}],JTSprite:[function(e,t,n){"use strict";cc._RF.push(t,"45f3eL8DNdAho2VAd782A0Q","JTSprite");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTContainer"),r=function(e){function t(){var t=e.call(this)||this;return t._proxyOwner=null,t.addComponent(cc.Sprite),t._proxyOwner=new a.default,t}return o(t,e),t.prototype.bind=function(e,t){this._proxyOwner.bind(e,t)},t.prototype.addContainer=function(e){return this._proxyOwner.addContainer(e)},t.prototype.removeContainerAt=function(e,t){return void 0===t&&(t=1),this._proxyOwner.removeContainerAt(e)},t.prototype.removeContainer=function(e){return this._proxyOwner.removeContainer(e)},t.prototype.getContainerByIndex=function(e){return this._proxyOwner.getContainerByIndex(e)},Object.defineProperty(t.prototype,"childsCount",{get:function(){return this._proxyOwner.childsCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childs",{get:function(){return this._proxyOwner.childs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._proxyOwner.owner},set:function(e){this._proxyOwner.owner=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"caller",{get:function(){return this._proxyOwner.caller},set:function(e){this._proxyOwner.caller=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return this._proxyOwner.destroy(),!0},t.prototype.clear=function(){this._proxyOwner.clear()},t}(a.default);n.default=r,cc._RF.pop()},{"./JTContainer":"JTContainer"}],JTTaskContainer:[function(e,t,n){"use strict";cc._RF.push(t,"eeff2IMn7FMXIzWONhha16O","JTTaskContainer");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../com/tasks/JTTask"),r=e("./JTContainerMode"),s=function(e){function t(){var t=e.call(this)||this;return t._target=null,t._type=null,t._mode=r.default.SUPPORT_RESTORE,t}return o(t,e),t.prototype.bind=function(t,n){e.prototype.bind.call(this,t,n),this._target.bind(this,this._caller)},t.prototype.contact=function(e,t){this._target=e,this._type=t},t.prototype.runningCallTask=function(){return this._mode==r.default.SUPPORT_RESTORE&&this.runningTask()},t.prototype.runningTask=function(){return this._target.clear(),this._target.runningTask()},Object.defineProperty(t.prototype,"task",{get:function(){return this._target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataProvider",{get:function(){return this._dataProvider},set:function(e){this._dataProvider=e,this._target.dataProvider=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){this._mode=e},enumerable:!1,configurable:!0}),t}(a.default);n.default=s,cc._RF.pop()},{"../com/tasks/JTTask":"JTTask","./JTContainerMode":"JTContainerMode"}],JTTaskFlow:[function(e,t,n){"use strict";cc._RF.push(t,"e3222JqZFtIxIqXAF9rUmz7","JTTaskFlow");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.complete=function(){this.clear(),this._handler&&this._handler.apply(this._caller,[this]),this._owner.runningTask()},t}(e("./JTTask").default);n.default=a,cc._RF.pop()},{"./JTTask":"JTTask"}],JTTaskPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"8128584ArZN7pedt+3Gdd6M","JTTaskPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTTaskFlow"),r=e("../../../SlotData/SDictionary"),s=function(e){function t(){var t=e.call(this)||this;return t._options=null,t._loop=null,t._options=new r.SDictionary,t}return o(t,e),t.prototype.getOption=function(e){return this._options.get(e)},t.prototype.hasOwnOption=function(e){return this._options.containsKey(e)},Object.defineProperty(t.prototype,"options",{get:function(){return this.options},enumerable:!1,configurable:!0}),t.prototype.childOption=function(e,t,n){var i=new e;i.handler=n,i.priority=t,this._options.set(t,i)},t.prototype.getCurrentTask=function(){return null},t.prototype.getCurrentPriority=function(){return 0},Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),t.prototype.clear=function(){for(var e=this._options.keys,t=0;t<e.length;t++){var n=e[t];this._options.get(parseInt(n)).clear()}},t.prototype.addLoopListener=function(e){this._loop=e},t.prototype.removeLoopListener=function(){this._loop.clear(),this._loop=null},t}(a.default);n.default=s,cc._RF.pop()},{"../../../SlotData/SDictionary":"SDictionary","./JTTaskFlow":"JTTaskFlow"}],JTTask:[function(e,t,n){"use strict";cc._RF.push(t,"e5c0ceDWW1IZYgUp8U5l83M","JTTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=e.call(this)||this;return t._dataProvider=null,t._priority=0,t._handler=null,t}return o(t,e),Object.defineProperty(t.prototype,"dataList",{get:function(){return this._dataProvider.grids.changedDataList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedDataList",{get:function(){return this._dataProvider.changedGrids.changedDataList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"handler",{get:function(){return this._handler},set:function(e){this._handler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"priority",{get:function(){return this._priority},set:function(e){this._priority=e},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){return e.prototype.destroy.call(this),this._handler=null,!0},Object.defineProperty(t.prototype,"dataProvider",{get:function(){return this._dataProvider},set:function(e){this._dataProvider=e},enumerable:!1,configurable:!0}),t}(e("../base/JTContainer").default);n.default=a,cc._RF.pop()},{"../base/JTContainer":"JTContainer"}],JTTextureBounds:[function(e,t,n){"use strict";cc._RF.push(t,"365094bIClOKrpBTq07or5z","JTTextureBounds"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./JTGrid"),o=function(){function e(){this.grids=null,this.row=0,this.col=0,this._value=0,this.name=null,this.width=0,this.height=0,this.x=0,this.y=0,this.rect=null,this.grids=[]}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e},enumerable:!1,configurable:!0}),e.prototype.config=function(e){this.grids=[],this.rect=e,this.row=Math.ceil(e.width/i.default.GRIDUINT),this.col=Math.ceil(e.height/i.default.GRIDUINT),this.width=this.row*i.default.GRIDUINT,this.height=this.col*i.default.GRIDUINT;for(var t=0;t<this.col;t++){for(var n=[],o=0;o<this.row;o++){var a=new i.default;a.value=this.value,a.x=o*i.default.GRIDUINT,a.y=t*i.default.GRIDUINT,a.row=o,a.col=t,n.push(a)}this.grids.push(n)}},e}();n.default=o,cc._RF.pop()},{"./JTGrid":"JTGrid"}],JTTrialGuide:[function(e,t,n){"use strict";cc._RF.push(t,"67383qHBexPIZP5PkgBSY5/","JTTrialGuide");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.runningTask=function(){this.playComplete()},t.prototype.clear=function(){e.prototype.clear.call(this)},t.prototype.playComplete=function(){console.log("JTTrialGuide\u6d41\u7a0b\u5b8c\u6210"),this.complete()},t}(e("./JTParseTask").default);n.default=a,cc._RF.pop()},{"./JTParseTask":"JTParseTask"}],JTUnfixedLengthItemConfig:[function(e,t,n){"use strict";cc._RF.push(t,"2ace3n+0p5JwquIpEy5oj0Q","JTUnfixedLengthItemConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.JTExpandScrollerInfo=void 0;n.default=function(){this.column=1,this.row=1};n.JTExpandScrollerInfo=function(){},cc._RF.pop()},{}],JTUnfixedLengthPipeline:[function(e,t,n){"use strict";cc._RF.push(t,"af4b87JHGZKXriLtLNHkSH+","JTUnfixedLengthPipeline");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../com/plugins/JTScheduledPipeline"),r=e("../../../rules/JTRuleTaskType"),s=e("../../JTOptionType"),l=e("../../../../SlotDefinitions/SlotEnum"),c=e("./JTRunUnfixedLength"),u=e("./JTOverUnfixedLength"),p=e("./JTBeginUnfixedLength"),h=function(e){function t(){var t=e.call(this)||this;return t.lineTime=null,t.scatterRule=null,t.dynamicWild=null,t.onceWild=null,t.changeSpeed=null,t.linkIndexs=[],t.originalOccupyPosData=[],t.occupyPosData=[],t.elmentLengthRange=[],t.extendScrollerInfo=null,t}return o(t,e),t.prototype.create=function(){this.init(),e.prototype.create.call(this)},t.prototype.beforeStart=function(){},t.prototype.init=function(){for(var e=this,t=this.scrollerGroup,n=this.scrollerGroup.config,i=0;i<n.row;i++){var o=this.getCounterIndex();this._indexs.push(o)}for(i=0;i<t.expandScrollerInfo.length;i++)t.expandScrollerInfo[i].index==this.scroller.index&&(this.extendScrollerInfo=t.expandScrollerInfo[i]);var a=this.scroller.sources,r=!1;0==this.scroller.dataProvider.changedGrids.occupyPosList.length&&(r=!0);var s=t.gridLengthRange.columnLengthRange;this.elmentLengthRange=t.gridLengthRange.elmentLengthRange;for(var l=s.find(function(t){return t.index==e.scroller.index}),c=0,u=a;c<u.length;c++){u[c];var p=1,h=null==l?void 0:l.lens;p=!h||this.extendScrollerInfo||r?1:h[i=game.ComUtils.getIntRandom(0,h.length-1)],this.originalOccupyPosData.push(p)}this.occupyPosData=[].concat(this.originalOccupyPosData)},t.prototype.getOccupyPosData=function(e,t){var n=this.elmentLengthRange.find(function(e){return e.id==t});if(n){var i=n.lens,o=game.ComUtils.getIntRandom(0,i.length-1);return length=i[o],length}return this.occupyPosData[e]||1},t.prototype.start=function(){this.dynamicWild=this.getRuleTask(r.default.WILD_DYNAMIC_TIME_TYPE),this.onceWild=this.getRuleTask(r.default.WILD_ONCE_TIME_TYPE),this.scatterRule=this.getRuleTask(r.default.SCATTER),this.changeSpeed=this.getRuleTask(r.default.CHANGE_SPEED_TASK),this.dynamicWild&&this.dynamicWild.showScroller(this._scroller),this.onceWild&&this.onceWild.showScroller(this._scroller),e.prototype.start.call(this),this.linkIndexs=[],this.occupyPosData=[].concat(this.originalOccupyPosData)},t.prototype.onDataStandBy=function(){this.scatterRule&&(this.scatterRule.setLinkIndexs(this.linkIndexs),this.scatterRule.setupScatterTime(this.scroller)),this.extendScrollerInfo&&(this.scatterRule&&this.scatterRule.removeIndexs([this.scroller.index]),this.scroller.time=this.scrollerGroup.time)},t.prototype.clear=function(){e.prototype.clear.call(this),this.lineTime&&(this.lineTime.stop(),this.lineTime=null)},t.prototype.updateRenders=function(){this.scroller.y=this.sourceY,this.scroller.x=this.sourceX,this.lineTimeComplete();var e=this.getOption(s.default.OPTION_OVER_RUNNING);e.handler&&e.handler.apply(e.caller,[this._scroller]),this.onceWild&&this.onceWild.callWatchWild(this._scroller)},t.prototype.lineTimeComplete=function(e){void 0===e&&(e=!1);var t=this._scroller,n=this.scrollerGroup,i=t.config;t.renders.length=0;var o=this.extendScrollerInfo,a=e?t.dataProvider.changedGrids.occupyPosList:t.dataProvider.grids.occupyPosList,r=e?this.changedDataList:this.dataList,s=e?t.dataProvider.changedGrids.gridShapes:t.dataProvider.grids.gridShapes,c=!1;if(0==a.length){a=[];for(var u=i.row/s.length,p=0,h=s;p<h.length;p++){var d=h[p];a.push({pos:d,len:u})}c=!0}if(o){if(o.direction==l.SlotOrientation.Landscape)for(var f=0;f<this.items.length;f++){if((y=this.items[f]).x=(o.row-f)*(i.gapWidth+o.gap)+i.girdWidth/2,y.y=-i.girdHeight/2,y.width=i.girdWidth,y.realData=r[f],y.changedData=this.changedDataList[f],f>0&&f<r.length-1){var m=a[f-1].len;y.index=a[f-1].pos-1,y.height=i.girdHeight*m+i.gapY*(m-1),y.mixRow=m,t.renders.push(y)}else c?(u=i.row/s.length,y.mixRow=u,y.height=i.girdHeight*u+i.gapY*(u-1)):(y.mixRow=1,y.height=i.girdHeight);var g=i.getUnfixedLengthItemConfig(r[f],y.mixRow);y.data=g?g.mapId:r[f],o.curveDegree&&this.adjustExtendItemCurve(y)}}else if(i.orientation==l.SlotOrientation.Portrait){this.setScrollerXY(t.index*(i.gapXLandscape+i.girdWidth),0,t.index*(i.gapXPortrait+i.girdWidth),0);var _=0;for(f=0;f<this.items.length;f++){var y=this.items[f];if(0==f){var T=r[f];y.realData=T,y.mixRow=1,y.data=T,y.height=i.gapHeight,y.y=-(f-1)*i.gapHeight-i.girdHeight/2,y.x=i.girdWidth/2}else if(f<r.length-1){T=r[f],m=a[f-1].len,g=i.getUnfixedLengthItemConfig(T,m),y.realData=T,y.mixRow=m,y.index=a[f-1].pos-1,y.data=g?g.mapId:T,y.x=i.girdWidth/2;var S=i.girdHeight*m+i.gapY*(m-1);y.height=S,y.y=_-.5*S,_-=S,t.renders.push(y)}else{var E=Math.floor(Math.random()*r.length);y.mixRow=1,y.realData=r[E],y.height=i.gapHeight,y.data=r[E],y.y=_-.5*y.height,_-=y.height}y.width=i.girdWidth,y.x=i.girdWidth/2,n.isIncline&&this.adjustItemIncline(y)}}this.resetRenderPoints(),t.adjustSkinRenders(!1)},t.prototype.setRenderBeforeComplete=function(e){var t=this._scroller;if(t.changedTimes>0&&t.changedTimes<t.dataList.length-1){var n=t.speed>0?t.dataList.length-2-t.changedTimes:t.changedTimes-1;return e.index=t.indexs[n],!0}return!1},t.prototype.updateRenderPosition=function(){},t.prototype.resetRenderPoints=function(){for(var e=this._scroller,t=this.scrollerGroup.itemOffsets[e.index]||cc.v2(),n=0;n<e.renders.length;n++){var i=e.renders[n],o=i.index,a=i.x,r=i.y,s=i.x,l=i.y,c=new cc.Vec2,u=new cc.Vec2(a+e.pipeline.sourceXLandscape,r+e.pipeline.sourceYLandscape),p=new cc.Vec2,h=new cc.Vec2(s+e.pipeline.sourceXPortrait,l+e.pipeline.sourceYPortrait);u.x+=t.x,u.y+=t.y,this._scrollerGroup.pointMapLandscape[o]=u,c.x=u.x+i.width/2,c.y=u.y+i.height/2,this._scrollerGroup.centerMapLandscape[o.toString()]=c,h.x+=t.x,h.y+=t.y,this._scrollerGroup.pointMapPortrait[o]=h,p.x=h.x+i.width/2,p.y=h.y+i.height/2,this._scrollerGroup.centerMapPortrait[o.toString()]=p}},t.prototype.setupRender=function(e,t){var n=this._scroller,i=e;this._scroller.renders.push(i),this._renders.push(i),i.name="render_"+i.index;var o=i.index,a=new cc.Vec2,r=new cc.Vec2(t.landscapeX+n.pipeline.sourceXLandscape,t.landscapeY+n.pipeline.sourceYLandscape),s=new cc.Vec2,l=new cc.Vec2(t.portraitX+n.pipeline.sourceXPortrait,t.portraitY+n.pipeline.sourceYPortrait);this._scrollerGroup.pointMapLandscape[o]=r,a.x=r.x+i.width/2,a.y=r.y+i.height/2,this._scrollerGroup.centerMapLandscape[o.toString()]=a,this._scrollerGroup.pointMapPortrait[o]=l,s.x=l.x+i.width/2,s.y=l.y+i.height/2,this._scrollerGroup.centerMapPortrait[o.toString()]=s},t.prototype.setupStaticRenderPoint=function(){for(var e=this._scroller,t=e.config,n=0;n<this.indexs.length;n++){var i=this.indexs[n],o=void 0,a=void 0,r=this.extendScrollerInfo;r?(o=cc.v2((r.row-n)*(t.gapWidth+r.gap)+t.girdWidth/2+e.pipeline.sourceXLandscape,.5*t.girdHeight+e.pipeline.sourceYLandscape),a=cc.v2((r.row-n)*(t.gapWidth+r.gap)+t.girdWidth/2+e.pipeline.sourceXPortrait,.5*t.girdHeight+e.pipeline.sourceYPortrait)):(o=cc.v2(t.girdWidth+e.pipeline.sourceXLandscape,-n*(t.girdHeight+t.gapYLandscape)+e.pipeline.sourceYLandscape),a=cc.v2(t.girdWidth+e.pipeline.sourceXPortrait,-n*(t.girdHeight+t.gapYPortrait)+e.pipeline.sourceYPortrait)),this._scrollerGroup.staticCenterMapLandscape[i]=o,this._scrollerGroup.staticCenterMapPortrait[i]=a}},t.prototype.adjustExtendItemCurve=function(e){if(this.extendScrollerInfo){var t=this.scroller,n=this.scrollerGroup.config,i=this.extendScrollerInfo,o=i.curveDegree;if(o&&0!=o&&i.direction==l.SlotOrientation.Landscape){var a=i.row*n.girdWidth,r=.5*a/Math.sin(.5*Math.abs(o)/180*Math.PI),s=this.scrollerGroup.itemOffsets[t.index]||cc.v2(),c=t.x+e.x+s.x,u=this.sourceX+.5*a+s.x,p=Math.abs(c-u),h=Math.sqrt(r*r-p*p),d=o>0?-(r-h):r-h,f=Math.asin(p/r)/Math.PI*180;f*=u-c>0?1:-1,f*=o>0?1:-1,e.y+=d,e.angle=f}}},t.prototype.updateRenderData=function(){for(var e=this._scroller,t=0;t<e.renders.length;t++)e.renders[t].changedData=e.changedDataList[t+1]},t.prototype.getItemCurveProperty=function(e){if(!this.extendScrollerInfo||0==this.extendScrollerInfo.curveDegree)return{offsetY:0,angle:0};var t=this.scroller,n=this.scrollerGroup.config,i=this.extendScrollerInfo,o=i.curveDegree;if(e+=t.x,i.direction==l.SlotOrientation.Landscape){var a=i.row*n.girdWidth,r=.5*a/Math.sin(.5*Math.abs(o)/180*Math.PI),s=this.scrollerGroup.itemOffsets[t.index]||cc.v2(),c=this.sourceX+.5*a+s.x,u=Math.abs(e-c),p=Math.sqrt(r*r-u*u),h=o>0?-(r-p):r-p,d=Math.asin(u/r)/Math.PI*180;return d*=c-e>0?1:-1,{offsetY:h,angle:d*=o>0?1:-1}}},t.prototype.getItemInclineProperty=function(e){var t=this.scrollerGroup.inclineDegrees[this.scroller.index];if(t){var n=this.scrollerGroup.config,i=90-t;e=this.scroller.y+e;var o=(n.getHeight()-Math.abs(e))*Math.atan(i/180*Math.PI);return this.scrollerGroup.isInclineSkew||(i=0),{offsetX:o,skewX:i}}},t.prototype.adjustItemIncline=function(e){var t=this.scrollerGroup.inclineDegrees[this.scroller.index];if(t){var n=this.scrollerGroup.config,i=90-t,o=this.scroller.y+e.y,a=n.getHeight()+o;Math.abs(o);var r=a*Math.atan(i/180*Math.PI);return this.scrollerGroup.isInclineSkew||(i=0),e.x+=r,e.skewX=i,r}},t.prototype.jumpToOverRunning=function(){this.scroller.y=this.sourceY,this.scroller.x=this.sourceX,this.scroller.adjustSkinRenders(!0);var e=this.getCurrentTask();e instanceof c.default?e.complete():e instanceof u.default||e instanceof p.default&&(this.clear(),this.getOption(s.default.OPTION_OVER_RUNNING).runningTask()),this.isImmediatlyJumpToOver=!0},t.prototype.linkSyncRunning=function(e){(this.linkIndexs=e,e.includes(this._index))&&(this.scatterRule&&this.scatterRule.setLinkIndexs(e),this.getCurrentTask()instanceof c.default||p.default)},t}(a.default);n.default=h,cc._RF.pop()},{"../../../../SlotDefinitions/SlotEnum":"SlotEnum","../../../com/plugins/JTScheduledPipeline":"JTScheduledPipeline","../../../rules/JTRuleTaskType":"JTRuleTaskType","../../JTOptionType":"JTOptionType","./JTBeginUnfixedLength":"JTBeginUnfixedLength","./JTOverUnfixedLength":"JTOverUnfixedLength","./JTRunUnfixedLength":"JTRunUnfixedLength"}],JTUpLevelTask:[function(e,t,n){"use strict";cc._RF.push(t,"202dco+gdFN2oDekB13jHVS","JTUpLevelTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../SlotConfigs/GameEventNames"),r=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.addEventListenner=function(){game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_lvAwardInfoPush,this.lvAwardInfoPush,this)},t.prototype.runningTask=function(){this.nextStep()},t.prototype.lvAwardInfoPush=function(e,t){this.addStepTask(a.GameEventNames.USER_UPLEVEL_ANI,t)},t.prototype.complete=function(){console.log("\u6d41\u7a0b\uff1aJTUpLevelTask\u5b8c\u6210"),e.prototype.complete.call(this)},t}(e("./JTPerformanceTask").default);n.default=r,cc._RF.pop()},{"../../SlotConfigs/GameEventNames":"GameEventNames","./JTPerformanceTask":"JTPerformanceTask"}],JTWildTaskContainer:[function(e,t,n){"use strict";cc._RF.push(t,"2eca6T09+9HJr++I0Qd13fs","JTWildTaskContainer");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTTaskContainer"),r=e("./JTContainerMode"),s=e("./JTRuleTaskType"),l=e("../../SlotManager/FreeGameManager"),c=e("../../SlotDefinitions/SlotEnum"),u=function(e){function t(){return e.call(this)||this}return o(t,e),t.prototype.contact=function(t,n){e.prototype.contact.call(this,t,n),this.mode=r.default.SUPPORT_RESTORE},t.prototype.runningCallTask=function(){if(!e.prototype.runningCallTask.call(this))return!1;if(l.default.instance.freeGameInfo){var n=this._target.scrollerGroup;return t.callWatchWild(n),!0}},t.callWatchWild=function(e){for(var t=e.items,n=e.getRuleTask(s.default.WILD_DYNAMIC_TIME_TYPE),i=0;i<t.length;i++){var o=t[i];n.callWatchWild(o)}},t.hideScrollers=function(e){var t=l.default.instance;if(!t.freeGameInfo||t.freeGameInfo.type==c.OperationState.ReSpin){var n=e.getRuleTask(s.default.WILD_DYNAMIC_TIME_TYPE);e.forceUpdate(e.changedDataList),n&&n.reset(e)}},t}(a.default);n.default=u,cc._RF.pop()},{"../../SlotDefinitions/SlotEnum":"SlotEnum","../../SlotManager/FreeGameManager":"FreeGameManager","./JTContainerMode":"JTContainerMode","./JTRuleTaskType":"JTRuleTaskType","./JTTaskContainer":"JTTaskContainer"}],JTWildTask:[function(e,t,n){"use strict";cc._RF.push(t,"e5768XV99NI5rb4kgtr8xQx","JTWildTask");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.JTWildConfig=n.JTWildInfo=n.JTWildTask=void 0;var a=function(e){function t(){var t=e.call(this)||this;return t._progress=null,t.currentTasks=null,t.configs=null,t.configs=[],t.currentTasks=[],t}return o(t,e),t.prototype.runningTask=function(){e.prototype.runningTask.call(this),this.currentTasks.length=0;for(var t=0;t<this.configs.length;t++){var n=this.configs[t];this.runningStepCall(n)&&this.currentTasks.push(n)}return this.currentTasks.sort(this.onUpdateSort),this._isRunning=this.currentTasks.length>0,this._isRunning},t.prototype.onUpdateSort=function(e,t){return e.priority>t.priority?1:e.priority==t.priority?0:-1},t.prototype.dispose=function(){this.currentTasks=[],this.configs=[]},t.prototype.runningStepCall=function(e){e.tasks.length=0,e.isRunning=!1;for(var t=e.condition,n=!1,i=0;i<t.length;i++){var o=t[i],a=o.skinIndex,s=(o.indexs,null);if(o.indexs[0]instanceof r){n=!0;for(var l=0;l<o.indexs.length;l++){var c=o.indexs[l];if(s=this.changedDataList[c.skinIndex],!this.isContainId(c.skinIndex,s,e.id))break;e.tasks.push(o)}}else{if(s=this.changedDataList[a],!this.isContainId(a,s,e.id))break;e.tasks.push(o)}}return e.isRunning=n?e.tasks.length==t[0].indexs.length&&t.length>0:e.tasks.length==t.length&&t.length>0,e.isRunning},t.prototype.forceShowIndexs=function(e,t,n,i,o,a,l){for(var c=[new r([0,1,2],0),new r([3,4,5],1),new r([6,7,8],2),new r([9,10,11],3),new r([12,13,14],4)],u=0;u<e.length;u++){var p=e[u],h=new s;h.condition=[],h.condition.push(c[p]),h.speed=n,h.skinURL=a,h.progress=l,h.time=i,h.id=t,h.tasks=[],h.tasks.push(c[p]),h.isRunning=!0,this.currentTasks.push(h)}for(this._isRunning=!0,this._isLock=!0,u=0;u<this._scrollerGroup.items.length;u++){var d=this._scrollerGroup.items[u];this.callWatchWild(d)}},t.prototype.changedLineGrids=function(e){if(0!=this.currentTasks.length&&this.isRunning&&this._isLock){e.lineResult.line.eleId;for(var n=0;n<this.currentTasks.length;n++)for(var i=this.currentTasks[n],o=i.condition,a=0;a<o.length;a++){var r=i.condition[a];if(r.skinIndex==t.WILD_SKIN_3X3_INDEX)for(var s=this._scrollerGroup.getItem(r.indexs[0].skinIndex),l=0;l<r.indexs.length;l++){var c=r.indexs[l];1==l?s.active=!1:e.hideGrid(c.skinIndex)}else this._scrollerGroup.getItem(r.skinIndex).active=!1}}},t.prototype.config=function(e,t,n,i,o,a,r,l){var c=new s;c.id=e,c.speed=n,c.time=i,c.priority=o,c.endCall=l,c.condition=t,c.skinURL=a,c.progress=r,c.tasks=[],c.cols=[],this.configs.push(c),this._id=e,this._speed=n,this._time=i,this._priority=o,this._endCall=l,this._condition=t,this._skinURL=a,this._progress=r},t.prototype.configGroup=function(e,t,n,i,o,a,s,l,c){for(var u=t.length/n,p=0;p<n;p++){var h=t.splice(0,u);this.config(e,[new r(h,p)],i,o,a,s,l,c)}},t.prototype.callWatchWild=function(e){if(0!=this.currentTasks.length){var n=this.getMatchWildTask(e.index);if(n)if(n.isRunning){var i=this.getWildInfo(e.index,n);if(!i)return;this.hideScrollers(n,e.owner);var o=null;if(this._skinURL=n.skinURL,i.skinIndex==t.WILD_SKIN_3X3_INDEX){var a=this.scrollerGroup.getItem(1);a.skinLoader=this._skinLoaders[1],a.skinLoader.url=this._skinURL,o=a}else e.skinLoader=this._skinLoaders[e.index],e.skinLoader.url=this._skinURL,o=e;this._isLock=!0,n.progress&&n.progress.apply(this._caller,[o])}else this.clearSkinLoaders()}},t.prototype.getMatchWildTask=function(e){for(var t=0;t<this.currentTasks.length;t++)for(var n=this.currentTasks[t],i=0;i<n.condition.length;i++){var o=n.condition[i];if(!(o.indexs[0]instanceof r)){if(o.skinIndex!=e)continue;return n}for(var a=0;a<o.indexs.length;a++)if(o.indexs[a].skinIndex==e)return n}return null},t.prototype.hasOwnIndex=function(e){for(var t=!1,n=0;n<this._condition.length;n++){var i=this._condition[n];if(i.indexs[0]instanceof r){for(var o=0;o<i.indexs.length;o++)if(i.indexs[o].skinIndex==e){t=!0;break}}else if(e==i.skinIndex){t=!0;break}}return t},t.prototype.showScroller=function(e){this._isRunning||(e.active=!0)},t.prototype.reset=function(e){this._isLock=!1,this.clearSkinLoaders();for(var t=0;t<e.items.length;t++)e.getItem(t).active=!0},t.prototype.hideScrollers=function(e,t){if(e&&0!=this.currentTasks.length)for(var n=e.condition,i=0;i<n.length;i++){var o=n[i];if(o.indexs[0]instanceof r){for(var a=0;a<o.indexs.length;a++){var s=o.indexs[a];t.getItem(s.skinIndex).active=!1}break}t.getItem(o.skinIndex).active=!1}},t.prototype.changedVisibles=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);for(var i=0;i<this.currentTasks.length;i++)for(var o=this.currentTasks[i].condition,a=0;a<o.length;a++){var s=o[a];if(s.indexs[0]instanceof r){for(var l=0;l<s.indexs.length;l++){var c=s.indexs[l];e.getItem(c.skinIndex).active=t,this.skinLoaders[c.skinIndex].active=n}break}e.getItem(s.skinIndex).active=t,this.skinLoaders[s.skinIndex].active=n}},t.prototype.getWildInfo=function(e,n){for(var i=0;i<n.tasks.length;i++){var o=n.tasks[i];if(o.skinIndex==e)return o;if(e==this._scrollerGroup.config.col-2&&o.skinIndex==t.WILD_SKIN_3X3_INDEX)return o}return null},t.WILD_SKIN_3X3_INDEX=500,t.WILD_SKIN_2X3_INDEX=400,t.WILD_FIXATION=100,t.WILD_RANDOM=200,t.currentTask=null,t}(e("./JTRuleTask").default);n.JTWildTask=a;var r=function(e,t){this.indexs=null,this.skinIndex=0,this.indexs=e,this.skinIndex=t};n.JTWildInfo=r;var s=function(){this.id=null,this.speed=null,this.time=null,this.priority=0,this.endCall=null,this.condition=null,this.skinURL=null,this.progress=null,this.tasks=null,this.isRunning=!1,this.isLock=!1,this.cols=null};n.JTWildConfig=s,cc._RF.pop()},{"./JTRuleTask":"JTRuleTask"}],JackPotBase:[function(e,t,n){"use strict";cc._RF.push(t,"027f0KjFXdOKqY/B9hXIZ29","JackPotBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/main/BaseView"),s=e("../../slot_common/network/SlotProtoManager"),l=e("../slotMachine/script/SlotConfigs/GameEventNames"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.miniJp=null,t.minorJP=null,t.majorJP=null,t.grandJP=null,t.jackPot=null,t.isOpenMarqueen=!1,t.changeBoolean=!1,t}return o(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_INIT_FREEGAME,this.freeGameStart,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_PLAY_FREE_GAME_ANI,this.freeGameStart,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_FREEGAME_OVER_EXPAND,this.freeGameOver,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this.freeGameStart,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_BONUS_GAME_COMPLETE,this.freeGameOver,this),this.miniJp&&(this.miniJp.node.getComponent(cc.Label).string="-",core.JpManager.getInstance().setJpItem("01",this.miniJp.node)),this.minorJP&&(this.minorJP.node.getComponent(cc.Label).string="-",core.JpManager.getInstance().setJpItem("02",this.minorJP.node)),this.majorJP&&(this.majorJP.node.getComponent(cc.Label).string="-",core.JpManager.getInstance().setJpItem("03",this.majorJP.node)),this.grandJP&&(this.grandJP.node.getComponent(cc.Label).string="-",core.JpManager.getInstance().setJpItem("04",this.grandJP.node)),this.jackPot&&(this.jackPot.node.getComponent(cc.Label).string="-",core.JpManager.getInstance().setJpItem("00",this.jackPot.node)),console.log("JackPotBase onload",s.default.getInstance().isGetJpResp),s.default.getInstance().isGetJpResp?this.checkJpinfo():game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netJpResp,this.checkJpinfo,this)},t.prototype.checkJpinfo=function(){core.CommonProto.getInstance().gameSwitch&&(0==core.CommonProto.getInstance().gameSwitch.slotJp?this.node.active=!1:(this.node.active=!0,core.JpManager.getInstance().jpInfoArr&&(console.log("checkJpinfo",core.JpManager.getInstance().jpInfoArr),0==core.JpManager.getInstance().jpInfoArr.length&&(this.node.active=!1)))),this.isOpenMarqueen&&(this.schedule(this.startMaqueenAuto.bind(this),3),this.startMaqueenAuto())},t.prototype.freeGameStart=function(){this.node.active=!1},t.prototype.freeGameOver=function(){this.node.active=!0},t.prototype.onDestroy=function(){this.unschedule(this.startMaqueenAuto),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netJpResp,this.checkJpinfo,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_INIT_FREEGAME,this.freeGameStart,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_PLAY_FREE_GAME_ANI,this.freeGameStart,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_FREEGAME_OVER_EXPAND,this.freeGameOver,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this.freeGameStart,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_BONUS_GAME_COMPLETE,this.freeGameOver,this)},t.prototype.startMaqueenAuto=function(){this.changeBoolean=!this.changeBoolean,this.grandJP&&(this.grandJP.node.parent.active=this.changeBoolean),this.minorJP&&(this.minorJP.node.parent.active=this.changeBoolean),this.majorJP&&(this.majorJP.node.parent.active=!this.changeBoolean),this.miniJp&&(this.miniJp.node.parent.active=!this.changeBoolean)},a([p(cc.Label)],t.prototype,"miniJp",void 0),a([p(cc.Label)],t.prototype,"minorJP",void 0),a([p(cc.Label)],t.prototype,"majorJP",void 0),a([p(cc.Label)],t.prototype,"grandJP",void 0),a([p(cc.Label)],t.prototype,"jackPot",void 0),a([p({tooltip:"\u662f\u5426\u5f00\u542fjp\u6eda\u52a8"})],t.prototype,"isOpenMarqueen",void 0),a([u],t)}(r.default);n.default=h,cc._RF.pop()},{"../../slot_common/main/BaseView":"BaseView","../../slot_common/network/SlotProtoManager":"SlotProtoManager","../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames"}],JackPotGameCommon:[function(e,t,n){"use strict";cc._RF.push(t,"7abdbbg3f9BwLb7ueSQ6YYs","JackPotGameCommon");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/enum/CommonEnum"),s=e("../../main/BaseView"),l=e("../../slotMachine/script/SlotConfigs/GameEventNames"),c=e("../../slotMachine/script/SlotManager/GlobalQueueManager"),u=e("../../slotMachine/script/SlotManager/JackPotGameManager"),p=e("../../slotMachine/script/SlotUtils/Handle"),h=e("../../slotMachine/script/SlotUtils/SlotUtils"),d=e("../../sound/script/SoundMger"),f=e("./JackPotShowCommon"),m=cc._decorator,g=m.ccclass,_=m.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isGame=!1,t.jackPotShow=null,t.bg_v=null,t.bg_h=null,t.bgAni=null,t.coinLabel=null,t.touchLayer=null,t.canClose=!1,t._winMoney=0,t.isTween=!1,t.tweenList=[],t.JpCallBack=null,t}return o(t,e),t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.JpCallBack=t[0]},t.prototype.onLoad=function(){var e=this;this.jackPotShow.openCurtain(p.Handler.create(this,this.dropBox)),d.SoundMger.instance.playMusicSlotCommon(r.SOUND_NAME.JP_Music,!0),this.touchLayer.on("click",this.onTouch,this);for(var t=1;t<=3;t++)this.node.getChildByName("main").getChildByName("box"+t).zIndex=1;this.touchLayer.zIndex=2,this.coinLabel.node.parent.zIndex=3,this.jackPotShow.node.zIndex=4,this.resize(),setTimeout(function(){e.tvController()},3e3)},t.prototype.dropBox=function(){var e=this;d.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Box_Drop);for(var t=function(t){var i=n.node.getChildByName("main").getChildByName("box"+t),o=i.getComponentInChildren(sp.Skeleton);n.scheduleOnce(function(){i.active=!0,o.setAnimation(0,"redBox_fallDown",!1);var n=t;o.setCompleteListener(function(){"redBox_fallDown"==o.animation?o.setAnimation(0,"redBox_fadeIn",!1):"redBox_fadeIn"==o.animation&&3==n&&(e.isGame=!0)})},.5*t-.5)},n=this,i=1;i<=3;i++)t(i)},t.prototype.clickBox=function(e){var t=this;if(this.isGame){this.isGame=!1,this.touchLayer.active=!0;var n=e.target;n.zIndex=3;var i=n.getChildByName("box").getComponent(sp.Skeleton);this.scheduleOnce(function(){d.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Open_Box)},.6),cc.tween(n).to(.5,{x:0,y:0}).call(function(){i.setAnimation(0,"redBox_open",!1)}).delay(3).call(function(){t.playWinCoin()}).start()}},t.prototype.tvController=function(){var e=this;if(this.node){var t,n=this.node.getChildByName("main");t=[n.getChildByName("box1"),n.getChildByName("box2"),n.getChildByName("box3")];for(var i=function(n){core.TvControlManager.instance.addTvControlNode(t[n],0==n,!1,"",function(){(void 0).target=t[n],e.clickBox&&e.clickBox(void 0)},"on_1JackPotBtn_click",core.EnumTvNodeType.Button)},o=0;o<t.length;o++)i(o);core.TvControlManager.instance.initController(this.node)}},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.coinLabel.string=h.default.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.onTouch=function(){var e=this;if(this.isTween){for(var t=0,n=this.tweenList;t<n.length;t++)n[t].stop();d.SoundMger.instance.stopEffectSlotCommon(r.SOUND_NAME.Prize_Loop),d.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.Prize_Stop,!1),this.tweenList=[];var i=p.Handler.create(this,this.closeJackPotGame);this.isTween=!1,this.coinLabel.node.scale=1,this.canClose=!0,this.winMoney=Number(u.default.instance.jpRewardPush.reward),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,e.winMoney,i)},1)}},t.prototype.playWinCoin=function(){var e=this;this.coinLabel.node.active=!0,this.winMoney=0;var t=Number(u.default.instance.jpRewardPush.reward);d.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.Prize_Loop,!0);var n=cc.tween(this).to(5,{winMoney:t}).call(function(){d.SoundMger.instance.stopEffectSlotCommon(r.SOUND_NAME.Prize_Loop)}).start();this.tweenList.push(n),this.isTween=!0;var i=p.Handler.create(this,this.closeJackPotGame),o=cc.tween(this.coinLabel.node).to(5,{scale:1.5}).call(function(){d.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.Prize_Stop,!1)}).to(.5,{scale:1.8}).to(.5,{scale:1}).delay(1).call(function(){e.canClose=!0,e.isTween=!1,game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,t,i)}).start();this.tweenList.push(o)},t.prototype.closeJackPotGame=function(){var e=this;this.canClose&&(this.canClose=!1,this.jackPotShow.closeCurtain(p.Handler.create(this,function(){d.SoundMger.instance.stopMusicSlotCommon(r.SOUND_NAME.JP_Music),c.default.instance.execute(),e.JpCallBack.run(),game.UIManager.getInstance().close(e)})))},t.prototype.layout=function(){var e=game.ComUtils.isCanvasLand()?cc.size(1920,1080):cc.size(1080,1920);this.node.setContentSize(e);var t=this.node,n=this.node.getContentSize(),i=cc.winSize.width/n.width,o=cc.winSize.height/n.height,a=i<o?i:o;t.setScale(a)},t.prototype.layoutLandscape=function(){game.ComUtils.isCanvasLand()?(this.bg_h.active=!0,this.bg_v.active=!1,this.bgAni.y=0,this.node.getChildByName("main").getChildByName("box1").setPosition(-476,-168),this.node.getChildByName("main").getChildByName("box2").setPosition(0,-168),this.node.getChildByName("main").getChildByName("box3").setPosition(476,-168),this.coinLabel.node.parent.scale=1):this.layoutPortrait()},t.prototype.layoutPortrait=function(){game.ComUtils.isCanvasLand()?this.layoutLandscape():(this.bg_h.active=!1,this.bg_v.active=!0,this.bgAni.y=-600,this.node.getChildByName("main").getChildByName("box1").setPosition(-275,86),this.node.getChildByName("main").getChildByName("box2").setPosition(0,-364),this.node.getChildByName("main").getChildByName("box3").setPosition(275,86),this.coinLabel.node.parent.scale=.6)},a([_(f.default)],t.prototype,"jackPotShow",void 0),a([_(cc.Node)],t.prototype,"bg_v",void 0),a([_(cc.Node)],t.prototype,"bg_h",void 0),a([_(cc.Node)],t.prototype,"bgAni",void 0),a([_(cc.Label)],t.prototype,"coinLabel",void 0),a([_(cc.Node)],t.prototype,"touchLayer",void 0),a([g],t)}(s.default);n.default=y,cc._RF.pop()},{"../../common/enum/CommonEnum":"CommonEnum","../../main/BaseView":"BaseView","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotManager/GlobalQueueManager":"GlobalQueueManager","../../slotMachine/script/SlotManager/JackPotGameManager":"JackPotGameManager","../../slotMachine/script/SlotUtils/Handle":"Handle","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../sound/script/SoundMger":"SoundMger","./JackPotShowCommon":"JackPotShowCommon"}],JackPotGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"be157gY44JJyrCYMhgMU67e","JackPotGameManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotConfigs/GameEventNames"),o=e("./FreeGameManager"),a=e("./PlayerManager"),r=e("./SpinManager"),s=function(){function e(){this._doingJackPotGame=!1,this._jpRewardPush=null}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.startJackPotGame=function(e){r.default.instance.nowGameType=r.GameType.JackPotGame,game.EventManager.getInstance().raiseEvent(i.GameEventNames.EVENT_JACKPOT_GAME_TRIGGERED_TASK,e),this._doingJackPotGame=!0},e.prototype.init=function(){this._addProtocolListener()},e.prototype.dispose=function(){this._removeProtocolListener(),e._instance=null},Object.defineProperty(e.prototype,"doingJackPotGame",{get:function(){return this._doingJackPotGame},enumerable:!1,configurable:!0}),e.prototype.onJackPotGameFinished=function(){var t=e.instance.jpRewardPush.reward.toNumber(),n=o.default.instance.isTreateFromFreeGame&&!o.default.instance.isTreateFreeOver,r=o.default.instance.isTreateFromFreeGame;game.EventManager.getInstance().raiseEvent(i.GameEventNames.EVENT_UPDATE_WINSCORE,t,n,r),game.EventManager.getInstance().raiseEvent(i.GameEventNames.EVENT_UPDATE_FREEGAME_WIN,t),a.default.instance.onBalancePush(t),this._jpRewardPush=null,this._doingJackPotGame=!1},Object.defineProperty(e.prototype,"hasJackGame",{get:function(){return null!=this._jpRewardPush},enumerable:!1,configurable:!0}),e.prototype.jpRwardResp=function(e,t){this._jpRewardPush=t},Object.defineProperty(e.prototype,"jpRewardPush",{get:function(){return this._jpRewardPush},enumerable:!1,configurable:!0}),e.prototype._addProtocolListener=function(){game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netJpRewardPush,this.jpRwardResp,this)},e.prototype._removeProtocolListener=function(){game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netJpRewardPush,this.jpRwardResp,this)},e._instance=null,e}();n.default=s,cc._RF.pop()},{"../SlotConfigs/GameEventNames":"GameEventNames","./FreeGameManager":"FreeGameManager","./PlayerManager":"PlayerManager","./SpinManager":"SpinManager"}],JackPotShowCommon:[function(e,t,n){"use strict";cc._RF.push(t,"245bffLsSBOPIao+T0eqcYS","JackPotShowCommon");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/enum/CommonEnum"),s=e("../../main/BaseView"),l=e("../../sound/script/SoundMger"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curtainSk=null,t.textSk=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.openCurtain=function(e){var t=this;this.resize();var n=game.ComUtils.isCanvasLand()?"open_h":"open_v",i=game.ComUtils.isCanvasLand()?"close_h":"close_v";l.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Cloth,!1);for(var o=0,a=this.node.parent.children;o<a.length;o++){var s=a[o];s!=this.node&&(s.active=!1)}this.curtainSk.setAnimation(0,i,!1),this.curtainSk.node.active=!0,this.curtainSk.setCompleteListener(function(){if(t.curtainSk.animation==i){for(var o=0,a=t.node.parent.children;o<a.length;o++){var s=a[o];s!=t.node&&(s.active=!0)}t.textSk.node.active=!0,l.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Text_Show,!1),l.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Voice,!1),t.textSk.setAnimation(0,"fadeIn",!1),t.textSk.setCompleteListener(function(){(t.textSk.animation="fadeIn")&&(l.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Cloth,!1),t.curtainSk.setAnimation(0,n,!1),t.textSk.node.active=!1)})}else t.curtainSk.animation==n&&(t.curtainSk.node.active=!1,e&&(e.run(),e=null))})},t.prototype.closeCurtain=function(e){var t=this,n=game.ComUtils.isCanvasLand()?"open_h":"open_v",i=game.ComUtils.isCanvasLand()?"close_h":"close_v";this.curtainSk.setAnimation(0,i,!1),this.curtainSk.node.active=!0,l.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Cloth,!1),this.curtainSk.setCompleteListener(function(){if(t.curtainSk.animation==i){l.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.JP_Cloth,!1),t.curtainSk.setAnimation(0,n,!1);for(var o=0,a=t.node.parent.children;o<a.length;o++){var s=a[o];s!=t.node&&(s.active=!1)}var c=game.UIManager.getInstance().getRootNode().getChildByName("preventTouch");c&&(c.active=!1)}else t.curtainSk.animation==n&&(t.curtainSk.node.active=!1,e&&(e.run(),e=null))})},t.prototype.layoutLandscape=function(){game.ComUtils.isCanvasLand()?this.textSk.node.scale=1:this.layoutPortrait()},t.prototype.layoutPortrait=function(){game.ComUtils.isCanvasLand()?this.layoutLandscape():this.textSk.node.scale=.75},a([p(sp.Skeleton)],t.prototype,"curtainSk",void 0),a([p(sp.Skeleton)],t.prototype,"textSk",void 0),a([u],t)}(s.default);n.default=h,cc._RF.pop()},{"../../common/enum/CommonEnum":"CommonEnum","../../main/BaseView":"BaseView","../../sound/script/SoundMger":"SoundMger"}],LabelShader1:[function(e,t,n){"use strict";cc._RF.push(t,"8690aPIFAFMt5bHBUThcuBr","LabelShader1");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,r.menu),c=r.requireComponent,u=r.disallowMultiple,p=r.executeInEditMode,h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([s,l("UI/LabelShader1"),c(cc.Label),u(),p()],t)}(core.CustomLabelShader);n.default=h,cc._RF.pop()},{}],LanguageAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"4c9cbYBiBRGLJ/axoW5wPLJ","LanguageAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.languageAnimationClipDataInfo=void 0;var r=e("../../common/utils/GData"),s=cc._decorator,l=s.ccclass,c=s.property,u=s.requireComponent,p=function(){function e(){this.language="",this.path=""}return a([c({tooltip:"\u8bed\u8a00\u7f29\u5199"})],e.prototype,"language",void 0),a([c({tooltip:'bundle\u4e0b\u7684\u8d44\u6e90\u8def\u52b2(\u5982\u679c\u6709\u591a\u4e2a\u5e8f\u5217\u52a8\u753b\u6dfb\u52a0\uff0c\u8def\u5f84\u4e4b\u95f4\u4f7f\u7528";"\u4f5c\u4e3a\u5206\u9694\u7b26)'})],e.prototype,"path",void 0),a([l("languageAnimationClipDataInfo")],e)}();n.languageAnimationClipDataInfo=p;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.languageDataInfos=[],t}return o(t,e),t.prototype.onLoad=function(){for(var e=this,t=r.GData.curLanguage,n=[],i=0;i<this.languageDataInfos.length;i++)if("en"==(o=this.languageDataInfos[i]).language&&(n=o.path.split(";")),o.language==t){n=o.path.split(";");break}for(i=0;i<n.length;i++){var o=n[i];game.ResLoader.getInstance().loadRes(o,function(t,n){if(t)console.error(t);else if(e.isValid){var i=e.getComponent(cc.Animation);i.addClip(n,n.name),i.playOnLoad&&i.play(n.name)}},r.GData.bundleName,o)}},a([c({tooltip:"\u591a\u8bed\u8a00\u4e0e\u5e8f\u5217\u5e27\u52a8\u753b\u4fe1\u606f\u6620\u5c04\u914d\u7f6e",type:p})],t.prototype,"languageDataInfos",void 0),a([l,u(cc.Animation)],t)}(cc.Component);n.default=h,cc._RF.pop()},{"../../common/utils/GData":"GData"}],LanguageCreate:[function(e,t,n){"use strict";cc._RF.push(t,"66b8fAWKDBDBJAfUXQensLL","LanguageCreate"),Object.defineProperty(n,"__esModule",{value:!0}),n.LanguageCreate=void 0;var i=e("../../common/utils/GData"),o=e("../../common/utils/Property"),a=e("./LanguageInfoBase"),r=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.createLanguage=function(e){var t=e.getComponent(a.default);if(t)if(t.id){var n=e.getComponent(cc.Label);n&&(n.string=this.getLanguageLabel(t.id))}else{var r=e.getComponent(cc.Sprite);r.spriteFrame=null;var s=i.GData.curLanguage;t.onlyInLanguages.length>0&&(t.onlyInLanguages.includes(s)||(s=game.LanguageType.EN)),r&&(t.path?o.Property.setSpriteProperty(r,{atlas:this.getCurLanguageUrl(t.path,t.atlas,s),spriteFrame:t.spriteFrame}):o.Property.setSpriteProperty(r,{atlas:this.getLanguageUrl(t.atlas,s),spriteFrame:this.getLanguageUrl(t.spriteFrame,s)}))}for(var l=e.children.length,c=0;c<l;c++)this.createLanguage(e.children[c])},e.prototype.getCurLanguageUrl=function(e,t,n){return void 0===n&&(n=i.GData.curLanguage),t?e="textures/"+e+"/"+n+"/"+t:null},e.prototype.getLanguageLabel=function(e){return e?i.GData.getParameter(i.GData.curLanguage)[e]:null},e.prototype.getLanguageUrl=function(e,t){return void 0===t&&(t=i.GData.curLanguage),e?"textures/"+(e=e.replace("&",t)):null},e}();n.LanguageCreate=r,cc._RF.pop()},{"../../common/utils/GData":"GData","../../common/utils/Property":"Property","./LanguageInfoBase":"LanguageInfoBase"}],LanguageDragonBones:[function(e,t,n){"use strict";cc._RF.push(t,"efa77/RHA9KKKdcnA5afju6","LanguageDragonBones");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.languageDragonCfgDataInfo=n.DragonLanguageMode=void 0;var r,s=e("../../common/component/MultiDragonBonesAtlasAssets"),l=e("../../common/utils/GData"),c=cc._decorator,u=c.ccclass,p=c.property;c.menu,c.requireComponent,function(e){e[e.set_animation=0]="set_animation",e[e.set_dragonAsset=1]="set_dragonAsset",e[e.set_texture=2]="set_texture",e[e.set_armature=3]="set_armature"}(r=n.DragonLanguageMode||(n.DragonLanguageMode={}));var h=function(){function e(){this.language="",this.modelData=""}return a([p({tooltip:"\u8bed\u8a00\u7f29\u5199"})],e.prototype,"language",void 0),a([p({tooltip:'DragonLanguageMode.set_animation\u6a21\u5f0f\u4e0b\uff1a\u8868\u793a\u52a8\u4f5canimation\u540d\u5b57\uff1b\n        DragonLanguageMode.set_dragonAsset\u6a21\u5f0f\u4e0b\uff1a\u8868\u793a\u9f99\u9aa8\u6570\u636e\u6587\u4ef6\u8def\u5f84 \uff1b\n        DragonLanguageMode.set_texture\u6a21\u5f0f\u4e0b\uff1a\u8868\u793a\u8d34\u56fe\u8def\u5f84(\u6bcf\u4e2a\u8def\u52b2\u4e0b\u7684\u8d34\u56fe\u540d\u548c\u8d34\u56fe\u5c3a\u5bf8\u5fc5\u987b\u4e00\u81f4,\u5982\u679c\u6709\u591a\u5f20\u8d34\u56fe\u9700\u8981\u66ff\u6362\uff0c\u8d34\u56fe\u8def\u52b2\u4f7f\u7528","\u4f5c\u4e3a\u5206\u9694\u7b26)\uff1b\n        DragonLanguageMode.set_Armature\u6a21\u5f0f\u4e0b\uff1a\u6570\u636e\u683c\u5f0f\u586b"armature\u540d\u5b57"\u6216\u8005"armature\u540d\u5b57|animation\u540d\u5b57"\uff1b'})],e.prototype,"modelData",void 0),a([u("languageDragonCfgDataInfo")],e)}();n.languageDragonCfgDataInfo=h;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skLangMode=r.set_animation,t.languageDragonCfgDataInfos=[],t}return o(t,e),t.prototype.onLoad=function(){this.reset()},t.prototype.reset=function(){for(var e=this.node.getComponent(dragonBones.ArmatureDisplay),t=null,n=0,i=this.languageDragonCfgDataInfos;n<i.length;n++){var o=i[n];if(o.language==l.GData.curLanguage){t=o;break}o.language==game.LanguageType.EN&&(t=o)}e.armatureName,e.animationName;var a=e.playTimes;switch(this.skLangMode){case r.set_animation:e&&t&&t.modelData&&e.playAnimation(t.modelData,a);break;case r.set_dragonAsset:case r.set_texture:break;case r.set_armature:var c=t.modelData.split("|");e.armatureName=c[0];var u=this.getComponent(s.default);u&&u.reset(),e.playAnimation(c[1]?c[1]:"",a)}},a([p({type:cc.Enum(r),tooltip:"\u9f99\u9aa8\u52a8\u753b\u8d44\u6e90\u591a\u8bed\u8a00\u5b9e\u73b0\u6a21\u5f0f: 1\u3001set_animation\uff1asetAnimation\u7684\u6a21\u5f0f\u3002  2\u3001set_dragonAsset\uff1a\u8bbe\u7f6edragonAsset\u7684\u6a21\u5f0f(\u6682\u65f6\u4e0d\u652f\u6301)\u3002  3\u3001set_texture\uff1a\u66ff\u6362\u9f99\u9aa8\u8d34\u56fe\u7684\u6a21\u5f0f\u7684\u6a21\u5f0f(\u6682\u65f6\u4e0d\u652f\u6301)\u3002  4\u3001set_Armature\uff1asetArmature\u7684\u6a21\u5f0f"})],t.prototype,"skLangMode",void 0),a([p({tooltip:"\u591a\u8bed\u8a00\u4e0e\u9f99\u9aa8\u4fe1\u606f\u6620\u5c04\u914d\u7f6e\uff08\u6ca1\u6709\u586b\u5199\u7684\u8bed\u8a00\uff0c\u4f1a\u76f4\u63a5\u8bfb\u53d6\u82f1\u6587\u8d44\u6e90\uff09",type:h,visible:function(){return this.skLangMode==r.set_animation||this.skLangMode==r.set_dragonAsset||this.skLangMode==r.set_texture||this.skLangMode==r.set_armature}})],t.prototype,"languageDragonCfgDataInfos",void 0),a([u],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../common/component/MultiDragonBonesAtlasAssets":"MultiDragonBonesAtlasAssets","../../common/utils/GData":"GData"}],LanguageInfoBase:[function(e,t,n){"use strict";cc._RF.push(t,"40393tZW7FMl62mskzmqvsh","LanguageInfoBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/utils/GData"),s=e("../../common/utils/Property"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.id="",t.path="",t.atlas="",t.spriteFrame="",t.bundle="",t.onlyInLanguages=[],t}var n;return o(t,e),n=t,t.prototype.onLoad=function(){this.bundle?this.bundle:r.GData.bundleName,game.EventManager.getInstance().addEventListener(game.Const.mess_refreshLanguage,this.onRefreshLanguage,this),this.createLanguage(this.node)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(game.Const.mess_refreshLanguage,this.onRefreshLanguage,this)},t.prototype.onRefreshLanguage=function(){game.EventManager.getInstance().removeEventListener(game.Const.mess_refreshLanguage,this.onRefreshLanguage,this),this.createLanguage(this.node)},t.prototype.createLanguage=function(e){var t=e.getComponent(n);if(t)if(t.id){var i=e.getComponent(cc.Label);i&&(i.string=this.getLanguageLabel(t.id))}else{var o=e.getComponent(cc.Sprite);o.spriteFrame=null;var a=r.GData.curLanguage;t.onlyInLanguages.length>0&&(t.onlyInLanguages.includes(a)||(a=game.LanguageType.EN)),o&&(t.path?s.Property.setSpriteProperty(o,{atlas:this.getCurLanguageUrl(t.path,t.atlas,a),spriteFrame:t.spriteFrame},this.bundle,this.loadSpriteComplete):s.Property.setSpriteProperty(o,{atlas:this.getLanguageUrl(t.atlas,a),spriteFrame:this.getLanguageUrl(t.spriteFrame,a)},this.bundle,this.loadSpriteComplete))}for(var l=e.children.length,c=0;c<l;c++)this.createLanguage(e.children[c])},t.prototype.loadSpriteComplete=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.getCurLanguageUrl=function(e,t,n){return void 0===n&&(n=r.GData.curLanguage),t?e="textures/"+e+"/"+n+"/"+t:null},t.prototype.getLanguageLabel=function(e){if(!e)return null;var t=r.GData.getParameter(r.GData.curLanguage);return t?t[e]||game.LanguageManager.getInstance().getDstStr(e)||"":game.LanguageManager.getInstance().getDstStr(e)||""},t.prototype.getLanguageUrl=function(e,t){return void 0===t&&(t=r.GData.curLanguage),e?"textures/"+(e=e.replace("&",t)):null},a([u({tooltip:"\u6587\u672c\u591a\u8bed\u8a00\u914d\u7f6eid"})],t.prototype,"id",void 0),a([u({tooltip:"\u8d44\u6e90\u5730\u5740path(\u76f8\u5bf9\u4e8etextures/\u53d6\u4e2d\u95f4path\u6bb5\u7684\u8def\u52b2/zh\uff08en\u6216\u8005ja\u7b49\u7b49\uff09/\u56fe\u96c6\u540d),\u6587\u672c\u4e0d\u9700\u8981\u586b\u6b64\u9879"})],t.prototype,"path",void 0),a([u({tooltip:"\u56fe\u96c6\u540d\u79f0(\u76f4\u63a5\u7236\u6587\u4ef6\u5939\u547d\u540d\u4e3a\uff1a\u591a\u8bed\u8a00\u7b80\u79f0\uff0c\u6bd4\u5982zh\u3001en\u7b49\u7b49)"})],t.prototype,"atlas",void 0),a([u({tooltip:"1\uff1a\u6563\u56fe\u8def\u5f84(path && atlas\u5fc5\u987b\u4e3a\u7a7a\u624d\u751f\u6548)\u76f8\u5bf9\u4e8etextures/\u4e0b\u7684\u8def\u5f84\u3002   2\uff1a\u5982\u679c\u662f\u56fe\u96c6\u4e2d\u7684\u56fe\u7247\uff0c\u5219\u4e3a\u56fe\u96c6\u91cc\u9762\u7684\u56fe\u7247\u540d\u5b57"})],t.prototype,"spriteFrame",void 0),a([u({tooltip:"bundle\u540d\u79f0\u9ed8\u8ba4\u5b50\u9879\u76eebundle"})],t.prototype,"bundle",void 0),a([u({tooltip:"\u5982\u679c\u53ea\u6709\u90e8\u5206\u8bed\u8a00\u542b\u6709\u8d44\u6e90\uff0c\u5219\u586b\u5199\u542b\u8d44\u6e90\u7684\u8bed\u8a00\uff0c\u5f53\u8fd0\u884c\u73af\u5883\u7684\u8bed\u8a00\u6ca1\u6709\u8d44\u6e90\u65f6\u7528\u82f1\u6587\u8d44\u6e90\u4ee3\u66ff\uff0c\u5982\u679c\u4e0d\u586b\u5219\u4f1a\u52a0\u8f7d\u8fd0\u884c\u73af\u5883\u7684\u8d44\u6e90",type:cc.String})],t.prototype,"onlyInLanguages",void 0),n=a([c],t)}(cc.Component);n.default=p,cc._RF.pop()},{"../../common/utils/GData":"GData","../../common/utils/Property":"Property"}],LanguageRecordSlot:[function(e,t,n){"use strict";cc._RF.push(t,"a79ffiAnfZH/pRnavzfE/MP","LanguageRecordSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onlyInLanguages=["zh","en","ja","ko","th","vi","pt"],t}return o(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.items.forEach(function(e){game.LanguageManager.getInstance().getSrcPng(e.key)&&(game.LanguageManager.getInstance().getSrcPng(e.key).onlyInLanguages=t.onlyInLanguages)})},a([s],t)}(game.LanguageComp));n.default=l,cc._RF.pop()},{}],LanguageSkeleton:[function(e,t,n){"use strict";cc._RF.push(t,"5148eBb8KRIZJAbE1KeB7bp","LanguageSkeleton");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.languageSkCfgDataInfo=n.SkLanguageMode=void 0;var r,s=e("../../common/utils/GData"),l=e("../../common/utils/Property"),c=e("../../common/utils/ReplaceSkeletonTex"),u=cc._decorator,p=u.ccclass,h=u.property;(function(e){e[e.set_animation=0]="set_animation",e[e.set_skeletionData=1]="set_skeletionData",e[e.set_texture=2]="set_texture",e[e.set_skin=3]="set_skin"})(r=n.SkLanguageMode||(n.SkLanguageMode={}));var d=function(){function e(){this.language="",this.modelData=""}return a([h({tooltip:"\u8bed\u8a00\u7f29\u5199"})],e.prototype,"language",void 0),a([h({tooltip:'SkLanguageMode.set_animation\u6a21\u5f0f\u4e0b\uff1a\u8868\u793a\u52a8\u4f5canimation\u540d\u5b57\uff1b\n        SkLanguageMode.set_skeletionData\u6a21\u5f0f\u4e0b\uff1a\u8868\u793a\u9aa8\u9abc\u6570\u636e\u6587\u4ef6\u8def\u5f84 \uff1b\n        SkLanguageMode.set_texture\u6a21\u5f0f\u4e0b\uff1a\u8868\u793a\u8d34\u56fe\u8def\u5f84(\u6bcf\u4e2a\u8def\u52b2\u4e0b\u7684\u8d34\u56fe\u540d\u548c\u8d34\u56fe\u5c3a\u5bf8\u5fc5\u987b\u4e00\u81f4,\u5982\u679c\u6709\u591a\u5f20\u8d34\u56fe\u9700\u8981\u66ff\u6362\uff0c\u8d34\u56fe\u8def\u52b2\u4f7f\u7528","\u4f5c\u4e3a\u5206\u9694\u7b26)\uff1b\n        SkLanguageMode.set_skin\u6a21\u5f0f\u4e0b\uff1a\u8868\u793askin\u540d\u79f0\uff1b'})],e.prototype,"modelData",void 0),a([p("languageSkCfgDataInfo")],e)}();n.languageSkCfgDataInfo=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skLangMode=r.set_animation,t.languageSkCfgDataInfos=[],t}return o(t,e),t.prototype.onLoad=function(){for(var e=this.node.getComponent(sp.Skeleton),t=null,n=0,i=this.languageSkCfgDataInfos;n<i.length;n++){var o=i[n];if(o.language==s.GData.curLanguage){t=o;break}o.language==game.LanguageType.EN&&(t=o)}var a=e.defaultSkin,u=e.defaultAnimation,p=e.loop;switch(this.skLangMode){case r.set_animation:e&&t&&t.modelData&&e.setAnimation(0,t.modelData,p);break;case r.set_skeletionData:l.Property.setSpProperty(e,{json:this.getLanguageUrl(t.modelData)},s.GData.bundleName,function(e){e&&(e.setSkin(a),e.setAnimation(0,u,p))});break;case r.set_texture:for(var h=t.modelData.split(","),d=0;d<h.length;d++){var f=h[d];c.default.replaceNewAniTex(e,this.getLanguageUrl(f),u,e.loop)}break;case r.set_skin:e.setSkin(t.modelData),e.setAnimation(0,u,p)}},t.prototype.getLanguageUrl=function(e,t){return void 0===t&&(t=s.GData.curLanguage),e?(t=this.languageSkCfgDataInfos.length>0&&this.languageSkCfgDataInfos.map(function(e){return e.language}).includes(t)?t:"en",e=e.replace("&",t)):null},a([h({type:cc.Enum(r),tooltip:"\u9aa8\u9abc\u52a8\u753b\u8d44\u6e90\u591a\u8bed\u8a00\u5b9e\u73b0\u6a21\u5f0f"})],t.prototype,"skLangMode",void 0),a([h({tooltip:"\u591a\u8bed\u8a00\u4e0e\u9aa8\u9abc\u4fe1\u606f\u6620\u5c04\u914d\u7f6e",type:d,visible:function(){return this.skLangMode==r.set_animation||this.skLangMode==r.set_skeletionData||this.skLangMode==r.set_texture||this.skLangMode==r.set_skin}})],t.prototype,"languageSkCfgDataInfos",void 0),a([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../common/utils/GData":"GData","../../common/utils/Property":"Property","../../common/utils/ReplaceSkeletonTex":"ReplaceSkeletonTex"}],LanguangeCompSlot:[function(e,t,n){"use strict";cc._RF.push(t,"56a80WYmQdA+adF2oYrZcVF","LanguangeCompSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([s],t)}(game.LanguageComp));n.default=l,cc._RF.pop()},{}],LanguangeHashSlot:[function(e,t,n){"use strict";cc._RF.push(t,"651a9haejpAcoeQqShMH3KU","LanguangeHashSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onlyInLanguages=["zh","en"],t}return o(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.items.forEach(function(e){game.LanguageManager.getInstance().getSrcPng(e.key)&&(game.LanguageManager.getInstance().getSrcPng(e.key).onlyInLanguages=t.onlyInLanguages)})},a([s],t)}(game.LanguageComp));n.default=l,cc._RF.pop()},{}],LayerManage:[function(e,t,n){"use strict";cc._RF.push(t,"9a4caf1QVhPropVl0gb4xjV","LayerManage"),Object.defineProperty(n,"__esModule",{value:!0}),n.LayerManage=void 0;var i=e("../utils/Layout"),o=function(){function e(){}return e.addChildIndex=function(t,n,o){void 0===n&&(n=e.scene),void 0===o&&(o=!1),cc.director.getScene().getComponentInChildren(cc.Canvas).node.addChild(t,n),o&&i.Layout.setNodeResolutionSize(t)},e.background=game.BaseUIConf.BASELAYER_BG,e.scene=game.BaseUIConf.BASELAYER_GAME,e.brief=game.BaseUIConf.BASELAYER_GAME,e.menu=game.BaseUIConf.BASELAYER_UI,e.popup=game.BaseUIConf.BASELAYER_UI,e.effect=game.BaseUIConf.BASELAYER_EFFECT,e.bonus=game.BaseUIConf.BASELAYER_EFFECT+1,e.load=game.BaseUIConf.BASELAYER_LOADING,e.tip=game.BaseUIConf.BASELAYER_TIPS,e.top=game.BaseUIConf.BASELAYER_TIPS+100,e}();n.LayerManage=o,cc._RF.pop()},{"../utils/Layout":"Layout"}],LayoutEx:[function(e,t,n){"use strict";cc._RF.push(t,"6f527D/hvVKuLE+paONW+sc","LayoutEx"),Object.defineProperty(n,"__esModule",{value:!0}),n.LayoutEx=n.LayoutType=void 0;var i,o=e("./GData");(function(e){e[e.Landscape=0]="Landscape",e[e.Portrait=1]="Portrait",e[e.Auto=2]="Auto"})(i=n.LayoutType||(n.LayoutType={})),cc.v2(0,0);var a=function(){function e(){}return Object.defineProperty(e,"originDesignResolution",{get:function(){var e,t=null===(e=o.GData.getParameter("main"))||void 0===e?void 0:e.canvas,n=new cc.Size(100,100);if(!t)return n;switch(this.layoutType){case i.Landscape:n.width=t.width,n.height=t.height;break;case i.Portrait:n.width=t.height,n.height=t.width;break;case i.Auto:this.isLandscape?(n.width=t.width,n.height=t.height):(n.width=t.height,n.height=t.width)}return n.width||(n.width=100),n.height||(n.height=100),n},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isLandscape",{get:function(){var e=cc.view.getFrameSize();return e.width>=e.height},enumerable:!1,configurable:!0}),e.init=function(e){void 0===e&&(e=this.getLayoutType()),this.layoutType=e;var t=cc.find("Canvas").getComponent(cc.Canvas);t&&(t.fitWidth=!1,t.fitHeight=!1)},e.resize=function(){var e=this.originDesignResolution,t=cc.view.getFrameSize(),n=t.width,i=t.height,o=this.getBangsOffset(),a=n-=o.left>o.right?o.left:o.right,r=i-=o.top>o.bottom?o.top:o.bottom;n/i>e.width/e.height?a=(r=e.height)*n/i:r=i/n*(a=e.width),cc.view.setDesignResolutionSize(a,r,cc.ResolutionPolicy.SHOW_ALL),cc.find("Canvas").setContentSize(a,r)},e.getBangsOffset=function(e,t){void 0===e&&(e=cc.v2(0,0)),void 0===t&&(t=cc.v2(0,0));var n=this.isLandscape,i=n?e:t,o={top:0,bottom:0,left:0,right:0},a=0;return n?(window.orientation?a=window.orientation:screen.orientation&&screen.orientation.angle&&(a=screen.orientation.angle),90==a||0==a?("undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent&&window.innerWidth>=812?/iphone/gi.test(window.navigator.userAgent)&&window.screen.height>=812&&(o.left=80+i.x):o.left=.7*core.Global.statusBarHeight+i.x,o.right=i.x,o.top=i.y):-90==a?(o.left=i.x,"undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent&&window.innerWidth>=812?/iphone/gi.test(window.navigator.userAgent)&&window.screen.height>=812&&(o.right=80+i.x):o.right=.7*core.Global.statusBarHeight+i.x,o.top=i.y):(o.left=i.x,o.right=i.x,o.top=i.y)):("undefined"!=typeof window&&window&&window.navigator&&window.navigator.userAgent&&window.innerHeight>=812&&(o.bottom=80+i.y),o.left=i.x,o.right=i.x,o.top=core.Global.bangsHeight+i.y),o},e.getLayoutType=function(){var e,t,n=i.Auto;return null!=(n=cc.sys.isMobile?null===(e=o.GData.getParameter("main"))||void 0===e?void 0:e.layoutType_mobile:null===(t=o.GData.getParameter("main"))||void 0===t?void 0:t.layoutType_pc)&&null!=n||(n=i.Auto),n},e.layoutType=i.Landscape,e}();n.LayoutEx=a,cc._RF.pop()},{"./GData":"GData"}],Layout:[function(e,t,n){"use strict";cc._RF.push(t,"08debgc1ulOq52xIz9CSEHr","Layout"),Object.defineProperty(n,"__esModule",{value:!0}),n.Layout=void 0;var i=e("../enum/CommonEnum"),o=e("./GData"),a=function(){function e(){}return Object.defineProperty(e,"isLandscape",{get:function(){var e=cc.view.getCanvasSize();return e.width>=e.height},enumerable:!1,configurable:!0}),e.isIphonex=function(){return core.Global.statusBarHeight>0},Object.defineProperty(e,"canvasW",{get:function(){var e;return o.GData.getParameter("main")&&(e=o.GData.getParameter("main").canvas),e||(e={width:i.CANVAS_SIZE.width_1920,height:i.CANVAS_SIZE.height_1080}),e.width},enumerable:!1,configurable:!0}),Object.defineProperty(e,"canvasH",{get:function(){var e;return o.GData.getParameter("main")&&(e=o.GData.getParameter("main").canvas),e||(e={width:i.CANVAS_SIZE.width_1920,height:i.CANVAS_SIZE.height_1080}),e.height},enumerable:!1,configurable:!0}),e.setNodeResolutionSize=function(e){var t;o.GData.getParameter("main")&&(t=o.GData.getParameter("main").canvas),t||(t={width:i.CANVAS_SIZE.width_1920,height:i.CANVAS_SIZE.height_1080}),e.setScale(t.width/i.CANVAS_SIZE.width_1920,t.height/i.CANVAS_SIZE.height_1080)},e.setHorizontalLayout=function(e,t,n,i,o){void 0===t&&(t=0),void 0===i&&(i=cc.Layout.HorizontalDirection.LEFT_TO_RIGHT),void 0===o&&(o=cc.Layout.ResizeMode.CONTAINER);for(var a=0;a<e.children.length;a++)e.children[a].setPosition(0,0);"number"==typeof n?e.height=n:e.children.length>0&&e.children[0]&&(e.height=e.children[0].height);var r=e.getComponent(cc.Layout)||e.addComponent(cc.Layout);r.type=cc.Layout.Type.HORIZONTAL,r.resizeMode=o,r.spacingX=t,r.horizontalDirection=i,r.updateLayout()},e.setVerticalLayout=function(e,t,n,i,o){void 0===t&&(t=0),void 0===i&&(i=cc.Layout.VerticalDirection.TOP_TO_BOTTOM),void 0===o&&(o=cc.Layout.ResizeMode.CONTAINER);for(var a=0;a<e.children.length;a++)e.children[a].setPosition(0,0);e.children[0]&&(e.width="number"==typeof n?n:e.children[0].width);var r=e.getComponent(cc.Layout)||e.addComponent(cc.Layout);r.type=cc.Layout.Type.VERTICAL,r.resizeMode=o,r.spacingY=t,r.horizontalDirection=i,r.updateLayout()},e.setLayout=function(t,n){if(n){var i=e.isLandscape?n.landscape:n.portrait;i||(i=n);var o=t.getComponent(cc.Layout)||t.addComponent(cc.Layout);if(o){for(var a=0;a<t.children.length;a++)t.children[a].x=t.children[a].y=0;i.spacingX&&e.setHorizontalLayout(t,i.spacingX),i.spacingY&&e.setVerticalLayout(t,i.spacingY),o.updateLayout()}}},e.setWidget=function(t,n,i){if(n){var o=e.isLandscape?n.landscape:n.portrait;o||(o=n);var a=t.getComponent(cc.Widget)||t.addComponent(cc.Widget);for(var r in i&&!a.target&&(a.target=i),a.alignMode=cc.Widget.AlignMode.ON_WINDOW_RESIZE,e.openWidgetProperty(a,o),o)null!=a[r]&&(a[r]=o[r]);a.updateAlignment()}},e.openWidgetProperty=function(e,t){e.isAbsoluteBottom=void 0===t.isAbsoluteBottom||t.isAbsoluteBottom,e.isAbsoluteLeft=void 0===t.isAbsoluteLeft||t.isAbsoluteLeft,e.isAbsoluteTop=void 0===t.isAbsoluteTop||t.isAbsoluteTop,e.isAbsoluteRight=void 0===t.isAbsoluteRight||t.isAbsoluteRight,e.isAbsoluteVerticalCenter=void 0===t.isAbsoluteVerticalCenter||t.isAbsoluteVerticalCenter,e.isAbsoluteHorizontalCenter=void 0===t.isAbsoluteHorizontalCenter||t.isAbsoluteHorizontalCenter,e.isAlignBottom=null!=t.bottom,e.isAlignLeft=null!=t.left,e.isAlignRight=null!=t.right,e.isAlignTop=null!=t.top,e.isAlignVerticalCenter=null!=t.verticalCenter,e.isAlignHorizontalCenter=null!=t.horizontalCenter},e.scaling=function(e,t){if(!(t=t||e.getComponent(cc.Sprite).spriteFrame))return 0;var n=cc.winSize,i=t.getTexture(),o=i.width/i.height;return o<n.width/n.height?(e.width=n.width,e.height=n.width/o):(e.height=n.height,e.width=n.height*o),e.width/i.width},e.scalingToCoverRectBySize=function(e,t,n){if(void 0===n&&(n=cc.winSize),!(t=t||e.getComponent(cc.Sprite).spriteFrame))return 0;e.getComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM;var i=t.getTexture(),o=i.width/i.height;return o<n.width/n.height?(e.width=n.width,e.height=n.width/o):(e.height=n.height,e.width=n.height*o),e.width/i.width},e.scalingToCoverRectByScale=function(e,t,n){if(void 0===n&&(n=cc.winSize),!(t=t||e.getComponent(cc.Sprite).spriteFrame))return 0;var i=t.getTexture(),o=i.width/i.height<n.width/n.height?n.width/i.width:n.height/i.height;return e.setScale(o),o},e}();n.Layout=a,cc._RF.pop()},{"../enum/CommonEnum":"CommonEnum","./GData":"GData"}],LineAnimationManager:[function(e,t,n){"use strict";cc._RF.push(t,"9cc6bbn6klLUJgM8TrPv1XK","LineAnimationManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../main/script/CommonConst"),o=e("../../../slot_common/common/component/CommonNumAtlasBase"),a=e("../../../slot_common/common/utils/GData"),r=e("../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),s=e("./LineAnimation"),l=function(){function e(){this.lineIdLabel=null,this.lineIdBg=null,this.atlasList=[]}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=this;return new Promise(function(t){if(e._lineAniconfig=a.GData.getParameter("lineAniConfig"),e._lineAniconfig&&e._lineAniconfig.animationAtlas){var n=e._lineAniconfig.animationAtlas;n.length>0&&game.EventManager.getInstance().raiseEvent(i.CommonEventNames.EVENT_ADD_LOADTASK_ONLOADING,"lineAnimation");for(var s=0,l=function(i){var o=n[i];if(o.atlas&&""!=o.atlas){var l=i;game.ResLoader.getInstance().loadRes(o.atlas,cc.SpriteAtlas,function(i,o){e.loadAssetComplete(o,l),++s==n.length&&(t(),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"lineAnimation"))},a.GData.bundleName,"")}else++s==n.length&&(t(),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"lineAnimation"))},c=0;c<n.length;c++)l(c);var u=e._lineAniconfig.lineIdAtlas;e.lineIdLabel=new cc.Node("LineIDLabel");var p=e.lineIdLabel.addComponent(o.default);e.lineIdBg=new cc.Node("lineIdBg"),e.lineIdBg.addComponent(cc.Sprite),u&&game.ResLoader.getInstance().loadRes(u.atlas,cc.SpriteAtlas,function(e,t){for(var n=0,i=u.config;n<i.length;n++){var a=i[n],r=new o.AtlsElmentConfig;r.id=""+a.id,r.elmentSpriteFrame=t.getSpriteFrame(a.spriteFrameName),p.AtlsElment.push(r)}p.offScale=u.scale,p.spaceX=u.spaceX},a.GData.bundleName,"");var h=e._lineAniconfig.lineIdBg;h&&game.ResLoader.getInstance().loadRes(h.atlas,cc.SpriteAtlas,function(t,n){e.lineIdBg.getComponent(cc.Sprite).spriteFrame=n.getSpriteFrame(h.spriteFrame)},a.GData.bundleName,"")}else t()})},e.prototype.loadAssetComplete=function(e,t){this.atlasList[t]=e},e.prototype.createLineAni=function(){var e=(new cc.Node).addComponent(s.default);e.init(this._lineAniconfig.animationAtlas);for(var t=0;t<this.atlasList.length;t++){var n=this.atlasList[t];e.setChildLine(t,n)}return e},e.prototype.createLineIdLabel=function(){return cc.instantiate(this.lineIdLabel)},e.prototype.createLineIdBg=function(){return cc.instantiate(this.lineIdBg)},e.prototype.dispose=function(){},e._instance=null,e}();n.default=l,cc._RF.pop()},{"../../../main/script/CommonConst":"CommonConst","../../../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../../../slot_common/common/utils/GData":"GData","../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","./LineAnimation":"LineAnimation"}],LineAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"cddfcwbZChMtLGWKS8zKbQm","LineAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.lineConfigs=null,t.leftLine=null,t.centerLine=null,t.rightLine=null,t.curLine=null,t.leftLineAdjustScale=1.1,t.centerLineAdjustScale=1.1,t.rightLineAdjustScale=1.1,t.site="center",t.tween=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e){this.lineConfigs=e},t.prototype.clear=function(){this.curLine&&this.tween&&this.tween.stop()},t.prototype.play=function(e,t,n,i){var o,a=this;this.site=n;var r=1.1;switch(this.site){case"left":o=this.leftLine,r=this.leftLineAdjustScale;break;case"center":o=this.centerLine,r=this.centerLineAdjustScale;break;case"right":o=this.rightLine,r=this.rightLineAdjustScale;break;default:o=this.centerLine,r=this.centerLineAdjustScale}o.node.active=!0,o.node.scaleX=e/o.node.width*r,this.curLine=o,this.tween&&this.tween.stop(),this.tween=cc.tween(o.node).delay(t).call(function(){o&&o.node.isValid&&o.play("ani")}).delay(i).call(function(){a.play(e,0,n,i)}).start()},t.prototype.getDuration=function(e){var t;switch(e){case"left":t=this.leftLine;break;case"center":t=this.centerLine;break;case"right":t=this.rightLine;break;default:t=this.centerLine}var n=t.getAnimationState("ani");return n.duration/n.speed},t.prototype.setChildLine=function(e,t){var n=this.lineConfigs[e],i=new cc.Node;this.node.addChild(i);var o=i.addComponent(cc.Sprite);n.trim&&(o.trim=n.trim),n.dstBlendFactor?o.dstBlendFactor=n.dstBlendFactor:o.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_COLOR;var a=i.addComponent(cc.Animation),r=[];i.width=n.width,n.height&&(o.sizeMode=cc.Sprite.SizeMode.CUSTOM,i.height=n.height);for(var s=0;s<n.spriteFrames.length;s++){var l=n.spriteFrames[s],c=t.getSpriteFrame(l);0==s&&(o.spriteFrame=c),r.push(c)}r.sort(function(e,t){return e.name.localeCompare(t.name,"zh-CN",{numeric:!0})});var u=cc.AnimationClip.createWithSpriteFrames(r,n.simple);u.name="ani",u.speed=n.speed,a.addClip(u),u.wrapMode=cc.WrapMode.Normal,i.active=!1;var p=n.scale||1.1;switch(n.site){case"left":this.leftLine=a,this.leftLineAdjustScale=p;break;case"center":this.centerLine=a,this.centerLineAdjustScale=p;break;case"right":this.rightLine=a,this.rightLineAdjustScale=p;break;default:this.centerLine=a,this.centerLineAdjustScale=p}},a([s],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],LineType:[function(e,t,n){"use strict";cc._RF.push(t,"e7ca0JwNtxMLIsni+0IsvjQ","LineType"),Object.defineProperty(n,"__esModule",{value:!0}),n.LineType=void 0,function(e){e[e.Line=1]="Line",e[e.Specified=2]="Specified",e[e.Spin=3]="Spin",e[e.NonHeadTail=4]="NonHeadTail",e[e.GlobalScatter=5]="GlobalScatter"}(n.LineType||(n.LineType={})),cc._RF.pop()},{}],LoadingTip:[function(e,t,n){"use strict";cc._RF.push(t,"8b62dArggpLWKv1nHqZORqf","LoadingTip");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/script/CommonConst"),s=e("../../slot_common/common/utils/GData"),l=e("../../slot_common/main/BaseView"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentParentNd=null,t.nodes=[],t.dots=[],t}return o(t,e),t.prototype.onOpen=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=function(){for(var e=s.GData.getParameter("main").themeColor,n=0,i=t.nodes;n<i.length;n++)i[n].color=cc.Color.WHITE.fromHEX(e);for(var o=function(e){var n=t.dots[e];t.scheduleOnce(function(){cc.tween(n).by(.3,{y:20}).by(.3,{y:-20}).union().repeatForever().start()},.15*e)},a=0;a<t.dots.length;a++)o(a)};n&&n[0]?r.UIID.UI_COMPENSATE==n[0]||r.UIID.UI_RULE==n[0]?(this.node.getComponent(cc.Sprite).enabled=!1,this.contentParentNd.setPosition(this.contentParentNd.x,0),this.node.opacity=255,o()):r.UIID.UI_BALANCE==n[0]&&(this.node.getComponent(cc.Sprite).enabled=!1,this.contentParentNd.setPosition(this.contentParentNd.x,-400),this.node.opacity=255,o()):(this.contentParentNd.setPosition(this.contentParentNd.x,0),this.node.getComponent(cc.Sprite).enabled=!0,cc.tween(this.node).to(.2,{opacity:255}).start(),o(),cc.tween(this.node).delay(1).to(.3,{opacity:0}).call(function(){game.UIManager.getInstance().close(t)}).start())},a([p(cc.Node)],t.prototype,"contentParentNd",void 0),a([p(cc.Node)],t.prototype,"nodes",void 0),a([p(cc.Node)],t.prototype,"dots",void 0),a([u],t)}(l.default);n.default=h,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView"}],LoadingView:[function(e,t,n){"use strict";cc._RF.push(t,"2b63bERwqdGp4Y7J+uZnsAe","LoadingView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/utils/GData"),s=e("../../slot_common/common/utils/Layout"),l=e("../../slot_common/main/BaseView"),c=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),u=e("./CommonConst"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.confirmBtn=null,t.percentLabel=null,t.totoalAssetList=[],t.loadAsetList=[],t.percentObj={},t}return o(t,e),t.prototype.init=function(){s.Layout.setWidget(this.node,{top:0,bottom:0,left:0,right:0}),this.totoalAssetList=["main_prefab","cardRes","score","balance","winAni","slotMachine"],this.percentObj.percent=0,this.confirmBtn.active=!1,game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,this.loadSingleAssetComplte,this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_LOAD_BONUS_GAME_ASSET_COMPLETE,this.loadBonusAssetComplete,this),game.EventManager.getInstance().addEventListener(u.CommonEventNames.EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING,this.addLoadBonusAssetTask,this),game.EventManager.getInstance().addEventListener(u.CommonEventNames.EVENT_ADD_LOADTASK_ONLOADING,this.addLoadAssetTask,this),game.EventManager.getInstance().raiseEvent("removeStartLoading"),game.EventManager.getInstance().raiseEvent("removeWaitNode"),this.confirmBtn.on("click",this.close,this),this.resize(),this.loadGameRes()},t.prototype.loadGameRes=function(){var e=this,t=r.GData.getParameter("main").loading;t.preloadDir&&(this.totoalAssetList.push("preloadDir"),this.loadResDir(t.preloadDir,function(t){t||e.loadSingleAssetComplte("","preloadDir")},r.GData.bundleName)),game.ResLoader.getInstance().loadRes("main",function(t,n){if(!t){var i=cc.instantiate(n);cc.Canvas.instance.node.addChild(i),e.layout(),console.log("\u6dfb\u52a0\u5b50\u6e38\u620f\u5b8c\u6210"),e.loadSingleAssetComplte("","main_prefab")}},"game_"+core.Global.clientGameId,"configkey")},t.prototype.loadSingleAssetComplte=function(e,t){console.log("load",t),this.totoalAssetList.includes(t)&&(this.loadAsetList.push(t),this.updateProgress(this.loadAsetList.length/this.totoalAssetList.length))},t.prototype.loadBonusAssetComplete=function(){this.loadSingleAssetComplte("","bonus")},t.prototype.addLoadAssetTask=function(e,t){this.totoalAssetList.push(t)},t.prototype.addLoadBonusAssetTask=function(){this.totoalAssetList.push("bonus")},t.prototype.close=function(){this.node.destroy(),game.EventManager.getInstance().removeEventListener(c.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,this.loadSingleAssetComplte,this),game.EventManager.getInstance().removeEventListener(c.GameEventNames.EVENT_LOAD_BONUS_GAME_ASSET_COMPLETE,this.loadBonusAssetComplete,this),game.EventManager.getInstance().removeEventListener(u.CommonEventNames.EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING,this.addLoadBonusAssetTask,this),game.EventManager.getInstance().removeEventListener(u.CommonEventNames.EVENT_ADD_LOADTASK_ONLOADING,this.addLoadAssetTask,this),game.EventManager.getInstance().raiseEvent(u.CommonEventNames.EVENT_CLOSE_LOADING_VIEW)},t.prototype.updateProgressLabel=function(){var e=Math.floor(100*this.percentObj.percent);this.percentLabel.string=e+"%"},t.prototype.updateProgress=function(e){var t=this;cc.tween(this.percentObj).to(.2,{percent:e},{progress:function(e,n,i,o){return t.updateProgressLabel(i),e+(n-e)*o}}).call(function(){1==e&&(t.confirmBtn.active=!0,t.percentLabel.node.parent.active=!1)}).start()},a([d(cc.Node)],t.prototype,"confirmBtn",void 0),a([d(cc.Label)],t.prototype,"percentLabel",void 0),a([h],t)}(l.default);n.default=f,cc._RF.pop()},{"../../slot_common/common/utils/GData":"GData","../../slot_common/common/utils/Layout":"Layout","../../slot_common/main/BaseView":"BaseView","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","./CommonConst":"CommonConst"}],MainView:[function(e,t,n){"use strict";cc._RF.push(t,"4aeb9GEACBKnJ8jwRcYA0Ng","MainView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../check/script/BuySpinSlot"),s=e("../../slotMachine/script/Scroller/LineAnimationManager"),l=e("../../slot_common/common/component/CustomButton"),c=e("../../slot_common/common/enum/CommonEnum"),u=e("../../slot_common/common/layer/LayerManage"),p=e("../../slot_common/common/utils/GData"),h=e("../../slot_common/common/utils/Layout"),d=e("../../slot_common/main/EntranceViewBase"),f=e("../../slot_common/network/NetSlotConst"),m=e("../../slot_common/network/SlotProtoManager"),g=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),_=e("../../slot_common/slotMachine/script/SlotManager/BonusGameManager"),y=e("../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),T=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),S=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),E=e("../../winAnimations/script/WinAniManager"),v=e("./CommonConst"),C=cc._decorator,b=C.ccclass,R=C.property,M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scenePrefab=null,t.rollerPrefab=null,t.floatingWordTip=null,t.isLogin=!1,t.buyBtn=null,t.turnCoinBtn=null,t.onBuyFreeTimeStart=!1,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype._addEvent=function(){game.EventManager.getInstance().addEventListener(f.default.RESTORERESP,this.restoreResp,this),game.EventManager.getInstance().addEventListener(g.GameEventNames.EVENT_SHOW_LINE_OVER,this._onShowLineOver,this),game.EventManager.getInstance().addEventListener(g.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this),game.EventManager.getInstance().addEventListener(g.GameEventNames.EVENT_BUY_FREE_EXPAND,this.buyFreeExpand,this),game.EventManager.getInstance().addEventListener(g.GameEventNames.EVENT_NO_MONEY_TIP_POP,this.noMoneyTipPop,this)},t.prototype.mergeConfig=function(){game.BaseUIConf.getInstance().mergeUIConf(v.UICF);var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e);var t=game.BaseUIConf.getInstance().getUICF()[core.COREUIID.UI_DIALOG];game.ResLoader.getInstance().loadRes(t.path,cc.Prefab,function(){},t.bundleName,"dialog");var n=game.BaseUIConf.getInstance().getUICF()[v.UIID.UI_LOADING_TIP];game.ResLoader.getInstance().loadRes(n.path,cc.Prefab,function(){},n.bundleName,"slot_ui_loading_tip")},t.prototype.beforeLogin=function(){var e=this;this.initProto(),this.mergeConfig(),this._addEvent(),this.addTopUi(),this.restoreResp(null),this.insFloatingWordNode(function(t){e.floatingWordTip=t,core.TipsManager.getInstance().toastFunc=e.showToast.bind(e)})},t.prototype.buyFreeDataResp=function(){var e,t;this.buyBtn&&(T.default.instance.isInAuto||y.default.instance.hasFreeGame?this.buyBtn.getComponent(r.default).btn.getComponent(l.default).interactable=!1:this.buyBtn.getComponent(r.default).btn.getComponent(l.default).interactable=!0),(null===(e=core.CommonProto.getInstance().gameSwitch)||void 0===e?void 0:e.buyFreeGame)&&S.default.isHasBuy()&&this.addBuySpinSlot(),game.LogManager.getInstance().log("\u8d2d\u4e70\u514d\u8d39\u7684\u5f00\u5173\uff1a",null===(t=core.CommonProto.getInstance().gameSwitch)||void 0===t?void 0:t.buyFreeGame),game.LogManager.getInstance().log("\u8d2d\u4e70\u514d\u8d39\u662f\u5426\u6709\u8fd4\u56de\u6570\u636e\uff1a",S.default.isHasBuy())},t.prototype.restoreResp=function(){m.default.getInstance().restoreResult&&(m.default.getInstance().restoreResult.gameMode!=protoSlot.game_mode_type_enum.direct_hash||this.getNode(c.MAIN_NODE_NAME.hashCiphertext)||this.addCiphertextView(),m.default.getInstance().restoreResult.gameMode!=protoSlot.game_mode_type_enum.timestamp_hash||this.getNode(c.MAIN_NODE_NAME.hashCiphertext)||this.addTimestampView(),m.default.getInstance().restoreResult.gameMode==protoSlot.game_mode_type_enum.normal||this.getNode(c.MAIN_NODE_NAME.hashEntrance)||this.addHashEntrance(),this.turnCoinBtn&&(this.turnCoinBtn.active=!1,game.UIManager.getInstance().closeByUIID(v.UIID.UI_TURN_COIN_VIEW)))},t.prototype.addTopUi=function(){game.ResLoader.getInstance().loadRes("topUi/prefab/TopUi",cc.Prefab,function(e,t){var n=cc.instantiate(t);cc.Canvas.instance.node.addChild(n),n.zIndex=u.LayerManage.top-1},"slot","TopUi")},t.prototype.addGameControl=function(){var e=this;return new Promise(function(t,n){var i=1==p.GData.getParameter("main").settingStyle?"gameControl/prefabs/gameControPrefab1":"gameControl/prefabs/gameControPrefab2";game.ResLoader.getInstance().loadRes(i,cc.Prefab,function(i,o){if(i)return n(!1),i;e.addNode(o,u.LayerManage.popup,c.MAIN_NODE_NAME.gameControl),t(!0)},"slot","slot")})},t.prototype.addView=function(){this.isLogin=!0,this.loadChildView()},t.prototype.loadChildView=function(){var e=this;this.isLogin&&(this.onLoadTurnCoinBtn(),this.buyFreeDataResp(),Promise.all([s.default.instance.init(),this.addGameControl(),this.addMenuView(),this.addScoreView()]).then(function(){e.addGameSceneView(),e.addRollerView(),e.addGMLayer(),e.addWinAnimationLayer()}))},t.prototype.layout=function(){h.Layout.setWidget(this.node,{top:0,bottom:0,left:0,right:0})},t.prototype.addGameSceneView=function(){this.addNode(this.scenePrefab,u.LayerManage.background,c.MAIN_NODE_NAME.scene)},t.prototype.addMenuView=function(){var e=this;return new Promise(function(t){var n=1==p.GData.getParameter("main").settingStyle?"menu/prefab/Menu1":"menu/prefab/Menu2";e.loadPrefab("slot",n,u.LayerManage.menu,c.MAIN_NODE_NAME.menu,function(){t(!0)})})},t.prototype.getEffectLayer=function(){var e=this.getNode(c.MAIN_NODE_NAME.effect);return e||(e=new cc.Node,this.addNode(e,u.LayerManage.effect,c.MAIN_NODE_NAME.effect)),e},t.prototype.getWinAniManagerClass=function(){return E.default},t.prototype.addWinAnimationLayer=function(){var e=this,t=this.getWinAniManagerClass();game.ResLoader.getInstance().loadRes("winAnimations/prefab/winAnimations",cc.Prefab,function(n,i){if(n)return n;e.addNode(i,u.LayerManage.effect,"winAni").addComponent(t),game.EventManager.getInstance().raiseEvent(g.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"winAni")},"slot","slot")},t.prototype.addRollerView=function(){this.addNode(this.rollerPrefab,u.LayerManage.scene,c.MAIN_NODE_NAME.roller)},t.prototype.addScoreView=function(){var e=this;return new Promise(function(t){var n=p.GData.getParameter("main").settingStyle||1;e.loadPrefab("slot","score/prefab/scorePrefab"+n,u.LayerManage.popup,c.MAIN_NODE_NAME.score,function(){t(!0)}),e.loadPrefab("slot","score/prefab/balance",u.LayerManage.tip,"balance")})},t.prototype.addGMLayer=function(){var e=core.CommonProto.getInstance().gameSwitch;if(e&&0!=e.gm){var t=p.GData.getParameter("gmCmd").gmconfig;core.GMManager.instance.initGM(t)}},t.prototype.addBonusGameLayer=function(e){return this.addNode(e,u.LayerManage.bonus)},t.prototype.addJackPotGameLayer=function(e){return this.addNode(e,u.LayerManage.bonus)},t.prototype.addCiphertextView=function(){this.loadPrefab("slot","slot_common/check/prefab/hashCiphertextSlot",u.LayerManage.menu,c.MAIN_NODE_NAME.hashCiphertext)},t.prototype.addTimestampView=function(){this.loadPrefab("slot","slot_common/check/prefab/hashTimestampSlot",u.LayerManage.menu,c.MAIN_NODE_NAME.hashCiphertext)},t.prototype.addHashEntrance=function(){this.loadPrefab("slot","check/prefabs/hashSlot",u.LayerManage.menu,c.MAIN_NODE_NAME.hashEntrance)},t.prototype.shakeEffect=function(e,t){void 0===t&&(t=1)},t.prototype.insFloatingWordNode=function(e){game.ResLoader.getInstance().loadRes("common/prefabs/floatingWord",cc.Prefab,function(t,n){if(t)return t;var i=cc.instantiate(n);i.parent=cc.find("Canvas"),i.zIndex=game.BaseUIConf.BASELAYER_TIPS+2,i.active=!1,e&&e(i)},"slot","floatingWord")},t.prototype.showToast=function(e,t){this.floatingWordTip&&function(n){n.getComponentInChildren(cc.Label).string=e;var i=cc.v3(0,.5*-cc.winSize.height+90,0),o=cc.v3(0,.5*-cc.winSize.height+90,0),a=2;t&&(t.startPos&&(i=t.startPos),t.endPos&&(o=t.endPos),t.showTime&&(a=t.showTime)),cc.Tween.stopAllByTarget(n),n.setPosition(i),n.opacity=255,n.active=!0,cc.tween(n).to(.2,{position:o},{easing:"sineIn"}).delay(a).to(1,{opacity:0},{easing:"sineIn"}).call(function(){n.active=!1}).start()}(this.floatingWordTip)},t.prototype.addBuySpinSlot=function(){var e=this;this.buyBtn||game.ResLoader.getInstance().loadRes("check/prefabs/buySpinSlot",cc.Prefab,function(t,n){t||(e.buyBtn=cc.instantiate(n),e.addNode(e.buyBtn,u.LayerManage.menu-1,"buySpinSlot"),e.buyBtn.active=!!m.default.buyMultiNum)},"slot","buySpinSlot")},t.prototype.onLoadTurnCoinBtn=function(){var e,t=this;if(!this.turnCoinBtn){var n=null===(e=core.CommonProto.getInstance().gameSwitch)||void 0===e?void 0:e.doubleGame;game.LogManager.getInstance().log("\u7ffb\u500d\u7684\u5f00\u5173\uff1a",n),n&&game.ResLoader.getInstance().loadRes("check/prefabs/turnCoinSlot",cc.Prefab,function(e,n){e||(t.turnCoinBtn=cc.instantiate(n),t.addNode(t.turnCoinBtn,u.LayerManage.menu,"turnCoinSlot"),t.turnCoinBtn.active=!1)},"slot","turnCoinSlot")}},t.prototype._onShowLineOver=function(){var e;if((!m.default.buyMultiNum||y.default.instance.isTreateNewFree||y.default.instance.isTreateFromFreeGame||_.default.instance.hasBonusGame||T.default.instance.isInAuto)&&(y.default.instance.hasFreeGame||!y.default.instance.isTreateFreeOver||T.default.instance.isInAuto||this.onBuyFreeTimeStart)?this.buyBtn&&(this.buyBtn.getComponent(r.default).btn.getComponent(l.default).interactable=!1):this.buyBtn&&(this.buyBtn.getComponent(r.default).btn.getComponent(l.default).interactable=!0),(null===(e=T.default.instance.doubleCoin)||void 0===e?void 0:e.curBase)&&T.default.instance.totalWin>0&&!S.default.isShowDoubleCoinResp&&!(y.default.instance.isTreateNewFree||y.default.instance.isTreateFromFreeGame||_.default.instance.isTreateNewBonus||T.default.instance.isInAuto)){var t=this.turnCoinBtn;T.default.instance.isLastView=!1,t&&(t.active=!!core.CommonProto.getInstance().gameSwitch.doubleGame)}},t.prototype.onStartRolling=function(){this.turnCoinBtn&&(this.turnCoinBtn.active=!1),S.default.isShowDoubleCoinResp=!1,this.buyBtn&&(this.buyBtn.getComponent(r.default).btn.getComponent(l.default).interactable=!1),this.onBuyFreeTimeStart=!1},t.prototype.buyFreeExpand=function(){this.turnCoinBtn&&(this.turnCoinBtn.active=!1),this.onBuyFreeTimeStart=!0},t.prototype.noMoneyTipPop=function(){var e={onlyOKBtn:!1};e.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),e.tips=game.LanguageManager.getInstance().getDstStr("pg_tips16")+"\n("+game.LanguageManager.getInstance().getDstStr("pg_tips17")+")",e.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("slot_fanbei_29"),e.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("slot_cancel"),e.cancelCbTarget={},e.cancelCbTarget.callback=function(){core.LobbyFun.instance.sendRechargeMessage()},e.okCbTarget={},e.okCbTarget.callback=function(){},core.TipsManager.getInstance().showPopupPrompt(e)},a([R({type:cc.Prefab,tooltip:"\u573a\u666f\u80cc\u666f"})],t.prototype,"scenePrefab",void 0),a([R({type:cc.Prefab,tooltip:"\u6eda\u8f74"})],t.prototype,"rollerPrefab",void 0),a([b],t)}(d.default);n.default=M,cc._RF.pop()},{"../../check/script/BuySpinSlot":"BuySpinSlot","../../slotMachine/script/Scroller/LineAnimationManager":"LineAnimationManager","../../slot_common/common/component/CustomButton":"CustomButton","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/layer/LayerManage":"LayerManage","../../slot_common/common/utils/GData":"GData","../../slot_common/common/utils/Layout":"Layout","../../slot_common/main/EntranceViewBase":"EntranceViewBase","../../slot_common/network/NetSlotConst":"NetSlotConst","../../slot_common/network/SlotProtoManager":"SlotProtoManager","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../winAnimations/script/WinAniManager":"WinAniManager","./CommonConst":"CommonConst"}],Marqueen:[function(e,t,n){"use strict";cc._RF.push(t,"40a38c9jd9Pzo6TenUl8Hmn","Marqueen");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r,s=cc._decorator,l=s.ccclass,c=s.property;(function(e){e[e.LEFT_RIGHT=1]="LEFT_RIGHT",e[e.BOTTOM_TOP=2]="BOTTOM_TOP",e[e.RIGHT_LEFT=3]="RIGHT_LEFT",e[e.TOP_BOTTOM=4]="TOP_BOTTOM"})(r||(r={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mask=null,t.target=null,t.direction=r.BOTTOM_TOP,t.duration=1,t.waitDuration=2,t.repeat=-1,t.callBackBefore=null,t.callBackLater=null,t.startPos=cc.v3(0,0,0),t.endPos=cc.v3(0,0,0),t.tween=null,t}return o(t,e),t.prototype.onLoad=function(){this.mask=this.mask||this.node.parent,this.target=this.target||this.node,this.tween=this.createTween()},t.prototype.onEnable=function(){this.startMarqueen()},t.prototype.onDisable=function(){this.stopMarqueen()},t.prototype.startMarqueen=function(){this.tween&&this.tween.start()},t.prototype.stopMarqueen=function(){this.tween&&this.tween.stop()},t.prototype.setParams=function(e){void 0!==e.direction&&(this.direction=e.direction),e.callBackBefore&&(this.callBackBefore=e.callBackBefore),e.callBackLater&&(this.callBackLater=e.callBackLater)},t.prototype.updatePosition=function(){var e=this.mask.width/2+this.target.width/2,t=this.mask.height/2+this.target.height/2;switch(this.direction){case r.LEFT_RIGHT:this.startPos.x=-e,this.endPos.x=e;break;case r.BOTTOM_TOP:this.startPos.y=-t,this.endPos.y=t;break;case r.RIGHT_LEFT:this.startPos.x=e,this.endPos.x=-e;break;case r.TOP_BOTTOM:this.startPos.y=t,this.endPos.y=-t}},t.prototype.createTween=function(){var e=cc.tween(this.target).call(this.cbBefore.bind(this)).set({position:this.startPos}).to(this.duration,{x:0,y:0}).delay(this.waitDuration).to(this.duration,{position:this.endPos}).set({position:this.endPos}).call(this.cbLater.bind(this));return this.repeat<0?cc.tween(this.target).repeatForever(e):cc.tween(this.target).repeat(this.repeat,e)},t.prototype.cbBefore=function(){this.updatePosition(),this.callBackBefore&&this.callBackBefore()},t.prototype.cbLater=function(){this.callBackLater&&this.callBackLater()},a([c({type:cc.Node,tooltip:"\u8dd1\u9a6c\u706f\u906e\u7f69 \u9ed8\u8ba4\u4e3athis.node.parent"})],t.prototype,"mask",void 0),a([c({type:cc.Node,tooltip:"\u8981\u79fb\u52a8\u7684\u8282\u70b9 \u9ed8\u8ba4\u4e3athis.node"})],t.prototype,"target",void 0),a([c({type:cc.Enum(r),tooltip:"\u8dd1\u9a6c\u706f\u65b9\u5411"})],t.prototype,"direction",void 0),a([c({tooltip:"\u4ece \u8d77\u70b9/\u7ec8\u70b9 \u5230\u4e2d\u5fc3\u7684\u65f6\u95f4 \u5355\u4f4d\uff1a\u79d2"})],t.prototype,"duration",void 0),a([c({tooltip:"\u505c\u5728\u4e2d\u95f4\u5c55\u793a\u7684\u65f6\u95f4"})],t.prototype,"waitDuration",void 0),a([c({tooltip:"\u91cd\u590d\u6b21\u6570\uff0c \u9ed8\u8ba4-1\u4e3a\u65e0\u7ebf\u5faa\u73af"})],t.prototype,"repeat",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],MathUtil:[function(e,t,n){"use strict";cc._RF.push(t,"3060f9nJq5M+KolWM0VXxF2","MathUtil"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.getDistance=function(e,t){return cc.v2(t.x-e.x,t.y-e.y).mag()},e.convertVec2Int=function(e){return cc.v2(Math.round(e.x),Math.round(e.y))},e.getIntVec2=function(e,t){return cc.v2(Math.round(e),Math.round(t))},e.getRandomRange=function(e,t,n){void 0===n&&(n=!1);var i=e+Math.random()*(t-e);return n&&(i=Math.round(i)),i},e}();n.default=i,cc._RF.pop()},{}],Menu:[function(e,t,n){"use strict";cc._RF.push(t,"9776d1DWStAYpExGJWtx2on","Menu");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/enum/CommonEnum"),s=e("../../slot_common/common/utils/GData"),l=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),c=e("../../slot_common/sound/script/SoundMger"),u=e("../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),p=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),h=e("../../slot_common/slotMachine/script/SlotDefinitions/SlotEnum"),d=e("../../slot_common/main/BaseView"),f=e("../../main/script/CommonConst"),m=e("../../util/UIBtnClickCtr"),g=e("../../slot_common/network/NetSlotConst"),_=e("../../slot_common/autoTest/SlotAutoTestConf"),y=cc._decorator,T=y.ccclass,S=y.property,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isOpen=!1,t.isOnClick=!0,t.isSoundOn=!0,t.soundOnSpriteFrame=null,t.soundOffSpriteFrame=null,t.btn_sound_off=null,t.openBtn=null,t.menuBtn=null,t.maskBg=null,t.themeColor=cc.Color.WHITE,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.resize.call(this);var t=s.GData.getParameter("main"),n=t.themeColor,i=t.settingStyle;this.themeColor=cc.Color.WHITE.fromHEX(n);for(var o=0,a=this.node.children;o<a.length;o++){var r=a[o];this.setAutoTest(r),m.default.registerBtnClickCb(r,this.onItemClick,this),"openBtn"!=r.name&&"btn_sound_off"!=r.name&&this.setChildColor(r,n)}for(var l=0,c=this.menuBtn.children;l<c.length;l++)r=c[l],this.setAutoTest(r),m.default.registerBtnClickCb(r,this.onItemClick,this);var u=s.GData.getParameter("layout").menu;this.node.x=u.x||0,this.node.y=u.y||0,this.node.scale=u.scale||1,this.initItem(),this.info=s.GData.getParameter("menu").menu,console.log("this.info=",this.info);var p=this.info.closeColor||"#FFFFFF";1==i?core.CommonProto.getInstance().isNormal?this.menuBtn.x=this.info.menuBtnX||-720:this.menuBtn.x=this.info.menuBtnX_2||-780:core.CommonProto.getInstance().isNormal?this.menuBtn.x=this.info.menuBtnX||-500:this.menuBtn.x=this.info.menuBtnX_2||-180;var h=this.menuBtn.getChildByName("quitBtn");if(h&&h.removeFromParent(),!core.CommonProto.getInstance().isNormal){var d=this.menuBtn.getChildByName("hisBtn");d&&d.removeFromParent()}var f=0;if(this.info.txtColor)for(var g=0,_=this.menuBtn.children;g<_.length;g++)"soundBtn"!=(r=_[g]).name&&"payTableBtn"!=r.name&&"ruleBtn"!=r.name&&"hisBtn"!=r.name&&"closeBtn"!=r.name||(r.getChildByName("desLabel").color=cc.Color.WHITE.fromHEX(this.info.txtColor),r.scale=this.info.scale?this.info.scale:1,r.x=1==i?(6-f)*(this.info.width?this.info.width:120):f*(this.info.width?this.info.width:200),f++);this.setChildColor(this.menuBtn.getChildByName("closeBtn"),p),this.info.icon&&(this.btn_sound_off.scale=this.info.icon.scale||.6,this.btn_sound_off.getChildByName("icon").x=this.info.icon.x||0,this.btn_sound_off.getChildByName("icon").y=this.info.icon.y||0),this.openBtn.scaleX=this.info.menuOpenBtnScaleX||1,this.openBtn.scaleY=this.info.menuOpenBtnScaleY||1,this.info.openBtn&&this.info.openBtn.offsetX&&(this.openBtn.x+=this.info.openBtn.offsetX),this.info.maskBg&&(null!=this.info.maskBg.opacity&&(this.maskBg.opacity=this.info.maskBg.opacity),null!=this.info.maskBg.color&&(this.maskBg.color=cc.Color.WHITE.fromHEX(this.info.maskBg.color)),null!=this.info.maskBg.offsetX&&(this.maskBg.x+=this.info.maskBg.offsetX),null!=this.info.maskBg.offsetY&&(this.maskBg.y+=this.info.maskBg.offsetY),null!=this.info.maskBg.height&&(this.maskBg.height=this.info.maskBg.height),null!=this.info.maskBg.width&&(this.maskBg.width=this.info.maskBg.width))},t.prototype.initItem=function(){var e=cc.sys.localStorage.getItem("isSoundOn_"+core.Global.gameId);this.isSoundOn="false"!=e,2!=s.GData.getParameter("main").settingStyle&&(this.btn_sound_off.active="false"==e),this.menuBtn.getChildByName("soundBtn").getComponentInChildren(cc.Sprite).spriteFrame="false"==e?this.soundOffSpriteFrame:this.soundOnSpriteFrame},t.prototype.setChildColor=function(e,t){if(e&&e!=this.maskBg){e.getComponent(cc.Sprite)&&(e.color=cc.Color.WHITE.fromHEX(t));for(var n=0,i=e.children;n<i.length;n++){var o=i[n];this.setChildColor(o,t)}}},t.prototype.setAutoTest=function(e){var t={target:e};switch(e.name){case"payTableBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_HELP,t);break;case"soundBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_SET,t);break;case"openBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_MENU,t);break;case"quitBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_BACK,t);break;case"hisBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_GAMERECORD,t);break;case"ruleBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_RULE,t);break;case"closeBtn":core.AutoTest.getInstance().setAutoTestData(_.SlotAutoTestKey.SLOT_BTN_CLOSE,t)}},t.prototype.onItemClick=function(e){if(this.isOnClick){var t=e.node;switch(console.log("node.name=",t.name),t.name){case"openBtn":game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_CLICK_OPEN_MENU),this.open_close_Menu();break;case"closeBtn":game.EventManager.getInstance().raiseEvent(l.GameEventNames.EVENT_CLICK_CLOSE_MENU),this.open_close_Menu();break;case"hisBtn":game.UIManager.getInstance().open(core.COREUIID.UI_GAME_RECORD);break;case"ruleBtn":game.UIManager.getInstance().open(f.UIID.UI_RULE);break;case"payTableBtn":game.UIManager.getInstance().open(f.UIID.UI_COMPENSATE);break;case"soundBtn":this.isSoundOn=!this.isSoundOn,cc.sys.localStorage.setItem("isSoundOn_"+core.Global.gameId,this.isSoundOn),this.isSoundOn?(game.SoundManager.getInstance().setMusicVolume(1,core.Global.gameId.toString()),game.SoundManager.getInstance().setEffectVolume(1,core.Global.gameId.toString())):(game.SoundManager.getInstance().setMusicVolume(0,core.Global.gameId.toString()),game.SoundManager.getInstance().setEffectVolume(0,core.Global.gameId.toString())),t.getComponentInChildren(cc.Sprite).spriteFrame=this.isSoundOn?this.soundOnSpriteFrame:this.soundOffSpriteFrame;break;case"quitBtn":var n={};n.title=game.LanguageManager.getInstance().getDstStr("pg-menu11"),n.okCbSprBgColor=this.themeColor,n.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu10"),n.cancelCbSprBgColor=this.themeColor,n.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu13"),n.tips=game.LanguageManager.getInstance().getDstStr("pg-menu12"),n.okCbTarget={},n.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()},n.okCbTarget.target=this,core.TipsManager.getInstance().showPopupPrompt(n)}c.SoundMger.instance.playEffect(r.SOUND_NAME.Currency_Button)}},t.prototype.onEnable=function(){game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_MENU_INTERACTABLE,this.interactable,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.interactable,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_MENU_SHOW_OR_HIDE,this.menuShowOrHide,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_MENU_SET_OPACITY,this.menuSetOpacity,this),game.EventManager.getInstance().addEventListener(f.CommonEventNames.EVENT_CLOSE_MENU,this.closeMenu,this),game.EventManager.getInstance().addEventListener(g.default.BUYFREESPINRESP,this.buyFreeResp,this)},t.prototype.buyFreeResp=function(){this.closeMenu(),this.node.getChildByName("openBtn").getComponent(cc.Button).interactable=!1},t.prototype.menuSetOpacity=function(e,t){this.openBtn.opacity=t},t.prototype.menuShowOrHide=function(e,t){console.log("menuShowOrHide--isShow=",t),this.node.active=!!t},t.prototype.onStartRolling=function(){this.node.getChildByName("openBtn").getComponent(cc.Button).interactable=!1,this.node.getChildByName("openBtn").getComponentInChildren(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-gray-sprite")),this.isOnClick=!1},t.prototype.interactable=function(){var e=u.default.instance.hasFreeGame;if(p.default.instance.rollingResult&&p.default.instance.rollingResult.nextState){var t=p.default.instance.rollingResult.nextState.state;e||(e=t==h.OperationState.Free||t==h.OperationState.ReSpin)}e||p.default.instance.isInAuto||0!=p.default.instance.tempAutoTimes?this.onStartRolling():(this.node.getChildByName("openBtn").getComponent(cc.Button).interactable=!0,this.node.getChildByName("openBtn").getComponentInChildren(cc.Sprite).setMaterial(0,cc.Material.getBuiltinMaterial("2d-sprite")),this.isOnClick=!0)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_START_ROLLING,this.onStartRolling,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_MENU_INTERACTABLE,this.interactable,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.interactable,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_MENU_SHOW_OR_HIDE,this.menuShowOrHide,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_MENU_SET_OPACITY,this.menuSetOpacity,this),game.EventManager.getInstance().removeEventListener(f.CommonEventNames.EVENT_CLOSE_MENU,this.closeMenu,this);for(var e=0,t=this.menuBtn.children;e<t.length;e++){var n=t[e];m.default.unRegisterBtnClickCb(n,this.onItemClick,this)}},t.prototype.closeMenu=function(){this.isOpen&&this.open_close_Menu()},t.prototype.open_close_Menu=function(){var e=this;this.isOpen=!this.isOpen,this.maskBg.active=this.isOpen&&this.info.isShowMaskBg;for(var t=0,n=this.menuBtn.children;t<n.length;t++){var i=n[t];(core.CommonProto.getInstance().isNormal||"hisBtn"!=i.name)&&(i.active=this.isOpen)}this.menuBtn.active=!0,cc.tween(this.menuBtn).to(.2,{y:this.isOpen?this.info.moveY:-200,opacity:this.isOpen?255:0}).call(function(){e.menuBtn.active=e.isOpen}).start(),2!=s.GData.getParameter("main").settingStyle&&(this.btn_sound_off.active=!this.isOpen&&!this.isSoundOn),cc.tween(this.node.getChildByName("openBtn")).to(.2,{y:this.isOpen?-200:0,opacity:this.isOpen?0:255}).start(),game.EventManager.getInstance().raiseEvent(f.CommonEventNames.EVENT_SHOW_OR_HIDE_MENU,this.isOpen),p.default.instance.spinTouchEnable=!this.isOpen},a([S(cc.SpriteFrame)],t.prototype,"soundOnSpriteFrame",void 0),a([S(cc.SpriteFrame)],t.prototype,"soundOffSpriteFrame",void 0),a([S(cc.Node)],t.prototype,"btn_sound_off",void 0),a([S(cc.Node)],t.prototype,"openBtn",void 0),a([S(cc.Node)],t.prototype,"menuBtn",void 0),a([S(cc.Node)],t.prototype,"maskBg",void 0),a([T],t)}(d.default);n.default=E,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/autoTest/SlotAutoTestConf":"SlotAutoTestConf","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/network/NetSlotConst":"NetSlotConst","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotDefinitions/SlotEnum":"SlotEnum","../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/sound/script/SoundMger":"SoundMger","../../util/UIBtnClickCtr":"UIBtnClickCtr"}],MultiDragonBonesAtlasAssets:[function(e,t,n){"use strict";cc._RF.push(t,"9af83yfaiNIh6G2RyztkDUJ","MultiDragonBonesAtlasAssets");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=r.requireComponent,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dragonAtlasAssetArray=[],t.listTexture={},t.display=null,t}return o(t,e),Object.defineProperty(t.prototype,"dragonAtlasAssetArray",{get:function(){return this._dragonAtlasAssetArray},set:function(e){this._dragonAtlasAssetArray=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.reset()},t.prototype.reset=function(){if(this.display=this.node.getComponent(dragonBones.ArmatureDisplay),this.display&&this.dragonAtlasAssetArray.length>0){if(this.display.dragonAtlasAsset&&this.display.dragonAtlasAsset==this.dragonAtlasAssetArray[0]||(this.display.dragonAtlasAsset=this.dragonAtlasAssetArray[0]),this.dragonAtlasAssetArray.length<2)return;this.resetAsset(),this.resetDisplay()}},t.prototype.resetAsset=function(){this.listTexture={};for(var e=0;e<this.dragonAtlasAssetArray.length;e++){var t=this.dragonAtlasAssetArray[e],n=t._textureAtlasData;if(n||(t.init(dragonBones.CCFactory.getInstance()),n=t._textureAtlasData),!n)return;var i=n.textures;for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(this.listTexture[o]=i[o])}},t.prototype.resetDisplay=function(){var e=this.display;if(null!=e&&null!=e.dragonAsset)if(null!=e.dragonAtlasAsset){var t=e.armature();null!=t&&this.updateArmatureDisplayData(t,!1)}else console.error("\u6ca1\u6709\u8d4b\u503c\u9aa8\u9abc\u6570\u636e\u6240\u9700\u8981\u7684\u8d34\u56fe\uff01\uff01\uff01")},t.prototype.updateArmatureDisplayData=function(e){for(var t=e._slots,n=0;n<t.length;n++){var i=t[n];if(null!=i){for(var o=i._displayDatas,a=i._displayData,r=0;r<o.length;r++){var s=o[r];s instanceof dragonBones.ImageDisplayData||s instanceof dragonBones.MeshDisplayData?this.replaceDisplay(o[r]):i._childArmature&&this.updateArmatureDisplayData(i._childArmature,!0)}this.replaceDisplay(a),(a instanceof dragonBones.ImageDisplayData||a instanceof dragonBones.MeshDisplayData)&&(i._updateDisplayData(),i._updateFrame(),i._updateDisplay(),i.update(-1))}}},t.prototype.replaceDisplay=function(e){if(null==e)return!1;var t=this.listTexture,n=e.path.length>0?e.path:e.name;return!!t[n]&&(e.texture=t[n],!0)},a([l],t.prototype,"_dragonAtlasAssetArray",void 0),a([l({type:dragonBones.DragonBonesAtlasAsset,tooltip:"\u9f99\u9aa8\u6570\u636e\u6240\u9700\u8981\u7684\u7eb9\u7406\u96c6\u5408"})],t.prototype,"dragonAtlasAssetArray",null),a([s,c(dragonBones.ArmatureDisplay)],t)}(cc.Component);n.default=u,cc._RF.pop()},{}],MultiPSRandomRefreshTool:[function(e,t,n){"use strict";cc._RF.push(t,"d31294UwPtPJ41Y41vbtU4R","MultiPSRandomRefreshTool");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.psNodeNum=5,t.emissionRate=10,t.psIndexArray=[],t.psArray=[],t.count=0,t.spriteArray=[],t}return o(t,e),t.prototype.onLoad=function(){if(this.atlas){this.psArray=this.node.getComponentsInChildren(cc.ParticleSystem),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length;var e=Math.round(Math.random()*this.count);for(this.psIndexArray.push(e);this.psArray.length<this.psNodeNum;){var t=cc.instantiate(this.psArray[0].node);t.parent=this.psArray[0].node.parent;var n=Math.round(Math.random()*this.count);this.psIndexArray.push(n),this.psArray.push(t.getComponent(cc.ParticleSystem))}}},t.prototype.onEnable=function(){this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.refreshSprite)},t.prototype.refreshSprite=function(){for(var e=0;e<this.psArray.length;e++){var t=this.psArray[e];this.psIndexArray[e]>=this.count&&(this.psIndexArray[e]=0),t.spriteFrame=this.spriteArray[this.psIndexArray[e]],t.emissionRate=this.emissionRate,t.autoRemoveOnFinish=!1,this.psIndexArray[e]++}},a([l({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([l({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([l({tooltip:"ParticleSystem\u8282\u70b9\u603b\u6570\u91cf"})],t.prototype,"psNodeNum",void 0),a([l({tooltip:"\u5355\u7c92\u5b50\u8282\u70b9\u6bcf\u79d2\u53d1\u5c04\u7c92\u5b50\u6570\u76ee"})],t.prototype,"emissionRate",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],MultipleGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"2c1b1QhpX5MnqeSKJLSkf5r","MultipleGameManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./SlotConfigManager"),o=e("./SpinManager"),a=function(){function e(){this._enabled=!1,this._isChangeGame=!1}return e.prototype.init=function(){this._enabled=i.default.instance.isMultipleGame,this._defaultGameID=i.default.instance.defaultGameID},e.prototype.dispose=function(){},Object.defineProperty(e.prototype,"isChangeGame",{get:function(){return this._isChangeGame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curGameID",{get:function(){return this._curGameID},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normalGrid",{get:function(){return this._normalGrid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normalGridChanged",{get:function(){return this._normalGridChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextGrid",{get:function(){return this._nextGrid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextGridChanged",{get:function(){return this._nextGridChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSpinResult",{get:function(){return this._nextSpinResult},set:function(e){this._nextSpinResult=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),e.prototype.render=function(e){if(this._enabled)if(e.nextState){if(this._isChangeGame=!0,e.nextState.normalData&&!e.nextState.freeData){if(this._curGameID==this._defaultGameID)return void(this._isChangeGame=!1);this._nextGrid=e.nextState.normalData.spinInfo.spinResult.grid,this._nextGridChanged=e.nextState.normalData.spinInfo.spinResult.grid,this._curGameID=this._defaultGameID,this._nextSpinResult=e.nextState.normalData.spinInfo.spinResult}if(e.nextState.freeData){if(e.nextState.freeData.gameId==this._curGameID)return void(this._isChangeGame=!1);if(0==e.nextState.freeData.gameId){if(this._curGameID==this._defaultGameID)return void(this._isChangeGame=!1);this._curGameID=this._defaultGameID}else this._curGameID=e.nextState.freeData.gameId;this._nextGrid=e.nextState.freeData.spinInfo.spinResult.grid,this._nextGridChanged=e.nextState.freeData.spinInfo.spinResult.gridChanged,this._nextSpinResult=e.nextState.freeData.spinInfo.spinResult}}else this._isChangeGame=!1},e.prototype.resume=function(e,t){void 0===t&&(t=!1),this._enabled&&(e.normalData&&(this._normalGrid=e.normalData.spinInfo.spinResult.grid,this._normalGridChanged=e.normalData.spinInfo.spinResult.gridChanged,e.freeData||null==this._curGameID||this._curGameID==this._defaultGameID||(t&&(o.default.instance.rollingResult.spinResult.grid=[].concat(this._nextGrid),o.default.instance.rollingResult.spinResult.gridChanged=[].concat(this._nextGridChanged)),this._nextGrid=this._normalGrid,this._nextGridChanged=this._normalGridChanged,this._isChangeGame=!0),this._curGameID=this._defaultGameID),e.freeData&&(0!=e.freeData.gameId&&(this._curGameID!=e.freeData.gameId&&(this._isChangeGame=!0),this._curGameID=e.freeData.gameId),this._nextGrid=e.freeData.spinInfo.spinResult.grid,this._nextGridChanged=e.freeData.spinInfo.spinResult.gridChanged))},e._instance=null,e}();n.default=a,cc._RF.pop()},{"./SlotConfigManager":"SlotConfigManager","./SpinManager":"SpinManager"}],MyButton:[function(e,t,n){"use strict";cc._RF.push(t,"7d694bBCHJHoawIRglwogNn","MyButton");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.IMaterialType=void 0;var r,s=e("./MyGrayMaterial"),l=cc._decorator,c=l.ccclass,u=(l.property,l.inspector),p=l.requireComponent;(function(e){e[e.GRAY=1]="GRAY",e[e.NORMAL=2]="NORMAL"})(r=n.IMaterialType||(n.IMaterialType={})),cc.Enum({NONE:0,COLOR:1,SPRITE:2,SCALE:3});var h=cc.Enum({NORMAL:0,HOVER:1,PRESSED:2,DISABLED:3}),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._myGrayMaterial=null,t}return o(t,e),t.prototype._updateDisabledState=function(){this.enableAutoGrayEffect&&this.grayAllChildren(this.node,this.interactable?r.NORMAL:r.GRAY)},t.prototype._applyTransition=function(t){e.prototype._applyTransition.call(this,t),this.changeMaterial(t)},t.prototype.changeMaterial=function(e){e==h.PRESSED?this.grayAllChildren(this.node,r.GRAY):this.grayAllChildren(this.node,r.NORMAL)},t.prototype.grayAllChildren=function(e,t){var n=e.getComponentsInChildren(cc.RenderComponent),i=null,o=e._IgrayMaterial,a=e._InormalMaterial,l=n[0];(l.node.getComponent(cc.Sprite)||l.node.getComponent(cc.Label))&&(t==r.GRAY?((i=o)||(i=this.node.getComponent(s.default).myGrayMaterial||cc.Material.getBuiltinMaterial("2d-gray-sprite")),i=o=cc.MaterialVariant.create(i,l)):((i=a)||(i=cc.Material.getBuiltinMaterial("2d-sprite")),i=a=cc.MaterialVariant.create(i,l)),l.setMaterial(0,i))},a([c,u("packages://inspector/inspectors/comps/button.js"),p(s.default)],t)}(cc.Button);n.default=d,cc._RF.pop()},{"./MyGrayMaterial":"MyGrayMaterial"}],MyGrayMaterial:[function(e,t,n){"use strict";cc._RF.push(t,"d1d2coX8KFCjosNAKg29nas","MyGrayMaterial");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.myGrayMaterial=null,t}return o(t,e),a([l(cc.Material)],t.prototype,"myGrayMaterial",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],NetSlotConst:[function(e,t,n){"use strict";cc._RF.push(t,"c0ae5HhM3pL+ZsObNfzvxrb","NetSlotConst"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.RESTORERESP="RESTORERESP",e.SPINRESP="SPINRESP",e.LGDATARESP="LGDATARESP",e.LGACTIONRESP="LGACTIONRESP",e.LEAVEROOMPUSH="LEAVEROOMPUSH",e.ENTERROOMPUSH="ENTERROOMPUSH",e.ACTIONSTOPPUSH="ACTIONSTOPPUSH",e.USERINFOPUSH="USERINFOPUSH",e.USERINFO_PUSH="USERINFO_PUSH",e.BUYFREESPINRESP="BUYFREESPINRESP",e.BUYFREEDATARESP="BUYFREEDATARESP",e.CHANGECOSTRESP="CHANGECOSTRESP",e.WINAMOUNTRANKRESP="WINAMOUNTRANKRESP",e.CHANGEBETSTATERESP="CHANGEBETSTATERESP",e.COLLECTCHOOSERESP="COLLECTCHOOSERESP",e.CHOOSECOLLECTTASKESP="CHOOSECOLLECTTASKESP",e}();n.default=i,cc._RF.pop()},{}],NodePool:[function(e,t,n){"use strict";cc._RF.push(t,"e7009k4vmJAyoKVmqV6nIwT","NodePool"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.put=function(t,n){e._list[t]||(e._list[t]=[]),e._list[t].push(n)},e.get=function(t){if(e._list[t]){var n=e._list[t];if(n.length>0)return n.shift()}return null},e.clear=function(t){if(e._list[t]){for(var n=e._list[t],i=n.length-1;i>=0;i--)n[i].destroy();e._list[t]=null,delete e._list[t]}},e.clearAll=function(){for(var t in e._list){for(var n=e._list[t],i=n.length-1;i>=0;i--){var o=n[i];o.destroy(),o=void 0}e._list[t]=void 0,delete e._list[t]}},e._list={},e}();n.default=i,cc._RF.pop()},{}],ObjectPool:[function(e,t,n){"use strict";cc._RF.push(t,"7fcc2Q193dEKKy9iP9KV+yQ","ObjectPool"),Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.put=function(t,n){e._list[t]||(e._list[t]=[]),e._list[t].push(n)},e.get=function(t){if(e._list[t]){var n=e._list[t];if(n.length>0)return n.shift()}return null},e.clear=function(t){if(e._list[t]){for(var n=e._list[t],i=n.length-1;i>=0;i--)n[i]=null;e._list[t]=null,delete e._list[t]}},e.clearAll=function(){for(var t in e._list){for(var n=e._list[t],i=n.length-1;i>=0;i--)n[i]=null;e._list[t]=null,delete e._list[t]}},e._list={},e}();n.default=i,cc._RF.pop()},{}],OtherBetType:[function(e,t,n){"use strict";cc._RF.push(t,"34ea8DLjm1GKqsjd9wp6KBg","OtherBetType");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/script/CommonConst"),s=e("../main/BaseView"),l=e("../network/NetSlotConst"),c=e("../network/SlotProtoManager"),u=e("../slotMachine/script/SlotConfigs/GameEventNames"),p=e("../slotMachine/script/SlotManager/BonusGameManager"),h=e("../slotMachine/script/SlotManager/FreeGameManager"),d=e("../slotMachine/script/SlotManager/SpinManager"),f=e("../slotMachine/script/SlotUtils/SlotUtils"),m=cc._decorator,g=m.ccclass,_=m.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openBtn=null,t.doubleNum=null,t.isClickBn=!1,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.resize(),this.initBtn(),this.openBtn.on("click",this.onClickOpen,this),game.EventManager.getInstance().addEventListener(l.default.RESTORERESP,this.restoreResp,this),game.EventManager.getInstance().addEventListener(l.default.CHANGEBETSTATERESP,this.changeBetStateResp,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_LINE_COST_CHANGED,this.updateBetScore,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_BUY_FREE_EXPAND,this.buyFreeExpand,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this.buyFreeExpand,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_START_ROLLING,this.startRolling,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_SHOW_LINE_OVER,this.showLineOver,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_AUTO_STATE_CHANGED,this.changeAuto,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED,this.onResourceLoaded,this),game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_NO_MONEY_UPDATE_OTHER_BET_BTN,this.onNoMoneyUpdateBtn,this)},t.prototype.onResourceLoaded=function(){d.default.instance&&d.default.instance.betStateType&&this.restoreResp()},t.prototype.restoreResp=function(){this.doubleNum&&(this.doubleNum.string=f.default.formatNumber(d.default.instance.betCost)),this.updateBtnState(d.default.instance.betStateType.betState)},t.prototype.initBtn=function(){h.default.instance.hasFreeGame||h.default.instance.isTreateNewFree||p.default.instance.isTreateNewBonus||p.default.instance.hasBonusGame||!d.default.instance.isSlotMachineStopped?this.node.active=!1:this.node.active=!0,d.default.instance&&d.default.instance.betStateType&&this.restoreResp()},t.prototype.setOpacity=function(e){e?(this.openBtn.getComponent(cc.Button).interactable=!0,this.node.opacity=255):(this.openBtn.getComponent(cc.Button).interactable=!1,this.node.opacity=170)},t.prototype.startRolling=function(){this.setOpacity(!1)},t.prototype.showLineOver=function(){h.default.instance.hasFreeGame||h.default.instance.isTreateNewFree||p.default.instance.isTreateNewBonus||p.default.instance.hasBonusGame?this.node.active=!1:(this.node.active=!0,d.default.instance.isInAuto?this.setOpacity(!1):this.setOpacity(!0))},t.prototype.buyFreeExpand=function(){this.node.active=!1},t.prototype.changeBetStateResp=function(e,t){cc.Tween.stopAllByTarget(this),this.isClickBn=!1,game.EventManager.getInstance().raiseEvent(r.CommonEventNames.EVENT_BUY_FREE_BTN_STATE_FROM_EXTRA_BTN,!t.betStateType.betState),this.updateBtnState(t.betStateType.betState),d.default.instance.spinTouchEnable=!0},t.prototype.updateBtnState=function(){},t.prototype.updateBetScore=function(){d.default.instance.betCost>0&&this.doubleNum&&(this.doubleNum.string=f.default.formatNumber(d.default.instance.betCost))},t.prototype.onClickOpen=function(){var e=this;if(!this.isClickBn){d.default.instance.spinTouchEnable=!1;var t=d.default.instance.betState?0:1;game.EventManager.getInstance().raiseEvent(r.CommonEventNames.EVENT_BUY_FREE_BTN_STATE_FROM_EXTRA_BTN,!1),this.isClickBn=!0,c.default.getInstance().changeBetStateReq(t),cc.tween(this).delay(3).call(function(){game.EventManager.getInstance().raiseEvent(r.CommonEventNames.EVENT_BUY_FREE_BTN_STATE_FROM_EXTRA_BTN,!d.default.instance.betState),e.isClickBn=!1,d.default.instance.spinTouchEnable=!0}).start()}},t.prototype.changeAuto=function(){var e=d.default.instance.inGame,t=d.default.instance.isInAuto,n=d.default.instance.isSlotMachineStopped;t||!n||e||h.default.instance.hasFreeGame||h.default.instance.isTreateNewFree||p.default.instance.hasBonusGame||(this.node.active=!0,this.setOpacity(!0))},t.prototype.onNoMoneyUpdateBtn=function(){this.showLineOver()},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this),this.openBtn.off("click",this.onClickOpen,this),game.EventManager.getInstance().removeEventListener(l.default.CHANGEBETSTATERESP,this.changeBetStateResp,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_LINE_COST_CHANGED,this.updateBetScore,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_BUY_FREE_EXPAND,this.buyFreeExpand,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_BONUS_GAME_TRIGGERED,this.buyFreeExpand,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_START_ROLLING,this.startRolling,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_SHOW_LINE_OVER,this.showLineOver,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_AUTO_STATE_CHANGED,this.changeAuto,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED,this.onResourceLoaded,this),game.EventManager.getInstance().removeEventListener(u.GameEventNames.EVENT_NO_MONEY_UPDATE_OTHER_BET_BTN,this.onNoMoneyUpdateBtn,this)},a([_(cc.Node)],t.prototype,"openBtn",void 0),a([_(cc.Label)],t.prototype,"doubleNum",void 0),a([g],t)}(s.default);n.default=y,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../main/BaseView":"BaseView","../network/NetSlotConst":"NetSlotConst","../network/SlotProtoManager":"SlotProtoManager","../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../slotMachine/script/SlotManager/SpinManager":"SpinManager","../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],ParticleSystemSpriteFramesRefresh:[function(e,t,n){"use strict";cc._RF.push(t,"bde64hFKoxONIqVhT4NYF9j","ParticleSystemSpriteFramesRefresh");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.atlas=null,t.aniFps=15,t.ps=null,t.index=0,t.count=0,t.spriteArray=[],t}return o(t,e),t.prototype.onLoad=function(){this.ps||(this.ps=this.node.getComponent(cc.ParticleSystem)),this.spriteArray=this.atlas.getSpriteFrames(),this.count=this.spriteArray.length,this.schedule(this.refreshSprite,1/this.aniFps,cc.macro.REPEAT_FOREVER)},t.prototype.refreshSprite=function(){this.index>=this.count&&(this.index=0),this.ps.spriteFrame=this.spriteArray[this.index],this.index++},a([l({type:cc.SpriteAtlas,tooltip:"\u56fe\u96c6\u8d44\u6e90"})],t.prototype,"atlas",void 0),a([l({type:cc.Integer,tooltip:"\u6bcf\u79d2\u66ff\u6362\u7c92\u5b50\u8d34\u56fe\u591a\u5c11\u6b21"})],t.prototype,"aniFps",void 0),a([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{}],PlayBtnBase:[function(e,t,n){"use strict";cc._RF.push(t,"993f5nrtkJN0p0dPaQT6vBN","PlayBtnBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/main/BaseView"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctlBtn=null,t.ctlBtn_rotate=null,t.ctlBtn_stop=null,t.ctlBtn_label=null,t.ctlBtn_sprite=null,t.touchEffectNode=null,t.rotate=null,t}return o(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},a([c({type:cc.Node,tooltip:"\u5f00\u542f/\u505c\u6b62\u6309\u94ae"})],t.prototype,"ctlBtn",void 0),a([c({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u8f6c\u52a8\u7279\u6548\u8282\u70b9"})],t.prototype,"ctlBtn_rotate",void 0),a([c({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u6eda\u52a8\u65f6\u4e2d\u95f4\u663e\u793a\u7684\u56fe\u7247"})],t.prototype,"ctlBtn_stop",void 0),a([c({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u5269\u4f59\u6b21\u6570\u663e\u793a\u7684label"})],t.prototype,"ctlBtn_label",void 0),a([c({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u5269\u4f59\u6b21\u6570\u663e\u793a\u7684sprite"})],t.prototype,"ctlBtn_sprite",void 0),a([c({type:cc.Node,tooltip:"\u63a7\u5236\u6309\u94ae \u6302\u8f7d\u89e6\u6478\u7279\u6548\u7684\u8282\u70b9"})],t.prototype,"touchEffectNode",void 0),a([c({type:cc.Node,tooltip:"\u65cb\u8f6c\u56fe\u7247\u8282\u70b9"})],t.prototype,"rotate",void 0),a([l],t)}(r.default);n.default=u,cc._RF.pop()},{"../../slot_common/main/BaseView":"BaseView"}],PlayerManager:[function(e,t,n){"use strict";cc._RF.push(t,"5ffe1rGSfRKjYodY15zUrsq","PlayerManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotConfigs/GameEventNames"),o=e("../../../network/NetSlotConst"),a=function(){function e(){this._isNew=!1,this._guideStep=0,this._userInfoUpdata=null}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNew",{get:function(){return this._isNew},set:function(e){this._isNew=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"guideStep",{get:function(){return this._guideStep},set:function(e){this._guideStep=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userInfo",{get:function(){return core.CommonProto.getInstance().userinfo},enumerable:!1,configurable:!0}),e.prototype.init=function(){this._readlyCoin&&this._readlyCoin===this._showingCoin||(this._readlyCoin=this._showingCoin=this.userInfo.scores.toNumber()),game.EventManager.getInstance().addEventListener(o.default.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_updateUserInfo,this.updateAllScore,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netupdateUserInfoPush,this.updateUserInfoPush,this),game.EventManager.getInstance().addEventListener(o.default.USERINFO_PUSH,this.userInfoPush,this)},e.prototype.dispose=function(){this._showingCoin=0,game.EventManager.getInstance().removeEventListener(o.default.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_updateUserInfo,this.updateAllScore,this),game.EventManager.getInstance().removeEventListener(core.GameCoreConst.mess_netupdateUserInfoPush,this.updateUserInfoPush,this),game.EventManager.getInstance().removeEventListener(o.default.USERINFO_PUSH,this.userInfoPush,this)},e.prototype.userInfoPush=function(e,t){console.log("userinfopush",t),this._userInfoUpdata=t},Object.defineProperty(e.prototype,"userInfoUpdata",{get:function(){return this._showingCoin=this._userInfoUpdata.userInfo.balance,this._readlyCoin=this._userInfoUpdata.userInfo.balance,this._userInfoUpdata},enumerable:!1,configurable:!0}),e.prototype.updateUserInfoPush=function(e,t){console.log("updateUserInfoPush",t),Number(core.CommonProto.getInstance().userinfo.userId),Number(t.userInfo.userId)},e.prototype._onRollingResp=function(e,t){this._lastCoin=this._readlyCoin,this._readlyCoin=t.balance.toNumber()},e.prototype.deductMoney=function(e){this._showingCoin-e>=0&&(this._showingCoin-=e)},e.prototype.updateAllScore=function(e,t,n){n?(this._showingCoin=this._showingCoin+n,this._readlyCoin=t):this._readlyCoin=this._showingCoin=void 0===t?this.userInfo.scores.toNumber():t,game.EventManager.getInstance().raiseEvent(i.GameEventNames.EVENT_SLOT_REFSH_BALANCE)},e.prototype.syncShowingCoin=function(e){this._showingCoin=e||this._readlyCoin},e.prototype.updateRealCoin=function(e){this._readlyCoin=e},Object.defineProperty(e.prototype,"showCoin",{get:function(){return this._showingCoin},enumerable:!1,configurable:!0}),e.prototype.onBalancePush=function(e){this._readlyCoin+=e,this.syncShowingCoin(),game.EventManager.getInstance().raiseEvent(i.GameEventNames.EVENT_PUB_CHIPS_PUSH)},Object.defineProperty(e.prototype,"lastCoin",{get:function(){return this._lastCoin},enumerable:!1,configurable:!0}),e._instance=null,e}();n.default=a,cc._RF.pop()},{"../../../network/NetSlotConst":"NetSlotConst","../SlotConfigs/GameEventNames":"GameEventNames"}],Property:[function(e,t,n){"use strict";cc._RF.push(t,"fb43aJCLk9M1JMqV8On3lof","Property"),Object.defineProperty(n,"__esModule",{value:!0}),n.Property=void 0;var i=e("./GData"),o=function(){function e(){}return e.setSpriteProperty=function(e,t,n,o){var a=this;if(n||(n=i.GData.bundleName),t){var r="@Property"+game.ResLoader.getInstance().nextUseKey();t.atlas?game.ResLoader.getInstance().loadRes(t.atlas,cc.SpriteAtlas,null,function(n,i){if(n)return n;e.spriteFrame=i.getSpriteFrame(t.spriteFrame),o&&o.call(a,e)},n,r):t.spriteFrame&&game.ResLoader.getInstance().loadRes(t.spriteFrame,cc.SpriteFrame,function(t,n){if(t)return t;e.spriteFrame=n,o&&o.call(a,e)},n,r)}},e.setLabelProperty=function(e,t){if(t)for(var n in t)"font"==n?cc.loader.loadRes(t[n],cc.BitmapFont,function(t,n){e.font=n}):null!=e[n]&&(e[n]=t[n])},e.setSpProperty=function(e,t,n,o){if(n||(n=i.GData.bundleName),t){var a="@Property"+game.ResLoader.getInstance().nextUseKey();game.ResLoader.getInstance().loadRes(t.json,sp.SkeletonData,null,function(t,n){t?o&&o(null):(e.skeletonData=n,o&&o(e))},n,a)}},e}();n.Property=o,cc._RF.pop()},{"./GData":"GData"}],RemoteLoading:[function(e,t,n){"use strict";cc._RF.push(t,"52e31P7Db1IFJmXoXha/ewh","RemoteLoading");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/utils/GData"),s=e("../../slot_common/main/BaseView"),l=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),c=e("./CommonConst"),u=cc._decorator,p=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.totoalAssetList=[],t.loadAsetList=[],t}return o(t,e),t.prototype.onLoad=function(){this.totoalAssetList=["main_prefab","cardRes","score","balance","winAni","slotMachine"],game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,this.loadSingleAssetComplte,this),game.EventManager.getInstance().addEventListener(l.GameEventNames.EVENT_LOAD_BONUS_GAME_ASSET_COMPLETE,this.loadBonusAssetComplete,this),game.EventManager.getInstance().addEventListener(c.CommonEventNames.EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING,this.addLoadBonusAssetTask,this),game.EventManager.getInstance().addEventListener(c.CommonEventNames.EVENT_ADD_LOADTASK_ONLOADING,this.addLoadAssetTask,this),this.loadGameRes()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,this.loadSingleAssetComplte,this),game.EventManager.getInstance().removeEventListener(l.GameEventNames.EVENT_LOAD_BONUS_GAME_ASSET_COMPLETE,this.loadBonusAssetComplete,this),game.EventManager.getInstance().removeEventListener(c.CommonEventNames.EVENT_ADD_LOAD_BONUS_ASSET_ONLOADING,this.addLoadBonusAssetTask,this),game.EventManager.getInstance().removeEventListener(c.CommonEventNames.EVENT_ADD_LOADTASK_ONLOADING,this.addLoadAssetTask,this)},t.prototype.loadGameRes=function(){var e=this,t=r.GData.getParameter("main").loading;t.preloadDir&&(this.totoalAssetList.push("preloadDir"),this.loadResDir(t.preloadDir,function(t){t||e.loadSingleAssetComplte("","preloadDir")},r.GData.bundleName)),game.ResLoader.getInstance().loadRes("main",function(t,n){if(!t){var i=cc.instantiate(n);cc.Canvas.instance.node.addChild(i),e.layout(),console.log("\u6dfb\u52a0\u5b50\u6e38\u620f\u5b8c\u6210"),e.loadSingleAssetComplte("","main_prefab")}},"game_"+core.Global.clientGameId,"configkey")},t.prototype.loadSingleAssetComplte=function(e,t){console.log("load",t),this.totoalAssetList.includes(t)&&(this.loadAsetList.push(t),this.updateProgress(this.loadAsetList.length/this.totoalAssetList.length))},t.prototype.loadBonusAssetComplete=function(){this.loadSingleAssetComplte("","bonus")},t.prototype.addLoadAssetTask=function(e,t){this.totoalAssetList.push(t)},t.prototype.addLoadBonusAssetTask=function(){this.totoalAssetList.push("bonus")},t.prototype.updateProgress=function(e){game.EventManager.getInstance().raiseEvent("gameProgress",e),1==e&&this.node.destroy()},a([p],t)}(s.default));n.default=h,cc._RF.pop()},{"../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","./CommonConst":"CommonConst"}],ReplaceFactory:[function(e,t,n){"use strict";cc._RF.push(t,"4c2c1Rd+2NOpqpfs/+KhEmv","ReplaceFactory"),Object.defineProperty(n,"__esModule",{value:!0}),n.ReplaceFactory=void 0;var i=e("../../../slot_common/common/utils/GData"),o=e("../../../slot_common/slotMachine/script/MainView/SlotMachineView"),a=e("../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),r=e("../../../slot_common/slotMachine/script/SlotManager/SpinManager"),s=function(){function e(){}return e.replaceFunction=function(){r.default.instance._checkSpin=function(){if(this._isMoneyEnough())return!0;var t={onlyOKBtn:!0};return t.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),t.tips=game.LanguageManager.getInstance().getDstStr("pg_tips18")+"\n<size=22>("+game.LanguageManager.getInstance().getDstStr("pg_tips17")+")</size>",t.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu09"),t.okCbTarget={},t.okCbTarget.callback=function(){e.btnCallBack()},core.TipsManager.getInstance().showPopupPrompt(t),this.inGame=!0,this.isSlotMachineStopped=!1,game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_START_ROLLING),game.EventManager.getInstance().raiseEvent(a.GameEventNames.MONEY_NOT_ENOUGH_BREAK),!1},game.LanguageType.ZH!=i.GData.curLanguage&&(game.ComUtils.toDecimal2=function(e,t){t=t>=0&&t<=20?t:2;var n=parseFloat(e);if(isNaN(n))return"";var i=n.toString(),o=i.indexOf(".");if(o<0){if(!(t>0))return i;o=i.length,i+="."}for(;i.length<=o+t;)i+="0";return(i=0==t?i.substr(0,i.indexOf(".")):i.substr(0,i.indexOf(".")+t+1)).replace(".",",")},game.ComUtils.formatNumber=function(e,t,n,i,o,a){void 0===t&&(t=2),void 0===n&&(n=100),void 0===i&&(i=!0),void 0===o&&(o=""),void 0===a&&(a="."),o=".",a=",",e instanceof Long&&(e=e.toNumber());var r,s=e<0?"-":"";if(e=Math.abs(e),e/=n,!i)return s+e.toString();for(var l=(r=parseFloat((e+"").replace(/[^\d\.-]/g,""))+"").split(".")[0].split("").reverse(),c=r.split(".")[1],u="",p=0;p<l.length;p++)u+=l[p]+((p+1)%3==0&&p+1!=l.length?o:"");if(t>0){c||(c="");var h=t-c.length;if(h<0)c=c.substring(0,t);else for(p=0;p<h;p++)c+="0"}else c="";return c?s+u.split("").reverse().join("")+a+c:s+u.split("").reverse().join("")})},e.btnCallBack=function(){r.default.instance.makeDefaultDataResp();var e=r.default.instance.rollingResult.spinResult;o.default.instance.scroller.isSkipChangeTask=!0,o.default.instance.scroller.onUpdate(e.gridChanged,e.gridChanged,e.realGridShapeChanged,e.realGridShapeChanged,e.occupyPosListChanged,e.occupyPosListChanged),o.default.instance.scroller.rendersDataReady(),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_MENU_INTERACTABLE),game.EventManager.getInstance().raiseEvent(a.GameEventNames.EVENT_GOLDNOTENOUGH_OKBTN)},e}();n.ReplaceFactory=s,cc._RF.pop()},{"../../../slot_common/common/utils/GData":"GData","../../../slot_common/slotMachine/script/MainView/SlotMachineView":"SlotMachineView","../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager"}],ReplaceSkeletonTex:[function(e,t,n){"use strict";cc._RF.push(t,"98f01s9pKpPJrTE/XLaELyM","ReplaceSkeletonTex");var i=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var o=e("./GData"),a=cc._decorator,r=a.ccclass,s=(a.property,function(){function e(){}return e.replaceNewAniTex=function(e,t,n,i,a){var r=this;void 0===a&&(a=o.GData.bundleName),e.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.REALTIME);var s="@Property"+game.ResLoader.getInstance().nextUseKey();game.ResLoader.getInstance().loadRes(t,cc.Texture2D,null,function(o,a){if(e.enabled=!1,!o){var s=t.split("/");a.name=s[s.length-1],r.changeSkin(e,a)}e.setAnimation(0,n,i),e.enabled=!0},a,s)},e.changeSkin=function(e,t){if(e.attachUtil._skeleton.skin)for(var n=0,i=e.attachUtil._skeleton.skin.attachments;n<i.length;n++){var o=i[n];for(var a in o){var r=o[a];this.updateRegion(r,t)}}if(e.attachUtil._skeleton.slots)for(var s=0;s<e.attachUtil._skeleton.slots.length;s++)r=e.attachUtil._skeleton.slots[s].getAttachment(),this.updateRegion(r,t)},e.updateRegion=function(e,t){if(e instanceof sp.spine.RegionAttachment&&e.region.page.name.split(".")[0]===t.name){var n=new sp.SkeletonTexture;n.setRealTexture(t);var i=new sp.spine.TextureAtlasPage;i.name=t.name,i.uWrap=sp.spine.TextureWrap.ClampToEdge,i.vWrap=sp.spine.TextureWrap.ClampToEdge,i.texture=n,i.texture.setWraps(i.uWrap,i.vWrap),i.width=t.width,i.height=t.height;var o=new sp.spine.TextureAtlasRegion;o.page=i,o.width=t.width,o.height=t.height,o.originalWidth=t.width,o.originalHeight=t.height,o.rotate=e.region.rotate,o.u=e.region.u,o.v=e.region.v,o.u2=e.region.u2,o.v2=e.region.v2,o.texture=n,e.region=o,e.setRegion(o),e.updateOffset()}},i([r],e)}());n.default=s,cc._RF.pop()},{"./GData":"GData"}],RollingResult:[function(e,t,n){"use strict";cc._RF.push(t,"8d821oVpulFJqe7euJkgogl","RollingResult"),Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){},cc._RF.pop()},{}],RotationTip:[function(e,t,n){"use strict";cc._RF.push(t,"629aciMyydIHYJ/5ZrpzfOZ","RotationTip");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/main/BaseView"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icon=null,t}return o(t,e),t.prototype.onLoad=function(){this.resize()},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},t.prototype.layoutLandscape=function(){e.prototype.layoutLandscape&&e.prototype.layoutLandscape.call(this),this.showOrHide()},t.prototype.layoutPortrait=function(){e.prototype.layoutPortrait&&e.prototype.layoutPortrait.call(this),this.showOrHide()},t.prototype.showOrHide=function(){setTimeout(this.delayShowOrHide.bind(this),200),setTimeout(this.delayShowOrHide.bind(this),400),setTimeout(this.delayShowOrHide.bind(this),600)},t.prototype.delayShowOrHide=function(){var e=document.getElementById("Cocos2dGameContainer"),t=parseFloat(e.style.width)>parseFloat(e.style.height);this.node.active=t,t&&(this.icon.scaleX=90==window.orientation?1.9:-1.9)},a([c(cc.Node)],t.prototype,"icon",void 0),a([l],t)}(r.default);n.default=u,cc._RF.pop()},{"../../slot_common/main/BaseView":"BaseView"}],RuleUIAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"2db3dJ+0w5N67XbHgQdT7As","RuleUIAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.RuleUIAnimation=void 0;var r=e("./FadeUIAnimation"),s=cc._decorator,l=s.ccclass,c=(s.property,s.menu,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([l],t)}(r.FadeUIAnimation));n.RuleUIAnimation=c,cc._RF.pop()},{"./FadeUIAnimation":"FadeUIAnimation"}],RuleView:[function(e,t,n){"use strict";cc._RF.push(t,"6cbba8CtfVHirypUyeMPUo4","RuleView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/main/BaseView"),s=e("../../slot_common/common/utils/GData"),l=e("../../main/script/CommonConst"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.content=null,t.scrollView=null,t.closeBtn=null,t.spriteFrames=[],t}return o(t,e),t.prototype.onEnable=function(){},t.prototype.onLoad=function(){var e=this,t=s.GData.getParameter("rule").rule;this.resize();for(var n=t.items,i=[],o=t.title,a=0,r=n;a<r.length;a++){var c=r[a],u=c;if(s.GData.getParameter("main").languages.includes(s.GData.curLanguage))for(u=c.replace("&",s.GData.curLanguage);u.includes("&");)u=u.replace("&",s.GData.curLanguage);else{for(u=c.replace("&",game.LanguageType.EN);u.includes("&");)u=u.replace("&",game.LanguageType.EN);for(o=o.replace("&",game.LanguageType.EN);o.includes("&");)o=o.replace("&",game.LanguageType.EN)}i.push(u)}for(;o.includes("&");)o=o.replace("&",s.GData.curLanguage);game.UIManager.getInstance().open(l.UIID.UI_LOADING_TIP,l.UIID.UI_RULE),this.loadRes(o,cc.SpriteFrame,function(t,n){e.title.spriteFrame=n},s.GData.bundleName);for(var p=function(t){var n=i[t],o=t;h.loadRes(n,cc.SpriteFrame,function(t,n){e.spriteFrames.push({index:o,spriteFrame:n}),i.length==e.spriteFrames.length&&e.initContent()},s.GData.bundleName)},h=this,d=0;d<i.length;d++)p(d)},t.prototype.initContent=function(){var e=this;this.scheduleOnce(function(){e.spriteFrames.sort(function(e,t){return e.index-t.index});for(var t=0,n=e.spriteFrames;t<n.length;t++){var i=n[t],o=new cc.Node;e.content.addChild(o);var a=o.addComponent(cc.Sprite);o.height=i.spriteFrame.getOriginalSize().height,a.spriteFrame=i.spriteFrame}game.UIManager.getInstance().closeByUIID(l.UIID.UI_LOADING_TIP),e.scrollView.scrollToTop(0),e.closeBtn.on("click",e.closePop,e)},.7)},t.prototype.closePop=function(){game.UIManager.getInstance().close(this)},a([p(cc.Sprite)],t.prototype,"title",void 0),a([p(cc.Node)],t.prototype,"content",void 0),a([p(cc.ScrollView)],t.prototype,"scrollView",void 0),a([p({type:cc.Node})],t.prototype,"closeBtn",void 0),a([u],t)}(r.default);n.default=h,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView"}],SDictionary:[function(e,t,n){"use strict";cc._RF.push(t,"04c5bRa+v9FOb5UsT18Yqns","SDictionary"),Object.defineProperty(n,"__esModule",{value:!0}),n.SDictionary=void 0;var i=function(){function e(){this._keys=[],this._values=[]}return e.prototype.set=function(e,t){if(null==this[e])this[e]=t,this._keys.push(e),this._values.push(t);else{var n=this._values.indexOf(t);-1!=n&&(this._values[n]=t),this[e]=t}},e.prototype.get=function(e){return this[e]},e.prototype.remove=function(e){var t=this._keys.indexOf(e,0);this._keys.splice(t,1),this._values.splice(t,1),delete this[e]},Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!1,configurable:!0}),e.prototype.containsKey=function(e){return void 0!==this[e]},e.prototype.clear=function(){for(var e=0;e<this.keys.length;e++)delete this[this.keys[e]];this._keys=[],this._values=[]},e.prototype.toLookup=function(){return this},e}();n.SDictionary=i,cc._RF.pop()},{}],SPopupPrompt:[function(e,t,n){"use strict";cc._RF.push(t,"fda62uz85hNTII5LEFmhj63","SPopupPrompt");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/utils/GData"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentTips=null,t.bgNode=null,t.okBtnOringinalSize=null,t.bgOringinalSize=null,t.titleOringinalPos=null,t.contentOringinalPos=null,t}return o(t,e),t.prototype.onOpen=function(t){for(var n=this,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=i[0],s=cc.Color.WHITE.fromHEX(r.GData.getParameter("main").themeColor);if(a.okCbSprBgColor||(a.okCbSprBgColor=s),a.cancelCbSprBgColor||(a.cancelCbSprBgColor=s),!this.bgOringinalSize&&this.bgNode&&(this.bgOringinalSize=this.bgNode.getContentSize()),!this.titleOringinalPos&&this.titleDes&&(this.titleOringinalPos=this.titleDes.node.getPosition()),!this.contentOringinalPos&&this.contentTips&&(this.contentOringinalPos=this.contentTips.node.getPosition()),console.log("condition",a),a.triggerConditionType)switch(Number(a.triggerConditionType)){case core.EPopupPromptType.enterGameFailed:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips02"),a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips04"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!1,a.cancelCbTarget={},a.cancelCbTarget.callback=function(){window.location.reload()},a.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()};break;case core.EPopupPromptType.goBackToGameHall:a.title=game.LanguageManager.getInstance().getDstStr("pg-menu11"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips12"),a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu10"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg-menu13"),a.onlyOKBtn=!0,a.cancelCbTarget={},a.cancelCbTarget.callback=function(){core.CommonProto.getInstance().backPage()};break;case core.EPopupPromptType.kickedOut:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips06")+"\n<size=22>("+game.LanguageManager.getInstance().getDstStr("pg_tips07")+")</size>",a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips14"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!1,a.cancelCbTarget={},a.cancelCbTarget.callback=function(){window.location.reload()},a.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()};break;case core.EPopupPromptType.loginFailed:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips09"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips02"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips04"),a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!0;break;case core.EPopupPromptType.netClosed:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips02")+"\n<size=22>("+game.LanguageManager.getInstance().getDstStr("pg_tips07")+")</size>",a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips04"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!1,a.cancelCbTarget={},a.cancelCbTarget.callback=function(){window.location.reload()},a.okCbTarget={},a.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()};break;case core.EPopupPromptType.otherLogin:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips06")+"\n<size=22>("+game.LanguageManager.getInstance().getDstStr("pg_tips07")+")</size>",a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips14"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!1,a.cancelCbTarget={},a.cancelCbTarget.callback=function(){window.location.reload()},a.okCbTarget={},a.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()};break;case core.EPopupPromptType.serverStop:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips06"),a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips14"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!0,a.cancelCbTarget={},a.cancelCbTarget.callback=function(){window.location.reload()},a.okCbTarget={},a.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()};break;case core.EPopupPromptType.tokenExpired:a.title=game.LanguageManager.getInstance().getDstStr("pg_tips01"),a.tips=game.LanguageManager.getInstance().getDstStr("pg_tips06"),a.cancelCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips14"),a.okCbSprFrame=game.LanguageManager.getInstance().getDstStr("pg_tips05"),a.onlyOKBtn=!0,a.cancelCbTarget=a.okCbTarget,a.okCbTarget={},a.okCbTarget.callback=function(){core.CommonProto.getInstance().backPage()}}this.node.scale=1,e.prototype.onOpen.call(this,t,a),this.btnOK.color=a.okCbSprBgColor,this.btnCancel.color=a.cancelCbSprBgColor,this.contentTips&&(this.contentTips.string=a.tips),a.onlyOKBtn?(this.okBtnOringinalSize||(this.okBtnOringinalSize=this.btnOK.getContentSize()),this.btnOK.setContentSize(2*this.okBtnOringinalSize.width,this.okBtnOringinalSize.height),this.btnCancel.active=!1,this.btnOK.x=0):(this.okBtnOringinalSize=this.btnOK.getContentSize(),this.okBtnOringinalSize.width>236&&this.btnOK.setContentSize(236,this.okBtnOringinalSize.height),this.btnCancel.active=!0,this.btnOK.x=127),cc.tween(this.node).to(.1,{scale:1.1}).to(.1,{scale:1}).start(),this.scheduleOnce(function(){if(n.bgNode&&n.contentTips){var e=(Math.floor(n.contentTips.node.height/n.contentTips.lineHeight)-3)*n.contentTips.lineHeight;n.bgNode.height=n.bgOringinalSize.height+e,n.contentTips.node.y=n.contentOringinalPos.y+e/2,n.titleDes.node.y=n.titleOringinalPos.y+e}n.bgNode&&n.titleDes&&(e=(Math.floor(n.titleDes.node.height/n.titleDes.lineHeight)-1)*n.titleDes.lineHeight,n.bgNode.height=n.bgNode.height+e,n.titleDes.node.y=n.titleDes.node.y+e/2)},0)},a([c(cc.RichText)],t.prototype,"contentTips",void 0),a([c(cc.Node)],t.prototype,"bgNode",void 0),a([l],t)}(core.PopupPrompt);n.default=u,cc._RF.pop()},{"../../slot_common/common/utils/GData":"GData"}],ScoreBalance:[function(e,t,n){"use strict";cc._RF.push(t,"4ddeezFQ59INbtlkAX0vqCn","ScoreBalance");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/script/CommonConst"),s=e("../../slot_common/common/utils/GData"),l=e("../../slot_common/main/BaseView"),c=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),u=e("../../slot_common/slotMachine/script/SlotManager/PlayerManager"),p=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nodes=[],t.closeBtn=null,t.balanceLabel=null,t.item=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.active=!1},t.prototype.onOpen=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];game.UIManager.getInstance().open(r.UIID.UI_LOADING_TIP,r.UIID.UI_BALANCE),this.item.active=!1;for(var o=s.GData.getParameter("main").themeColor,a=0,l=this.nodes;a<l.length;a++){var c=l[a];c.color=cc.Color.WHITE.fromHEX(o)}this.scheduleOnce(function(){t.closeBtn.on("click",t.popDown,t),game.UIManager.getInstance().closeByUIID(r.UIID.UI_LOADING_TIP),t.item.active=!0},.7)},t.prototype.onEnable=function(){this.balanceLabel.string=p.default.formatNumber(Number(u.default.instance.showCoin),2,100,!0)},t.prototype.popDown=function(){game.UIManager.getInstance().closeByUIID(r.UIID.UI_BALANCE)},t.prototype.onClose=function(){e.prototype.onClose.call(this),game.UIManager.getInstance().closeByUIID(r.UIID.UI_LOADING_TIP),game.EventManager.getInstance().raiseEvent(c.GameEventNames.EVENT_CLOSE_SCORE_BALANCE_VIEW,r.UIID.UI_BALANCE)},a([f(cc.Node)],t.prototype,"nodes",void 0),a([f(cc.Node)],t.prototype,"closeBtn",void 0),a([f(cc.Label)],t.prototype,"balanceLabel",void 0),a([f(cc.Node)],t.prototype,"item",void 0),a([d],t)}(l.default);n.default=m,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],ScoreBase:[function(e,t,n){"use strict";cc._RF.push(t,"21df01/cixCGoE8Ukz6GxnG","ScoreBase");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../gameControl/script/GameControlBase"),s=e("../../main/script/CommonConst"),l=e("../../slot_common/autoTest/SlotAutoTestConf"),c=e("../../slot_common/common/enum/CommonEnum"),u=e("../../slot_common/common/utils/GData"),p=e("../../slot_common/main/BaseView"),h=e("../../slot_common/network/NetSlotConst"),d=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),f=e("../../slot_common/slotMachine/script/SlotDefinitions/SlotEnum"),m=e("../../slot_common/slotMachine/script/SlotManager/BonusGameManager"),g=e("../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),_=e("../../slot_common/slotMachine/script/SlotManager/PlayerManager"),y=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),T=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),S=e("../../slot_common/sound/script/SoundMger"),E=e("../../util/UIBtnClickCtr"),v=cc._decorator,C=v.ccclass,b=v.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winScore=null,t.allScore=null,t.betScore=null,t.winScoreBtn=null,t.balanceBtn=null,t.betScoreBtn=null,t._totalWin=0,t.isPlayNormalEff=!0,t.isRetainWinNum=!1,t._allScoreNum=0,t._winScoreNum=0,t.allScoreTween=null,t.nodes=[],t.p_arrNodeBg=[],t.scoreColor="#FFFFFF",t.settingStyle=1,t.winScoreTween=null,t._delayCbTime=.5,t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalWin",{get:function(){return this._totalWin},set:function(e){this._totalWin=e,game.EventManager.getInstance().raiseEvent(s.CommonEventNames.EVENT_WINSCORE_CHANGE,e)},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.onEnables(),n._instance=this,E.default.registerBtnClickCb(this.balanceBtn,this.onBalanceBtnClick,this),E.default.registerBtnClickCb(this.winScoreBtn,this.onWinScoreBtnClick,this),E.default.registerBtnClickCb(this.betScoreBtn,this.onBetScoreBtnClick,this);for(var e=u.GData.getParameter("main").themeColor,t=0,i=this.nodes;t<i.length;t++)i[t].color=cc.Color.WHITE.fromHEX(e);if(T.default.addFadeButtonClickEffect(this.balanceBtn,this.winScoreBtn,this.betScoreBtn),u.GData.getParameter("main")&&u.GData.getParameter("main").scoreColor&&(this.scoreColor=u.GData.getParameter("main").scoreColor),1==u.GData.getParameter("main").settingStyle?this.settingStyle=1:this.settingStyle=2,u.GData.getParameter("main").scoreBgOpacity)for(var o=0,a=this.p_arrNodeBg;o<a.length;o++)a[o].opacity=u.GData.getParameter("main").scoreBgOpacity;1==u.GData.getParameter("main").settingStyle&&(this.winScore.node.color=cc.Color.WHITE.fromHEX(this.scoreColor),this.allScore.node.color=cc.Color.WHITE.fromHEX(this.scoreColor)),this.betScore&&(this.betScore.node.color=cc.Color.WHITE.fromHEX(this.scoreColor));var r=u.GData.getParameter("layout").score;this.node.x=r.x||0,this.node.y=r.y||0},t.prototype.onBalanceBtnClick=function(){g.default.instance.hasFreeGame||r.default.instance.ctlBtnState==r.ctlBtn_status.AUTO||(game.UIManager.getInstance().open(s.UIID.UI_BALANCE),S.SoundMger.instance.playEffect(c.SOUND_NAME.Currency_Button)),game.EventManager.getInstance().raiseEvent(s.CommonEventNames.EVENT_CLOSE_MENU)},t.prototype.onWinScoreBtnClick=function(){S.SoundMger.instance.playEffect(c.SOUND_NAME.Currency_Button),core.CommonProto.getInstance().isNormal&&game.UIManager.getInstance().open(core.COREUIID.UI_GAME_RECORD),game.EventManager.getInstance().raiseEvent(s.CommonEventNames.EVENT_CLOSE_MENU)},t.prototype.onBetScoreBtnClick=function(){if(game.EventManager.getInstance().raiseEvent(s.CommonEventNames.EVENT_CLOSE_CHANGE_COST_TIP),!g.default.instance.hasFreeGame&&r.default.instance.ctlBtnState!=r.ctlBtn_status.AUTO){var e=s.UIID["UI_BET_TYPE_"+u.GData.getParameter("main").settingStyle];game.UIManager.getInstance().open(e),S.SoundMger.instance.playEffect(c.SOUND_NAME.Currency_Button)}game.EventManager.getInstance().raiseEvent(s.CommonEventNames.EVENT_CLOSE_MENU)},t.prototype.reenterRoom=function(){},t.prototype.onEnables=function(){console.log("add eveve"),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED,this.initScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_SHOW_LINE_OVER,this.onShowLineOver,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_LINE_COST_CHANGED,this.updateBetScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_PUB_CHIPS_PUSH,this.updateAllScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_SLOT_MONEY_SHOW,this.updateAllScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_SLOT_REFSH_BALANCE,this.updateAllScore,this),game.EventManager.getInstance().addEventListener(h.default.SPINRESP,this.updateAllScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_START_ROLLING,this.startRoller,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.reenterRoom,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinNum,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_SET_WINSCORE_RETAIN,this.updateWinScoreRetain,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,this.forUpdateAllScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,this.forUpdateWinScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_FORCE_UPDATE_BETSCORE,this.forceUpdateBetScore,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_UPDATE_SCORE_POSITION,this.updateSocrePosition,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_BALANCE_SPRITE_SET_OPACITY,this.setBalanceSpriteOpacity,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_SLOT_RUN_STOPPED,this.onSlotMachineStopped,this),game.EventManager.getInstance().addEventListener(h.default.BUYFREESPINRESP,this.buyFreeResp,this),this.allScore&&core.AutoTest.getInstance().setAutoTestData(l.SlotAutoTestKey.SLOT_LAB_SCORE_TOTAL,{target:this.allScore.node}),this.winScore&&core.AutoTest.getInstance().setAutoTestData(l.SlotAutoTestKey.SLOT_LAB_SCORE_WIN,{target:this.winScore.node}),this.betScore&&core.AutoTest.getInstance().setAutoTestData(l.SlotAutoTestKey.SLOT_LAB_SCORE_BET,{target:this.betScore.node})},t.prototype.initScore=function(){this.updateAllScore(),this.updateBetScore(),this.updateWinScore()},t.prototype.buyFreeResp=function(){this.balanceBtn&&(this.balanceBtn.getComponent(cc.Button).interactable=!1),this.winScoreBtn&&(this.winScoreBtn.getComponent(cc.Button).interactable=!1),this.betScoreBtn&&(this.betScoreBtn.getComponent(cc.Button).interactable=!1),r.default.instance.hideChangeCostTip(!1)},t.prototype.onSlotMachineStopped=function(){(g.default.instance.hasFreeGame||m.default.instance.hasBonusGame)&&(this.balanceBtn&&(this.balanceBtn.getComponent(cc.Button).interactable=!1),this.winScoreBtn&&(this.winScoreBtn.getComponent(cc.Button).interactable=!1),this.betScoreBtn&&(this.betScoreBtn.getComponent(cc.Button).interactable=!1))},t.prototype.onShowLineOver=function(){!g.default.instance.hasFreeGame&&r.default.instance&&r.default.instance.ctlBtnState!=r.ctlBtn_status.AUTO&&(this.balanceBtn&&(this.balanceBtn.getComponent(cc.Button).interactable=!0),this.winScoreBtn&&(this.winScoreBtn.getComponent(cc.Button).interactable=!0),this.betScoreBtn&&(this.betScoreBtn.getComponent(cc.Button).interactable=!0),1==u.GData.getParameter("main").settingStyle&&(this.winScore.node.color=cc.Color.WHITE.fromHEX(this.scoreColor),this.allScore.node.color=cc.Color.WHITE.fromHEX(this.scoreColor)),this.betScore&&(this.betScore.node.color=cc.Color.WHITE.fromHEX(this.scoreColor)))},Object.defineProperty(t.prototype,"allScoreNum",{get:function(){return this._allScoreNum},set:function(e){this._allScoreNum=e,this.allScore.string=T.default.formatNumber(e,2,100,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"winScoreNum",{get:function(){return this._winScoreNum},set:function(e){this._winScoreNum=e,this.winScore.string=T.default.formatNumber(e,2,100,!0)},enumerable:!1,configurable:!0}),t.prototype.updateWinScore=function(){this.winScore.string=T.default.formatNumber(this.totalWin,2,100,!0)},t.prototype.updateAllScore=function(){this.allScoreTween&&(this.allScoreTween.stop(),this.allScoreTween=null),this.allScoreNum=_.default.instance.showCoin,this.allScore.string=T.default.formatNumber(Number(_.default.instance.showCoin),2,100,!0)},t.prototype.forUpdateAllScore=function(e,t){var n=t||_.default.instance.showCoin;this.allScoreTween&&this.allScoreTween.stop(),this.allScoreTween=cc.tween(this).to(.3,{allScoreNum:n}).start()},t.prototype.updateBetScore=function(e,t){this.betScore&&(this.betScore.string=T.default.formatNumber(y.default.instance.betCost,2,100,!0)),this.betScore&&t&&(cc.Tween.stopAllByTag(1),t&&cc.tween(this.betScore.node).to(.1,{scale:1.5}).to(.1,{scale:1}).to(.1,{scale:1.1}).to(.1,{scale:1}).tag(1).start(),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_BET_COST_CHANGED))},t.prototype.updateSocrePosition=function(e,t){this.node.setPosition(t)},t.prototype.forceUpdateBetScore=function(e,t){t=t||y.default.instance.betCost,this.betScore&&(this.betScore.string=T.default.formatNumber(t,2,100,!0))},t.prototype.forUpdateWinScore=function(e,t){this.totalWin=t,this.winScore.string=T.default.formatNumber(t,2,100,!0)},t.prototype.updateWinNum=function(e,t,n,i,o,a,r){void 0===n&&(n=!1),void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===r&&(r=!1),this.isRetainWinNum=n,this.complete=a,i&&0==t||!i&&this.totalWin,this.totalWin=i?this.totalWin+t:t,this.winScoreTween&&this.winScoreTween.stop(),0!=this.totalWin?this.winScoreTween=cc.tween(this).to(.3,{winScoreNum:this.totalWin}).start():this.winScoreNum=0,this.totalWin>y.default.instance.betCost&&game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_WIN_MORE_THAN_BET),T.default.getWinType(y.default.instance.totalWin,y.default.instance.betCost)==f.WinType.Normal?(S.SoundMger.instance.playEffect(c.SOUND_NAME.Prize_Normal),this.scheduleOnce(function(){a&&a.run()},this.normalWinDelayCbTime)):a&&a.run(),o&&(this.isRetainWinNum=!1,this.totalWin=0),r&&(this.allScoreTween&&this.allScoreTween.stop(),this.allScoreTween=cc.tween(this).to(.3,{allScoreNum:_.default.instance.showCoin}).start())},t.prototype.updateWinScoreRetain=function(e,t,n){this.isRetainWinNum=t,n&&n.run()},t.prototype.startRoller=function(){this.resWin(),this.balanceBtn&&(this.balanceBtn.getComponent(cc.Button).interactable=!1),this.winScoreBtn&&(this.winScoreBtn.getComponent(cc.Button).interactable=!1),this.betScoreBtn&&(this.betScoreBtn.getComponent(cc.Button).interactable=!1),console.log("onstart roller"),1==u.GData.getParameter("main").settingStyle&&(this.winScore.node.color=cc.Color.WHITE,this.allScore.node.color=cc.Color.WHITE),this.betScore&&(this.betScore.node.color=cc.Color.WHITE)},t.prototype.resWin=function(){this.winScoreTween&&(this.winScoreTween.stop(),this.winScoreTween=null),this.isRetainWinNum?this.winScoreNum=this.totalWin:(this.totalWin=0,this.winScoreNum=0,this.winScore.string=T.default.formatNumber(0,2,100,!0)),this.updateAllScore()},t.prototype.setBalanceSpriteOpacity=function(e,t){1!=this.settingStyle&&this.nodes[0]&&(this.nodes[0].opacity=t)},Object.defineProperty(t.prototype,"normalWinDelayCbTime",{get:function(){return this._delayCbTime},set:function(e){this._delayCbTime=e},enumerable:!1,configurable:!0}),t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_NECESSARY_ASSETS_LOADED,this.initScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_SHOW_LINE_OVER,this.onShowLineOver,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_LINE_COST_CHANGED,this.updateBetScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_PUB_CHIPS_PUSH,this.updateAllScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_SLOT_MONEY_SHOW,this.updateAllScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_SLOT_REFSH_BALANCE,this.updateAllScore,this),game.EventManager.getInstance().removeEventListener(h.default.SPINRESP,this.updateAllScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_START_ROLLING,this.startRoller,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_REENTER_ROOM_SUCCESS,this.reenterRoom,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinNum,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_SET_WINSCORE_RETAIN,this.updateWinScoreRetain,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE,this.forUpdateAllScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,this.forUpdateWinScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_FORCE_UPDATE_BETSCORE,this.forceUpdateBetScore,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_UPDATE_SCORE_POSITION,this.updateSocrePosition,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_BALANCE_SPRITE_SET_OPACITY,this.setBalanceSpriteOpacity,this)},t._instance=null,a([b(cc.Label)],t.prototype,"winScore",void 0),a([b(cc.Label)],t.prototype,"allScore",void 0),a([b(cc.Label)],t.prototype,"betScore",void 0),a([b(cc.Node)],t.prototype,"winScoreBtn",void 0),a([b(cc.Node)],t.prototype,"balanceBtn",void 0),a([b(cc.Node)],t.prototype,"betScoreBtn",void 0),a([b(cc.Node)],t.prototype,"nodes",void 0),a([b(cc.Node)],t.prototype,"p_arrNodeBg",void 0),n=a([C],t)}(p.default);n.default=R,cc._RF.pop()},{"../../gameControl/script/GameControlBase":"GameControlBase","../../main/script/CommonConst":"CommonConst","../../slot_common/autoTest/SlotAutoTestConf":"SlotAutoTestConf","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/network/NetSlotConst":"NetSlotConst","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotDefinitions/SlotEnum":"SlotEnum","../../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../../slot_common/slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../slot_common/sound/script/SoundMger":"SoundMger","../../util/UIBtnClickCtr":"UIBtnClickCtr"}],ScoreItem:[function(e,t,n){"use strict";cc._RF.push(t,"a16edwqJbZAE70gtesk8Z9e","ScoreItem");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.ScoreItem=void 0;var r=e("../../util/UIUtil"),s=cc._decorator,l=s.ccclass,c=(s.property,s.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._index=-1,t._data=null,t}return o(t,e),t.prototype.checkTouch=function(e){if(this._data<0)return!1;var t=r.UIUtil.localConvertWorldPointAR(this.node,new cc.Vec2(0,0)),n=r.UIUtil.worldConvertLocalPointAR(e,t);return n.x>=-50&&n.x<=50&&n.y>=-this.node.height/2-8&&n.y<=this.node.height/2+8},t.prototype.checkClick=function(e){if(this._data<0)return!1;var t=r.UIUtil.worldConvertLocalPointAR(this.node,e.touch.getLocation());return this.clickInNode(t)},t.prototype.clickInNode=function(e){return e.x>=-50&&e.x<=50&&e.y>=-this.node.height/2&&e.y<=this.node.height/2},a([l],t)}(cc.Component));n.ScoreItem=c,cc._RF.pop()},{"../../util/UIUtil":"UIUtil"}],ScoresBetAmount:[function(e,t,n){"use strict";cc._RF.push(t,"9b16aNEZdVK9KC32skN2yBT","ScoresBetAmount");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/utils/GData"),s=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),l=e("./BetView"),c=e("./ScoreItem"),u=e("./ScoresBetLevel"),p=e("./ScoresBetSize"),h=cc._decorator,d=h.ccclass,f=h.property,m=(h.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.threshold_n=1,t.itemTemp=null,t._time_out=null,t._listen_b=!1,t.isOtherRefresh=!1,t.curValue="",t._selectedIndex=0,t.sumData=[],t.clickTime=0,t.startY=0,t.resultFun=null,t.map=null,t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex-3},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.isOtherRefresh=!0,n._instance=this,this._list=this.node.getComponent(cc.ScrollView),this._content=this._list.content,this._layout_o=this._content.getComponent(cc.Layout),this._view_o=this._content.parent,this._last_pos_o=this._content.position},t.prototype.onEnable=function(){this.listen_b=!0,this.showItem(this.sumData),this.node.on("scroll-ended",this._event_scroll_ended,this),this.node.on("scroll-began",this._event_scroll_began,this),this.node.on(cc.Node.EventType.TOUCH_START,this._event_touch_start,this),this.node.on(cc.Node.EventType.TOUCH_END,this._event_touch_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._evenet_touch_cancel,this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,this.scroll_move_event,this)},t.prototype.onDisable=function(){this.listen_b=!1,this.node.off("scroll-ended",this._event_scrolling,this),this.node.off("scroll-began",this._event_scroll_began,this),this.node.off(cc.Node.EventType.TOUCH_START,this._event_touch_start,this),this.node.off(cc.Node.EventType.TOUCH_END,this._event_touch_end,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._evenet_touch_cancel,this),this.node.off(cc.Node.EventType.MOUSE_WHEEL,this.scroll_move_event,this)},t.prototype.start=function(){this.initContent(),this.showItem(this.sumData)},t.prototype.initData=function(){this.sumData=l.default.instance.getBetAmountArr.concat([]),this.sumData.unshift(-1),this.sumData.unshift(0),this.sumData.unshift(0),this.sumData.push(-1),this.sumData.push(0),this.sumData.push(0)},t.prototype.registerScrollEvent=function(e,t,n,i){this.beganCall=e,this.beganCaller=t,this.endCall=n,this.endCaller=i},t.prototype.getMaxAmount=function(){for(var e=0,t=0,n=this.sumData;t<n.length;t++){var i=n[t];i>e&&(e=i)}return e},t.prototype.updateAmountData=function(e){if(e){this.isOtherRefresh=!0;var t=this.sumData.findIndex(function(t){return t===e.amount});this._list.isScrolling()||(this.map=e,this._jump_to_item(t,!1))}},t.prototype.forceUpdateByData=function(e){if(e){this.map=e;var t=this.sumData.indexOf(e.amount);this._jump_to_item(t),this.isOtherRefresh=!1,this._event_scroll_ended()}},t.prototype._jump_to_item=function(e,t){void 0===t&&(t=!0),this.setEndSync(t);var n=new cc.Size(this._list.node.width,this._content.height-this._view_o.height),i=(this._content.children[e].y+this._content.height*this._content.anchorY-.5*this._view_o.height)/n.height;return this.listen_b=!1,this._list.stopAutoScroll(),this._list.scrollTo(cc.v2(0,i),this.threshold_n),console.log("betAmount \u5f53\u524d\u8282\u70b9\u7684\u6570\u636e\uff1a",this._content.children[e].getComponent(cc.Label).string),this.curValue=this._content.children[e].getComponent(cc.Label).string,this._selectedIndex=e,i},t.prototype.update_view=function(){this._layout_o.updateLayout(),this._event_scrolling()},t.prototype._event_scrolling=function(){if(this._content.children.length&&!(this._content.height<=this._view_o.height)){var e,t,n,i,o=new cc.Vec3,a=new cc.Vec3;if(this._content.position.sub(this._last_pos_o,o),this._last_pos_o=this._content.position,!(o.len()>this.threshold_n)){var r=new cc.Size(this._content.children[0].width,this._content.children[0].height+this._layout_o.spacingY);if(this._view_o.parent.convertToWorldSpaceAR(cc.Vec3.ZERO,o),this._content.convertToNodeSpaceAR(o,a),e=this._content.height-this._content.anchorY*this._content.height,t=0,(e-=this._layout_o.paddingTop+this._content.children[0].height+.5*this._layout_o.spacingY)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;if((i=this._jump_to_item(t))>=0&&i<=1)return}for((n=this._content.children.length-1)<1&&(n=1),t=1;t<n;++t)if((e-=r.height)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;if((i=this._jump_to_item(t))<0)return void this._jump_to_item(t-1);if(i<=1)return}if((e-=this._content.children[0].height+.5*this._layout_o.spacingY+this._layout_o.paddingBottom)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;this._jump_to_item(t)}}}},t.prototype._event_scroll_ended=function(){var e=this;this.listen_b||(this.listen_b=!0),this.resultFun&&this.resultFun(),this.resultFun=null,this.scheduleOnce(function(){e._list.isAutoScrolling()||e.endCall&&e.endCall.apply(e.endCaller)},.1),l.default.instance.updateCurrentBetLabel()},t.prototype.setEndSync=function(e){e&&(this.resultFun=this.onResultChange)},t.prototype._event_scroll_began=function(){console.log("scoll began 3"),this.beganCall&&this.beganCall.apply(this.beganCaller)},t.prototype.onResultChange=function(){p.default.instance.updateBetSizeValue(this.map.size,!1),u.default.instance.updateBetLevelValue(this.map.level,!1)},t.prototype._event_touch_start=function(e){this.isOtherRefresh=!1,this.listen_b||(this.listen_b=!0),this.clickTime=Date.now(),this.startY=e.getLocationY(),l.default.instance.showChangeCostTip()},t.prototype._event_touch_end=function(e){if(!this._list.isAutoScrolling()){var t=Date.now()-this.clickTime;console.log("\u70b9\u51fb\u62ac\u8d77\u7684\u65f6\u95f4\u5dee\u4e3a: "+t);var n=e.getLocationY(),i=Math.abs(n-this.startY);t<220&&i<10?this.clickJump(e):this._evenet_touch_cancel(e)}},t.prototype._evenet_touch_cancel=function(){this._event_scrolling(),this.touchJump()},t.prototype.scroll_move_event=function(){var e=this;this._time_out&&clearTimeout(this._time_out),this._time_out=setTimeout(function(){e.reviseScrollCenter()},400)},t.prototype.reviseScrollCenter=function(){this._event_scrolling(),this.touchJump()},Object.defineProperty(t.prototype,"selected_n",{get:function(){return this._selected_n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listen_b",{get:function(){return this._listen_b},set:function(e){this._listen_b=e,this._listen_b?this.node.on("scrolling",this._event_scrolling,this):this.node.off("scrolling",this._event_scrolling,this)},enumerable:!1,configurable:!0}),t.prototype.initContent=function(){for(var e=r.GData.getParameter("main").settingStyle,t=r.GData.getParameter("main").themeColor,n=0;n<this.sumData.length;n++){var i=cc.instantiate(this.itemTemp);i.addComponent(c.ScoreItem);var o=i.getComponent(c.ScoreItem);o._index=n,o._data=this.sumData[n],1==e&&(i.color=cc.Color.WHITE.fromHEX(t)),this._content.addChild(i,n)}this.itemTemp.removeFromParent()},t.prototype.showItem=function(e){for(var t=this.node.getComponent(cc.ScrollView).content.children.length,n=0;n<t;n++)this.setItemName(n,e[n])},t.prototype.setItemName=function(e,t){var n=this.node.getComponent(cc.ScrollView).content,i=0==t?"":-1==t?"-":s.default.formatNumber(t,2,100,!0);n.children[e].getComponent(cc.Label).string=i},t.prototype.touchJump=function(){var e,t=this,n=this._content.children.findIndex(function(n){return(e=n.getComponent(c.ScoreItem))&&e.checkTouch(t.node)});n>=0&&(this.setMapData(n),this._jump_to_item(n))},t.prototype.clickJump=function(e){var t,n=this._content.children.findIndex(function(n){return(t=n.getComponent(c.ScoreItem))&&t.checkClick(e)});n>=0&&(this.setMapData(n),this._jump_to_item(n))},t.prototype.setMapData=function(e){var t=l.default.instance.getMapByAmount(this.sumData[e]);t?this.map=t:cc.error("BetAmount \u540c\u6b65\u6570\u636e\u5f02\u5e38")},t._instance=null,a([f({displayName:"\u9608\u503c",type:cc.Float,min:.1})],t.prototype,"threshold_n",void 0),a([f({tooltip:"Item\u6a21\u677f",type:cc.Node})],t.prototype,"itemTemp",void 0),n=a([d],t)}(cc.Component));n.default=m,cc._RF.pop()},{"../../slot_common/common/utils/GData":"GData","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","./BetView":"BetView","./ScoreItem":"ScoreItem","./ScoresBetLevel":"ScoresBetLevel","./ScoresBetSize":"ScoresBetSize"}],ScoresBetLevel:[function(e,t,n){"use strict";cc._RF.push(t,"55c0baXu4NMmKNeXmPbUyaU","ScoresBetLevel");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/slotMachine/script/SlotManager/SlotConfigManager"),s=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),l=e("./BetView"),c=e("./ScoreItem"),u=cc._decorator,p=u.ccclass,h=u.property,d=(u.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.threshold_n=1,t.itemTemp=null,t.data=[],t._listen_b=!1,t._time_out=null,t.startY=0,t._selectedIndex=0,t.clickTime=0,t._betLevel=1,t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex-3},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,this.data=r.default.instance.lineValueMultiples.concat([]),this._list=this.node.getComponent(cc.ScrollView),this._content=this._list.content,this._layout_o=this._content.getComponent(cc.Layout),this._view_o=this._content.parent,this._last_pos_o=this._content.position},t.prototype.start=function(){this.initContent(),this.showItem(this.data)},t.prototype.onEnable=function(){this.listen_b=!0,this.node.on("scroll-ended",this._event_scroll_ended,this),this.node.on("scroll-began",this._event_scroll_began,this),this.node.on(cc.Node.EventType.TOUCH_START,this._event_touch_start,this),this.node.on(cc.Node.EventType.TOUCH_END,this._event_touch_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._evenet_touch_cancel,this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,this.scroll_move_event,this)},t.prototype.onDisable=function(){this.listen_b=!1,this.node.off("scroll-ended",this._event_scrolling,this),this.node.off("scroll-began",this._event_scroll_began,this),this.node.off(cc.Node.EventType.TOUCH_START,this._event_touch_start,this),this.node.off(cc.Node.EventType.TOUCH_END,this._event_touch_end,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._evenet_touch_cancel,this),this.node.off(cc.Node.EventType.MOUSE_WHEEL,this.scroll_move_event,this)},t.prototype.initData=function(){this.betLevel=r.default.instance.lineValueMultiples[s.default.instance.lineValueMultipleIndex],this.data=r.default.instance.lineValueMultiples.concat([]),this.data.unshift(-1),this.data.unshift(0),this.data.unshift(0),this.data.push(-1),this.data.push(0),this.data.push(0)},t.prototype.registerScrollEvent=function(e,t,n,i){this.beganCall=e,this.beganCaller=t,this.endCall=n,this.endCaller=i},t.prototype.updateBetLevelValue=function(e,t){void 0===t&&(t=!0);var n=this.data.indexOf(e);this._jump_to_item(n,t)},t.prototype._jump_to_item=function(e,t){void 0===t&&(t=!0);var n=new cc.Size(this._list.node.width,this._content.height-this._view_o.height),i=(this._content.children[e].y+this._content.height*this._content.anchorY-.5*this._view_o.height)/n.height;return i>1||i<0?i:(this.listen_b=!1,this._list.stopAutoScroll(),this._list.scrollTo(cc.v2(0,i),this.threshold_n),console.log("betLevel\u5f53\u524d\u8282\u70b9\u7684\u6570\u636e\uff1a",this._content.children[e].getComponent(cc.Label).string),this.betLevel=this.data[e],t&&l.default.instance.updateBetAmount(),this._selectedIndex=e,i)},t.prototype.update_view=function(){this._layout_o.updateLayout(),this._event_scrolling()},t.prototype._event_scrolling=function(){if(this._content.children.length&&!(this._content.height<=this._view_o.height)){var e,t,n,i,o=new cc.Vec3,a=new cc.Vec3;if(this._content.position.sub(this._last_pos_o,o),this._last_pos_o=this._content.position,!(o.len()>this.threshold_n)){var r=new cc.Size(this._content.children[0].width,this._content.children[0].height+this._layout_o.spacingY);if(this._view_o.parent.convertToWorldSpaceAR(cc.Vec3.ZERO,o),this._content.convertToNodeSpaceAR(o,a),e=this._content.height-this._content.anchorY*this._content.height,t=0,(e-=this._layout_o.paddingTop+this._content.children[0].height+.5*this._layout_o.spacingY)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;if((i=this._jump_to_item(t))>=0&&i<=1)return}for((n=this._content.children.length-1)<1&&(n=1),t=1;t<n;++t)if((e-=r.height)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;if((i=this._jump_to_item(t))<0)return void this._jump_to_item(t-1);if(i<=1)return}if((e-=this._content.children[0].height+.5*this._layout_o.spacingY+this._layout_o.paddingBottom)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;this._jump_to_item(t)}}}},t.prototype._event_scroll_ended=function(){var e=this;this.listen_b||(this.listen_b=!0),this.scheduleOnce(function(){e._list.isAutoScrolling()||e.endCall&&e.endCall.apply(e.endCaller)},.1)},t.prototype._event_scroll_began=function(){console.log("scoll began 2"),this.beganCall&&this.beganCall.apply(this.beganCaller)},t.prototype._event_touch_start=function(e){this.listen_b||(this.listen_b=!0),this.clickTime=Date.now(),this.startY=e.getLocationY(),l.default.instance.showChangeCostTip()},t.prototype.scroll_move_event=function(){var e=this;this._time_out&&clearTimeout(this._time_out),this._time_out=setTimeout(function(){e.reviseScrollCenter()},400)},t.prototype.reviseScrollCenter=function(){this._event_scrolling(),this.touchJump()},t.prototype._event_touch_end=function(e){if(!this._list.isAutoScrolling()){var t=Date.now()-this.clickTime;console.log("\u70b9\u51fb\u62ac\u8d77\u7684\u65f6\u95f4\u5dee\u4e3a: "+t);var n=e.getLocationY(),i=Math.abs(n-this.startY);t<220&&i<10?this.clickJump(e):this._evenet_touch_cancel(e)}},t.prototype._evenet_touch_cancel=function(){this._event_scrolling(),this.touchJump()},Object.defineProperty(t.prototype,"selected_n",{get:function(){return this._selected_n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listen_b",{get:function(){return this._listen_b},set:function(e){this._listen_b=e,this._listen_b?this.node.on("scrolling",this._event_scrolling,this):this.node.off("scrolling",this._event_scrolling,this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"betLevel",{get:function(){return this._betLevel},set:function(e){this._betLevel=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"betLevelData",{get:function(){return this.data},enumerable:!1,configurable:!0}),t.prototype.initContent=function(){for(var e=0;e<this.data.length;e++){var t=cc.instantiate(this.itemTemp);this._content.addChild(t,e),t.addComponent(c.ScoreItem);var n=t.getComponent(c.ScoreItem);n._index=e,n._data=this.data[e]}this.itemTemp.removeFromParent()},t.prototype.showItem=function(e){for(var t=this.node.getComponent(cc.ScrollView).content.children.length,n=0;n<t;n++)this.setItemName(n,e[n])},t.prototype.setItemName=function(e,t){var n=this.node.getComponent(cc.ScrollView).content,i=0==t?"":-1==t?"-":t.toString();n.children[e].getComponent(cc.Label).string=i},t.prototype.clickJump=function(e){var t=Date.now()-this.clickTime;if(console.log("\u70b9\u51fb\u62ac\u8d77\u7684\u65f6\u95f4\u5dee\u4e3a: "+t),!(t>120)){var n,i=this._content.children.findIndex(function(t){return(n=t.getComponent(c.ScoreItem))&&n.checkClick(e)});i>=0&&this._jump_to_item(i)}},t.prototype.touchJump=function(){var e,t=this,n=this._content.children.findIndex(function(n){return(e=n.getComponent(c.ScoreItem))&&e.checkTouch(t.node)});n>=0&&this._jump_to_item(n)},t._instance=null,a([h({displayName:"\u9608\u503c",type:cc.Float,min:.1})],t.prototype,"threshold_n",void 0),a([h({tooltip:"Item\u6a21\u677f",type:cc.Node})],t.prototype,"itemTemp",void 0),n=a([p],t)}(cc.Component));n.default=d,cc._RF.pop()},{"../../slot_common/slotMachine/script/SlotManager/SlotConfigManager":"SlotConfigManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","./BetView":"BetView","./ScoreItem":"ScoreItem"}],ScoresBetSize:[function(e,t,n){"use strict";cc._RF.push(t,"fff34mKGRZGfoG9oP9Nb5GV","ScoresBetSize");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/slotMachine/script/SlotManager/SlotConfigManager"),s=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),l=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),c=e("./BetView"),u=e("./ScoreItem"),p=cc._decorator,h=p.ccclass,d=p.property,f=(p.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.threshold_n=1,t.itemTemp=null,t._listen_b=!1,t._time_out=null,t.startY=0,t._selectedIndex=0,t.clickTime=0,t._betSize=1,t.data=[],t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._selectedIndex-3},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,this._list=this.node.getComponent(cc.ScrollView),this._content=this._list.content,this._layout_o=this._content.getComponent(cc.Layout),this._view_o=this._content.parent,this._last_pos_o=this._content.position},t.prototype.start=function(){this.initContent(),this.showItem(this.data)},t.prototype.registerScrollEvent=function(e,t,n,i){this.beganCall=e,this.beganCaller=t,this.endCall=n,this.endCaller=i},t.prototype.onEnable=function(){this.listen_b=!0,this.node.on("scroll-ended",this._event_scroll_ended,this),this.node.on("scroll-began",this._event_scroll_began,this),this.node.on(cc.Node.EventType.TOUCH_START,this._event_touch_start,this),this.node.on(cc.Node.EventType.TOUCH_END,this._event_touch_end,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._evenet_touch_cancel,this),this.node.on(cc.Node.EventType.MOUSE_WHEEL,this.scroll_move_event,this)},t.prototype.onDisable=function(){this.listen_b=!1,this.node.off("scroll-ended",this._event_scrolling,this),this.node.off("scroll-began",this._event_scroll_began,this),this.node.off(cc.Node.EventType.TOUCH_START,this._event_touch_start,this),this.node.off(cc.Node.EventType.TOUCH_END,this._event_touch_end,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._evenet_touch_cancel,this),this.node.off(cc.Node.EventType.MOUSE_WHEEL,this.scroll_move_event,this)},t.prototype.updateBetSizeValue=function(e,t){void 0===t&&(t=!0);var n=this.data.findIndex(function(t){return t===e});this._jump_to_item(n,t)},t.prototype._jump_to_item=function(e,t){void 0===t&&(t=!0);var n=new cc.Size(this._list.node.width,this._content.height-this._view_o.height),i=(this._content.children[e].y+this._content.height*this._content.anchorY-.5*this._view_o.height)/n.height;return i>1||i<0?i:(this.listen_b=!1,this._list.stopAutoScroll(),this._list.scrollTo(cc.v2(0,i),this.threshold_n),console.log("betsize\u5f53\u524d\u8282\u70b9\u7684\u6570\u636e\uff1a",this._content.children[e].getComponent(cc.Label).string),this.betSize=this.data[e],t&&c.default.instance.updateBetAmount(),this._selectedIndex=e,i)},t.prototype.update_view=function(){this._layout_o.updateLayout(),this._event_scrolling()},t.prototype._event_scrolling=function(){if(this._content.children.length&&!(this._content.height<=this._view_o.height)){var e,t,n,i,o=new cc.Vec3,a=new cc.Vec3;if(this._content.position.sub(this._last_pos_o,o),this._last_pos_o=this._content.position,!(o.len()>this.threshold_n)){var r=new cc.Size(this._content.children[0].width,this._content.children[0].height+this._layout_o.spacingY);if(this._view_o.parent.convertToWorldSpaceAR(cc.Vec3.ZERO,o),this._content.convertToNodeSpaceAR(o,a),e=this._content.height-this._content.anchorY*this._content.height,t=0,(e-=this._layout_o.paddingTop+this._content.children[0].height+.5*this._layout_o.spacingY)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;if((i=this._jump_to_item(t))>=0&&i<=1)return}for((n=this._content.children.length-1)<1&&(n=1),t=1;t<n;++t)if((e-=r.height)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;if((i=this._jump_to_item(t))<0)return void this._jump_to_item(t-1);if(i<=1)return}if((e-=this._content.children[0].height+.5*this._layout_o.spacingY+this._layout_o.paddingBottom)<=a.y){if(this._selected_n=t,this._list.isScrolling())return;this._jump_to_item(t)}}}},t.prototype._event_scroll_ended=function(){var e=this;this.listen_b||(this.listen_b=!0),this.scheduleOnce(function(){e._list.isAutoScrolling()||e.endCall&&e.endCall.apply(e.endCaller)},.1)},t.prototype._event_scroll_began=function(){console.log("scoll began 1"),this.beganCall&&this.beganCall.apply(this.beganCaller)},t.prototype._event_touch_start=function(e){this.listen_b||(this.listen_b=!0),this.clickTime=Date.now(),this.startY=e.getLocationY(),c.default.instance.showChangeCostTip()},t.prototype._event_touch_end=function(e){if(!this._list.isAutoScrolling()){var t=Date.now()-this.clickTime;console.log("\u70b9\u51fb\u62ac\u8d77\u7684\u65f6\u95f4\u5dee\u4e3a: "+t);var n=e.getLocationY(),i=Math.abs(n-this.startY);t<220&&i<10?this.clickJump(e):this._evenet_touch_cancel(e)}},t.prototype._evenet_touch_cancel=function(){this._event_scrolling(),this.touchJump()},t.prototype.scroll_move_event=function(){var e=this;this._time_out&&clearTimeout(this._time_out),this._time_out=setTimeout(function(){e.reviseScrollCenter()},400)},t.prototype.reviseScrollCenter=function(){this._event_scrolling(),this.touchJump()},Object.defineProperty(t.prototype,"selected_n",{get:function(){return this._selected_n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"listen_b",{get:function(){return this._listen_b},set:function(e){this._listen_b=e,this._listen_b?this.node.on("scrolling",this._event_scrolling,this):this.node.off("scrolling",this._event_scrolling,this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"betSize",{get:function(){return this._betSize},set:function(e){this._betSize=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"betSizeData",{get:function(){return this.data},enumerable:!1,configurable:!0}),t.prototype.initData=function(){for(var e=[],t=0;t<r.default.instance.lineCostList.length;t++){var n=r.default.instance.lineCostList[t]*s.default.instance.rateModulus/100*core.CommonProto.getInstance().coinRate;e.push(n)}this.betSize=e[s.default.instance.lineCostIndex],this.data=e,this.data.unshift(-1),this.data.unshift(0),this.data.unshift(0),this.data.push(-1),this.data.push(0),this.data.push(0)},t.prototype.initContent=function(){for(var e=0;e<this.data.length;e++){var t=cc.instantiate(this.itemTemp);this._content.addChild(t,e),t.addComponent(u.ScoreItem);var n=t.getComponent(u.ScoreItem);n._index=e,n._data=this.data[e]}this.itemTemp.removeFromParent()},t.prototype.showItem=function(e){for(var t=this.node.getComponent(cc.ScrollView).content.children.length,n=0;n<t;n++)this.setItemName(n,e[n])},t.prototype.setItemName=function(e,t){var n=this.node.getComponent(cc.ScrollView).content,i=0==t?"":-1==t?"-":l.default.formatNumber(t,2,100,!0);n.children[e].getComponent(cc.Label).string=i},t.prototype.clickJump=function(e){var t=Date.now()-this.clickTime;if(console.log("\u70b9\u51fb\u62ac\u8d77\u7684\u65f6\u95f4\u5dee\u4e3a: "+t),!(t>120)){var n,i=this._content.children.findIndex(function(t){return(n=t.getComponent(u.ScoreItem))&&n.checkClick(e)});i>=0&&this._jump_to_item(i)}},t.prototype.touchJump=function(){var e,t=this,n=this._content.children.findIndex(function(n){return(e=n.getComponent(u.ScoreItem))&&e.checkTouch(t.node)});n>=0&&this._jump_to_item(n)},t._instance=null,a([d({displayName:"\u9608\u503c",type:cc.Float,min:.1})],t.prototype,"threshold_n",void 0),a([d({tooltip:"Item\u6a21\u677f",type:cc.Node})],t.prototype,"itemTemp",void 0),n=a([h],t)}(cc.Component));n.default=f,cc._RF.pop()},{"../../slot_common/slotMachine/script/SlotManager/SlotConfigManager":"SlotConfigManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","./BetView":"BetView","./ScoreItem":"ScoreItem"}],SettlementAni:[function(e,t,n){"use strict";cc._RF.push(t,"362e6SSK+hIWY9svJQhSzYw","SettlementAni");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../common/enum/CommonEnum"),s=e("../../common/utils/GData"),l=e("../../main/BaseView"),c=e("../../slotMachine/script/SlotConfigs/GameEventNames"),u=e("../../slotMachine/script/SlotUtils/SlotUtils"),p=e("../../sound/script/SoundMger"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinLabel=null,t.congratuteSk=null,t.congratuteSk_v=null,t.badLuckSk=null,t.badLuckSk_v=null,t.starSk=null,t.freeAdmissionPlayComplete=null,t.playScheduleOnce=null,t.winCoin=0,t._winMoney=0,t}return o(t,e),t.prototype.onLoad=function(){this.starSk&&this.starSk.setCompleteListener(this.playComplete.bind(this)),this.coinLabel.node.width=900,e.prototype.resize.call(this),game.EventManager.getInstance().addEventListener(c.GameEventNames.EVENT_SETTLEMENT_ANI_HIDE,this.playComplete,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(c.GameEventNames.EVENT_SETTLEMENT_ANI_HIDE,this.playComplete,this)},t.prototype.playComplete=function(){this.hide(),this.node.active=!1,this.unscheduleAllCallbacks(),p.SoundMger.instance.stopEffectSlotCommon(r.SOUND_NAME.Prize_Loop)},t.prototype.layout=function(){var e,t,n=1,i=this.node.getContentSize();n=(e=cc.winSize.width/i.width)<(t=cc.winSize.height/i.height)?e:t,game.ComUtils.isCanvasLand()?n*=.7:n=n,this.node.scale=n},t.prototype.layoutPortrait=function(){this.badLuckSk_v&&(this.badLuckSk.node.opacity=0,this.badLuckSk_v.node.opacity=255),this.congratuteSk_v&&(this.congratuteSk.node.opacity=0,this.congratuteSk_v.node.opacity=255,this.congratuteSk_v.node.y=this.congratuteSk.node.y)},t.prototype.layoutLandscape=function(){this.badLuckSk_v&&(this.badLuckSk.node.opacity=255,this.badLuckSk_v.node.opacity=0),this.congratuteSk_v&&(this.congratuteSk.node.opacity=255,this.congratuteSk_v.node.opacity=0,this.congratuteSk_v.node.y=this.congratuteSk.node.y)},Object.defineProperty(t.prototype,"winMoney",{get:function(){return this._winMoney},set:function(e){this._winMoney=e,this.coinLabel.string=u.default.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.play=function(e,t){if(this.node.active=!0,this.winCoin=e,this.freeAdmissionPlayComplete=t,0==e){this.congratuteSk&&(this.congratuteSk.node.active=!1),this.congratuteSk_v&&(this.congratuteSk_v.node.active=!1),this.starSk&&(this.starSk.node.active=!1),this.coinLabel.node.active=!1;var n="zh"==s.GData.curLanguage?"Badluck-cn":"Badluck-en",i="zh"==s.GData.curLanguage?"zh":"en";this.badLuckSk_v?(this.badLuckSk.node.active=!0,this.badLuckSk_v.node.active=!0,this.badLuckSk.setAnimation(0,"h_"+i,!1),this.badLuckSk_v.setAnimation(0,"v_"+i,!1)):(this.badLuckSk.node.active=!0,this.badLuckSk.setAnimation(0,n,!1)),p.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.Settle_Failed,!1),this.scheduleOnce(this.playComplete.bind(this),3)}else{this.badLuckSk&&(this.badLuckSk.node.active=!1),this.badLuckSk_v&&(this.badLuckSk_v.node.active=!1),this.coinLabel.enableWrapText=!1,this.coinLabel.overflow=cc.Label.Overflow.SHRINK;var o=this.winCoin.toString().length;this.coinLabel.node.active=!0,this.coinLabel.node.opacity=100,this.coinLabel.node.scale=.2,this.winMoney=Math.round(10*Math.random()*o),n="zh"==s.GData.curLanguage?"congratulations-cn":"congratulations-en",i="zh"==s.GData.curLanguage?"zh":"en",this.congratuteSk_v?(this.congratuteSk.node.active=!0,this.congratuteSk_v.node.active=!0,this.congratuteSk.setAnimation(0,"h_"+i,!1),this.congratuteSk_v.setAnimation(0,"v_"+i,!1)):(this.congratuteSk.node.active=!0,this.congratuteSk.setAnimation(0,n,!1)),0!=e&&(p.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.Prize_Loop,!0),this.scheduleOnce(function(){p.SoundMger.instance.playEffectSlotCommon(r.SOUND_NAME.Prize_Stop,!1)},1.2)),cc.tween(this).to(.45,{winMoney:.4*e}).to(1.15,{winMoney:e}).call(function(){p.SoundMger.instance.stopEffectCommon(r.SOUND_NAME.Prize_Loop)}).start(),cc.tween(this.coinLabel.node).to(.6,{scale:1.4,opacity:225}).to(.25,{scale:1}).call(this.playStarAni.bind(this)).start()}},t.prototype.playStarAni=function(){this.coinLabel.node.scale=1,this.starSk?(this.starSk.node.active=!0,this.starSk.setAnimation(0,"FX",!1)):this.scheduleOnce(this.playComplete.bind(this),3)},t.prototype.hide=function(){this.freeAdmissionPlayComplete&&(this.freeAdmissionPlayComplete.call(this),this.freeAdmissionPlayComplete=null),this.node.active=!1},a([f(cc.Label)],t.prototype,"coinLabel",void 0),a([f(sp.Skeleton)],t.prototype,"congratuteSk",void 0),a([f(sp.Skeleton)],t.prototype,"congratuteSk_v",void 0),a([f(sp.Skeleton)],t.prototype,"badLuckSk",void 0),a([f(sp.Skeleton)],t.prototype,"badLuckSk_v",void 0),a([f(sp.Skeleton)],t.prototype,"starSk",void 0),a([d],t)}(l.default);n.default=m,cc._RF.pop()},{"../../common/enum/CommonEnum":"CommonEnum","../../common/utils/GData":"GData","../../main/BaseView":"BaseView","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../sound/script/SoundMger":"SoundMger"}],ShadowFollow:[function(e,t,n){"use strict";cc._RF.push(t,"8b9ad3udGRJsruuZQ1imZeU","ShadowFollow");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./MathUtil"),s=e("./NodePool"),l=e("./Shadow"),c=e("./Timer"),u=cc._decorator,p=u.ccclass,h=u.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shadowContainer=null,t.targetNode=null,t.spriteNode=null,t.interval=5,t.fade=8,t.key="",t._x=0,t._y=0,t._count=0,t._isOnTimer=!1,t}return o(t,e),t.prototype.onLoad=function(){this.targetNode||(this.targetNode=this.node),this.spriteNode||(this.spriteNode=this.node),this._x=this.targetNode.x,this._y=this.targetNode.y},t.prototype.onDisable=function(){this.stopEffect()},t.prototype.lateUpdate=function(e){c.default.onTimer(e)},t.prototype.startEffect=function(){this._isOnTimer||(this._isOnTimer=!0,c.default.loop(this,this.onTimer))},t.prototype.stopEffect=function(){this._isOnTimer=!1,this._count=0,c.default.clear(this,this.onTimer)},t.prototype.onTimer=function(){if(this._count++,this._count%this.interval==0){if(r.default.getDistance(cc.v2(this._x,this._y),cc.v2(this.targetNode.x,this.targetNode.y))<2)return;var e=s.default.get(this.key);if(!e){(e=new cc.Node).addComponent(cc.Sprite);var t=e.addComponent(l.default);t.fade=this.fade,t.key=this.key}e.getComponent(cc.Sprite).spriteFrame=this.spriteNode.getComponent(cc.Sprite).spriteFrame,e.scaleX=this.spriteNode.scaleX,e.scaleY=this.spriteNode.scaleY,this._x=e.x=this.targetNode.x,this._y=e.y=this.targetNode.y,e.opacity=255,this.shadowContainer.addChild(e),this.node.setSiblingIndex(50)}},a([h(cc.Node)],t.prototype,"shadowContainer",void 0),a([h(cc.Node)],t.prototype,"targetNode",void 0),a([h(cc.Node)],t.prototype,"spriteNode",void 0),a([h],t.prototype,"interval",void 0),a([h],t.prototype,"fade",void 0),a([h],t.prototype,"key",void 0),a([p],t)}(cc.Component);n.default=d,cc._RF.pop()},{"./MathUtil":"MathUtil","./NodePool":"NodePool","./Shadow":"Shadow","./Timer":"Timer"}],Shadow:[function(e,t,n){"use strict";cc._RF.push(t,"62927zNo4lLK5M8Zl2nf1nx","Shadow");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./NodePool"),s=cc._decorator,l=s.ccclass,c=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fade=5,t.key="",t}return o(t,e),t.prototype.lateUpdate=function(){this.node.opacity-=this.fade,this.node.opacity<=10&&(this.node.removeFromParent(),r.default.put(this.key,this.node))},a([l],t)}(cc.Component));n.default=c,cc._RF.pop()},{"./NodePool":"NodePool"}],SimpleManagerTemplate:[function(e,t,n){"use strict";cc._RF.push(t,"d4e5eHJD+VGvJD7FKWw7g/W","SimpleManagerTemplate"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],SlotAutoTestConf:[function(e,t,n){"use strict";cc._RF.push(t,"ff365S2uSlLbZfQahzn46iu","SlotAutoTestConf"),Object.defineProperty(n,"__esModule",{value:!0}),n.SlotAutoTestKey=void 0,function(e){e.SLOT_BTN_MENU="SLOT_BTN_MENU",e.SLOT_BTN_BACK="SLOT_BTN_BACK",e.SLOT_BTN_HELP="SLOT_BTN_HELP",e.SLOT_BTN_SET="SLOT_BTN_SET",e.SLOT_BTN_FRIENDROOM="SLOT_BTN_FRIENDROOM",e.SLOT_BTN_GAMERECORD="SLOT_BTN_GAMERECORD",e.SLOT_BTN_RULE="SLOT_BTN_RULE",e.SLOT_BTN_CLOSE="SLOT_BTN_CLOSE",e.SLOT_BTN_SPIN="SLOT_BTN_SPIN",e.SLOT_BTN_SPIN_QUICK="SLOT_BTN_SPIN_QUICK",e.SLOT_BTN_SPIN_AUTO="SLOT_BTN_SPIN_AUTO",e.SLOT_BTN_BET_ADD="SLOT_BTN_BET_ADD",e.SLOT_BTN_BET_SUB="SLOT_BTN_BET_SUB",e.SLOT_BTN_BET_ROTATION="SLOT_BTN_BET_ROTATION",e.SLOT_BTN_BET_BET="SLOT_BTN_BET_BET",e.SLOT_LAB_SCORE_TOTAL="SLOT_LAB_SCORE_TOTAL",e.SLOT_LAB_SCORE_WIN="SLOT_LAB_SCORE_WIN",e.SLOT_LAB_SCORE_BET="SLOT_LAB_SCORE_BET",e.SLOT_LAB_SPIN_AUTOTIMES="SLOT_LAB_SPIN_AUTOTIMES",e.SLOT_FUNC_GETPLAYERLIST="SLOT_FUNC_GETPLAYERLIST",e.SLOT_FUNC_GET_SPIN_RESULT="SLOT_FUNC_GET_SPIN_RESULT",e.SLOT_BTN_ROLLERMODE="SLOT_BTN_ROLLERMODE"}(n.SlotAutoTestKey||(n.SlotAutoTestKey={}));var i=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e._instance=null,e}();n.default=i,cc._RF.pop()},{}],SlotBanner:[function(e,t,n){"use strict";cc._RF.push(t,"58969wEqh1CKoCKtd88n5WX","SlotBanner");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./../slot_common/slotMachine/script/SlotDefinitions/SlotEnum"),s=e("./../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),l=e("../slot_common/common/utils/GData"),c=e("../slot_common/main/BaseView"),u=e("../slot_common/slotMachine/script/SlotManager/FreeGameManager"),p=e("../score/script/ScoreBase"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.banner=null,t.bannerLabel=null,t.bannerRichText=null,t.duration=10,t.waitDuration=2,t.startPos=0,t.randomNumber=0,t.bannerInfo=[],t.bannerLabelKeyInfo=[],t.tween=null,t.isInit=!0,t.bannerData=null,t.bannerNode=null,t.isSpriteArr=!1,t.banner2=null,t}return o(t,e),t.prototype.onLoad=function(){this.bannerData=l.GData.getParameter("banner").banner,this.banner?(this.banner.sizeMode=cc.Sprite.SizeMode.TRIMMED,this.bannerNode=this.banner.node):this.bannerLabel?(this.bannerLabel.overflow=cc.Label.Overflow.NONE,this.bannerNode=this.bannerLabel.node):this.bannerRichText&&(this.bannerNode=this.bannerRichText.node),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_SLOT_BANNER_SETINFO,this.setInfo,this),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_START_ROLLING,this.initBanner,this),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_SLOT_BANNER_START,this.initBanner,this),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_SLOT_BANNER_STOP,this.onStopBanner,this),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_UPDATE_WINSCORE,this.onStopBanner,this),game.EventManager.getInstance().addEventListener(s.GameEventNames.EVENT_FREE_GAME_TRIGGERED,this.onStopBanner,this),this.initSetInfo()},t.prototype.initSetInfo=function(e){var t=this;if(void 0===e&&(e=0),this.bannerData)for(var n=function(n){if(i.banner){var o=n.atlas?n.atlas:n.url;o=o.replace("&",l.GData.curLanguage);var a=n.spriteFrames[e];n.atlas?i.loadRes(o,cc.SpriteAtlas,function(e,n){e||t.initBannerInfo(n,a)},l.GData.bundleName):i.loadResDir(o,cc.SpriteFrame,function(e,n){e||t.initBannerInfo(n,a)},l.GData.bundleName)}else if((i.bannerLabel||i.bannerRichText)&&n.languageKeys){for(var r=0,s=n.languageKeys[e];r<s.length;r++){var c=s[r];i.bannerLabelKeyInfo.push(c)}if(n.richTextAtlas){var u=n.richTextAtlas[e]||n.richTextAtlas[0];u=u.replace("&",l.GData.curLanguage),i.loadRes(u,cc.SpriteAtlas,function(e,n){e||t.setRichTextImageAtlas(n)},l.GData.bundleName)}i.startPlay()}},i=this,o=0,a=this.bannerData;o<a.length;o++)n(a[o])},t.prototype.initBannerInfo=function(e,t){var n=this;if(this.bannerData[0].atlas)for(var i=0,o=t;i<o.length;i++){var a=o[i],r=e.getSpriteFrame(a);if(r)this.bannerInfo.push(r);else{this.isSpriteArr=!0,this.banner2||(this.banner2=cc.instantiate(this.banner.node).getComponent(cc.Sprite),this.banner2.node.name="banner2",this.banner2.node.parent=this.banner.node,this.banner2.node.active=!0);for(var s=0;s<a.length;s++)r=e.getSpriteFrame(a[s]),this.bannerInfo.push(r)}}else{for(var l=function(t){e.forEach(function(e){e.name==t&&n.bannerInfo.push(e)})},c=0,u=t;c<u.length;c++)l(a=u[c]);if(e.length!=this.bannerInfo.length){this.bannerInfo=[],this.isSpriteArr=!0;for(var p=function(t){e.forEach(function(e){n.banner2||(n.banner2=cc.instantiate(n.banner.node).getComponent(cc.Sprite),n.banner2.node.active=!0,n.banner2.node.name="banner2",n.banner2.node.parent=n.banner.node);for(var i=0;i<t.length;i++)e.name==t[i]&&n.bannerInfo.push(e)})},h=0,d=t;h<d.length;h++)p(a=d[h])}}this.startPlay()},t.prototype.startPlay=function(){if(this.isInit){if(this.isInit=!1,p.default.instance&&p.default.instance.totalWin>0)return;this.onPlayBanner()}else this.onPlayBanner()},t.prototype.setInfo=function(e,t){if(this.bannerInfo=[],this.bannerLabelKeyInfo=[],t.length)for(var n=0;n<t.length;n++)this.initSetInfo(t[n]);else this.initSetInfo(t)},t.prototype.initBanner=function(){0==this.bannerNode.active&&this.onPlayBanner()},t.prototype.onPlayBanner=function(){var e=this;this.tween&&this.tween.stop();var t,n,i=0;if(this.banner)if(this.isSpriteArr)this.banner.spriteFrame=this.bannerInfo[0],this.banner2.spriteFrame=this.bannerInfo[1];else{if(this.bannerData.playInOrder)(i=this.randomNumber+1)>=this.bannerInfo.length&&(i=0);else if(i=Math.floor(Math.random()*this.bannerInfo.length),this.bannerInfo.length>1&&this.randomNumber==i)return void this.onPlayBanner();this.banner.spriteFrame=this.bannerInfo[i]}else if(this.bannerLabel||this.bannerRichText){if(this.bannerData.playInOrder)(i=this.randomNumber+1)>=this.bannerLabelKeyInfo.length&&(i=0);else if(i=Math.floor(Math.random()*this.bannerLabelKeyInfo.length),this.bannerLabelKeyInfo.length>1&&this.randomNumber==i)return void this.onPlayBanner();var o=game.LanguageManager.getInstance().getDstStr(this.bannerLabelKeyInfo[i]);this.bannerLabel&&(this.bannerLabel.string=o,this.bannerLabel._forceUpdateRenderData()),this.bannerRichText&&(this.bannerRichText.string=o)}if(this.randomNumber=i,this.bannerNode.active=!0,this.banner2?(t=this.bannerNode.parent.width/2+this.bannerNode.width*this.bannerNode.scale/2+this.startPos+this.banner2.node.width,n=(this.bannerNode.width+this.banner2.node.width)*this.bannerNode.scale):(t=this.bannerNode.parent.width/2+this.bannerNode.width*this.bannerNode.scale/2+this.startPos,n=this.bannerNode.width*this.bannerNode.scale),n<=this.bannerNode.parent.width)this.bannerNode.setPosition(0,0),this.banner2&&(this.bannerNode.setPosition(this.bannerNode.width*this.bannerNode.scale/2-n/2,0),this.banner2.node.setPosition(this.banner2.node.width/2+this.bannerNode.width*this.bannerNode.scale/2,0)),this.scheduleOnce(function(){e.onPlayBanner()},5);else{var a=this.bannerNode.width*this.bannerNode.scale/2-this.bannerNode.parent.width/2+this.startPos;this.bannerNode.setPosition(a,0),this.banner2&&this.banner2.node.setPosition(this.banner2.node.width/2+this.bannerNode.width*this.bannerNode.scale/2,0),this.tween=cc.tween(this.bannerNode).delay(this.waitDuration).to(this.duration,{x:-t}).delay(.5).call(function(){e.onPlayBanner()}).start()}},t.prototype.onStopBanner=function(e,t){0!=t&&(u.default.instance.freeGameInfo&&u.default.instance.freeGameInfo.type==r.OperationState.ReSpin||e!=s.GameEventNames.EVENT_FREE_GAME_TRIGGERED)&&(this.unscheduleAllCallbacks(),this.tween&&this.tween.stop(),this.bannerNode.active=!1)},t.prototype.setRichTextImageAtlas=function(e){this.bannerRichText&&e&&(this.bannerRichText.imageAtlas=e)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_SLOT_BANNER_SETINFO,this.setInfo,this),game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_START_ROLLING,this.initBanner,this),game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_SLOT_BANNER_START,this.initBanner,this),game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_SLOT_BANNER_STOP,this.onStopBanner,this),game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_UPDATE_WINSCORE,this.onStopBanner,this),game.EventManager.getInstance().removeEventListener(s.GameEventNames.EVENT_FREE_GAME_TRIGGERED,this.onStopBanner,this)},a([f({type:cc.Sprite,tooltip:"\u8dd1\u9a6c\u706f\u8282\u70b9\uff08\u662fsprite\u7c7b\u578b\uff09",visible:function(){return!this.bannerLabel&&!this.bannerRichText}})],t.prototype,"banner",void 0),a([f({type:cc.Label,tooltip:"\u8dd1\u9a6c\u706f\u8282\u70b9(\u662flabel\u7c7b\u578b)",visible:function(){return!this.banner&&!this.bannerRichText}})],t.prototype,"bannerLabel",void 0),a([f({type:cc.RichText,tooltip:"\u8dd1\u9a6c\u706f\u8282\u70b9(\u662fRichText\u5bcc\u6587\u672c\u7c7b\u578b)",visible:function(){return!this.banner&&!this.bannerLabel}})],t.prototype,"bannerRichText",void 0),a([f({tooltip:"\u4ece \u8d77\u70b9\u5230\u7ec8\u70b9\u7684\u65f6\u95f4 \u5355\u4f4d\uff1a\u79d2"})],t.prototype,"duration",void 0),a([f({tooltip:"\u505c\u5728\u4e2d\u95f4\u5c55\u793a\u7684\u65f6\u95f4"})],t.prototype,"waitDuration",void 0),a([f({tooltip:"\u8d77\u59cbX\u4f4d\u7f6e\u9ed8\u8ba40"})],t.prototype,"startPos",void 0),a([d],t)}(c.default);n.default=m,cc._RF.pop()},{"../score/script/ScoreBase":"ScoreBase","../slot_common/common/utils/GData":"GData","../slot_common/main/BaseView":"BaseView","../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","./../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","./../slot_common/slotMachine/script/SlotDefinitions/SlotEnum":"SlotEnum"}],SlotConfigManager:[function(e,t,n){"use strict";cc._RF.push(t,"343b4qvsNhNVIymbaBIgjGV","SlotConfigManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotData/DataPayLine"),o=e("../SlotData/DataElement"),a=e("../SlotData/DataFreeLines"),r=e("../SlotData/DataGame"),s=e("../SlotData/DataRoller"),l=e("../SlotData/SDictionary"),c=e("../SlotData/DataFreeRoller"),u=e("../SlotData/DataSlotRandomGrid"),p=function(){function e(){this._dataGame=null,this._dataPayLine=null,this._dataElement=null,this._dataRoller=null,this._dataFreeRoller=null,this._dataSlotRandomGrid=null,this._dataPos=null,this._lineCostList=[],this._autoTimesList=[],this._totalLineIds=[],this._rewardsEffectsConditions=[],this._winAnimationConditionMap={},this._registeredJPTypes=[],this._lineValueMultiples=[],this._lineRates=[],this.configMap=null,this._isMultipleGame=!1,this.dataGridMap=null,this._gridShape=[],this.configMap=new l.SDictionary,this.dataGridMap=new l.SDictionary,this._gameIDs=[]}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(e){if(e instanceof Array)this.initDataGame(e),this._initConf(),this._initMinMaxLine(),this._initWinAnimationCondition(),this._initLineCostInfo(),this._initAutoTimesInfo(),this._initPayLineIds(),this._initRewardsEffectsCondition(),this._initlineValueMultiples(),this._initLineLineRate(),this._initRateGap(),this._initGridShape();else{for(var t in e)this.configMap.set(t,e[t]);this.changeGameID(this.gameID)}},e.prototype.initDataGame=function(e){for(var t in console.log("initDataGame"),e)"DataGame"==e[t]._name&&(r.default.instance.conf=e[t].json),"DataPayLine"==e[t]._name&&(i.default.instance.conf=e[t].json),"DataElement"==e[t]._name&&(o.default.instance.conf=e[t].json),"DataFreeLines"==e[t]._name&&(a.default.instance.conf=e[t].json),"DataRoller"==e[t]._name&&(s.default.instance.conf=e[t].json),"DataFreeRoller"==e[t]._name&&(c.default.instance.conf=e[t].json),"DataSlotRandomGrid"==e[t]._name&&(u.default.instance.conf=e[t].json)},e.prototype.getDataGameByGameID=function(e){var t=this.configMap.get(e);for(var n in t)if("DataGame"==t[n]._name)return t[n].json.data[e]},e.prototype.changeGameID=function(e){var t=this.configMap.get(e);this.gameID=e,t&&(this.initDataGame(t),this._initConf(),this._initMinMaxLine(),this._initWinAnimationCondition(),this._initLineCostInfo(),this._initAutoTimesInfo(),this._initPayLineIds(),this._initRewardsEffectsCondition(),this._initlineValueMultiples(),this._initLineLineRate(),this._initRateGap(),this._initGridShape())},e.prototype._initConf=function(){this._dataGame=r.default.instance,this._dataPayLine=i.default.instance,this._dataElement=o.default.instance,this._dataFreePayLine=a.default.instance,this._dataRoller=s.default.instance,this._dataFreeRoller=c.default.instance,this._dataSlotRandomGrid=u.default.instance},e.prototype._initMinMaxLine=function(){this._gameID||(this._gameID=core.Global.gameId),this._maxLineNum=this._dataGame.getData(this._gameID).maxLines,this._minLineNum=this._dataGame.getData(this._gameID).minLines},e.prototype._initWinAnimationCondition=function(){this._winAnimationConditionMap={};for(var e=this._dataGame.getData(this.gameID).winningAnimationConditions,t=0,n=e.length;t<n;++t)this._winAnimationConditionMap[e[t].winningType]=e[t].rate},e.prototype._initLineCostInfo=function(){var e=this.DataGame.getData(this.gameID);if(!e)return this._lineCostList=[];this._lineCostList=e.lineValue},e.prototype._initAutoTimesInfo=function(){var e=this.DataGame.getData(this.gameID);this._autoTimesList=e.autoSpinTimes},e.prototype._initPayLineIds=function(){this._totalLineIds=this.DataPayLine.getIds()},e.prototype._initRewardsEffectsCondition=function(){var e=this.DataGame.getData(this.gameID);this._rewardsEffectsConditions=e.winningAnimationConditions},e.prototype._initlineValueMultiples=function(){var e=this.DataGame.getData(this.gameID);this._lineValueMultiples=e.lineValueMultiple||[]},e.prototype._initLineLineRate=function(){var e=this.DataGame.getData(this.gameID);this._lineRates=e.lineRate||[]},e.prototype._initRateGap=function(){var e=this.DataGame.getData(this.gameID),t=e.rateXulie&&JSON.parse(e.rateXulie);this._rateGaps=t&&t.map(function(e){return{size:e[0],level:e[1]}})||[]},e.prototype._initGridShape=function(){var e=this.DataGame.getData(this.gameID),t=e.gridShape&&JSON.parse(e.gridShape);this._gridShape=t||[]},Object.defineProperty(e.prototype,"DataPayLine",{get:function(){return this._dataPayLine},set:function(e){this._dataPayLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataFreePayLine",{get:function(){return this._dataFreePayLine},set:function(e){this._dataFreePayLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataGame",{get:function(){return this._dataGame?this._dataGame:(this._dataGame=r.default.instance,this._dataGame)},set:function(e){this._dataGame=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataElement",{get:function(){return this._dataElement},set:function(e){this._dataElement=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataRoller",{get:function(){return this._dataRoller},set:function(e){this._dataRoller=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataFreeRoller",{get:function(){return this._dataFreeRoller},set:function(e){this._dataFreeRoller=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataSlotRandomGrid",{get:function(){return this._dataSlotRandomGrid},set:function(e){this._dataSlotRandomGrid=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"DataPos",{get:function(){return this._dataPos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineCostList",{get:function(){return this._lineCostList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoTimesList",{get:function(){return this._autoTimesList},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalLineIds",{get:function(){return this._totalLineIds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineNum",{get:function(){return this._maxLineNum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minLineNum",{get:function(){return this._minLineNum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rewardsEffectsConditions",{get:function(){return this._rewardsEffectsConditions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineValueMultiples",{get:function(){return this._lineValueMultiples},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rateGaps",{get:function(){return this._rateGaps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineRates",{get:function(){return this._lineRates},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameID",{get:function(){return this._gameID},set:function(e){this._gameID=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameIDs",{get:function(){return this._gameIDs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultGameID",{get:function(){return this._defaultGameID},set:function(e){this._defaultGameID=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gridShape",{get:function(){return this._gridShape},enumerable:!1,configurable:!0}),e.prototype.getWinAnimationCondition=function(e){return this._winAnimationConditionMap[e]},e.prototype.registerJPTypes=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e){var n=e.length;if(!(n<=0))for(var i=0;i<n;++i)this._registeredJPTypes.indexOf(e[i])>=0||this._registeredJPTypes.push(e[i])}},e.prototype.registerGameIds=function(e,t){this._gameIDs=e,this._defaultGameID=this._gameID=t,this._isMultipleGame=!0},Object.defineProperty(e.prototype,"isMultipleGame",{get:function(){return this._isMultipleGame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"registeredJPTypes",{get:function(){return this._registeredJPTypes},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._dataGame=null,this._dataPayLine=null,this._dataFreePayLine=null,this._dataElement=null,this._dataRoller=null,this._dataPos=null,this._lineCostList,this._autoTimesList=null,this._totalLineIds.length=null,this._rewardsEffectsConditions=null,this._winAnimationConditionMap=null},e._instance=null,e}();n.default=p,cc._RF.pop()},{"../SlotData/DataElement":"DataElement","../SlotData/DataFreeLines":"DataFreeLines","../SlotData/DataFreeRoller":"DataFreeRoller","../SlotData/DataGame":"DataGame","../SlotData/DataPayLine":"DataPayLine","../SlotData/DataRoller":"DataRoller","../SlotData/DataSlotRandomGrid":"DataSlotRandomGrid","../SlotData/SDictionary":"SDictionary"}],SlotEnum:[function(e,t,n){"use strict";cc._RF.push(t,"5e1c5nsbh5A8JJIEsTtHljb","SlotEnum"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameMode=n.RewardsType=n.OperationState=n.RollingDirection=n.WinType=n.SoundAssetsConfig=n.WinJPPoolInjectPoint=n.DrawLineType=n.SlotOrientation=void 0,function(e){e[e.Landscape=1]="Landscape",e[e.Portrait=2]="Portrait"}(n.SlotOrientation||(n.SlotOrientation={})),function(e){e[e.Draw=1]="Draw",e[e.Picture=2]="Picture"}(n.DrawLineType||(n.DrawLineType={})),function(e){e[e.BeforeAnimation=1]="BeforeAnimation",e[e.AfterAnimation=2]="AfterAnimation"}(n.WinJPPoolInjectPoint||(n.WinJPPoolInjectPoint={})),function(e){e.GAME_BACK_MUSIC="GAME_BACK_MUSIC",e.SPIN_BUTTON_SOUND="SPIN_BUTTON_SOUND",e.FREE_GAME_BACK_MUSIC="FREE_GAME_BACK_MUSIC",e.BOUNS_GAME_BACK_MUSIC="BOUNS_GAME_BACK_MUSIC",e.REEL_SPIN_SOUND="REEL_SPIN_SOUND",e.REEL_STOP_SOUND="REEL_STOP_SOUND",e.REEL_QUICK_SOUND="REEL_SPIN_QUICK",e.BET_PLUS_BUTTON="BET_PLUS_BUTTON",e.BET_MINUS_BUTTON="BET_MINUS_BUTTON",e.CLICK_REEL_STOP="CLICK_REEL_STOP",e.Free_Start_Sound="Free_Start_Sound",e.Bonus_Game_Start_Sound="Bonus_Game_Start_Sound",e.CURRENCY_BUTTON="CURRENCY_BUTTON",e.PRIZE_NORMAL="PRIZE_NORMAL",e.PRIZE_LITTLE="PRIZE_LITTLE",e.PRIZE_MID="PRIZE_MID",e.PRIZE_BIG="PRIZE_BIG",e.PRIZE_5="PRIZE_5",e.REEL_START="REEL_START",e.PRIZE_END="PRIZE_END",e.Prize_Coin="Prize_Coin",e.Prize_rool_num="Prize_rool_num",e.LINE_CHANGE_SOUND="LINE_CHANGE_SOUND",e.JACKPOT_OPEN="JACKPOT_OPEN",e.JACKPOT_START="JACKPOT_START",e.GOLD_ROLL="GOLD_ROLL"}(n.SoundAssetsConfig||(n.SoundAssetsConfig={})),function(e){e[e.None=0]="None",e[e.Normal=1]="Normal",e[e.Small=2]="Small",e[e.Middle=3]="Middle",e[e.Great=4]="Great",e[e.FullLine=6]="FullLine",e[e.ContinusUnHitted=7]="ContinusUnHitted",e[e.BonusGame=8]="BonusGame",e[e.BonusGameGainRewards=9]="BonusGameGainRewards",e[e.BonusGameOver=10]="BonusGameOver",e[e.FreeGameTriggered=11]="FreeGameTriggered"}(n.WinType||(n.WinType={})),function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(n.RollingDirection||(n.RollingDirection={})),function(e){e[e.None=0]="None",e[e.Normal=1]="Normal",e[e.Free=2]="Free",e[e.ReSpin=3]="ReSpin",e[e.BonusGame=4]="BonusGame",e[e.UnchangeableBet=5]="UnchangeableBet"}(n.OperationState||(n.OperationState={})),function(e){e[e.Coin=0]="Coin",e[e.FreeGameQuantity=1]="FreeGameQuantity",e[e.ResultRateAccFactor=2]="ResultRateAccFactor",e[e.ResultRateSetting=3]="ResultRateSetting",e[e.RandomWild=4]="RandomWild",e[e.RandomScatter=5]="RandomScatter",e[e.SpecifyReel=6]="SpecifyReel",e[e.ElementResultRateEffect=7]="ElementResultRateEffect",e[e.ElementFreeQuantityEffect=8]="ElementFreeQuantityEffect",e[e.ElementFixedPos=9]="ElementFixedPos",e[e.AddingChoice=10]="AddingChoice",e[e.AddingResultRate=11]="AddingResultRate",e[e.CollectionAddingFreeQuantity=12]="CollectionAddingFreeQuantity",e[e.CollectionAddingCoin=14]="CollectionAddingCoin",e[e.AddingCoinRate=15]="AddingCoinRate",e[e.MagicalSymbol=17]="MagicalSymbol",e[e.CoinFactor=18]="CoinFactor",e[e.BonusGame=20]="BonusGame"}(n.RewardsType||(n.RewardsType={})),function(e){e[e.Develop=1]="Develop",e[e.Release=2]="Release"}(n.GameMode||(n.GameMode={})),cc._RF.pop()},{}],SlotGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"6c805Wds2xLkaH+C0+lzr5E","SlotGameManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./SlotConfigManager"),o=e("./GlobalQueueManager"),a=e("./PlayerManager"),r=e("./SpinManager"),s=e("./BonusGameManager"),l=e("./FreeGameManager"),c=e("./SlotTimeManager"),u=e("../SlotConfigs/GameEventNames"),p=e("../../../network/SlotProtoManager"),h=e("../../../common/utils/GData"),d=e("./MultipleGameManager"),f=e("../MainView/SpinElementManager"),m=e("./JackPotGameManager"),g=e("../Scroller/lines/JTLineRenderUtils"),_=function(){function e(){this.resRealyList={comConfig:!1,gmConfig:!0,gameRes:!1,extRes:!1,defaultRes:!1},this._isInfoBack=!1,this.isEnterRommSucess=!1,this.isFirstEnterRoom=!0,this.netNode=null,this.isNewRoom=!1,this.hasInit=!1}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){game.EventManager.getInstance().addEventListener(u.GameEventNames.EVENT_LAST_GAME_INFO_GET,this.onInfoResq,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netEnterRoom,this.enterNormalRoom,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netCreateRoom,this.enterNewRoom,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netJionRoom,this.enterNewRoom,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netChangeRoom,this.enterNewRoom,this)},e.prototype.start=function(e,t){var n=this;this._isInfoBack=!1,this._callback=e,this._caller=t,this._gameAtlas=null;var i=h.GData.getParameter("slotMachine").slotMachine;this.resRealyList.defaultRes=!0,g.default.loadDefaultLineAsset(),i.extRes&&i.extRes.length>0?game.ResLoader.getInstance().loadRes(i.extRes,cc.SpriteFrame,function(){n.resRealyList.extRes=!0,n.loadSigleComplete()},h.GData.bundleName,"extRes"):this.resRealyList.extRes=!0;var o=i.cardRes,a=i.cardResLang,r=h.GData.curLanguage;a&&(a[r]?o=o.concat(a[r]):a.en&&(o=o.concat(a.en))),this.resRealyList.comConfig&&this.isEnterRommSucess&&this.begin(),game.ResLoader.getInstance().loadRes(o,cc.SpriteAtlas,function(e,t){n.resRealyList.gameRes=!0,n._cardRes=t,n.loadSigleComplete(),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"cardRes")},h.GData.bundleName,"slot")},e.prototype.loadConfig=function(){var e=this;return console.log("load config"),new Promise(function(t){var n=h.GData.getParameter("slotMachine").slotMachine.confList,o=[];o.push(core.Global.gameId);for(var a=function(e){for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e==Number(t))return o.push(e),!0;return!1},r=1;a(10*core.Global.gameId+r);)r+=1;o.length>1&&i.default.instance.registerGameIds(o,core.Global.gameId);var s=i.default.instance.gameIDs;if(s&&s.length>0){for(var l=0,c=s;l<c.length;l++){var p=c[l];e.resRealyList[p]=!1}for(var d=0,f=function(o){var a=n[o];e._configdata={},game.ResLoader.getInstance().loadRes(a,cc.JsonAsset,function(n,a){d++,e._configdata[o]=a,d==s.length&&(e.resRealyList.comConfig=!0,i.default.instance.init(e._configdata),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"dataConfig"),t())},h.GData.bundleName,"slot")},m=0,g=s;m<g.length;m++)f(g[m])}else{var _;_=n instanceof Array?n:n[core.Global.gameId],game.ResLoader.getInstance().loadRes(_,cc.JsonAsset,function(n,o){e.resRealyList.comConfig=!0,e._configdata=o,i.default.instance.init(e._configdata),game.EventManager.getInstance().raiseEvent(u.GameEventNames.EVENT_LOAD_SINGLE_ASSET_COMPLETE,"dataConfig"),t()},h.GData.bundleName,"slot")}})},e.prototype.enterNormalRoom=function(e,t,n){if(this.netNode=game.NetManager.getInstance().getNetNode(),!n){if(!this.isFirstEnterRoom)return game.EventManager.getInstance().raiseEvent(u.GameEventNames.RESETROOMSTATE),void this.reEnterRoomSuccess();this.isEnterRommSucess=!0,this.resRealyList.comConfig}},e.prototype.reEnterRoomSuccess=function(){this.clear(),this.begin()},e.prototype.enterNewRoom=function(e,t,n){if(!n){if(this.isNewRoom=!0,!this.isFirstEnterRoom)return game.EventManager.getInstance().raiseEvent(u.GameEventNames.RESETROOMSTATE),void this.reEnterRoomSuccess();this.isEnterRommSucess=!0,1==this.resRealyList.comConfig&&this.begin()}},e.prototype.begin=function(){this.hasInit||(this.hasInit=!0,i.default.instance.init(this._configdata),m.default.instance.init(),d.default.instance.init(),o.default.instance.init(),c.default.instance.init(),a.default.instance.init(),r.default.instance.init(),s.default.instance.init(),l.default.instance.init(),core.CommonProto.getInstance().readyReq(),p.default.getInstance().requestLastGameInfo(),f.default.instance.init())},e.prototype.getCardByName=function(e){for(var t=0,n=this._cardRes;t<n.length;t++){var i=n[t].getSpriteFrame(e);if(i)return i}},e.prototype.loadSigleComplete=function(){this.isNewRoom&&(this.isNewRoom=!1),this.resRealyList.extRes&&this.resRealyList.comConfig&&this.resRealyList.gameRes&&this.resRealyList.defaultRes&&this._isInfoBack&&this._callback&&(this._isInfoBack=!1,this._callback.call(this._caller),this._callback=null,this.isFirstEnterRoom=!1)},e.prototype.onInfoResq=function(){this._isInfoBack=!0,this.loadSigleComplete(),p.default.getInstance().rollerModeDataReq()},Object.defineProperty(e.prototype,"gmConfigData",{get:function(){return this._gmConfigData},enumerable:!1,configurable:!0}),e.prototype.clear=function(){},e._instance=null,e}();n.default=_,cc._RF.pop()},{"../../../common/utils/GData":"GData","../../../network/SlotProtoManager":"SlotProtoManager","../MainView/SpinElementManager":"SpinElementManager","../Scroller/lines/JTLineRenderUtils":"JTLineRenderUtils","../SlotConfigs/GameEventNames":"GameEventNames","./BonusGameManager":"BonusGameManager","./FreeGameManager":"FreeGameManager","./GlobalQueueManager":"GlobalQueueManager","./JackPotGameManager":"JackPotGameManager","./MultipleGameManager":"MultipleGameManager","./PlayerManager":"PlayerManager","./SlotConfigManager":"SlotConfigManager","./SlotTimeManager":"SlotTimeManager","./SpinManager":"SpinManager"}],SlotInit:[function(e,t,n){"use strict";cc._RF.push(t,"89c9diEnYdJX4+9qrkx5ccw","SlotInit"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../slot_common/common/layer/LayerManage"),o=e("../../slot_common/common/utils/GData"),a=e("../../slot_common/common/utils/Layout"),r=e("../../slot_common/common/utils/Property"),s=e("../../slot_common/slotMachine/script/SlotManager/SlotGameManager"),l=e("./CommonConst"),c=e("./LoadingView"),u=e("./RemoteLoading"),p=function(){function e(){this.blurryBgNode=null}return e.prototype.init=function(){var e=this,t=cc.Canvas.instance.node;t.getComponent(cc.Mask)||t.addComponent(cc.Mask),cc.view.resizeWithBrowserSize(!0),cc.debug.setDisplayStats(!1),o.GData.skinId=core.Global.skinId,o.GData.startLoad("game_"+core.Global.clientGameId,function(){s.default.instance.loadConfig().then(function(){e.loadAssetBundle("slot","slotLib",function(){e.loadConfigComplete()})})}),game.EventManager.getInstance().addEventListener(l.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.closeLoadingView,this),window.loadingConfig&&window.loadingConfig.useRemoteLoading?cc.sys.isMobile&&(game.EventManager.getInstance().addEventListener(game.Const.mess_windowResize,this.isShowRecordDetail,this),this.isShowRecordDetail()):(game.EventManager.getInstance().addEventListener(game.Const.mess_windowResize,this.layout,this),this.layout())},e.prototype.isShowRecordDetail=function(){var e=cc.view.getCanvasSize(),t=e.width>=e.height;core.CoreUtils.isShowRecordDetail(!t)},e.prototype.loadConfigComplete=function(){var e=this;this.setLanguage(),o.GData.getParameter("main").isUseAssetBundle?this.loadAssetBundle(o.GData.bundleName,"slot",function(){e.addLoadingView()}):this.addLoadingView()},e.prototype.addBlurryeBG=function(){var e=this;this.blurryBgNode=new cc.Node,this.blurryBgNode.parent=cc.Canvas.instance.node.parent,this.blurryBgNode.setSiblingIndex(0);var t=o.GData.getParameter("main").blurryUrl;r.Property.setSpriteProperty(this.blurryBgNode.addComponent(cc.Sprite),{spriteFrame:t},null,function(t){e.blurryLoadOver(t),e.layout()}.bind(this))},e.prototype.loadAssetBundle=function(e,t,n){var i=window.gameConfig.bundleUrls[e]||"1.0.0",o=window.gameConfig.pluginsDir+"/"+e+"/"+i+"/"+e+"_assets";if(window.gameConfig.gameType==t)return o=e+"_assets",void cc.assetManager.loadBundle(o,{},function(t){t?(console.log("\u65e0\u914d\u7f6e"+e+"_assets"),n&&n()):n&&n()});var a=new XMLHttpRequest;a.open("get",o+"/bundleVer.json?ver="+(new Date).getTime()),a.send(null),a.onload=function(){if(200==a.status){var t={version:JSON.parse(a.responseText).version};cc.assetManager.loadBundle(o,t,function(t){t?(console.log("\u65e0\u914d\u7f6e"+e+"_assets"),n&&n()):n&&n()})}}},e.prototype.addLoadingView=function(){var e=this;if(window.loadingConfig&&window.loadingConfig.useRemoteLoading){var t=new cc.Node("RemoteLoading");t.addComponent(u.default),cc.Canvas.instance.node.addChild(t),this.addRotatetip()}else game.ResLoader.getInstance().loadRes("main/prefabs/loading",cc.Prefab,function(t,n){var o=cc.instantiate(n);cc.Canvas.instance.node.addChild(o),o.zIndex=i.LayerManage.top-1,o.getComponent(c.default).init(),e.loadingViewComplete(),e.addBlurryeBG(),e.layout()},"slot","")},e.prototype.loadingViewComplete=function(){this.addRotatetip()},e.prototype.blurryLoadOver=function(e){if(this.blurryBgNode){var t=cc.view.getCanvasSize();if(e){var n=e.spriteFrame.getOriginalSize();this.blurryBgNode.width=n.width,this.blurryBgNode.height=n.height}this.blurryBgNode.setPosition(cc.Canvas.instance.node.x,cc.Canvas.instance.node.y);var i=cc.view.getDesignResolutionSize(),o=Math.min(t.width/i.width,t.height/i.height),a=this.blurryBgNode.width*o,r=this.blurryBgNode.height*o;this.blurryBgNode.scale=Math.max(t.width/a,t.height/r)}},e.prototype.closeLoadingView=function(){game.EventManager.getInstance().removeEventListener(l.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.closeLoadingView,this),this.layout(),this.blurryBgNode&&this.blurryBgNode.setSiblingIndex(0)},e.prototype.setLanguage=function(){var e,t="language/config/TexturesLangConf",n=((e={})[game.LanguageType.ZH]=[{bundleName:"slot",path:t}],e[game.LanguageType.DA]=[{bundleName:"slot",path:t}],e[game.LanguageType.DE]=[{bundleName:"slot",path:t}],e[game.LanguageType.EN]=[{bundleName:"slot",path:t}],e[game.LanguageType.ES]=[{bundleName:"slot",path:t}],e[game.LanguageType.FI]=[{bundleName:"slot",path:t}],e[game.LanguageType.FR]=[{bundleName:"slot",path:t}],e[game.LanguageType.ID]=[{bundleName:"slot",path:t}],e[game.LanguageType.IT]=[{bundleName:"slot",path:t}],e[game.LanguageType.JA]=[{bundleName:"slot",path:t}],e[game.LanguageType.KO]=[{bundleName:"slot",path:t}],e[game.LanguageType.MY]=[{bundleName:"slot",path:t}],e[game.LanguageType.NL]=[{bundleName:"slot",path:t}],e[game.LanguageType.NO]=[{bundleName:"slot",path:t}],e[game.LanguageType.PL]=[{bundleName:"slot",path:t}],e[game.LanguageType.PT]=[{bundleName:"slot",path:t}],e[game.LanguageType.RO]=[{bundleName:"slot",path:t}],e[game.LanguageType.RU]=[{bundleName:"slot",path:t}],e[game.LanguageType.SV]=[{bundleName:"slot",path:t}],e[game.LanguageType.TH]=[{bundleName:"slot",path:t}],e[game.LanguageType.TR]=[{bundleName:"slot",path:t}],e[game.LanguageType.VI]=[{bundleName:"slot",path:t}],e);game.BaseLangConf.getInstance().mergeLangConf(n);var i=game.BaseLangConf.getInstance().getLangConf();game.LanguageManager.getInstance().initLangConf(i);var a=o.GData.getParameter("main").languages||[],r=core.CoreUtils.getCurLanguage(),s=a.includes(r)?r:game.LanguageType.EN;game.LanguageManager.getInstance().initLangMap(s,function(){console.log("\u5f02\u6b65\u52a0\u8f7djson\uff0c\u5e76\u751f\u6210\u4e2d\u6587\u952e\u503c\u5bf9\u6210\u529f")})},e.prototype.addRotatetip=function(){var e=this;cc.sys.isMobile&&game.ResLoader.getInstance().loadRes("main/prefabs/rotateTip",cc.Prefab,function(t,n){var i=cc.instantiate(n);cc.Canvas.instance.node.parent.addChild(i),i.zIndex=999999;var o=cc.view.getCanvasSize(),a=o.width>=o.height;i.active=a,e.layout()},"slot","")},e.prototype.layout=function(){var e=this;if(!window.loadingConfig||!window.loadingConfig.useRemoteLoading){cc.Canvas.instance.node.getComponent(cc.Widget).updateAlignment();var t=cc.view.getCanvasSize(),n=t.width/t.height,i=t.width>=t.height;i||(n=t.height/t.width);var o=.821;i?cc.view.setDesignResolutionSize(a.Layout.canvasH,a.Layout.canvasW*o,cc.ResolutionPolicy.SHOW_ALL):n<16/9?cc.view.setDesignResolutionSize(a.Layout.canvasH,a.Layout.canvasW*o,cc.ResolutionPolicy.SHOW_ALL):n<a.Layout.canvasW/a.Layout.canvasH?(o=n/(a.Layout.canvasW/a.Layout.canvasH),cc.view.setDesignResolutionSize(a.Layout.canvasH,a.Layout.canvasW*o,cc.ResolutionPolicy.SHOW_ALL)):(o=1,cc.view.setDesignResolutionSize(a.Layout.canvasH,a.Layout.canvasW*o,cc.ResolutionPolicy.SHOW_ALL)),setTimeout(function(){e.blurryLoadOver()},50),cc.sys.isMobile&&core.CoreUtils.isShowRecordDetail(!i)}},e}();n.default=p,cc._RF.pop()},{"../../slot_common/common/layer/LayerManage":"LayerManage","../../slot_common/common/utils/GData":"GData","../../slot_common/common/utils/Layout":"Layout","../../slot_common/common/utils/Property":"Property","../../slot_common/slotMachine/script/SlotManager/SlotGameManager":"SlotGameManager","./CommonConst":"CommonConst","./LoadingView":"LoadingView","./RemoteLoading":"RemoteLoading"}],SlotListView:[function(e,t,n){"use strict";cc._RF.push(t,"250dfwFD4JL1ot43g48wm1D","SlotListView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([s],t)}(game.ListView));n.default=l,cc._RF.pop()},{}],SlotMController:[function(e,t,n){"use strict";cc._RF.push(t,"29b74c58i1Frrf/WWs6ZkK/","SlotMController");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([s],t)}(game.MController));n.default=l,cc._RF.pop()},{}],SlotMachineView:[function(e,t,n){"use strict";cc._RF.push(t,"7ac48Dt/ddCWKB4kQpolkjb","SlotMachineView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../SlotManager/SpinManager"),s=e("../SlotDefinitions/SlotEnum"),l=e("../SlotManager/FreeGameManager"),c=e("../SlotManager/GlobalQueueManager"),u=e("../SlotUtils/Handle"),p=e("../SlotManager/SlotConfigManager"),h=e("../Scroller/com/JTScrollerSettings"),d=e("../SlotConfigs/GameEventNames"),f=e("../SlotManager/PlayerManager"),m=e("../../../sound/script/SoundMger"),g=e("../../../common/enum/CommonEnum"),_=e("../SlotData/SDictionary"),y=e("../SlotManager/MultipleGameManager"),T=e("../Scroller/extensions/JTEffectContainer"),S=e("../Scroller/rules/JTRuleTaskType"),E=cc._decorator,v=E.ccclass,C=E.property,b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollContain=null,t.maskLayer=null,t._isContext=!1,t.isSetMask=!1,t._scroller=null,t.isRegisterControl=!0,t.scrollerMap=null,t._gameLayer=null,t._spinStopHandler=null,t._spinStartHandler=null,t._spinBeginHandler=null,t._spinCompleteHandler=null,t._lineIdComponent=null,t._isAutoFreeGame=!0,t._isManualSpinFistFreeGame=!1,t._isResetRewardAni=!0,t._isFreeGameAgain=!1,t._isLoopGlobalLines=!1,t._drawLineType=s.DrawLineType.Draw,t._drawPaneType=s.DrawLineType.Draw,t._maskWidthLandscape=0,t._maskHeightLandscape=0,t._maskHeightPortrait=0,t._maskWidthPortrait=0,t._spaceX=0,t._spaceY=0,t._gridRepeatX=5,t._gridRepeatY=3,t._gridWidth=140,t._gridHeight=140,t._showLineInterval=1500,t._playRenderInterval=0,t._showImageInterval=100,t._showLineDuration=0,t._needSlotMask=!0,t._orientation=s.SlotOrientation.Portrait,t._array=[],t._showLineOnceInAutoTime=!1,t._isGraphicsLineShowAni=!0,t._isJustLoopGlobalLines=!1,t._hideLinesOnLoop=!1,t._onShowGlobalLine=!1,t._normalRewardsAnimationHandler=null,t._greatRewardsAnimationHandler=null,t._middleRewardsAnimationHandler=null,t._smallRewardsAnimationHandler=null,t._fullLineAnimationHandler=null,t._settings=null,t.onPlayerRewardAni=!1,t._isAllAnimationCompleted=!0,t.cusParseTaskOverHandler=null,t._isRunCusParseOverHandler=!1,t.isFreeGameOver=!1,t._isRolling=!1,t.showAllLine=!0,t}var n;return o(t,e),n=t,Object.defineProperty(t.prototype,"scroller",{get:function(){return this._scroller},enumerable:!1,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,this._addEventListener(),console.log("slotmachine onload")},t.prototype.createScroller=function(){return this.gameLayer.createScoller()},t.prototype.createScrollers=function(){if(p.default.instance.isMultipleGame){this.scrollerMap=new _.SDictionary;for(var e=0,t=p.default.instance.gameIDs;e<t.length;e++){var n=t[e],i=this.createScroller();this.scrollerMap.set(n,i),i.gameID=n,i.bind(null,this)}this._scroller=this.scrollerMap.get(p.default.instance.gameID)}else this._scroller=this.createScroller(),this._scroller.gameID=p.default.instance.gameID,this._scroller.bind(null,this)},t.prototype.changeScrollerByGameID=function(e){p.default.instance.changeGameID(e),r.default.instance.lineNum=p.default.instance.maxLineNum;for(var t=0,n=p.default.instance.gameIDs;t<n.length;t++){var i=n[t],o=this.scrollerMap.get(i);e==i?(o.active=!0,o.enabled=!0,this._scroller=o,this._scroller.clear(),this._scroller.reRender(y.default.instance.nextGrid,y.default.instance.nextGridChanged),this._scroller.updateRenders(),this._scroller.resetLayerSort(),this._scroller.updateChangedChildsLayer([],!0),this.gameLayer.onChangeScrollerComplte(e,o),this.gameLayer.changeMaskPointByGameID(e),this.gameLayer.afterChangeScroller(e,o)):(o.active=!1,o.enabled=!1,o.clear(),o.reset())}l.default.instance.hasFreeGame||game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_UPDATE_WINSCORE,0,!1)},t.prototype.getScrollerByGameID=function(e){return this.scrollerMap.get(e)},Object.defineProperty(t.prototype,"gameLayer",{get:function(){return this._gameLayer},set:function(e){this._gameLayer=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isContext",{get:function(){return console.log("SlotMachineView.isContext has been expired"),this._isContext},set:function(e){console.log("SlotMachineView.isContext has been expired"),this._isContext=e},enumerable:!1,configurable:!0}),t.prototype.beginScrolling=function(e){this._spinStartHandler&&this._spinStartHandler.runWith([e.index])},t.prototype.getScroller=function(){return this._scroller},t.prototype.isEnabledMask=function(e){this.isSetMask&&(this.node.parent.getComponent(cc.Mask).enabled=e)},t.prototype.scrollingComplete=function(){var e=this;this._spinCompleteHandler&&this._spinCompleteHandler.run(),this._allStopped(),this.isEnabledMask(!1),!this.isRunCusParseOverHandler&&game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_SLOT_MACHINE_STOPPED),f.default.instance.syncShowingCoin(),this._isRolling=!1,game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_SLOT_RUN_STOPPED);var t=!(l.default.instance.hasFreeGame&&!l.default.instance.isTreateFreeOver);r.default.instance.invalidSpin?this.onParseTaskOver():this._scroller.parse(r.default.instance.flattenLineRewardsResults,function(){e.onParseTaskOver()},!1,t,!0,this.isLoopGlobalLines,this.isRunCusParseOverHandler)},t.prototype.scrollingProgress=function(e){var t=e.owner.isManualStop;p.default.instance.DataGame.getData(p.default.instance.gameID).column,this._stopCompleted([e.index,this,t])},t.prototype.dispose=function(){this._scroller&&this._scroller.destroy(),this._removeEventListener(),n._instance=null,this._spinStopHandler&&this._spinStopHandler.clear(),this._spinStopHandler=null,this._spinStartHandler&&this._spinStartHandler.clear(),this._spinStartHandler=null,this._spinBeginHandler&&this._spinBeginHandler.clear(),this._spinBeginHandler=null,this._spinCompleteHandler&&this._spinCompleteHandler.clear(),this._spinCompleteHandler=null,this._itemRenderHandler&&this._itemRenderHandler.clear(),this._itemRenderHandler=null,this._continuousNotWinHandler&&this._continuousNotWinHandler.clear(),this._continuousNotWinHandler=null,this._greatRewardsAnimationHandler&&this._greatRewardsAnimationHandler.clear(),this._greatRewardsAnimationHandler=null,this._middleRewardsAnimationHandler&&this._middleRewardsAnimationHandler.clear(),this._middleRewardsAnimationHandler=null,this._smallRewardsAnimationHandler&&this._smallRewardsAnimationHandler.clear(),this._smallRewardsAnimationHandler=null,this._fullLineAnimationHandler&&this._fullLineAnimationHandler.clear(),this._fullLineAnimationHandler=null,this._afterRender&&this._afterRender.clear(),this._afterRender=null,this._defaultNormalRewardsAnimationHandler&&this._defaultNormalRewardsAnimationHandler.clear(),this._defaultNormalRewardsAnimationHandler=null},Object.defineProperty(t.prototype,"drawLineType",{get:function(){return this._drawLineType},set:function(e){this._drawLineType=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineIdComponent",{get:function(){return this._lineIdComponent},set:function(e){this._lineIdComponent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAutoFreeGame",{get:function(){return this._isAutoFreeGame},set:function(e){this._isAutoFreeGame=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isManualSpinFistFreeGame",{get:function(){return this._isManualSpinFistFreeGame},set:function(e){this._isManualSpinFistFreeGame=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isResetRewardAni",{get:function(){return this._isResetRewardAni},set:function(e){this._isResetRewardAni=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFreeGameAgain",{get:function(){return this._isFreeGameAgain},set:function(e){this._isFreeGameAgain=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoopGlobalLines",{get:function(){return this._isLoopGlobalLines},set:function(e){this._isLoopGlobalLines=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"drawPaneType",{get:function(){return this._drawPaneType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskWidthLandscape",{get:function(){return this._maskWidthLandscape},set:function(e){this._maskWidthLandscape=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskHeightLandscape",{get:function(){return this._maskHeightLandscape},set:function(e){this._maskHeightLandscape=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskHeightPortrait",{get:function(){return this._maskHeightPortrait},set:function(e){this._maskHeightPortrait=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maskWidthPortrait",{get:function(){return this._maskWidthPortrait},set:function(e){this._maskWidthPortrait=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceX",{get:function(){return this._spaceX},set:function(e){this._spaceX=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceY",{get:function(){return this._spaceY},set:function(e){this._spaceY=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceXLandscape",{get:function(){return void 0!==this._spaceXLandscape?this._spaceXLandscape:this.spaceX},set:function(e){this._spaceXLandscape=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceYLandscape",{get:function(){return void 0!==this._spaceYLandscape?this._spaceYLandscape:this.spaceY},set:function(e){this._spaceYLandscape=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceXPortrait",{get:function(){return void 0!==this._spaceXPortrait?this._spaceXPortrait:this.spaceX},set:function(e){this._spaceXPortrait=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"spaceYPortrait",{get:function(){return void 0!==this._spaceYPortrait?this._spaceYPortrait:this.spaceY},set:function(e){this._spaceYPortrait=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridRepeatX",{get:function(){return this._gridRepeatX},set:function(e){this._gridRepeatX=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridRepeatY",{get:function(){return this._gridRepeatY},set:function(e){this._gridRepeatY=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridWidth",{get:function(){return this._gridWidth},set:function(e){this._gridWidth=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gridHeight",{get:function(){return this._gridHeight},set:function(e){this._gridHeight=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showLineInterval",{get:function(){return this._showLineInterval},set:function(e){this._showLineInterval=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playRenderInterval",{get:function(){return this._playRenderInterval},set:function(e){this._playRenderInterval=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showImageInterval",{get:function(){return this._showImageInterval},set:function(e){this._showImageInterval=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showLineDuration",{get:function(){return this._showLineDuration},set:function(e){this._showLineDuration=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"needSlotMask",{get:function(){return this._needSlotMask},set:function(e){this._needSlotMask=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"array",{get:function(){return this._array},set:function(e){this._array=e,this.lateRender()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemRenderHandler",{get:function(){return this._itemRenderHandler},set:function(e){this._itemRenderHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showLineOnceInAutoTime",{get:function(){return this._showLineOnceInAutoTime},set:function(e){this._showLineOnceInAutoTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasScrollOnSpeedRunning",{get:function(){if(this.scroller&&this.scroller.getRuleTask){var e=this.scroller.getRuleTask(S.default.SCATTER);if(e&&e.isRunning)return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isScrollOnSpeedRunning",{get:function(){return!!this.scroller&&this.scroller.isScrollOnSpeedRunning},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isGraphicsLineShowAni",{get:function(){return this._isGraphicsLineShowAni},set:function(e){this._isGraphicsLineShowAni=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isJustLoopGlobalLines",{get:function(){return this._isJustLoopGlobalLines},set:function(e){this._isJustLoopGlobalLines=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hideLinesOnLoop",{get:function(){return this._hideLinesOnLoop},set:function(e){this._hideLinesOnLoop=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onShowGlobalLine",{get:function(){return this._onShowGlobalLine},set:function(e){this._onShowGlobalLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"settings",{get:function(){return this._settings},enumerable:!1,configurable:!0}),t.prototype.startRolling=function(){this._scroller&&(this._scroller.isManualStopEnabled=!1),console.log("startrolling"),this._cancelDelayHideLine(),this._settings||(this._settings=new h.default),this._settings.updateMode(!r.default.instance.isInTurbo||l.default.instance.hasFreeGame),this.gameLayer.beforeScrollerStartRolling();var e=this.scroller.openItemIds,t=this.scroller.isOpenItems,n=this._settings.getRunSequence();t&&e&&e.length>0?this.scroller.launchItems(e,this._settings):n&&n.length>0?this._scroller.launchItemsBySequence(this._settings):this._scroller.launch(this._settings),this._spinBeginHandler&&this._spinBeginHandler.run(),this._stopPlaying()},t.prototype.rollingResultResp=function(){this._scroller.isManualStopEnabled=!0;var e=r.default.instance.rollingResult.spinResult;this._scroller.onUpdate(e.grid,e.gridChanged,e.realGridShape,e.realGridShapeChanged,e.occupyPosList,e.occupyPosListChanged),this._scroller.runningRuleTasks(),this._scroller.rendersDataReady(),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_GET_ROLLING_RESULT_RESP)},t.prototype.resetScroller=function(){this._scroller&&(this._scroller.reset(),this._scroller.clear()),this.gameLayer&&this.gameLayer.onResetScroller()},t.prototype.setupScrollerSettings=function(e){this._settings=e},t.prototype.addExtralRunningTime=function(e){this.scroller.addRunningTime(e)},t.prototype.onSpinStop=function(e,t,n){this._spinStopHandler=u.Handler.create(e,t,n,!1)},t.prototype.onSpinStart=function(e,t,n){this._spinStartHandler=u.Handler.create(e,t,n,!1)},t.prototype.onSpinBegin=function(e,t,n){this._spinBeginHandler=u.Handler.create(e,t,n,!1)},t.prototype.onSpinComplete=function(e,t,n){this._spinCompleteHandler=u.Handler.create(e,t,n,!1)},t.prototype.onContinuousNotWinAnimation=function(e,t,n){this._continuousNotWinHandler=u.Handler.create(this,function(i,o){r.default.instance.resetUnHitTimes();var a=[];n&&(a=a.concat(n)),a.push(i),a.push(o),t.apply(e,a)},null,!1)},t.prototype.onNormalRewardsAnimation=function(e,t,n){this._normalRewardsAnimationHandler=u.Handler.create(this,function(i,o){var a=[];n&&(a=a.concat(n)),a.push(i),a.push(o),t.apply(e,a)},null,!1)},t.prototype.onFullLineAnimation=function(e,t,n){void 0===n&&(n=[]),this._fullLineAnimationHandler=u.Handler.create(this,function(i){var o=[];n&&(o=o.concat(n)),o.push(i),t.apply(e,o)},null,!1)},t.prototype.onGreatRewardsAnimation=function(e,t,n){this._greatRewardsAnimationHandler=u.Handler.create(this,function(i,o){var a=[];n&&(a=a.concat(n)),a.push(i),a.push(o),t.apply(e,a)},null,!1)},t.prototype.onMiddleRewardsAnimation=function(e,t,n){this._middleRewardsAnimationHandler=u.Handler.create(this,function(i,o){var a=[];n&&(a=a.concat(n)),a.push(i),a.push(o),t.apply(e,a)},null,!1)},t.prototype.onSmallRewardsAnimation=function(e,t,n){this._smallRewardsAnimationHandler=u.Handler.create(this,function(i,o){var a=[];n&&(a=a.concat(n)),a.push(i),a.push(o),t.apply(e,a)},null,!1)},t.prototype.onRewardAnimation=function(e,t,n,i){var o=this;console.log("onRewardAnimation",e,t,n,i);var a=!1,r=u.Handler.create(this,function(){i&&i.run(),o.onPlayerRewardAni=!1,game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_MENBTS_SETSTATE,{state:!0,num:1}),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_AUTOBTN_SETSTATE,!0),o.gameLayer.showNormalRewardTip(t),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE)});switch(n){case s.WinType.Great:a=!0,this._greatRewardsAnimationHandler&&this._greatRewardsAnimationHandler.runWith([t,r]);break;case s.WinType.Middle:a=!0,this._middleRewardsAnimationHandler&&this._middleRewardsAnimationHandler.runWith([t,r]);break;case s.WinType.Small:a=!0,this._smallRewardsAnimationHandler&&this._smallRewardsAnimationHandler.runWith([t,r]);break;case s.WinType.Normal:a=!0,this._normalRewardsAnimationHandler?this._normalRewardsAnimationHandler.runWith([t,r]):this.gameLayer.showNormalRewardTip(t);break;case s.WinType.ContinusUnHitted:this._continuousNotWinHandler&&this._continuousNotWinHandler.runWith([t,i]);break;default:i&&i.run()}a?(this.onPlayerRewardAni=!0,game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_MENBTS_SETSTATE,{state:!1,num:1}),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_AUTOBTN_SETSTATE,!1)):game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_MENBTS_SETSTATE,{state:!0,num:1})},t.prototype.onItemRender=function(){console.log("SlotMachineView.onItemRender has expired")},t.prototype.afterRender=function(e,t,n){this._afterRender=u.Handler.create(e,t,n)},t.prototype.getPosByIndex=function(e){return this._scroller.getRenderPoint(e)},t.prototype.getSpinPosByIndex=function(e){var t=this._scroller.getItem(e);return new cc.Vec2(t.sourceX,t.sourceY)},t.prototype.addEffect=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=cc.v2(0,0));var o=this._scroller.effectAboveContainer,a=this._scroller.effectBelowContainer;if(e){e.parent&&e.removeFromParent();var r=n?o:a;if(r)if(r instanceof T.default){var s=this.scroller.getRenderPointLandscape(t),l=this.scroller.getRenderPointPortrait(t);r.setupChild(e,s.x+i.x,s.y-this.gridHeight/2+i.y,l.x+i.x,l.y-this.gridHeight/2+i.y)}else{r.addChild(e);var c=this.getPosByIndex(t);c?(e.x=c.x+i.x,e.y=c.y-this.gridHeight/2+i.y):(e.x=i.x,e.y=this.gridHeight/2+i.y,console.warn("can not find pos by index:",t))}return e}},t.prototype.lateRender=function(){this.render()},t.prototype.render=function(){var e=this;if(console.log("rener"),p.default.instance.isMultipleGame){for(var t=y.default.instance.curGameID,n=0,i=p.default.instance.gameIDs;n<i.length;n++){var o=i[n],a=this.getScrollerByGameID(o);p.default.instance.changeGameID(o);var s=[].concat(r.default.instance.lastTimeSpinResult.spinResult.grid),l=[].concat(r.default.instance.lastTimeSpinResult.spinResult.gridChanged),c=a.gridRenderConfig,u=a.config.row*a.config.col;if(c){u=0;for(var h=0;h<c.length;h++)for(var d=0;d<c[h].length;d++)1==c[h][d]&&u++}var f=u-s.length;if(f>0)for(var m=0;m<f;m++)s.push(a.getRondomId()),l.push(a.getRondomId());else if(f<0)for(m=0;m<-f;m++)s.pop(),l.pop();o==t?(this._scroller=a,this._scroller.enabled=!0):(a.active=!1,a.enabled=!1);var g=p.default.instance.DataPayLine,_=p.default.instance.maxLineNum,T=p.default.instance.gridShape,S=this.maskLayer.getContentSize(),E=cc.size(S.width,S.height),v=p.default.instance.DataSlotRandomGrid.getGridLengthRange(o);a.gridLengthRange=v,a.setupGridShape(T),a.onUpdate(s,l),a.setupLines(g,this._showLineInterval,this.lineIdComponent,_,this._showImageInterval,this.onSelectedLineHandler,this._showImageInterval,E,this._playRenderInterval,this.showLineDuration),a.registerControl(this._stopActionCB,this._startSpin,this.scrollContain),this.node.addChild(a),this.gameLayer.onScrollerInitComplete(o,a)}p.default.instance.changeGameID(t),this.gameLayer.changeMaskPointByGameID(t),this.gameLayer.onMutipleScrollerInit(t),this._afterRender&&this._afterRender.runWith([this]),r.default.instance.spinTouchEnable=!1}else{this.node.addChild(this._scroller);var C=r.default.instance.rollingResult.spinResult;T=p.default.instance.gridShape,v=p.default.instance.DataSlotRandomGrid.getGridLengthRange(p.default.instance.gameID),this.scroller.gridLengthRange=v,this._scroller.setupGridShape(T),this._scroller.onUpdate(C.grid,C.gridChanged,C.realGridShape,C.realGridShapeChanged,C.occupyPosList,C.occupyPosListChanged),g=p.default.instance.DataPayLine,_=p.default.instance.maxLineNum,S=this.maskLayer.getContentSize(),E=cc.size(S.width,S.height),this._scroller.setupLines(g,this._showLineInterval,this.lineIdComponent,_,this._showImageInterval,this.onSelectedLineHandler,this._showImageInterval,E,this._playRenderInterval,this.showLineDuration),this._scroller.registerControl(this._stopActionCB,this._startSpin,this.scrollContain),this._afterRender&&this._afterRender.runWith([this]),r.default.instance.spinTouchEnable=!1;var b=this.scroller.maskPolygon;this.gameLayer.drawMask(b||[])}setTimeout(function(){e.gameLayer.refreshRoom()})},t.prototype.resetRender=function(){this.resetScroller(),this._scroller.reRender(r.default.instance.lastTimeSpinResult.spinResult.grid,r.default.instance.lastTimeSpinResult.spinResult.gridChanged)},t.prototype.onSelectedLineHandler=function(){},t.prototype.onSpinPreStop=function(){},t.prototype.makeSureFreeGameOverQueueCorrect=function(e){e.run()},t.prototype._addEventListener=function(){game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_START_ROLLING,this._onStartRolling,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this._stopImmediatly,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_SHOW_LINESETING_VIEW,this._onshowLineHandler,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_CLOSE_LINESETING_VIEW,this._onCloseLineHandler,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_RESET_LINE_SHOWING,this._resetLineShowing,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_RESET_SCROLLER,this.resetScroller,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_PLAY_REWARD_ANI,this.onRewardAnimation,this),game.EventManager.getInstance().addEventListener(d.GameEventNames.EVENT_ROLL_RESULT_RESP,this.rollingResultResp,this)},t.prototype._removeEventListener=function(){game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_START_ROLLING,this._onStartRolling,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this._stopImmediatly,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_SHOW_LINESETING_VIEW,this._onshowLineHandler,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_CLOSE_LINESETING_VIEW,this._onCloseLineHandler,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_RESET_LINE_SHOWING,this._resetLineShowing,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_RESET_SCROLLER,this.resetScroller,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_PLAY_REWARD_ANI,this.onRewardAnimation,this),game.EventManager.getInstance().removeEventListener(d.GameEventNames.EVENT_ROLL_RESULT_RESP,this.rollingResultResp,this)},t.prototype._stopActionCB=function(){this._onMouseDown(null)},t.prototype._startSpin=function(){game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_PLAYER_SLID_SLOTMACHINE)},t.prototype._notifySlotMachineComplete=function(e){void 0===e&&(e=!1),r.default.instance.isSlotMahcineCompleted||0==r.default.instance.isSlotMachineStopped||(r.default.instance.isSlotMahcineCompleted=!0,game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_SLOT_MACHINE_COMPLETED,e))},t.prototype._stopImmediatly=function(){this._scroller.isManualStopEnabled&&this._scroller.isRunning&&(n.instance.scroller.isManualStop||(m.SoundMger.instance.playEffect(g.SOUND_NAME.Click_Reel_Stop,!1)||m.SoundMger.instance.playEffect(g.SOUND_NAME.Reel_Stop,!1),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_FORCE_UPDATE_SPIN_BUTTON,!1),this._scroller.stopAll()))},Object.defineProperty(t.prototype,"isRunCusParseOverHandler",{get:function(){return this._isRunCusParseOverHandler},set:function(e){this._isRunCusParseOverHandler=e},enumerable:!1,configurable:!0}),t.prototype.onParseTaskOver=function(){if(this.isRunCusParseOverHandler&&this.cusParseTaskOverHandler)this.cusParseTaskOverHandler.run();else{c.default.instance.execute(),this.scroller.changeDataMode(l.default.instance.hasFreeGame),this.gameLayer.onScrollerFlowComplete(),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_FORCE_UPDATE_ALL_SCORE);var e=!0;l.default.instance.isTreateNewFree&&this.isManualSpinFistFreeGame&&(e=!1,l.default.instance.freeGameInfo&&l.default.instance.freeGameInfo.type==s.OperationState.ReSpin)&&(l.default.instance.freeGameInfo.type,e=!0),r.default.instance.onShowLineOver(e),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_SHOW_LINE_OVER),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_SPIN_BUTTON_OPEN,!0),game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_AUTO_STATE_CHANGED),console.log("parseover")}},t.prototype._stopCompleted=function(e){this._spinStopHandler&&this._spinStopHandler.runWith(e)},t.prototype._allStopped=function(){this._stopStartSound()},t.prototype._resetLineShowing=function(){this._scroller.parse(r.default.instance.flattenLineRewardsResults)},t.prototype.notifySlotMachineCompleteWhenNotInAuto=function(){0!==r.default.instance.restAutoTimes||l.default.instance.hasFreeGame||this._notifySlotMachineComplete()},Object.defineProperty(t.prototype,"isRolling",{get:function(){return this._isRolling},enumerable:!1,configurable:!0}),t.prototype._onStartRolling=function(){this._isRolling&&console.log("error:request to roll when is rolling"),this.isEnabledMask(!0),c.default.instance.reset(),this._isRolling=!0,this.startRolling(),this._playStartSound()},t.prototype._playStartSound=function(){this._stopStartSound(),m.SoundMger.instance.playEffect(g.SOUND_NAME.Reel_Spin,!0)},t.prototype._stopStartSound=function(){m.SoundMger.instance.stopEffect(g.SOUND_NAME.Reel_Spin)},t.prototype._playReelStopSound=function(){m.SoundMger.instance.playEffect(g.SOUND_NAME.Reel_Stop)},t.prototype._onMouseDown=function(e){if(this.initialVec=null,this._isRolling)return game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_PLAYER_CLICKED_SLOTMACHINE,this);e&&(this.initialVec=e.getLocation())},t.prototype._stopPlaying=function(){},t.prototype._onshowLineHandler=function(){this._cancelDelayHideLine(),this.scroller.lineContainer.opacity=255,this._scroller.reset(),this._scroller.clear(),r.default.instance.checkGlobalQueue(),0!=this.showAllLine&&this._scroller.showLines(r.default.instance.lineNum)},t.prototype._onCloseLineHandler=function(){this._delayHideLine(.8)},t.prototype._delayHideLine=function(e){this.scheduleOnce(this._doHideLine,e)},t.prototype._cancelDelayHideLine=function(){this.unschedule(this._doHideLine)},t.prototype._doHideLine=function(){var e=this,t=this._scroller.lineContainer;cc.tween(t).to(1,{opacity:0}).call(function(){e._scroller.clear()}).start()},t.prototype.layoutLandscape=function(){this.scroller&&this.scroller.layoutLandscape(),this.maskLayer&&this.maskHeightLandscape>0&&this.maskWidthPortrait>0&&this.maskLayer.setContentSize(this.maskWidthLandscape,this.maskHeightLandscape)},t.prototype.layoutPortrait=function(){this.scroller&&this.scroller.layoutPortrait(),this.maskLayer&&this.maskWidthPortrait>0&&this.maskHeightPortrait>0&&this.maskLayer.setContentSize(this.maskWidthPortrait,this.maskHeightPortrait)},t.prototype.onShowMoreWinLineCb=function(){return!0},a([C(cc.Node)],t.prototype,"scrollContain",void 0),n=a([v],t)}(cc.Component);n.default=b,cc._RF.pop()},{"../../../common/enum/CommonEnum":"CommonEnum","../../../sound/script/SoundMger":"SoundMger","../Scroller/com/JTScrollerSettings":"JTScrollerSettings","../Scroller/extensions/JTEffectContainer":"JTEffectContainer","../Scroller/rules/JTRuleTaskType":"JTRuleTaskType","../SlotConfigs/GameEventNames":"GameEventNames","../SlotData/SDictionary":"SDictionary","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotManager/FreeGameManager":"FreeGameManager","../SlotManager/GlobalQueueManager":"GlobalQueueManager","../SlotManager/MultipleGameManager":"MultipleGameManager","../SlotManager/PlayerManager":"PlayerManager","../SlotManager/SlotConfigManager":"SlotConfigManager","../SlotManager/SpinManager":"SpinManager","../SlotUtils/Handle":"Handle"}],SlotMoveDirect:[function(e,t,n){"use strict";cc._RF.push(t,"8f15auQC1VGGqlDXaXxGUJy","SlotMoveDirect");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../utils/Layout"),s=cc._decorator,l=s.ccclass,c=s.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.moveDirection=cc.v2(),t.moveSpeed=100,t.moveBool=!1,t}return o(t,e),t.prototype.onEnable=function(){this.moveBool=!0},t.prototype.setMoveSpeed=function(e){this.moveSpeed=e},t.prototype.setMoveDirection=function(e){this.moveDirection=e},t.prototype.update=function(e){if(this.moveBool){var t=this.moveDirection.mul(this.moveSpeed*e),n=r.Layout.isLandscape?1300:660;this.node.x<-n&&(this.node.x=n),this.node.x+=t.x,this.node.y+=t.y}},a([c(cc.Vec2)],t.prototype,"moveDirection",void 0),a([c({tooltip:"\u79fb\u52a8\u901f\u5ea6"})],t.prototype,"moveSpeed",void 0),a([l],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../utils/Layout":"Layout"}],SlotNodeUiConfig:[function(e,t,n){"use strict";cc._RF.push(t,"561a4NBOGpBg5bugD10kr3s","SlotNodeUiConfig");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([s],t)}(game.NodeUiConfig));n.default=l,cc._RF.pop()},{}],SlotProtoManager:[function(e,t,n){"use strict";cc._RF.push(t,"ecf8dOvquJJZ5h+fV40lpAT","SlotProtoManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../common/utils/GData"),o=e("../slotMachine/script/SlotConfigs/GameEventNames"),a=e("../slotMachine/script/SlotData/SDictionary"),r=e("../slotMachine/script/SlotManager/PlayerManager"),s=e("../slotMachine/script/SlotManager/SpinManager"),l=e("../slotMachine/script/SlotUtils/SlotUtils"),c=e("./NetSlotConst"),u=function(){function e(){this.hashRest=null,this.ciphertext=null,this.spinRespCheckScheduleKey="spinRespCheckSchedule",this.lgDataCheckScheduleKey="lgDataCheckSchedule",this.lgActionCheckScheduleKey="lgActionCheckSchedule",this.scheduleMap=null,this._rollerModeId=1,this._isSelectModeId=0,this._rollerModeList=[],this.isRollerModeResp=!1,this.isGetJpResp=!1,this.restoreResult=null,this.canReqSpin=!0,this.init(),this.scheduleMap=new a.SDictionary,this.scheduleMap.set(this.spinRespCheckScheduleKey,0),this.scheduleMap.set(this.lgDataCheckScheduleKey,0),this.scheduleMap.set(this.lgActionCheckScheduleKey,0)}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.registerMess=function(){this.setReceiveCallBack()},e.prototype.destroyMess=function(){},e.prototype.init=function(){this.registerMess()},e.prototype.destroy=function(){},e.prototype.setReceiveCallBack=function(){this.netNode=game.NetManager.getInstance().getNetNode(),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.restoreResp],this.restoreResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.spinResp],this.spinResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.lgDataResp],this.lgDataResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.lgActionResp],this.lgActionResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.enterRoomPush],this.enterRoomPush,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.leaveRoomPush],this.leaveRoomPush,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.actionStopPush],this.actionStopPush,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.userInfoPush],this.userInfoPush,this),game.EventManager.getInstance().addEventListener(o.GameEventNames.EVENT_SLOT_MACHINE_STOPPED,this.sendActionStopMessage,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.rollerModeResp],this.rollerModeResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.rollerModeDataResp],this.rollerModeDataResp,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netErrorCodePush,this.errorCodePush,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.changeCostResp],this.changeCostResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.winAmountRankResp],this.winAmountRankResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.changeBetStateResp],this.changeBetStateResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.collectChooseResp],this.collectChooseResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.buyFreeImdDataResp],this.buyFreeImdDataResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.buyFreeImdResp],this.buyFreeDataResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.chooseCollectTaskResp],this.chooseCollectTaskResp,this),game.EventManager.getInstance().addEventListener(core.GameCoreConst.mess_netJpResp,this.jtResp,this)},e.prototype.errorCodePush=function(e,t){switch(t.content,t.code){case protoSlot.code_type.err_slot_line_costs:case protoSlot.code_type.err_slot_get_buy_free_game_data:case protoSlot.code_type.err_no_double_coin:}s.default.instance.isInAuto=!1,s.default.instance.inGame=!1,game.EventManager.getInstance().raiseEvent(o.GameEventNames.EVENT_MENU_INTERACTABLE)},Object.defineProperty(e.prototype,"rollerModeId",{get:function(){return this._rollerModeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSelectModeId",{get:function(){return this._isSelectModeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rollerModeList",{get:function(){return this._rollerModeList},enumerable:!1,configurable:!0}),e.prototype.restoreResp=function(e){var t,n=core.ProtocolHelper.buffDecode(protoSlot.restoreResp,e);this.restoreResult=n,this.canReqSpin=!0,game.LogManager.getInstance().log("resoreResp all",n),this.handleHashChainInfo(n);for(var i=0;i<n.restore.length;i++){var o=n.restore[i];o.userInfo.userId.toNumber()==r.default.instance.userInfo.userId.toNumber()&&(t=o,s.default.instance.isSpinResp=!0)}var a=n.roundId?n.roundId:Long.fromNumber(0);s.default.instance.isOldSpinResp=s.default.instance.roundId.equals(a),s.default.instance.roundId=a,game.LogManager.getInstance().log("resoreResp my",t),s.default.instance.doubleCoin=null,s.default.instance.rollerLv=n.rollerLv,game.EventManager.getInstance().raiseEvent(c.default.RESTORERESP,t)},e.prototype.handleHashChainInfo=function(e){null!=e.hashRest&&(e.hashRest<0||(console.log("handleHashChainInfo--------",e.hashRest),4===core.CoreUtils.getGameModel()&&(e.ciphertext&&(this.ciphertext=e.ciphertext),this.hashRest!==e.hashRest&&(this.hashRest=e.hashRest,game.EventManager.getInstance().raiseEvent(o.GameEventNames.EVENT_HASH_REST_UPDATE,this.hashRest)))))},e.prototype.userInfoPush=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.userInfoPush,e);game.EventManager.getInstance().raiseEvent(c.default.USERINFO_PUSH,t),game.LogManager.getInstance().log("userInfoPush",t)},e.prototype.enterRoomPush=function(){},e.prototype.rollerModeResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.rollerModeResp,e);game.LogManager.getInstance().log("rollerModeResp",t)},e.prototype.leaveRoomPush=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.leaveRoomPush,e).userId.toNumber();game.EventManager.getInstance().raiseEvent(c.default.LEAVEROOMPUSH,t)},e.prototype.spinResp=function(e){this.canReqSpin=!0;var t=core.ProtocolHelper.buffDecode(protoSlot.spinResp,e);t.userId.toNumber()==r.default.instance.userInfo.userId.toNumber()&&(game.LogManager.getInstance().log("spinResp",t),this.fixSpinRespData(t),t.hashRest>0&&this.handleHashChainInfo(t),game.EventManager.getInstance().raiseEvent(c.default.SPINRESP,t),s.default.instance.isSpinResp=!0,t.doubleCoin?s.default.instance.doubleCoin=t.doubleCoin:s.default.instance.doubleCoin=null,this.clearCheckSchedule(this.spinRespCheckScheduleKey))},e.prototype.fixSpinRespData=function(e){var t=e.updateList,n=l.default.findIndexFromArray(t,function(e){return 6===e.type});if(n>0){var i=t[n],o=t[0];t[0]=i,t[n]=o}},e.prototype.lgDataResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.lgDataResp,e);game.LogManager.getInstance().log("lgDataResp",t),game.EventManager.getInstance().raiseEvent(c.default.LGDATARESP,t),this.clearCheckSchedule(this.lgDataCheckScheduleKey)},e.prototype.lgActionResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.lgActionResp,e);game.LogManager.getInstance().log("lgActionResp",t),t.userId.eq(r.default.instance.userInfo.userId)?(game.EventManager.getInstance().raiseEvent(c.default.LGACTIONRESP,t),this.clearCheckSchedule(this.lgActionCheckScheduleKey)):game.EventManager.getInstance().raiseEvent(o.GameEventNames.LGACTIONRESP_OTHER,t)},e.prototype.actionStopPush=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.actionStopPush,e).userId.toNumber();game.EventManager.getInstance().raiseEvent(c.default.ACTIONSTOPPUSH,t)},e.prototype.requestLastGameInfo=function(){game.LogManager.getInstance().log("restoreReq"),game.EventManager.getInstance().raiseEvent(o.GameEventNames.EVENT_BEFORE_RESTORE_REQ);var t=new protoSlot.restoreReq,n=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.restoreReq,protoSlot.restoreReq,t);this.netNode.send(n),e.getInstance().buyFreeImdDataReq()},e.prototype.requestSpinFreely=function(e){if(this.canReqSpin){this.canReqSpin=!1;var t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.spinReq,protoSlot.spinReq,e);game.LogManager.getInstance().log("spinReq",e),this.netNode.send(t),cc.sys.localStorage.setItem("lineCostIndex_"+core.CommonProto.getInstance().userinfo.userName+"_"+i.GData.bundleName,s.default.instance.lineCostIndex),this.startRespCheckSchedule(this.spinRespCheckScheduleKey)}},e.prototype.requestBonusGameInfo=function(e){var t=new protoSlot.lgDataReq;t.lgId=e;var n=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.lgDataReq,protoSlot.lgDataReq,t);game.LogManager.getInstance().log("lgDataReq",t),this.netNode.send(n),this.startRespCheckSchedule(this.lgDataCheckScheduleKey)},e.prototype.requestAction=function(e,t){void 0===t&&(t=[]);var n=new protoSlot.lgActionReq;n.lgId=e,n.choose=t;var i=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.lgActionReq,protoSlot.lgActionReq,n);game.LogManager.getInstance().log("lgActionReq",n),this.netNode.send(i),this.startRespCheckSchedule(this.lgActionCheckScheduleKey)},e.prototype.handleStateReq=function(){var e=new protoSlot.handleStateReq,t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.handleStateReq,protoSlot.handleStateReq,e);game.LogManager.getInstance().log("handleStateReq"),this.netNode.send(t)},e.prototype.openRecordReq=function(){var e=new protoSlot.guessReq,t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.guessReq,protoSlot.guessReq,e);game.LogManager.getInstance().log("guessReq"),this.netNode.send(t)},e.prototype.sendActionStopMessage=function(){var e=new protoSlot.actionStopReq,t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.actionStopReq,protoSlot.actionStopReq,e);game.LogManager.getInstance().log("requestActionStop"),this.netNode.send(t)},e.prototype.rollerModeReq=function(e){var t=new protoSlot.rollerModeReq;t.rollerModeId=e,this._rollerModeId=e;var n=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.rollerModeReq,protoSlot.rollerModeReq,t);game.LogManager.getInstance().log("rollerModeReq",t),this.netNode.send(n)},e.prototype.buyFreeImdDataReq=function(){var e=new protoSlot.buyFreeImdDataReq,t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.buyFreeImdDataReq,protoSlot.buyFreeImdDataReq,e);game.LogManager.getInstance().log("buyFreeImdDataReq"),this.netNode.send(t)},e.prototype.buyFreeImdReq=function(e,t){var n=new protoSlot.buyFreeImdReq;n.req=t,n.num=e;var i=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.buyFreeImdReq,protoSlot.buyFreeImdReq,n);game.LogManager.getInstance().log("buyFreeImdReq",n),this.netNode.send(i)},e.prototype.buyFreeImdDataResp=function(t){var n=core.ProtocolHelper.buffDecode(protoSlot.buyFreeImdDataResp,t);e.buyMultiNum=Number(n.multi),game.EventManager.getInstance().raiseEvent(c.default.BUYFREEDATARESP,n),console.log("result---\x3ebuyfree",n)},e.prototype.buyFreeDataResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.buyFreeImdResp,e);game.EventManager.getInstance().raiseEvent(c.default.BUYFREESPINRESP,t)},e.prototype.rollerModeDataReq=function(){var e=new protoSlot.rollerModeDataReq,t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.rollerModeDataReq,protoSlot.rollerModeDataReq,e);game.LogManager.getInstance().log("rollerModeDataReq",e),this.netNode.send(t)},e.prototype.rollerModeDataResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.rollerModeDataResp,e);this._rollerModeId=t.rollerModeId,this._isSelectModeId=t.rollerModeSwitch,this._rollerModeList=t.rollerModeList,game.LogManager.getInstance().log("rollerModeDataResp",t),this.isRollerModeResp=!0,game.EventManager.getInstance().raiseEvent(o.GameEventNames.EVENT_ROLLER_MODE_DATA_RESP)},e.prototype.changeCostReq=function(e){void 0===e&&(e=!1);var t=new protoSlot.changeCostReq;if(!e){var n={};n.lines=s.default.instance.lineNum,n.cost=s.default.instance.getLineCostByIndex(),n.rate=s.default.instance.getRealLineRate(),n.rateModulus=s.default.instance.rateModulus,n.assginLine=s.default.instance.assginLine,n.lineMultiple=s.default.instance.getLinelMutiple(),n.extra=[],t.req=n}var i=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.changeCostReq,protoSlot.changeCostReq,t);game.LogManager.getInstance().log("changeCostReq",t),this.netNode.send(i)},e.prototype.changeCostResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.changeCostResp,e);game.LogManager.getInstance().log("changeCostResp",t),game.EventManager.getInstance().raiseEvent(c.default.CHANGECOSTRESP,t)},e.prototype.jtResp=function(){this.isGetJpResp=!0},e.prototype.winAmountRankReq=function(){var e=new protoSlot.winAmountRankReq,t=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.winAmountRankReq,protoSlot.winAmountRankReq,e);game.LogManager.getInstance().log("winAmountRankReq",e),this.netNode.send(t)},e.prototype.winAmountRankResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.winAmountRankResp,e);game.LogManager.getInstance().log("winAmountRankResp",t),game.EventManager.getInstance().raiseEvent(c.default.WINAMOUNTRANKRESP,t)},e.prototype.changeBetStateReq=function(e){var t=new protoSlot.changeBetStateReq;t.betState=e;var n=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.changeBetStateReq,protoSlot.changeBetStateReq,t);game.LogManager.getInstance().log("changeBetStateReq",t),this.netNode.send(n)},e.prototype.changeBetStateResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.changeBetStateResp,e);game.LogManager.getInstance().log("changeBetStateResp",t),game.EventManager.getInstance().raiseEvent(c.default.CHANGEBETSTATERESP,t),game.EventManager.getInstance().raiseEvent(o.GameEventNames.EVENT_LINE_COST_CHANGED)},e.prototype.collectChooseReq=function(e,t){var n=new protoSlot.collectChooseReq;n.taskId=e,n.targetNum=t;var i=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.collectChooseReq,protoSlot.collectChooseReq,n);game.LogManager.getInstance().log("collectChooseReq",n,i),this.netNode.send(i)},e.prototype.collectChooseResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.collectChooseResp,e);game.LogManager.getInstance().log("collectChooseResp",t),game.EventManager.getInstance().raiseEvent(c.default.COLLECTCHOOSERESP,t)},e.prototype.chooseCollectTaskReq=function(e){var t=new protoSlot.chooseCollectTaskReq;t.taskId=e;var n=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.chooseCollectTaskReq,protoSlot.chooseCollectTaskReq,t);game.LogManager.getInstance().log("chooseCollectTaskReq",t,n),this.netNode.send(n)},e.prototype.chooseCollectTaskResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.chooseCollectTaskResp,e);game.LogManager.getInstance().log("chooseCollectTaskResp",t),game.EventManager.getInstance().raiseEvent(c.default.CHOOSECOLLECTTASKESP,t)},e.prototype.startRespCheckSchedule=function(e){var t=this;this.clearCheckSchedule(e);var n=setTimeout(function(){var n={};n.triggerConditionType=core.EPopupPromptType.netClosed,core.TipsManager.getInstance().showPopupPrompt(n),t.clearCheckSchedule(e)},15e3);this.scheduleMap.set(e,n)},e.prototype.clearCheckSchedule=function(e){var t=this.scheduleMap.get(e);t&&(clearTimeout(t),this.scheduleMap.set(e,0))},e._instance=null,e.buyMultiNum=0,e}();n.default=u,cc._RF.pop()},{"../common/utils/GData":"GData","../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../slotMachine/script/SlotData/SDictionary":"SDictionary","../slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../slotMachine/script/SlotManager/SpinManager":"SpinManager","../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","./NetSlotConst":"NetSlotConst"}],SlotSliderFix:[function(e,t,n){"use strict";cc._RF.push(t,"3207aziV0FGcKchJevDsBEj","SlotSliderFix");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,l=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([s],t)}(game.SliderFix));n.default=l,cc._RF.pop()},{}],SlotTimeManager:[function(e,t,n){"use strict";cc._RF.push(t,"c081dhKz9BKJa/mhcRZNUJW","SlotTimeManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.TimeHander=void 0;var i=function(){function e(){this.autoEnterBonusGame=!0,this._listionMap=null,this._startTime=0}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){this._listionMap={},this._startTime=Date.now(),this._interval=setInterval(this.runInterval.bind(this),8),this._fameNum=0},e.prototype.runInterval=function(){var e=Date.now()-this._startTime;e<16.7*this._fameNum||(this._fameNum=Math.floor(.06*e),this.fameLoop())},e.prototype.fameLoop=function(){var e=Date.now();for(var t in this._listionMap)for(var n=this._listionMap[t],i=0;i<n.length;i++){var o=n[i];1==o.once?o.delay<e-o.startTime&&(o.method.apply(o.caller,o.args),this.clear(o.caller,o.method)):0==o.delay?o.method.apply(o.caller,o.args):e-o.startTime>o.delay&&(o.startTime=e,o.method.apply(o.caller,o.args))}},e.prototype.once=function(e,t,n,i){this._listionMap[t]=this._listionMap[t]||[];var a=new o;a.delay=e,a.caller=t,a.method=n,a.args=i,a.once=!0,a.startTime=Date.now(),this._listionMap[t].push(a)},e.prototype.loop=function(e,t,n,i){this._listionMap[t]=this._listionMap[t]||[];var a=new o;a.delay=e,a.caller=t,a.method=n,a.args=i,a.startTime=Date.now(),this._listionMap[t].push(a)},e.prototype.frameLoop=function(e,t,n){this._listionMap[e]=this._listionMap[e]||[];var i=new o;i.delay=0,i.caller=e,i.method=t,i.args=n,i.startTime=Date.now(),this._listionMap[e].push(i)},e.prototype.clear=function(e,t){if(null!=this._listionMap)for(var n=this._listionMap[e]||[],i=0;i<n.length;)n[i].method==t&&(n.splice(i,1),i--),i++},e.prototype.clearAll=function(e){(this._listionMap[e]||[]).length=0,this._listionMap[e]=null,delete this._listionMap[e]},e.prototype.dispose=function(){for(var e in clearInterval(this._interval),this._interval=0,this._listionMap)this._listionMap[e].length=0;this._listionMap=null},e._instance=null,e}();n.default=i;var o=function(){};n.TimeHander=o,cc._RF.pop()},{}],SlotUtils:[function(e,t,n){"use strict";cc._RF.push(t,"02398FpCSFDEquxVeWwZ6W4","SlotUtils"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../SlotManager/SlotConfigManager"),o=e("../SlotDefinitions/SlotEnum"),a=e("../../../network/SlotProtoManager"),r=e("../../../common/utils/GData"),s=e("../../../common/utils/Layout"),l=function(){function e(){}return e.toAngle=function(e){return e*(180/Math.PI)},e.isNullOrUndefined=function(e){return null==e},e.isWild=function(e){return this.wildType==i.default.instance.DataElement.getData(e).type},e.isHaxi=function(){return a.default.getInstance().restoreResult&&a.default.getInstance().restoreResult.gameMode!=protoSlot.game_mode_type_enum.normal},e.isScatter=function(e){return 4==i.default.instance.DataElement.getData(e).type},e.isNormalElement=function(e){return 1==i.default.instance.DataElement.getData(e).type},e.isHasBuy=function(){return!!a.default.buyMultiNum},e.setScale9GridRect=function(e,t){var n=e.getComponent(cc.Sprite);n.type=cc.Sprite.Type.SLICED,n.sizeMode=cc.Sprite.SizeMode.CUSTOM;var i=n.spriteFrame;i&&(i.insetBottom=t.height,i.insetTop=t.y,i.insetLeft=t.x,i.insetRight=t.width)},e.makePackageAssetsUrl=function(e,t){return void 0===t&&(t="Card"),"textures/slotMachine/card/"+t+"/"+e},e.makeElementIconName=function(t,n){return void 0===n&&(n=2),e.makeElementIconNameWithPre(t,n)},e.makeElementIconNameWithPre=function(t,n,i){return void 0===n&&(n=2),void 0===i&&(i=""),n<=0?""+i+t:""+i+e.padLeft(t,n)},e.makeElementBlurIconName=function(t,n){return void 0===n&&(n=2),e.makeElementIconName(t,n)+"_blur"},e.makeElementFadeIconName=function(t,n){return void 0===n&&(n=2),e.makeElementIconName(t,n)+"_fade"},e.padLeft=function(e,t){return(Array(t).join("0")+e).slice(-t)},e.makeElementAniName=function(t,n){return void 0===n&&(n=2),"ani_"+e.padLeft(t,2)},e.isFullLine=function(){var e=i.default.instance.DataGame.getData(i.default.instance.gameID),t=e&&e.type;return t>=4&&5!=t&&14!=t},e.getLineCostByIndex=function(e){var t=i.default.instance.DataGame.getData(i.default.instance.gameID);if(!t)return null;var n=t.lineValue;return n.length<=e?null:n[e]},e.getIndexByLineCost=function(e){var t=i.default.instance.DataGame.getData(i.default.instance.gameID);return t?t.lineValue.indexOf(e):0},e.findIndexFromArray=function(e,t,n){if(void 0===n&&(n=0),n>=e.length)return-1;for(;n<e.length;++n)if(t(e[n],n,e))return n;return-1},e.getWinType=function(t,n){if(0==t)return o.WinType.None;var a=i.default.instance.getWinAnimationCondition(1),r=t/n;return!e.isNullOrUndefined(a)&&a>0&&r>=a?o.WinType.Great:(a=i.default.instance.getWinAnimationCondition(2),!e.isNullOrUndefined(a)&&a>0&&r>=a?o.WinType.Middle:(a=i.default.instance.getWinAnimationCondition(3),!e.isNullOrUndefined(a)&&a>0&&r>=a?o.WinType.Small:(a=i.default.instance.getWinAnimationCondition(4),!e.isNullOrUndefined(a)&&a>=0&&r>=a?o.WinType.Normal:o.WinType.None)))},e.formatNumber=function(e,t,n,i,o,a,r){return void 0===t&&(t=2),void 0===n&&(n=100),void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===a&&(a=","),void 0===r&&(r="."),i&&core.CommonProto.getInstance().coinRate,(i?core.Nationalcurrency.getInstance().currencySignConvert():"")+game.ComUtils.formatNumber(e,t,n,o,a,r)},e.formatNumberCoinRate=function(e,t,n,i,o,a,r){return void 0===n&&(n=2),void 0===i&&(i=100),void 0===o&&(o=!0),void 0===a&&(a=","),void 0===r&&(r="."),(null!=t?core.Nationalcurrency.getInstance().currencySignConvert(t):core.Nationalcurrency.getInstance().currencySignConvert())+game.ComUtils.formatNumber(e,n,i,o,a,r)},e.convertToShowingCoin=function(e,t,n){void 0===t&&(t=2),void 0===n&&(n="");var i=e/100;return this.formatMoney(i,t,n)},e.formatMoney=function(e,t,n,i,o){void 0===t&&(t=0),void 0===n&&(n=""),void 0===i&&(i=","),void 0===o&&(o="."),"string"==typeof e&&(e=Number(e)),e=e||0,t=isNaN(t=Math.abs(t))?2:t;var a=e<0?"-":"";return e=e.toFixed(t),n+a+this.numberWithCommas(e)},e.numberWithCommas=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},e.Number=function(e){return e.toNumber?e.toNumber():e},e.addFadeButtonClickEffect=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];o&&(o.on(cc.Node.EventType.TOUCH_START,this.onBtnTouchStart,this,!0),o.on(cc.Node.EventType.TOUCH_MOVE,this.onBtnTouchMoved,this,!0),o.on(cc.Node.EventType.TOUCH_END,this.onBtnTouchEnd,this,!0))}},e.removeFadeButtonClickEffect=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0,i=e;n<i.length;n++){var o=i[n];o&&(o.off(cc.Node.EventType.TOUCH_START,this.onBtnTouchStart,this,!0),o.off(cc.Node.EventType.TOUCH_MOVE,this.onBtnTouchMoved,this,!0),o.off(cc.Node.EventType.TOUCH_END,this.onBtnTouchEnd,this,!0))}},e.onBtnTouchStart=function(e){var t=e.target;if(t.getComponent(cc.Button).interactable)for(var n=0,i=t.getComponentsInChildren(cc.Sprite);n<i.length;n++){var o=i[n];100!=t.opacity&&(o.node.opacity=this.disableOpacity)}},e.onBtnTouchMoved=function(e){var t=e.getLocation(),n=e.getCurrentTarget(),i=n.convertToNodeSpaceAR(t);if(!(i.x>.5*-n.width&&i.x<.5*n.width&&i.y>.5*-n.height&&i.y<.5*n.height))for(var o=0,a=n.getComponentsInChildren(cc.Sprite);o<a.length;o++)a[o].node.opacity=255},e.onBtnTouchEnd=function(e){for(var t=0,n=e.target.getComponentsInChildren(cc.Sprite);t<n.length;t++)n[t].node.opacity=255},e.getLayoutFromOrientation=function(e,t){var n=2==r.GData.getParameter("main").orientation?t:e,i=3==r.GData.getParameter("main").orientation?e:t;return s.Layout.isLandscape?n:i},e.isEliminateType=function(){var e=i.default.instance.DataGame.getData(i.default.instance.gameID),t=e&&e.type;return!![5,6,9,11,12,13,16].includes(t)},e.formatNumberToKMB=function(e,t){return void 0===t&&(t=0),isNaN(e)?"Invalid Number: "+e:e<1e3?e.toString():e<1e6?(e/1e3).toFixed(t)+"K":e<1e9?(e/1e6).toFixed(t)+"M":(e/1e9).toFixed(t)+"B"},e.wildType=2,e.isShowHashText=!0,e.isShowDoubleCoinResp=!1,e.disableOpacity=160,e}();n.default=l,cc._RF.pop()},{"../../../common/utils/GData":"GData","../../../common/utils/Layout":"Layout","../../../network/SlotProtoManager":"SlotProtoManager","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotManager/SlotConfigManager":"SlotConfigManager"}],SoundMger:[function(e,t,n){"use strict";cc._RF.push(t,"721ccDfppREH6vLXDiH9J1k","SoundMger"),Object.defineProperty(n,"__esModule",{value:!0}),n.SoundMger=void 0;var i=e("../../common/enum/CommonEnum"),o=e("../../common/utils/GData"),a=e("../../slotMachine/script/MainView/SlotMachineView"),r=function(){function e(){this.path="sounds/",this.pathCom="sound/sounds/",this.path_slot_common="slot_common/sound/sounds/",this.local="local",this.effectVolume=85,this.voiceVolume=100,this.musicVolume=80}return Object.defineProperty(e,"instance",{get:function(){return e._instance||(e._instance=new e),e._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bundleName",{get:function(){return o.GData.bundleName},enumerable:!1,configurable:!0}),e.prototype.getClipByPath=function(e){return e?game.SoundManager.getInstance().getClipByPath(this.path+e):null},e.prototype.playEffect=function(e,t,n,r,s,l){void 0===t&&(t=!1);var c=a.default.instance&&a.default.instance.gameLayer&&a.default.instance.gameLayer.checkCanPlayEffect();return!(!e||!c||!(o.GData.getParameter("sound")[e]||o.GData.getParameter("sound").Sctter&&-1!=e.search(i.SOUND_NAME.Sctter))||("voice"==o.GData.getParameter("sound")[e]?game.SoundManager.getInstance().playEffect(this.path+e,t,this.bundleName,r,s,null==l?this.voiceVolume:l):game.SoundManager.getInstance().playEffect(this.path+e,t,this.bundleName,r,s,null==l?this.effectVolume:l),0))},e.prototype.enforcePlayEffect=function(e,t){void 0===t&&(t=!1),e&&(o.GData.getParameter("sound")[e]||o.GData.getParameter("sound").Sctter&&-1!=e.search(i.SOUND_NAME.Sctter))&&("voice"==o.GData.getParameter("sound")[e]?game.SoundManager.getInstance().playEffect(this.path+e,t,this.bundleName,null,null,this.voiceVolume):game.SoundManager.getInstance().playEffect(this.path+e,t,this.bundleName,null,null,this.effectVolume))},e.prototype.setSingleMusicVolume=function(e,t){game.SoundManager.getInstance().setSingleMusicVolume(this.path+e,t)},e.prototype.setSingleEffectVolume=function(e,t){game.SoundManager.getInstance().setSingleEffectVolume(this.path+e,t)},e.prototype.playEffectCommon=function(e,t,n,i){void 0===t&&(t=!1),e&&o.GData.getParameter("sound")[e]&&(o.GData.getParameter("sound")[e]===this.local?game.SoundManager.getInstance().playEffect(this.path+e,t,this.bundleName,n,i):game.SoundManager.getInstance().playEffect(this.pathCom+e,t,"slot",n,i))},e.prototype.playEffectSlotCommon=function(e,t,n,i){void 0===t&&(t=!1),e&&o.GData.getParameter("sound_slot_common")[e]&&game.SoundManager.getInstance().playEffect(this.path_slot_common+e,t,"slot",n,i)},e.prototype.stopEffectSlotCommon=function(e){game.SoundManager.getInstance().stopEffect(this.path_slot_common+e)},e.prototype.playMusicSlotCommon=function(e,t,n,i,a){if(void 0===t&&(t=!0),void 0===a&&(a=!0),e&&o.GData.getParameter("sound_slot_common")[e]){var r=this.path_slot_common+e;game.SoundManager.getInstance().playMusic(r,t,"slot",n,i,this.musicVolume,a)}},e.prototype.stopMusicSlotCommon=function(e){if(e&&o.GData.getParameter("sound_slot_common")[e]){var t=this.path_slot_common+e;game.SoundManager.getInstance().stopMusic(t)}},e.prototype.playMusic=function(e,t,n,i,a){if(void 0===t&&(t=!0),void 0===a&&(a=!0),e&&o.GData.getParameter("sound")[e]){var r=this.path+e;game.SoundManager.getInstance().playMusic(r,t,this.bundleName,n,i,this.musicVolume,a)}},e.prototype.stopMusic=function(e){if(e){var t=this.path+e;game.SoundManager.getInstance().stopMusic(t)}},e.prototype.playMusicCommon=function(e,t,n,i,o){if(void 0===t&&(t=!0),void 0===o&&(o=!0),e){var a=this.pathCom+e;game.SoundManager.getInstance().playMusic(a,t,"slot",n,i,this.musicVolume,o)}},e.prototype.stopMusicCommon=function(e){var t=this.pathCom+e;game.SoundManager.getInstance().stopMusic(t)},e.prototype.pauseCurMusic=function(){game.SoundManager.getInstance().pauseMusic()},e.prototype.resumeCurMusic=function(){game.SoundManager.getInstance().resumeMusic()},e.prototype.pauseMusic=function(e){e?game.SoundManager.getInstance().pauseMusic(this.path+e):game.SoundManager.getInstance().pauseMusic()},e.prototype.resumeMusic=function(e){e?game.SoundManager.getInstance().resumeMusic(this.path+e):game.SoundManager.getInstance().resumeMusic()},e.prototype.stopEffect=function(e){game.SoundManager.getInstance().stopEffect(this.path+e)},e.prototype.stopEffectCommon=function(e){game.SoundManager.getInstance().stopEffect(this.pathCom+e)},e.prototype.pauseEffect=function(e){game.SoundManager.getInstance().pauseEffect(this.path+e)},e.prototype.resumeEffect=function(e){game.SoundManager.getInstance().resumeEffect(this.path+e)},e.prototype.pauseAllMusic=function(){game.SoundManager.getInstance().pauseAllMusic()},e.prototype.resumeAllMusic=function(){game.SoundManager.getInstance().resumeAllMusic()},e.prototype.pauseAllEffect=function(){game.SoundManager.getInstance().pauseAllEffect()},e.prototype.resumeAllEffect=function(){game.SoundManager.getInstance().resumeAllEffect()},e.prototype.pauseAll=function(){game.SoundManager.getInstance().pauseAll()},e.prototype.resumeAll=function(){game.SoundManager.getInstance().resumeAll()},e}();n.SoundMger=r,cc._RF.pop()},{"../../common/enum/CommonEnum":"CommonEnum","../../common/utils/GData":"GData","../../slotMachine/script/MainView/SlotMachineView":"SlotMachineView"}],SpinElementManager:[function(e,t,n){"use strict";cc._RF.push(t,"576a9GU5iNKDaLXqom1ImUZ","SpinElementManager"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../../common/utils/GData"),o=e("../Scroller/com/base/JTItemRender"),a=e("../SlotData/SDictionary"),r=e("../SlotManager/SlotConfigManager"),s=function(){function e(){this.elementMapConfig=null,this.elementMapConfig=new a.SDictionary}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){var e=i.GData.getParameter("spinElementResConfig").spinElementResConfig;if(e){for(var t=function(e,t){if(null==e)return null;var n="zh"==i.GData.curLanguage?"zh":"en";t&&(n=t);var o=function(e){for(;e.includes("&");)e=e.replace("&",n);return e};if(e instanceof Array)for(var a=0;a<e.length;a++){var r=e[a];e[a]=o(r)}else e=o(e);return e},n=0,o=r.default.instance.DataElement.getIds();n<o.length;n++){var a=o[n],s=e[a];if(s){var l={};l.normalImage=s.normalImage,l.blurImage=s.blurImage,l.fadeImage=s.fadeImage,l.langResTypes=s.langResTypes,s.langResTypes?l.langResTypes.indexOf(i.GData.curLanguage)>-1?(l.skeletonUrl=t(s.skeletonUrl,i.GData.curLanguage),l.frameClipUrl=t(s.frameClipUrl,i.GData.curLanguage)):(l.skeletonUrl=t(s.skeletonUrl),l.frameClipUrl=t(s.frameClipUrl)):(l.skeletonUrl=s.skeletonUrl,l.frameClipUrl=s.frameClipUrl),l.animationCacheMode=null==s.animationCacheMode?sp.Skeleton.AnimationCacheMode.REALTIME:s.animationCacheMode,l.blurImageScale=s.blurImageScale,l.normalImageScale=s.normalImageScale,l.fadeImageScale=s.fadeImageScale,l.premultipliedAlpha=s.premultipliedAlpha,l.normalAniName=s.normalAniName,l.blurAniName=s.blurAniName,l.fadeAniName=s.fadeAniName,l.sample=s.sample||24,l.speed=s.speed||.5,l.langTexUrl=s.langTexUrl?s.langTexUrl.replace("&",i.GData.curLanguage):null,l.defaultSkinName=s.defaultSkinName,l.LoaderAssetType=s.LoaderAssetType,l.blurType=null==s.blurType?l.LoaderAssetType:s.blurType,l.clipScale=s.clipScale,void 0===s.normalImageTrim?l.normalImageTrim=!0:l.normalImageTrim=s.normalImageTrim,void 0===s.fadeImageTrim?l.fadeImageTrim=!0:l.fadeImageTrim=s.fadeImageTrim,void 0===s.blurImageTrim?l.blurImageTrim=!0:l.blurImageTrim=s.blurImageTrim,l.dragonAnimation=s.dragonAnimation,l.dragonArmature=s.dragonArmature,l.dragonAssetUrl=s.dragonAssetUrl,l.dragonAssetAtlasUrl=s.dragonAssetAtlasUrl,l.normalDragonArmature=s.normalDragonArmature,l.normalDragonAnimation=s.normalDragonAnimation,l.fadeDragonArmature=s.fadeDragonArmature,l.fadeDragonAnimation=s.fadeDragonAnimation,l.blurDragonArmature=s.blurDragonArmature,l.blurDragonAnimation=s.blurDragonAnimation,this.elementMapConfig.set(a,l)}else console.log("\u5143\u7d20ID:"+a+" \u65e0\u8d44\u6e90\u914d\u7f6e")}console.log("set elementMapConfig comlete")}else console.error("\u65e0\u5143\u7d20\u8d44\u6e90\u914d\u7f6e")},e.prototype.getSpinElementConfig=function(e){return this.elementMapConfig.get(e)},e.prototype.getElementImageConfig=function(e,t){var n=this.getSpinElementConfig(e),i="",a=1,r=!0;switch(n||cc.warn("no fing "+e+" elemntConfig"),t){case o.default.STATE_DEFAULT:i=n.normalImage,a=n.normalImageScale||1,r=n.normalImageTrim;break;case o.default.STATE_ROLLING:n.blurImage?(i=n.blurImage,a=n.blurImageScale||1,r=n.blurImageTrim):(i=n.normalImage,a=n.normalImageScale||1,r=n.normalImageTrim);break;case o.default.STATE_OVER:n.fadeImage?(i=n.fadeImage,a=n.fadeImageScale||1,r=n.fadeImageTrim):(i=n.normalImage,a=n.normalImageScale||1,r=n.normalImageTrim)}return{url:i,scale:a,trim:r}},e._instance=null,e}();n.default=s,cc._RF.pop()},{"../../../common/utils/GData":"GData","../Scroller/com/base/JTItemRender":"JTItemRender","../SlotData/SDictionary":"SDictionary","../SlotManager/SlotConfigManager":"SlotConfigManager"}],SpinElementView:[function(e,t,n){"use strict";cc._RF.push(t,"a7315Uak2xK+J+FpfNnFy31","SpinElementView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("./../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),s=e("../../../slot_common/common/component/CommonNumAtlasBase"),l=e("../../../slot_common/common/utils/GData"),c=e("../../../slot_common/main/BaseView"),u=e("../../../slot_common/slotMachine/script/MainView/SpinElementManager"),p=e("../../../slot_common/common/component/ParticleSystemSpriteFramesRefresh"),h=e("../../../slot_common/slotMachine/script/SlotData/SDictionary"),d=e("../../../slot_common/slotMachine/script/SlotManager/SlotGameManager"),f=e("../../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),m=cc._decorator,g=m.ccclass,_=m.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgSk1=null,t.bgSk2=null,t.fadeInSk1=null,t.fadeInSk2=null,t.elementImage=null,t.elementAni=null,t.elementSk=null,t.frameBg=null,t.rewardPanel=null,t.elementDesc=null,t.config=null,t.rewardMap=null,t.countNumAtlas=null,t.rewardAtlas=null,t.numAtlasLabels=[],t.rewardAtlasLabels=[],t.otherNumLabels=[],t.otherRewardLabels=[],t.scroller=null,t.psNode=[],t.eleStyle=1,t._showCurViewId=0,t.aniName="",t}return o(t,e),t.prototype.onLoad=function(){this.frameBg.node.on("click",this.hide,this),window.SpinElementView=this},t.prototype.init=function(e){var t=this,n=this;if(this.scroller=e,this.config=l.GData.getParameter("elementPayConfig"),this.node.zIndex=this.config.zIndex||0,this.eleStyle=this.config.eleStyle||1,this.config.bg.width&&(this.frameBg.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.frameBg.node.width=this.config.bg.width),this.config.bg.height&&(this.frameBg.node.height=this.config.bg.height),this.loadRes(this.config.bg.atlas,cc.SpriteAtlas,function(e,n){var i=n.getSpriteFrame(t.config.bg.spriteFrame);t.frameBg.spriteFrame=i},l.GData.bundleName,""),this.loadRes(this.config.countAtlas.atlas,cc.SpriteAtlas,function(e,n){t.countNumAtlas=n,t.rewardAtlas&&t.createRewardLabel()},l.GData.bundleName,""),this.loadRes(this.config.winAtlas.atlas,cc.SpriteAtlas,function(e,n){t.rewardAtlas=n,t.countNumAtlas&&t.createRewardLabel()},l.GData.bundleName,""),this.config.bgSk)for(var i=function(e){o.loadRes(e.url,sp.SkeletonData,function(n,i){t.initEffect(e,i)},l.GData.bundleName)},o=this,a=0,s=this.config.bgSk;a<s.length;a++)i(s[a]);if(this.config.bgParticleSystem)for(var c in this.config.bgParticleSystem)"ps_clip"==(u=this.config.bgParticleSystem[c]).type?this.initParticleSystem_clip(u):"ps"==u.type&&this.initParticleSystem(u);if(this.config.bgSpriteFrame)for(var c in this.config.bgSpriteFrame){var u;"sp"==(u=this.config.bgSpriteFrame[c]).type&&this.initSpriteFrame(u)}this.config.fadeInSk&&(this.fadeInConfig=this.config.fadeInSk,this.loadRes(this.config.fadeInSk.url,sp.SkeletonData,function(e,n){t.initFadeInEffect(t.config.fadeInSk,n)},l.GData.bundleName)),this.rewardMap=new h.SDictionary,this.caculateReward(),game.EventManager.getInstance().addEventListener(r.GameEventNames.EVENT_DEL_ELEMENT_PAY_ID_HIDE,function(){game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE),cc.Tween.stopAllByTarget(n.elementImage.node),n.node.active=!1,n.scroller.elementBlackGround&&cc.tween(n.scroller.elementBlackGround).to(.1,{alpha:0}).call(function(){n.scroller.elementBlackGround.active=!1}).start()}),this.hide()},t.prototype.initFadeInEffect=function(e,t){e.zIndex<1?(this.fadeInSk1.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),this.fadeInSk1.premultipliedAlpha=e.premultipliedAlpha,this.fadeInSk1.node.scale=e.scale,this.fadeInSk1.skeletonData=t,this.isPlaySk=this.fadeInSk1.getComponent(sp.Skeleton)):(this.fadeInSk2.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),this.fadeInSk2.premultipliedAlpha=e.premultipliedAlpha,this.fadeInSk2.skeletonData=t,this.fadeInSk2.node.scale=e.scale,this.isPlaySk=this.fadeInSk2.getComponent(sp.Skeleton))},t.prototype.initEffect=function(e,t){function n(){var n=new cc.Node,i=n.addComponent(sp.Skeleton)||n.getComponent(sp.Skeleton);return i.setAnimationCacheMode(sp.Skeleton.AnimationCacheMode.SHARED_CACHE),i.premultipliedAlpha=e.premultipliedAlpha,i.timeScale=e.timeScale,i.skeletonData=t,i.animation=e.aniName,i.loop=e.loop,n.x=0,n.y=0,n.zIndex=e.zIndex,n.scale=e.scale,n}e.zIndex>=1?this.bgSk2.addChild(n()):this.bgSk1.addChild(n())},t.prototype.initParticleSystem=function(e){var t=this;if(e){var n=e.psUrl,i=e.spUrl;game.ResLoader.getInstance().loadRes(n,cc.ParticleAsset,function(n,o){if(n)console.log(n);else{var a=new cc.Node;a.name=e.tag;var r=a.addComponent(cc.ParticleSystem);r.file=o,game.ResLoader.getInstance().loadRes(i,cc.SpriteFrame,function(e,t){if(e)return e;r.spriteFrame=t},l.GData.bundleName,"slot"),e.zIndex>=1?t.bgSk2.addChild(a):t.bgSk1.addChild(a),a.active=!1,t.psNode.push(a),t.setLoadParticle(e,a)}},l.GData.bundleName,"slot")}},t.prototype.initParticleSystem_clip=function(e){var t=this;if(e){var n=e.psUrl,i=e.asUrl;game.ResLoader.getInstance().loadRes(n,cc.ParticleAsset,function(n,o){if(n)console.log(n);else{var a=new cc.Node;a.name=e.tag;var r=a.addComponent(cc.ParticleSystem);r.file=o,game.ResLoader.getInstance().loadRes(i,cc.SpriteAtlas,function(e,t){r.addComponent(p.default).atlas=t},l.GData.bundleName,"slot"),e.zIndex>=1?t.bgSk2.addChild(a):t.bgSk1.addChild(a),a.active=!1,t.psNode.push(a),t.setLoadParticle(e,a)}},l.GData.bundleName,"slot")}},t.prototype.initSpriteFrame=function(e){var t=this;if(e){var n=e.spUrl,i=e.spriteFrame;game.ResLoader.getInstance().loadRes(n,cc.SpriteAtlas,function(n,o){if(n)console.log(n);else{var a=new cc.Node;a.name=e.tag,a.addComponent(cc.Sprite).spriteFrame=o.getSpriteFrame(i),e.zIndex>=1?t.bgSk2.addChild(a):t.bgSk1.addChild(a),a.active=!1,t.psNode.push(a),t.setLoadParticle(e,a)}},l.GData.bundleName,"slot")}},t.prototype.setLoadParticle=function(e,t){var n=t,i=e;i&&(n.x=i.x||0,n.y=i.y||0,n.setScale(i.scale||1),n.zIndex=i.zIndex||0)},t.prototype.createRewardLabel=function(){for(var e=this.getConfig("show"),t=e.maxNum||0,n=e.anchorX||0,i=null!=e.anchorX_r?e.anchorX_r:n,o=this.config.rewardLayout,a=0;a<t;a++){(c=new cc.Node).name=a+"",this.rewardPanel.addChild(c,a);var r=(u=new cc.Node).addComponent(s.default);this.initAtlasLabel(this.config.countAtlas,this.countNumAtlas,r),this.numAtlasLabels.push(r),r.spaceX=o.num_spacingX||0,r.myColor=(new cc.Color).fromHEX(o.num_color||"#FFFFFF"),c.addChild(u),c.height=u.height,u.x=o.startX,u.anchorX=n,(p=new cc.Node).name=a+"",c.addChild(p,a);var l=p.addComponent(s.default);this.initAtlasLabel(this.config.winAtlas,this.rewardAtlas,l),this.rewardAtlasLabels.push(l),l.spaceX=o.num_spacingX||0,l.myColor=(new cc.Color).fromHEX(o.reward_color||"#FFFFFF"),p.x=o.startX+o.spacingX,p.anchorX=i,this.rewardPanel.getComponent(cc.Layout).spacingY=o.spacingY-c.height,this.rewardPanel.y=o.startY}var c,u,p;this.config.moreDate&&this.config.moreDate.symbol&&((c=new cc.Node).name="other",this.rewardPanel.addChild(c,0),r=(u=new cc.Node).addComponent(s.default),this.initAtlasLabel(this.config.countAtlas,this.countNumAtlas,r),this.otherNumLabels.push(r),r.spaceX=o.num_spacingX||0,r.myColor=(new cc.Color).fromHEX(o.num_color||"#FFFFFF"),c.addChild(u),c.height=u.height,u.x=o.startX,u.anchorX=n,(p=new cc.Node).name="other",c.addChild(p,0),l=p.addComponent(s.default),this.initAtlasLabel(this.config.winAtlas,this.rewardAtlas,l),this.otherRewardLabels.push(l),l.spaceX=o.num_spacingX||0,l.myColor=(new cc.Color).fromHEX(o.reward_color||"#FFFFFF"),p.x=o.startX+o.spacingX,p.anchorX=i)},t.prototype.initAtlasLabel=function(e,t,n){for(var i=0,o=e.config;i<o.length;i++){var a=o[i],r=new s.AtlsElmentConfig;r.id=""+a.id,r.elmentSpriteFrame=t.getSpriteFrame(a.spriteFrameName),n.AtlsElment.push(r)}n.offScale=e.scale||1,n.spaceX=e.spaceX||0,null!=e.maxWidth&&(n.shrink=!0,n._resetPicLabelWidthWithArchorX=!0,n.syncRootWidth=!0,n.maxWidth=e.maxWidth)},t.prototype.caculateReward=function(){for(var e=l.GData.getParameter("DataDataSlotElementReward"),t=0;t<e.ids.length;t++){var n=e.ids[t],i=e.data[n],o=i.element,a=this.rewardMap.get(o);if(a){for(var r=-1,s=0;s<a.length;s++)i.num==a[s].num&&i.rate==a[s].rate&&(r=s);-1==r&&a.push({num:i.num,rate:i.rate})}else a=[{num:i.num,rate:i.rate}],this.rewardMap.set(o,a);a.sort(function(e,t){return e.num-t.num})}},t.prototype.resetPosition=function(){},t.prototype.show=function(e,t,n,i,o){var a=this;cc.Tween.stopAllByTarget(this.scroller.elementBlackGround);var s=l.GData.getParameter("elementPayConfig");if(console.log("config=",s,"id=",e),s.coolElement&&s.coolElement.length>0)for(var c=0;c<s.coolElement.length;c++)if(e==s.coolElement[c])return;var p=s.maskAlpha||160;this.scroller.elementBlackGround.active?this.scroller.elementBlackGround.alpha=p:(this.scroller.elementBlackGround.active=null==s.isShowMask||s.isShowMask,this.scroller.elementBlackGround.alpha=0,cc.tween(this.scroller.elementBlackGround).to(.1,{alpha:p}).start());var h=e;this.node.active=!0;var f=i.parent.convertToWorldSpaceAR(cc.v2(t.x,t.y));this.node.setPosition(this.node.parent.convertToNodeSpaceAR(f));var m,g=u.default.instance.getSpinElementConfig(e),_=this.config.elementAnimation[e];if(this.config.elementPayID&&(m=this.config.elementPayID[e]),console.log("elementAnimation=",_),_&&(this.elementSk.node.y=_.y||0,this.elementImage.node.y=_.y||0,this.elementAni.node.y=_.y||0,this.elementSk.node.x=_.x||40,this.elementImage.node.x=_.x||40,this.elementAni.node.x=_.x||40,this.rewardPanel.scale=_.rewardPanelScale||1),this.config.bgParticleSystem&&this.config.bgParticleSystem[e]||this.config.bgSpriteFrame&&this.config.bgSpriteFrame[e])for(var y=0;y<this.psNode.length;y++)this.psNode[y].active=!0;else for(y=0;y<this.psNode.length;y++)this.psNode[y].active=!1;if(g.skeletonUrl&&_){for(var T=g.skeletonUrl,S="zh"==l.GData.curLanguage?"zh":"en";T.includes("&");)T=T.replace("&",S);this.elementImage.node.active=!1,this.elementSk.node.active=!1,this.elementAni.node.active=!1;var E=_.url?_.url:T;E=E.replace("&",S),this.loadRes(E,sp.SkeletonData,function(e,t){if(a._showCurViewId==h){a.elementSk.node.active=!0,a.elementSk.skeletonData=t,a.elementSk.premultipliedAlpha=g.premultipliedAlpha;var n=!0;null!=_.isloop&&null!=_.isloop&&(n=_.isloop);var i;i=_.enAniName&&"en"==S?_.enAniName:_.aniName,console.log("aniName=",i),a.elementSk.setAnimation(0,i,n);var o=_.idleAniName;o&&a.elementSk.setCompleteListener(function(){a.elementSk.setCompleteListener(null),a.elementSk.setAnimation(0,o,n)}),a.elementSk.node.scale=_.scale}},l.GData.bundleName)}else g.frameClipUrl&&_?(this.elementImage.node.active=!1,this.elementSk.node.active=!1,this.elementAni.node.active=!1,this.loadRes(g.frameClipUrl,cc.SpriteAtlas,function(e,t){if(e)console.log("c.frameClipUrl--\u52a0\u8f7d\u5931\u8d25");else{if(a._showCurViewId!=h)return;console.log("c.frameClipUrl--\u52a0\u8f7d\u6210\u529f"),a.elementAni.node.active=!0,a.elementAni.node.scale=_.scale;var n=t.getSpriteFrames();a.addAnimation(n,_.simple||30,"animation"),a.playSpriteFramesClip()}},l.GData.bundleName)):(console.log("\u5143\u7d20\u5c55\u793a---\u56fe\u7247"),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_TWEEN_PAY_TABLE,this.elementImage.node,e),this.elementSk.node.active=!1,this.elementAni.node.active=!1,this.elementImage.node.active=!0,this.elementImage.node.scale=g.normalImageScale,this.elementImage.spriteFrame=d.default.instance.getCardByName(g.normalImage),this.config.spriteFrame&&(this.elementImage.node.y=null!=this.config.spriteFrame.y?this.config.spriteFrame.y:0,this.elementImage.node.scale=null!=this.config.spriteFrame.scale?this.config.spriteFrame.scale:1));if(this.config.bgSk){for(c=0;c<this.bgSk1.children.length;c++)this.bgSk1.children[c].getComponent(sp.Skeleton).setAnimation(0,this.bgSk1.children[c].getComponent(sp.Skeleton).animation,this.bgSk1.children[c].getComponent(sp.Skeleton).loop);for(c=0;c<this.bgSk2.children.length;c++)this.bgSk2.children[c].getComponent(sp.Skeleton).setAnimation(0,this.bgSk2.children[c].getComponent(sp.Skeleton).animation,this.bgSk2.children[c].getComponent(sp.Skeleton).loop)}this.config.fadeInSk&&(this.isPlaySk.timeScale=this.fadeInConfig.timeScale1,this.isPlaySk.setAnimation(0,this.fadeInConfig.aniName1,this.fadeInConfig.loop1),this.fadeInConfig.loop1||this.isPlaySk.setCompleteListener(function(){a.isPlaySk.animation==a.fadeInConfig.aniName1&&(a.isPlaySk.timeScale=a.fadeInConfig.timeScale2,a.isPlaySk.setAnimation(0,a.fadeInConfig.aniName2,a.fadeInConfig.loop2),a.fadeInConfig.loop2?(a.isPlaySk.setCompleteListener(null),a.fadeInConfig.isHide&&(a.isPlaySk.node.active=!1)):a.isPlaySk.animation==a.fadeInConfig.aniName2&&a.isPlaySk.setCompleteListener(null))})),this.updateIsLeft(n,o,e),game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,e,o.index,i,n,this.node),console.log("elementPayID=",m),o.realData!=o.data&&(e=o.changedData),m&&m.payId&&(e=m.payId),h=e,this.updateContent(e)},t.prototype.updateIsLeft=function(e,t,n){var i=this,o=this.scroller.config.girdWidth;this.config.specialDesc[n]&&this.config.specialDesc[n].bg?(this.config.bg.width&&(this.frameBg.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.frameBg.node.width=this.config.bg.specialWidth),this.config.bg.height&&(this.frameBg.node.height=this.config.bg.specialHeight),this.loadRes(this.config.bg.atlas,cc.SpriteAtlas,function(e,t){var o=t.getSpriteFrame(i.config.specialDesc[n].bg);i.frameBg.spriteFrame=o;var a=0;null!=i.config.specialDesc[n].width&&null!=i.config.specialDesc[n].width&&(a=i.config.specialDesc[n].width),i.elementDesc.node.width=i.frameBg.node.width/5*3-a},l.GData.bundleName,"")):(this.config.bg.width&&(this.frameBg.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.frameBg.node.width=this.config.bg.width),this.config.bg.height&&(this.frameBg.node.height=this.config.bg.height),this.loadRes(this.config.bg.atlas,cc.SpriteAtlas,function(e,t){var o=t.getSpriteFrame(i.config.bg.spriteFrame);i.frameBg.spriteFrame=o;var a=0;i.config.specialDesc[n]&&null!=i.config.specialDesc[n].width&&null!=i.config.specialDesc[n].width&&(a=i.config.specialDesc[n].width),i.elementDesc.node.width=i.frameBg.node.width/5*3-a},l.GData.bundleName,"")),t.height>this.frameBg.node.height&&(this.frameBg.node.height=t.height),this.config.elementAnimation[n]&&this.config.elementAnimation[n].width&&(this.frameBg.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.frameBg.node.width=this.config.elementAnimation[n].width),this.config.elementAnimation[n]&&this.config.elementAnimation[n].height&&(this.frameBg.node.height=this.config.elementAnimation[n].height);var a=this.config.rewardLayout.left_x||0,r=this.config.rewardLayout.right_x||-o,s=0,c=0;if(e){var u=this.config.bg.left_flip||!1;this.frameBg.node.anchorX=.5,this.frameBg.node.scaleX=u?-1:1,this.elementSk.node.x=.5*-o,this.elementImage.node.x=.5*-o,this.config.spriteFrame&&this.config.spriteFrame.x&&(this.elementImage.node.x=.5*-o+this.config.spriteFrame.x),this.elementAni.node.x=.5*-o,this.rewardPanel.x=a,this.elementDesc.node.x=.5*o,this.bgSk1.x=this.elementSk.node.x,this.bgSk2.x=this.elementSk.node.x,this.fadeInSk1.node.x=this.elementSk.node.x,this.fadeInSk2.node.x=this.elementSk.node.x,this.config.specialDesc[n]?(this.frameBg.node.anchorX=u?1:0,this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&(s=this.config.bg.offsetBgX),null!=this.config.specialDesc[n].offsetBgX&&null!=this.config.specialDesc[n].offsetBgX&&(s=this.config.specialDesc[n].offsetBgX),this.frameBg.node.x=-o-s,null!=this.config.specialDesc[n].offsetDescX&&null!=this.config.specialDesc[n].offsetDescX&&(c=this.config.specialDesc[n].offsetDescX),this.elementDesc.node.x=o-c,this.elementDesc.node.color=cc.Color.WHITE.fromHEX(this.config.specialDesc[n].color),this.elementDesc.fontSize=this.config.specialDesc[n].font_size,l.GData.curLanguage!=game.LanguageType.MY?this.elementDesc.lineHeight=this.config.specialDesc[n].font_size+2:this.elementDesc.lineHeight=this.config.specialDesc[n].font_size+10,this.elementDesc.overflow=cc.Label.Overflow.RESIZE_HEIGHT):(this.frameBg.node.anchorX=u?1:0,this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&(s=this.config.bg.offsetBgX),this.frameBg.node.x=-o-s,this.elementDesc.node.x=0)}else{var p=this.config.bg.right_flip||!1;this.frameBg.node.scaleX=p?-1:1,this.elementSk.node.x=.5*o,this.elementImage.node.x=.5*o,this.config.spriteFrame&&this.config.spriteFrame.x&&(this.elementImage.node.x=.5*o-this.config.spriteFrame.x),this.elementAni.node.x=.5*o,this.rewardPanel.x=r,this.bgSk1.x=this.elementSk.node.x,this.bgSk2.x=this.elementSk.node.x,this.fadeInSk1.node.x=this.elementSk.node.x,this.fadeInSk2.node.x=this.elementSk.node.x,this.config.specialDesc[n]?(this.frameBg.node.anchorX=p?0:1,this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&(s=this.config.bg.offsetBgX),null!=this.config.specialDesc[n].offsetBgX&&null!=this.config.specialDesc[n].offsetBgX&&(s=this.config.specialDesc[n].offsetBgX),this.frameBg.node.x=o+s,null!=this.config.specialDesc[n].offsetDescX&&null!=this.config.specialDesc[n].offsetDescX&&(c=this.config.specialDesc[n].offsetDescX),this.elementDesc.node.x=-o+c,this.elementDesc.node.color=cc.Color.WHITE.fromHEX(this.config.specialDesc[n].color),this.elementDesc.fontSize=this.config.specialDesc[n].font_size,l.GData.curLanguage!=game.LanguageType.MY?this.elementDesc.lineHeight=this.config.specialDesc[n].font_size+2:this.elementDesc.lineHeight=this.config.specialDesc[n].font_size+10,this.elementDesc.overflow=cc.Label.Overflow.RESIZE_HEIGHT):(this.frameBg.node.anchorX=p?0:1,this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&null!=this.config.bg.offsetBgX&&(s=this.config.bg.offsetBgX),this.frameBg.node.x=o+s,this.elementDesc.node.x=.5*-o)}},t.prototype.updateContent=function(e){this._showCurViewId=e;var t=this.config.specialDesc[e];if(this.elementDesc.node.active=t,this.rewardPanel.active=!t,t){var n=game.LanguageManager.getInstance().getDstStr(t.languageId);this.elementDesc.string=n}else{var i=this.rewardMap.get(e);if(this.config.moreDate&&this.config.moreDate.showDate){var o=[];if(i){for(var a=0;a<i.length;a++)for(var r=0;r<this.config.moreDate.showDate.length;r++)if(i[a].num==this.config.moreDate.showDate[r]){o.push(i[a]);break}i=o}}this.rewardPanel.getComponent(cc.Layout).type=cc.Layout.Type.VERTICAL;var s=this.getConfig("show").isReverse,l=this.getConfig("show").maxNum;if(1==s){var c=0;for(a=l-1;a>=0;a--)if((h=this.rewardPanel.children[a])&&(h.active=i&&i[a],i&&i[a])){var u=void 0;if(u=this.config.rewardLayout.notNeedThousandSign?f.default.formatNumber(100*i[a].rate,0,100,!1,!0,""):this.config.rewardLayout.needShowKMB?f.default.formatNumberToKMB(i[a].rate):f.default.formatNumber(100*i[a].rate,0),!this.rewardAtlasLabels[c]||!this.numAtlasLabels[c])continue;switch(this.rewardAtlasLabels[c].anchorY=1.8,this.eleStyle){case 2:this.numAtlasLabels[c].string=""+Number(u)/i[a].num,this.rewardAtlasLabels[c].node.active=!1;break;case 3:a==l-1&&null!=this.config.rewardLayout.topRow&&null!=this.config.rewardLayout.topRow&&null!=this.config.rewardLayout.topRow.addSymbolType&&null!=this.config.rewardLayout.topRow.addSymbolType?1==this.config.rewardLayout.topRow.addSymbolType?this.numAtlasLabels[c].string=i[a].num+"+":2==this.config.rewardLayout.topRow.addSymbolType?this.numAtlasLabels[c].string="+"+i[a].num:0==this.config.rewardLayout.topRow.addSymbolType&&(this.numAtlasLabels[c].string=""+i[a].num):this.numAtlasLabels[c].string=""+i[a].num,this.rewardAtlasLabels[c].string=""+u;break;case 4:if(null!=this.config.elementPonint&&null!=this.config.elementPonint){this.rewardPanel.getComponent(cc.Layout).type=cc.Layout.Type.NONE;var p=this.config.elementPonint[i[a].num];this.numAtlasLabels[c].node.parent.x=p.x,this.numAtlasLabels[c].node.parent.y=p.y}this.numAtlasLabels[c].string=""+i[a].num,this.rewardAtlasLabels[c].string=""+u;break;case 1:default:this.numAtlasLabels[c].string=""+i[a].num,this.rewardAtlasLabels[c].string=""+u}a==l-1&&null!=this.config.rewardLayout.topRow&&null!=this.config.rewardLayout.topRow&&(null!=this.config.rewardLayout.topRow.resetPosX_l&&null!=this.config.rewardLayout.topRow.resetPosX_l&&(this.numAtlasLabels[c].node.x=this.config.rewardLayout.topRow.resetPosX_l),null!=this.config.rewardLayout.topRow.resetPosY_l&&null!=this.config.rewardLayout.topRow.resetPosY_l&&(this.numAtlasLabels[c].node.y=this.config.rewardLayout.topRow.resetPosY_l),null!=this.config.rewardLayout.topRow.resetPosX_r&&null!=this.config.rewardLayout.topRow.resetPosX_r&&(this.rewardAtlasLabels[c].node.x=this.config.rewardLayout.topRow.resetPosX_r),null!=this.config.rewardLayout.topRow.resetPosY_r&&null!=this.config.rewardLayout.topRow.resetPosY_r&&(this.rewardAtlasLabels[c].node.y=this.config.rewardLayout.topRow.resetPosY_r)),c++}}else if(i)for(a=0;a<i.length;a++)if(i[a]){u=void 0,u=this.config.rewardLayout.notNeedThousandSign?f.default.formatNumber(100*i[a].rate,0,100,!1,!0,""):this.config.rewardLayout.needShowKMB?f.default.formatNumberToKMB(i[a].rate):f.default.formatNumber(100*i[a].rate,0);var h=this.rewardPanel.children[a];a<=l-1?(h&&(h.active=!0),this.numAtlasLabels[a].string=""+i[a].num,this.rewardAtlasLabels[a].string=""+u,this.rewardAtlasLabels[a].anchorY=1.8):h&&(h.active=!1)}1==this.otherNumLabels.length&&1==this.otherRewardLabels.length&&(this.otherNumLabels[0].showStyle=2,this.otherRewardLabels[0].showStyle=2,this.otherNumLabels[0].string=null!=this.config.moreDate.symbol.str?this.config.moreDate.symbol.str:":",this.otherRewardLabels[0].string=null!=this.config.moreDate.symbol.str?this.config.moreDate.symbol.str:":",this.otherNumLabels[0].offPosX=null!=this.config.moreDate.symbol.x_l?this.config.moreDate.symbol.x_l:0,this.otherRewardLabels[0].offPosX=null!=this.config.moreDate.symbol.x_r?this.config.moreDate.symbol.x_r:0,this.otherNumLabels[0].offPosY=null!=this.config.moreDate.symbol.y_l?this.config.moreDate.symbol.y_l:0,this.otherRewardLabels[0].offPosY=null!=this.config.moreDate.symbol.y_r?this.config.moreDate.symbol.y_r:0)}},t.prototype.hide=function(){var e=this;game.EventManager.getInstance().raiseEvent(r.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE),cc.Tween.stopAllByTarget(this.elementImage.node),this.node.active=!1,this.scroller.elementBlackGround&&cc.tween(this.scroller.elementBlackGround).to(.1,{alpha:0}).call(function(){e.scroller.elementBlackGround.active=!1}).start()},t.prototype.getConfig=function(e){var t=null;switch(e){case"show":(t=this.config[e])||(t={maxNum:3,isReverse:!0,anchorX:0,anchorX_r:0})}return t},t.prototype.addAnimation=function(e,t,n,i,o){void 0===i&&(i=1),void 0===o&&(o=!1),e.sort(function(e,t){return e.name.localeCompare(t.name,"zh-CN",{numeric:!0})});var a=cc.AnimationClip.createWithSpriteFrames(e,t);a.name=n,a.speed=i,this.aniName=n,this.elementAni.addClip(a),a.wrapMode=o?cc.WrapMode.Loop:cc.WrapMode.Normal},t.prototype.playSpriteFramesClip=function(){this.node.active=!0,this.elementAni.play(this.aniName)},a([_(cc.Node)],t.prototype,"bgSk1",void 0),a([_(cc.Node)],t.prototype,"bgSk2",void 0),a([_(sp.Skeleton)],t.prototype,"fadeInSk1",void 0),a([_(sp.Skeleton)],t.prototype,"fadeInSk2",void 0),a([_(cc.Sprite)],t.prototype,"elementImage",void 0),a([_(cc.Animation)],t.prototype,"elementAni",void 0),a([_(sp.Skeleton)],t.prototype,"elementSk",void 0),a([_(cc.Sprite)],t.prototype,"frameBg",void 0),a([_(cc.Node)],t.prototype,"rewardPanel",void 0),a([_(cc.Label)],t.prototype,"elementDesc",void 0),a([g],t)}(c.default);n.default=y,cc._RF.pop()},{"../../../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../../../slot_common/common/component/ParticleSystemSpriteFramesRefresh":"ParticleSystemSpriteFramesRefresh","../../../slot_common/common/utils/GData":"GData","../../../slot_common/main/BaseView":"BaseView","../../../slot_common/slotMachine/script/MainView/SpinElementManager":"SpinElementManager","../../../slot_common/slotMachine/script/SlotData/SDictionary":"SDictionary","../../../slot_common/slotMachine/script/SlotManager/SlotGameManager":"SlotGameManager","../../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","./../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames"}],SpinManager:[function(e,t,n){"use strict";cc._RF.push(t,"46d7faTH0FKepbheY8GEmFf","SpinManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameType=void 0;var i,o=e("../SlotUtils/SlotUtils"),a=e("../SlotUtils/Handle"),r=e("./BonusGameManager"),s=e("./FreeGameManager"),l=e("./GlobalQueueManager"),c=e("../SlotData/RollingResult"),u=e("../SlotDefinitions/SlotEnum"),p=e("./PlayerManager"),h=e("../SlotConfigs/GameEventNames"),d=e("./SlotConfigManager"),f=e("../SlotDefinitions/globalTaskFlags"),m=e("./SlotTimeManager"),g=e("../../../network/NetSlotConst"),_=e("../../../network/SlotProtoManager"),y=e("./SlotGameManager"),T=e("./MultipleGameManager"),S=e("../../../common/component/CustomButton"),E=e("../../../autoTest/SlotAutoTestConf");(function(e){e[e.None=0]="None",e[e.MainGame=1]="MainGame",e[e.FreeGame=2]="FreeGame",e[e.BonusGame=3]="BonusGame",e[e.JackPotGame=4]="JackPotGame"})(i=n.GameType||(n.GameType={}));var v=function(){function e(){this._normalGameShowAutoTimesOnRespin=!0,this._onRespinTime=!1,this._spinGap=0,this.isSpinResp=!1,this._betState=0,this._extraBetRate=0,this._isCustomDataInterActive=!1,this.setLineNumOnSpecial=null,this._lineNum=0,this._betScore=null,this._betCost=null,this._startBtnVisible=!0,this._lineCostIndex=0,this._doubleCoin=null,this._lineRate=0,this._rateModulus=100,this._isInNormalAutoGame=!1,this._autoTimes=0,this._restAutoTimes=0,this._isInAuto=!1,this._isInAutoInit=!1,this._isInTurbo=!1,this._rollingDirection=u.RollingDirection.Down,this._rollingResult=null,this._totalWin=0,this._spinWin=0,this._totalWinRate=0,this._spinSlotsData=null,this._spinSlotsGridChangedData=null,this._basedDataUpdated=!1,this._inGame=!1,this._permanentSpeedUpRate=1,this._continuousUnHittedTimes=0,this._isFullLineAvailable=!0,this.isSlotMachineStopped=!0,this._spinTouchEnable=!1,this._customUpdateData=null,this._minGameMoney=1,this._cur_roller_mode=0,this._roundId=Long.fromNumber(0),this.isOldSpinResp=!1,this._rollerLv=0,this._lineValueMultipleIndex=0,this._assginLine=[],this._invalidSpin=!1,this._autoTempTimesData=0,this._planedFreeGame=!1,this.platformRate=1,this._initialized=!1,this.lastTimeSpinResult=null,this.lastTimeSpinHandle=null,this.betStateType=null,this._tempResNomalData=null,this._stopImme=!0,this._stopImmediatelyTimes=0,this._ignoreClick=!1,this._waitToResume=!1,this.hasDumyQueue=!1,this._appointRate=-1,this.isSlotMahcineCompleted=!0,this.onceWin=0,this.isLastView=!1,this.throwTimes=0,this._planedStart=!1,this._planedAutoGame=!1,this._hasNewCustomData=!1}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nowGameType",{get:function(){return this._nowGameType},set:function(e){e!==this._nowGameType&&(this._nowGameType=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_GAME_TYPE_CHANGED))},enumerable:!1,configurable:!0}),e.prototype.setSpinGap=function(e){this._spinGap=e},Object.defineProperty(e.prototype,"betState",{get:function(){return this._betState},set:function(e){this._betState=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraBetRate",{get:function(){return this._extraBetRate},set:function(e){this._extraBetRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomDataInterActive",{get:function(){return this._isCustomDataInterActive},set:function(e){this._isCustomDataInterActive=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineNum",{get:function(){return this.assginLine&&this.assginLine.length>0?this.assginLine.length:this._lineNum},set:function(e){if(!(e<=0)){if(this.setLineNumOnSpecial)e=this.setLineNumOnSpecial()||d.default.instance.totalLineIds.length,this._lineNum=e,cc.sys.localStorage.setItem("lineNum_"+core.Global.gameId,this._lineNum);else if(e>d.default.instance.totalLineIds.length)return this._lineNum=d.default.instance.totalLineIds.length,void cc.sys.localStorage.setItem("lineNum_"+core.Global.gameId,this._lineNum);var t=e!==this._lineNum;0!=e&&(this._lineNum=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_FORCE_UPDATE_BETSCORE)),t&&(game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_LINE_NUM_CHANGED,[this._lineNum]),cc.sys.localStorage.setItem("lineNum_"+core.Global.gameId,this._lineNum))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"singleBetCost",{get:function(){var e=core.CommonProto.getInstance().coinRate;return o.default.isNullOrUndefined(this._betCost)?this.lineNum*this.getLineCostByIndex()*this.getRealLineRate()*e*this.rateModulus/100*this.getLinelMutiple():this._betCost*e/this.lineNum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"betRate",{get:function(){return this.betStateType?this.betStateType.betRate/100:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"betScore",{get:function(){var e=core.CommonProto.getInstance().coinRate;return o.default.isNullOrUndefined(this._betScore)?this.getLineCostByIndex()*e*this.rateModulus/100*this.getLinelMutiple()*this.betRate:this._betScore*e},set:function(e){this._betScore=e,console.log("setbetLine>>",e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"betCost",{get:function(){var e=core.CommonProto.getInstance().coinRate;return o.default.isNullOrUndefined(this._betCost)?this.lineNum*this.getLineCostByIndex()*this.getRealLineRate()*e*this.rateModulus/100*this.getLinelMutiple()*this.betRate:this._betCost},set:function(e){this._betCost=e,console.log("setBetCost>>",e)},enumerable:!1,configurable:!0}),e.prototype.calcBetCost=function(e){var t=core.CommonProto.getInstance().coinRate;return o.default.isNullOrUndefined(this._betCost)?this.lineNum*this.getLineCostByIndex(e)*this.getRealLineRate()*t*this.rateModulus/100*this.getLinelMutiple()*this.betRate:this._betCost*t},Object.defineProperty(e.prototype,"startBtnVisible",{get:function(){return this._startBtnVisible},set:function(e){e!==this._startBtnVisible&&(this._startBtnVisible=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_START_BTN_VISIBLE_CHANGED))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineCostIndex",{get:function(){return this._lineCostIndex},set:function(e){e!=this._lineCostIndex&&(e<0?this._lineCostIndex=d.default.instance.lineCostList.length-1:e>=d.default.instance.lineCostList.length?this._lineCostIndex=0:this._lineCostIndex=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_LINE_COST_CHANGED))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doubleCoin",{get:function(){return this._doubleCoin},set:function(e){this._doubleCoin=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineRate",{get:function(){return this._lineRate},set:function(e){this._lineRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rateModulus",{get:function(){return this._rateModulus},set:function(e){this._rateModulus=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInNormalAutoGame",{get:function(){return this._isInNormalAutoGame},set:function(e){this._isInNormalAutoGame=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoTimes",{get:function(){return this._autoTimes},set:function(e){(e=e||-1)!==this._autoTimes&&(this._autoTimes=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_AUTO_TIMES_CHANGED))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restAutoTimes",{get:function(){return this._restAutoTimes},set:function(e){e!==this._restAutoTimes&&(this._restAutoTimes=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_REST_AUTO_TIMES_CHANGED))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInAuto",{get:function(){return this._isInAuto},set:function(e){this._isInAuto=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_AUTO_STATE_CHANGED)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInTurbo",{get:function(){return this._isInAutoInit||(this._isInAutoInit=!0),this._isInTurbo},set:function(e){var t=e!==this._isInTurbo;this._isInTurbo=e,this._isInTurbo&&this.ignoreStopImmediatelyTimes(),t&&game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_TURBO_STATUS_CHANGD)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rollingDirection",{get:function(){return this._rollingDirection},set:function(e){this._rollingDirection=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rollingResult",{get:function(){return this._rollingResult},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flattenLineRewardsResults",{get:function(){return this._flattenLineRewardsResults||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalWin",{get:function(){return this._totalWin},set:function(e){this._totalWin=e,this._totalWinRate=this._totalWin/this.betCost},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinWin",{get:function(){return this._spinWin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalWinRate",{get:function(){return this._totalWinRate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinSlotsData",{get:function(){return this._spinSlotsData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinSlotsGridChangedData",{get:function(){return this._spinSlotsGridChangedData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseDataUpdated",{get:function(){return this._basedDataUpdated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inGame",{get:function(){return this._inGame},set:function(e){e!==this._inGame&&(this._inGame=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"permanentSpeedUpRate",{get:function(){return this._permanentSpeedUpRate},set:function(e){this._permanentSpeedUpRate=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needPlayUnhittedAni",{get:function(){return this._continuousUnHittedTimes>=3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullLineWin",{get:function(){return this._isFullLineWin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isFullLineAvailable",{get:function(){return this._isFullLineAvailable},set:function(e){this._isFullLineAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spinTouchEnable",{get:function(){return this._spinTouchEnable},set:function(e){this._spinTouchEnable=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_MENBTS_SETSTATE,{state:e,num:1})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customUpdateData",{get:function(){return this._customUpdateData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minGameMoney",{get:function(){return this._minGameMoney},set:function(e){this._minGameMoney=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cur_roller_mode",{get:function(){return this._cur_roller_mode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundId",{get:function(){return this._roundId},set:function(e){this._roundId=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_UPDATE_ROUND_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rollerLv",{get:function(){return this._rollerLv},set:function(e){this._rollerLv=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineValueMultipleIndex",{get:function(){return this._lineValueMultipleIndex},set:function(e){e!=this._lineValueMultipleIndex&&(e<0?this._lineValueMultipleIndex=d.default.instance.lineValueMultiples.length-1:e>=d.default.instance.lineValueMultiples.length?this._lineValueMultipleIndex=0:this._lineValueMultipleIndex=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_LINE_COST_CHANGED,!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"assginLine",{get:function(){return this._assginLine},set:function(e){this._assginLine=e,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_LINE_COST_CHANGED,!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"invalidSpin",{get:function(){return this._invalidSpin},enumerable:!1,configurable:!0}),e.prototype.init=function(){this._initialized||this._addEventListener()},e.prototype.dispose=function(){this._removeEventListener(),this._nowGameType=null,this._rollingResult=null,this._customUpdateData=null,e._instance=null},e.prototype.ignoreStopImmediatelyTimes=function(){this._stopImmediatelyTimes=-1},e.prototype.resetUnHitTimes=function(){this._continuousUnHittedTimes=0},e.prototype.setLineNumMax=function(){this.lineNum=d.default.instance.totalLineIds.length},e.prototype.setLineNumMin=function(){this.lineNum=1},e.prototype.setLineCostIndexMax=function(){this.lineCostIndex=d.default.instance.lineCostList.length-1},e.prototype.setLineCostIndexMin=function(){this.lineCostIndex=0},e.prototype.requestLastGameInfo=function(){this._basedDataUpdated=!1,_.default.getInstance().requestLastGameInfo()},e.prototype.requestPlayerData=function(){},e.prototype.getLineCostByIndex=function(e){return void 0===e&&(e=null),e=null===e?this._lineCostIndex:e,o.default.getLineCostByIndex(e)},e.prototype.initLineNumAndCost=function(e){if(e)switch(e.state){case u.OperationState.Normal:case u.OperationState.BonusGame:e.freeData?this._initLineNumAndCostBySpinParam(e.freeData.spinInfo.spinParam):this._initLineNumAndCostBySpinParam(e.normalData.spinInfo.spinParam);break;case u.OperationState.Free:case u.OperationState.ReSpin:this._initLineNumAndCostBySpinParam(e.freeData.spinInfo.spinParam)}},e.prototype.checkGlobalQueue=function(){this._hasNewCustomData&&(this._notifyCustomDataUpdated(l.default.instance.continueHandler),this._isCustomDataInterActive)||(l.default.instance.removeAllTasksByName(f.globalTaskFlags.GLOBAL_TASK_CANCEL_WHEN_START),this.hasDumyQueue&&l.default.instance.queueLen<=1&&l.default.instance.reset(),this.hasDumyQueue=!1,l.default.instance.queueLen>0&&l.default.instance.execute())},Object.defineProperty(e.prototype,"tempAutoTimes",{get:function(){return this._autoTempTimesData},set:function(e){this._autoTempTimesData=e},enumerable:!1,configurable:!0}),e.prototype.onFreeGameTrigger=function(){var e=this;this._cancelAllPlan(),this._planedFreeGame=!0,setTimeout(function(){e.autoFreeGame()},500)},e.prototype.onShowLineOver=function(e){var t=this;if(void 0===e&&(e=!0),s.default.instance.hasFreeGame&&!r.default.instance.hasBonusGame&&e&&!this._planedFreeGame)return this._cancelAllPlan(),void s.default.instance.doAniDelayCb(function(e){t._planToSingleStart(e)});r.default.instance.hasBonusGame||s.default.instance.hasFreeGame||this.recoverAutoGameTimes(),s.default.instance.hasFreeGame||(s.default.instance.isFreeGameBalanced=!0),this._onSlotMachineCompleted(null)},e.prototype.onFreeOrBonusGameOver=function(e){void 0===e&&(e=!1),r.default.instance.hasBonusGame||s.default.instance.hasFreeGame||e||this.recoverAutoGameTimes(),s.default.instance.hasFreeGame||e||(s.default.instance.isFreeGameBalanced=!0),0!==this._restAutoTimes?(this.isInAuto=!0,this.nowGameType=i.MainGame,this._planToAutoGame(500)):this.nowGameType=i.None,this.onceWin=0},e.prototype.storeAutoGameTimes=function(e){void 0===e&&(e=!1),this._normalGameShowAutoTimesOnRespin?this._onRespinTime=!0:(-1===this._restAutoTimes?this._autoTempTimesData=-1:this._restAutoTimes>0&&(this._autoTempTimesData=this._restAutoTimes),e?this.restAutoTimes=0:this._restAutoTimes=0,this.isInAuto=!1)},e.prototype.switchTipsWhenSlotMachineStop=function(){},e.prototype.recoverAutoGameTimes=function(){this._normalGameShowAutoTimesOnRespin?this._onRespinTime=!1:0!==this._autoTempTimesData&&(this._restAutoTimes=this._autoTempTimesData,this._autoTempTimesData=0,this.isInAuto=!0,this._onRespinTime=!1)},e.prototype.autoFreeGame=function(){this._planedFreeGame=!1,m.default.instance.clear(this,this.autoFreeGame),s.default.instance.hasFreeGame&&this._onClickSingleStartBtn()},e.prototype.planToUpdateCustomData=function(){this._customUpdateData&&l.default.instance.pushToQueue(a.Handler.create(this,this._notifyCustomDataUpdated))},e.prototype.updateCustomData=function(){this._notifyCustomDataUpdated(a.Handler.create(this,this._onCustomDataUpdate,[]))},e.prototype._onCustomDataUpdate=function(){},e.prototype._notifyCustomDataUpdated=function(e){if(!this._hasNewCustomData)return e.run();this._hasNewCustomData=!1,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CUSTOM_DATA_UPDATED,e)},e.prototype._addEventListener=function(){game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this._onClickSingleStartBtn,this),game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_SLOT_MACHINE_COMPLETED,this._onSlotMachineCompleted,this),game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_PLAYER_CLICKED_MULTI_START_BTN,this._onClickedMultiStartBtn,this),game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_SLOT_MACHINE_STOPPED,this._onSlotMachineStopped,this),game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_PLAYER_SLID_SLOTMACHINE,this._onSlideSlotMachine,this),game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_PLAYER_CLICKED_SLOTMACHINE,this._onClickSlotMachineView,this),game.EventManager.getInstance().addEventListener(h.GameEventNames.EVENT_SHOW_LINE_OVER,this._onShowLineOver,this),game.EventManager.getInstance().addEventListener(g.default.RESTORERESP,this._onLastGameInfoResp,this),game.EventManager.getInstance().addEventListener(g.default.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(g.default.CHANGECOSTRESP,this._onChangeCostResp,this),game.EventManager.getInstance().addEventListener(g.default.CHANGEBETSTATERESP,this._onChangeBetStateResp,this),game.EventManager.getInstance().addEventListener(g.default.COLLECTCHOOSERESP,this._onCollectChooseResp,this),game.EventManager.getInstance().addEventListener(g.default.BUYFREESPINRESP,this._onBuyFreeRollingResp,this)},e.prototype._removeEventListener=function(){game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this._onClickSingleStartBtn,this),game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_SLOT_MACHINE_COMPLETED,this._onSlotMachineCompleted,this),game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_PLAYER_CLICKED_MULTI_START_BTN,this._onClickedMultiStartBtn,this),game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_SLOT_MACHINE_STOPPED,this._onSlotMachineStopped,this),game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_PLAYER_SLID_SLOTMACHINE,this._onSlideSlotMachine,this),game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_PLAYER_CLICKED_SLOTMACHINE,this._onClickSlotMachineView,this),game.EventManager.getInstance().removeEventListener(h.GameEventNames.EVENT_SHOW_LINE_OVER,this._onShowLineOver,this),game.EventManager.getInstance().removeEventListener(g.default.RESTORERESP,this._onLastGameInfoResp,this),game.EventManager.getInstance().removeEventListener(g.default.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(g.default.CHANGECOSTRESP,this._onChangeCostResp,this),game.EventManager.getInstance().removeEventListener(g.default.CHANGEBETSTATERESP,this._onChangeBetStateResp,this),game.EventManager.getInstance().removeEventListener(g.default.COLLECTCHOOSERESP,this._onCollectChooseResp,this),game.EventManager.getInstance().removeEventListener(g.default.BUYFREESPINRESP,this._onBuyFreeRollingResp,this)},e.prototype._initAutoTimes=function(){this._autoTimes=d.default.instance.autoTimesList[d.default.instance.autoTimesList.length-1]||-1},e.prototype._initLineNum=function(){this._lineNum=d.default.instance.totalLineIds.length},e.prototype._initLineNumAndCostBySpinParam=function(e){this.appointRate=e.lineRate,this.rateModulus=e.rateModulus,this.lineNum=e.lineList.length;var t=e.lineCost.toNumber(),n=o.default.getIndexByLineCost(t)||0;this.lineCostIndex=n;var i=d.default.instance.lineValueMultiples.indexOf(e.lineMultiple);this.lineValueMultipleIndex=i>-1?i:0},e.prototype.getRealLineRate=function(){if(-1==this._appointRate){console.log("gameId:",d.default.instance.gameID);var e=d.default.instance.DataGame.getData(d.default.instance.gameID).lineRate;return(e.length<=0?1:e[this._lineRate])*this.platformRate}return this._appointRate*this.platformRate},e.prototype.getLinelMutiple=function(){var e=d.default.instance.lineValueMultiples;return 0==e.length?1:e[this.lineValueMultipleIndex]},e.prototype._initLineCostIndex=function(){this.lineCostIndex=0},e.prototype._onLastGameInfoResp=function(e,t){var n;this._initSpinSlotsData(t),this.lastTimeSpinResult=t.state.freeData?t.state.freeData.spinInfo:t.state.normalData.spinInfo,this.lastTimeSpinHandle=t.state.freeData?t.state.freeData.handleState:t.state.normalData.handleState,this.betStateType=t.betStateType,this.initLineNumAndCost(t.state);var o=new protoSlot.spinResp;o.spinResult=this.lastTimeSpinResult.spinResult,o.state=t.state.state,this._rollingResult=o,console.log(JSON.stringify(t)),this._basedDataUpdated=!0,t.state.normalData&&(this._rollingResult.randomElemPos=t.state.normalData.randomElemPos,t.state.normalData.handleState&&(this._customUpdateData=t.state.normalData.handleState)),t.state.freeData&&(this._rollingResult.randomElemPos=t.state.freeData.randomElemPos,t.state.freeData.handleState&&(this._customUpdateData=t.state.freeData.handleState));var c=new protoSlot.stateUpdateType,u=new protoSlot.stateUpdateType.updateType;u.handleState=this.lastTimeSpinHandle,c.value=u,this._rollingResult.updateList=[c];var d=[];if(t.state.freeData&&t.state.freeData.wild&&t.state.freeData.wild.length>0&&(d=t.state.freeData.wild.concat([])),0==d.length&&t.state.normalData&&t.state.normalData.wild&&t.state.normalData.wild.length>0&&(d=t.state.normalData.wild.concat([])),d.length>0){var f=new protoSlot.stateUpdateType,m=new protoSlot.stateUpdateType.updateType;m.wild=d,f.value=m,f.type=4,this._rollingResult.updateList.push(f)}this.doFlattenLineRewardsResult(o.spinResult),this._initAutoTimes(),this._nowGameType=i.None,r.default.instance.render(t.state,!0);var g=!1;if(this._initialized&&t.state&&t.state.freeData&&!s.default.instance.freeGameInfo&&(g=!0),s.default.instance.renderResume(t.state,g),this._initialized)s.default.instance.renderReconnect(t.state);else if(!t.state.freeData){var _=t.state.normalData.sumSpinCoin.toNumber()+t.state.normalData.sumLgCoin.toNumber(),S=(null===(n=t.state.normalData.triggerFreeSpinCoin)||void 0===n?void 0:n.toNumber())||0;s.default.instance.isShowFreeOverWinAddTrigger&&S>0&&(_+=S),_>0&&(this._totalWin=_)}if(this.isOldSpinResp&&(this._totalWin=0,this._flattenLineRewardsResults=[]),p.default.instance.isNew=1==t.userInfo.isNewer,p.default.instance.syncShowingCoin(Number(t.userInfo.balance)),T.default.instance.resume(t.state,this._initialized),s.default.instance.hasFreeGame){s.default.instance.isFreeGame=!0;var E=s.default.instance.freeGameInfo.sumCoin;this.isSlotMahcineCompleted&&(game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,E),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_SET_WINSCORE_RETAIN,!0))}else this.flattenLineRewardsResults.length>0&&(this.isSlotMachineStopped||l.default.instance.pushToQueue(a.Handler.create(this,function(){})));this.tempResNomalData=null,t.state.normalData&&t.state.normalData&&(this.tempResNomalData=t.state.normalData),y.default.instance.isFirstEnterRoom?game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_LAST_GAME_INFO_GET):game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_REENTER_ROOM_SUCCESS),this._initialized=!0,this._betState=t.betStateType.betState,this._extraBetRate=t.betStateType.betRate},e.prototype._onChangeCostResp=function(e,t){if(t.normalData||t.freeData){this.lastTimeSpinResult=t.freeData?t.freeData.spinInfo:t.normalData.spinInfo,this.lastTimeSpinHandle=t.freeData?t.freeData.handleState:t.normalData.handleState;var n=new protoSlot.spinResp;n.spinResult=this.lastTimeSpinResult.spinResult,n.state=t.state,this._rollingResult=n,this.setCustomGrids(n.spinResult.grid,n.spinResult.gridChanged),console.log(JSON.stringify(t)),this._basedDataUpdated=!0,t.normalData&&t.normalData.handleState&&(this._customUpdateData=t.normalData.handleState),t.freeData&&t.freeData.handleState&&(this._customUpdateData=t.freeData.handleState);var i=new protoSlot.stateUpdateType,o=new protoSlot.stateUpdateType.updateType;if(o.handleState=this.lastTimeSpinHandle,i.value=o,this._rollingResult.updateList=[i],this.doFlattenLineRewardsResult(n.spinResult),!t.freeData){var a=t.normalData.sumSpinCoin.toNumber()+t.normalData.sumLgCoin.toNumber();a>0&&(this._totalWin=a)}this.totalWin,this._totalWin=0,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CHANGE_COST_SUCCESS)}},e.prototype._onChangeBetStateResp=function(e,t){this.betStateType=t.betStateType,this.betState=t.betStateType.betState,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_FORCE_UPDATE_BETSCORE,this.betCost)},e.prototype._onCollectChooseResp=function(e,t){t.nextState&&(t.nextState.state==u.OperationState.Free||t.nextState.state==u.OperationState.ReSpin?(s.default.instance.renderResume(t.nextState,!0),s.default.instance.isTreateNewFree=!0,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CLEAR_FREEGAMEOVER_TASK)):t.nextState.state==u.OperationState.BonusGame&&r.default.instance.render(t.nextState))},Object.defineProperty(e.prototype,"tempResNomalData",{get:function(){return this._tempResNomalData},set:function(e){this._tempResNomalData=e},enumerable:!1,configurable:!0}),e.prototype.setCustomGrids=function(t,n){e.customGridsCallback&&e.customGridsCallback(t,n)},e.prototype.getCustomResult=function(){if(e.customResultCallBack)return e.customResultCallBack()},e.prototype._initSpinSlotsData=function(e){e.state.normalData&&e.state.normalData.spinInfo&&e.state.normalData.spinInfo.spinResult&&this.setCustomGrids(e.state.normalData.spinInfo.spinResult.grid,e.state.normalData.spinInfo.spinResult.gridChanged),e.state.freeData&&e.state.freeData.spinInfo&&e.state.freeData.spinInfo.spinResult&&this.setCustomGrids(e.state.freeData.spinInfo.spinResult.grid,e.state.freeData.spinInfo.spinResult.gridChanged),this._spinSlotsData=this._getGridsFromLastGameInfo(e),this._spinSlotsGridChangedData=this._getGridsFromLastGameInfo(e)},e.prototype._getGridsFromLastGameInfo=function(e){switch(e.state.state){case u.OperationState.Free:case u.OperationState.ReSpin:return e.state.freeData.spinInfo.spinResult.gridChanged;case u.OperationState.BonusGame:return e.state.freeData?e.state.freeData.spinInfo.spinResult.gridChanged:e.state.normalData.spinInfo.spinResult.gridChanged;default:return e.state.normalData.spinInfo.spinResult.gridChanged}},e.prototype._onClickSingleStartBtn=function(){this._startBtnVisible&&(r.default.instance.doingBonusGame||(this.spinTouchEnable||this.isInAuto)&&(this.inGame?this._onClickSingleStartBtnInGame():this._onClickSingleStartBtnNotInGame()))},e.prototype._onClickSingleStartBtnNotInGame=function(){this._checkSpin()&&(this._restAutoTimes=0,this.isInAuto=!1,this._startSpin())},e.prototype._onClickSingleStartBtnInGame=function(){this.isInAuto?this._onClickSingleStartBtnInAuto():this.isSpinResp&&this._onClickSingleStartBtnNotInAuto()},e.prototype._onClickSingleStartBtnInAuto=function(){this.nowGameType===i.FreeGame?this.isSlotMachineStopped?this._onSlotMachineCompleted(null,!0):(this.isSlotMachineStopped||this._checkAndShowEnableTurboView(),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY)):(this._restAutoTimes=0,this.isSlotMachineStopped?this.isSlotMahcineCompleted?(this.inGame=!1,this.isInAuto=!1,this.nowGameType=i.None,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_MENU_INTERACTABLE),this._cancelAllPlan()):this._onSlotMachineCompleted(null):(this.isInAuto=!1,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CANCEL_AUTO_GAME)))},e.prototype._onClickSingleStartBtnNotInAuto=function(){this.isSlotMachineStopped||this._checkAndShowEnableTurboView(),this.stopImme&&game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY)},Object.defineProperty(e.prototype,"stopImme",{get:function(){return this._stopImme},set:function(e){this._stopImme=e},enumerable:!1,configurable:!0}),e.prototype._onClickSlotMachineView=function(){S.default.isOnCooling||(S.default.isOnCooling=!0,this.isSlotMachineStopped||this._checkAndShowEnableTurboView(),this.rollingResult&&game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY))},e.prototype._onSlideSlotMachine=function(){this._hasNewCustomData&&(this._notifyCustomDataUpdated(l.default.instance.continueHandler),this._isCustomDataInterActive)||(l.default.instance.removeAllTasksByName(f.globalTaskFlags.GLOBAL_TASK_CANCEL_WHEN_START),this.hasDumyQueue&&l.default.instance.queueLen<=1&&l.default.instance.reset(),this.hasDumyQueue=!1,l.default.instance.queueLen>0?l.default.instance.execute():this.isInAuto||this._startBtnVisible&&(r.default.instance.doingBonusGame||(this.inGame?this.isSlotMachineStopped&&this._onSlotMachineCompleted(null,!0):(e.instance.isSlotMachineStopped,this._onClickSingleStartBtn()))))},e.prototype._checkAndShowEnableTurboView=function(){if(!(this._stopImmediatelyTimes<0))return s.default.instance.hasFreeGame||r.default.instance.hasBonusGame?this._stopImmediatelyTimes=0:void(this._ignoreClick||this.isInTurbo||(++this._stopImmediatelyTimes,this._ignoreClick=!0,this._stopImmediatelyTimes>=3&&(this._stopImmediatelyTimes=0,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_SHOW_FAST_MODE_TIP))))},e.prototype._checkSpin=function(){return!!this._isMoneyEnough()||(this.isInAuto=!1,this.inGame=!1,game.EventManager.getInstance().raiseEvent(h.GameEventNames.MONEY_NOT_ENOUGH_BREAK),!1)},e.prototype._isMoneyEnough=function(){return!!r.default.instance.hasBonusGame||!!s.default.instance.hasFreeGame||!(!this._hasNewCustomData||!this._isCustomDataInterActive)||!(p.default.instance.showCoin<.01*this.minGameMoney)&&p.default.instance.showCoin>=this.betCost},e.prototype._startSpin=function(){if(S.default.isOnCooling=!0,!this._hasNewCustomData||(this._notifyCustomDataUpdated(l.default.instance.continueHandler),!this._isCustomDataInterActive)){if(l.default.instance.removeAllTasksByName(f.globalTaskFlags.GLOBAL_TASK_CANCEL_WHEN_START),this.hasDumyQueue&&l.default.instance.queueLen<=1&&l.default.instance.reset(),this.hasDumyQueue=!1,l.default.instance.queueLen>0)return console.log("----------wait queue execute-----------------",l.default.instance.queueLen),void l.default.instance.execute();if(this._cancelAllPlan(),this.inGame=!0,this._ignoreClick=!1,this._customUpdateData=null,this._hasNewCustomData=!1,this._totalWin=0,this._spinWin=0,r.default.instance.try())return this._stopImmediatelyTimes<0?null:this._stopImmediatelyTimes=0;if(s.default.instance.try())return this._stopImmediatelyTimes<0?null:this._stopImmediatelyTimes=0;p.default.instance.deductMoney(this.betCost),this._renderNormalStart()}},e.prototype._onClickedMultiStartBtn=function(){if(this.spinTouchEnable&&(!this._hasNewCustomData||(this._notifyCustomDataUpdated(l.default.instance.continueHandler),!this._isCustomDataInterActive))){if(l.default.instance.removeAllTasksByName(f.globalTaskFlags.GLOBAL_TASK_CANCEL_WHEN_START),this.hasDumyQueue&&l.default.instance.queueLen<=1&&l.default.instance.reset(),this.hasDumyQueue=!1,!(l.default.instance.queueLen>0))return this._restAutoTimes>0||this._restAutoTimes<0?(this.isInAuto=!1,this._restAutoTimes=0,void game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CANCEL_AUTO_GAME)):void(this._checkSpin()&&(0===this.autoTimes&&(this.autoTimes=-1),this.restAutoTimes=this.autoTimes,this._doClickMultiStartBtn()));l.default.instance.execute()}},e.prototype._doClickMultiStartBtn=function(){this.isInAuto=!0,0==this.inGame&&this._startSpin()},e.prototype._resetWhenStartSpin=function(){this._rollingResult=null,this._totalWin=0,this._spinWin=0,this._totalWinRate=0,this._planedFreeGame=!1,this._invalidSpin=!1},e.prototype._renderNormalStart=function(){this.nowGameType=i.MainGame,this._doSingleSpin()},e.prototype.renderNormalStartFreely=function(){this.nowGameType=i.FreeGame,this._doSingleSpinFreely()},e.prototype._doSingleSpinFreely=function(){this._resetWhenStartSpin(),this.isSlotMahcineCompleted=!1,this.isSlotMachineStopped=!1,this._requestSpinFreely()},e.prototype._doSingleSpin=function(){this._resetWhenStartSpin(),this._rollingResult=null,this.isSlotMahcineCompleted=!1,this.isSlotMachineStopped=!1,this._requestSpin()},e.prototype._requestSpinFreely=function(){_.default.getInstance().requestSpinFreely({req:null}),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_START_ROLLING)},Object.defineProperty(e.prototype,"extra",{get:function(){return this._extra},set:function(e){this._extra=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appointRate",{get:function(){return this._appointRate},set:function(e){this._appointRate=e},enumerable:!1,configurable:!0}),e.prototype._requestSpin=function(){var e={};e.lines=this.lineNum,e.cost=this.getLineCostByIndex(),e.rate=this.getRealLineRate(),e.rateModulus=this.rateModulus,e.assginLine=this.assginLine,e.lineMultiple=this.getLinelMutiple(),null!=this._extra&&(e.extra=this._extra);var t={req:e};_.default.getInstance().requestSpinFreely(t),this.isSpinResp=!1,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_START_ROLLING),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_MENBTS_SETSTATE,{state:!1,num:1}),this.betCost=null},e.prototype._onSlotMachineCompleted=function(e,t){if(void 0===t&&(t=!1),this.isSlotMahcineCompleted=!0,this._restAutoTimes>0||this._restAutoTimes<0)if(t){if(!this._checkSpin())return this._restAutoTimes=0,void this._onSlotMachineCompleted(null);this._startSpin()}else this._planedStart||this._planedAutoGame||this._planToSingleStart(400);else 0===this._restAutoTimes&&(this.isInAuto=!1,this.inGame=!1,this.nowGameType=i.None,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_MENU_INTERACTABLE))},e.prototype._switchTipStateInRolling=function(){0===this._restAutoTimes||this._restAutoTimes},e.prototype._onShowLineOver=function(){},e.prototype._planToSingleStart=function(e){this._planedStart=!0,console.log("_planToSingleStart delayTime",e),setTimeout(this._checkAndStart.bind(this),e)},e.prototype._checkAndStart=function(){if(this._planedStart){if(this._planedStart=!1,!this._checkSpin())return this._restAutoTimes=0,void this._onSlotMachineCompleted(null);this._startSpin()}},e.prototype._cancelSingleStartPlan=function(){this._planedStart=!1,m.default.instance.clear(this,this._checkAndStart)},e.prototype._cancelAllPlan=function(){this._planedStart=!1,this._planedAutoGame=!1,m.default.instance.clearAll(this)},e.prototype.cancelAutoGame=function(){this.isSlotMahcineCompleted&&(e.instance._cancelAllPlan(),e.instance.inGame=!1),e.instance.restAutoTimes=0,e.instance.isInAuto=!1,this.isSlotMahcineCompleted&&(game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_MENU_INTERACTABLE),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_SHOW_LINE_OVER),e.instance.spinTouchEnable=!0)},e.prototype._planToAutoGame=function(){this._planedAutoGame=!0,this._checkAndAutoStart()},e.prototype._checkAndAutoStart=function(){if(this._planedAutoGame){if(this._planedAutoGame=!1,0===this._restAutoTimes||!this._checkSpin())return this._restAutoTimes=0,void this._onSlotMachineCompleted(null);0!==this._restAutoTimes&&this._doClickMultiStartBtn()}},e.prototype._cancelAutoStartPlan=function(){this._planedAutoGame=!1,m.default.instance.clear(this,this._checkAndAutoStart)},e.prototype._onSlotMachineStopped=function(){s.default.instance.freeGameInfo&&s.default.instance.freeGameInfo.sumCoin,r.default.instance.bonusGameInfo&&r.default.instance.bonusGameInfo.sumWinCoin,p.default.instance.syncShowingCoin(),this.isSlotMachineStopped=!0,(r.default.instance.hasBonusGame||s.default.instance.hasFreeGame&&this._nowGameType!==i.FreeGame&&this._nowGameType!==i.BonusGame)&&this.storeAutoGameTimes(),this.switchTipsWhenSlotMachineStop(),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CUSTOM_DATA_RECEIVED),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_MENBTS_SETSTATE,{state:!0,num:1})},e.prototype._onRollingResp=function(e,t){var n=this;this._extra=null,this._betCost=null,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_BEFORE_RENDER_SPINRESULT),t.spinResult&&this.setCustomGrids(t.spinResult.grid,t.spinResult.gridChanged),this._rollingResult=t,this.lastTimeSpinResult.spinResult=t.spinResult,core.AutoTest.getInstance().setAutoTestData(E.SlotAutoTestKey.SLOT_FUNC_GET_SPIN_RESULT,{execFunc:function(){return n._rollingResult}}),this._renderCustomUpdateList(),this._restAutoTimes>0&&(this._onRespinTime||--this.restAutoTimes),this._renderSpinResp(),this.roundId=t.roundId?t.roundId:Long.fromNumber(0),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_OPERATIONSTATE_CHANGE,t.state),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_ROLL_RESULT_RESP)},e.prototype._onBuyFreeRollingResp=function(t,n){if(console.log("_onBuyFreeRollingResp---\x3e",n),n.nextState){if(e.instance.rollingResult.nextState=n.nextState,game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CLEAR_LOOP_LINE),n.nextState.state==u.OperationState.Free||n.nextState.state==u.OperationState.ReSpin)s.default.instance.renderResume(n.nextState,!0),s.default.instance.isFreeGame=!0,s.default.instance.isTreateNewFree=!0,T.default.instance.render(e.instance.rollingResult);else if(n.nextState.state==u.OperationState.BonusGame)r.default.instance.render(n.nextState);else if(n.nextState.state==u.OperationState.Normal)return void this._renderNormalStart();game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_RERUN_FLOWS)}},e.prototype._renderCustomUpdateList=function(e){if(void 0===e&&(e=null),!e){if(!this._rollingResult)return;if(!this._rollingResult.updateList)return;e=this._rollingResult.updateList}if(!(e.length<=0)){var t=o.default.findIndexFromArray(e,function(e){return 6===e.type});t<0||(this._hasNewCustomData=!0,this._customUpdateData=e[t].value.handleState)}},e.prototype._renderSpinResp=function(){var e=this._rollingResult.spinResult;this.doFlattenLineRewardsResult(e),this._totalWin<=0?++this._continuousUnHittedTimes:this.resetUnHitTimes(),T.default.instance.render(this._rollingResult),r.default.instance.render(this._rollingResult.nextState),s.default.instance.render(this._rollingResult)},e.prototype.doFlattenLineRewardsResult=function(e){this._spinSlotsData=e.grid,this._spinSlotsGridChangedData=e.gridChanged||e.grid,this._spinWin=e.spinCoin,this._totalWin=e.lgCoin.toNumber()+e.spinCoin.toNumber()+(e.attachCoin&&e.attachCoin.toNumber()||0),this._totalWinRate=this._totalWin/this.betCost,this._flattenLineRewardsResults=[];var t,n=e.lineResult,i=n.length;this._isFullLineWin=!1;for(var a=0;a<i;++a){t=n[a];var r=new c.default;r.lineId=t.lineId,r.lineType=t.lineType,r.lineMode=t.lineMode,r.direction=t.dir,r.winCoin=t.spinCoin.toNumber(),r.bonusGameIds=t.lgList,r.winPos=t.winPos,r.eleId=t.elementResult.elem;var s=o.default.findIndexFromArray(t.elementResult.elemList,function(e){return e.elem===t.elementResult.elem});r.eleNum=t.elementResult.elemList[s].elemNum,r.eleList=[];for(var l=0;l<t.elementResult.elemList.length;++l)r.eleList.push(t.elementResult.elemList[l].elem);r.eleNum>=d.default.instance.DataGame.getData(d.default.instance.gameID).column&&(this._isFullLineWin=!0),this._flattenLineRewardsResults.push(r)}this.totalWin>0&&this._flattenLineRewardsResults.length<=0&&console.log("no line hitted but win:"+this.totalWin)},e.prototype.makeDefaultDataResp=function(){this._invalidSpin=!0;var e=new protoSlot.spinResp;e.balance=Long.fromNumber(p.default.instance.showCoin);var t=this.lastTimeSpinResult.spinResult,n=new protoSlot.spinResultType;n.spinCoin=Long.fromNumber(0),n.lgCoin=Long.fromNumber(0),n.attachCoin=Long.fromNumber(0),n.grid=[].concat(t.grid),n.gridChanged=[].concat(t.gridChanged),n.occupyPosList=[].concat(t.occupyPosList),n.occupyPosListChanged=[].concat(t.occupyPosListChanged),n.realGridShape=[].concat(t.realGridShape),n.realGridShapeChanged=[].concat(t.realGridShapeChanged),n.lineResult=[];var i=d.default.instance.DataGame.getData(d.default.instance.gameID);i.gridInsufficient&&(n.grid=i.gridInsufficient.concat([]),n.gridChanged=i.gridInsufficient.concat([]));var o=d.default.instance.DataSlotRandomGrid.getGridShapeAndOccupyPos(d.default.instance.gameID);o.occupyPos.length>0&&(n.occupyPosList=[].concat(o.occupyPos),n.occupyPosListChanged=[].concat(o.occupyPos)),o.gridShape.length>0&&(n.realGridShape=[].concat(o.gridShape),n.realGridShapeChanged=[].concat(o.gridShape)),e.spinResult=n,this._rollingResult=e,this._flattenLineRewardsResults=[],this.totalWin=0},e._instance=null,e}();n.default=v,cc._RF.pop()},{"../../../autoTest/SlotAutoTestConf":"SlotAutoTestConf","../../../common/component/CustomButton":"CustomButton","../../../network/NetSlotConst":"NetSlotConst","../../../network/SlotProtoManager":"SlotProtoManager","../SlotConfigs/GameEventNames":"GameEventNames","../SlotData/RollingResult":"RollingResult","../SlotDefinitions/SlotEnum":"SlotEnum","../SlotDefinitions/globalTaskFlags":"globalTaskFlags","../SlotUtils/Handle":"Handle","../SlotUtils/SlotUtils":"SlotUtils","./BonusGameManager":"BonusGameManager","./FreeGameManager":"FreeGameManager","./GlobalQueueManager":"GlobalQueueManager","./MultipleGameManager":"MultipleGameManager","./PlayerManager":"PlayerManager","./SlotConfigManager":"SlotConfigManager","./SlotGameManager":"SlotGameManager","./SlotTimeManager":"SlotTimeManager"}],SpinSlotView:[function(e,t,n){"use strict";cc._RF.push(t,"1999a/8DglBFqiNktS56sPM","SpinSlotView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../../slot_common/common/component/CommonNumAtlasBase"),r=e("../../../slot_common/common/utils/GData"),s=e("../../../slot_common/common/utils/ReplaceSkeletonTex"),l=e("../../../slot_common/slotMachine/script/MainView/BaseSpinSlotView"),c=e("../../../slot_common/slotMachine/script/MainView/SpinElementManager"),u=e("../../../slot_common/slotMachine/script/Scroller/com/base/JTItemRender"),p=e("../../../slot_common/slotMachine/script/Scroller/renders/JTGLoader"),h=e("../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),d=e("../../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),f=function(e){function t(){var t=e.call(this)||this;return t.winLabelComp=null,t.isFade=!0,t.createWinLabel(),t}return o(t,e),t.prototype.playWinCoin=function(e,t,n){if(l.default.winLabelNode||this.createWinLabel(),0!=e.winCoin){l.default.winLabelNode&&l.default.winLabelNode.parent&&l.default.winLabelNode.removeFromParent(),n.addEffect(l.default.winLabelNode,t,!0),this.winLabelComp&&(this.winLabelComp.string=d.default.formatNumber(e.winCoin));var i=r.GData.getParameter("spinLineResultConfig")?r.GData.getParameter("spinLineResultConfig").winCoinAtlas:null;i&&(null!=i.isCustomAni&&null!=i.isCustomAni?game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_WIN_LINE_COIN,l.default.winLabelNode):l.default.winLabelNode.scale=i.scale)}},t.prototype.createWinLabel=function(){var e,n=this,i=r.GData.getParameter("spinLineResultConfig")?r.GData.getParameter("spinLineResultConfig").winCoinAtlas:null;if(i&&!t.winLabelTemp){l.default.winLabelNode=new cc.Node;var o=i.boardImage&&i.boardImage.atlas,s=l.default.winLabelNode.getChildByName("winNodeBg")||new cc.PrivateNode("winNodeBg");s.setParent(l.default.winLabelNode),(null===(e=i.boardImage)||void 0===e?void 0:e.opacity)>=0&&(s.opacity=i.boardImage.opacity),o&&game.ResLoader.getInstance().loadRes(o,cc.SpriteAtlas,function(e,t){e||((s.getComponent(cc.Sprite)||s.addComponent(cc.Sprite)).spriteFrame=t.getSpriteFrame(i.boardImage.spriteFrame))},r.GData.bundleName,"WIN_COIN_ATLAS_BOARD"),game.ResLoader.getInstance().loadRes(i.atlas,cc.SpriteAtlas,function(e,o){n.winLabelComp=l.default.winLabelNode.getComponent(a.default)||l.default.winLabelNode.addComponent(a.default),n.winLabelComp.showStyle=i.showStyle||1,n.winLabelComp.spaceX=i.spaceX,n.winLabelComp.offScale=i.scale,n.winLabelComp.offPosY=i.y,n.winLabelComp.offPosX=i.x,n.winLabelComp.shrink=i.shrink,n.winLabelComp.maxWidth=i.maxWidth||50;for(var r=0,s=i.config;r<s.length;r++){var c=s[r],u=new a.AtlsElmentConfig;u.id=""+c.id,u.elmentSpriteFrame=o.getSpriteFrame(c.spriteFrameName),n.winLabelComp.AtlsElment.push(u)}t.winLabelTemp=l.default.winLabelNode},r.GData.bundleName,"WIN_COIN_ATLAS")}},t.prototype.gotoAndStop=function(e){var t=this;if(this.data){this.stopAnimation();var n=c.default.instance.getSpinElementConfig(this.data);if(n){var i={},o=n.LoaderAssetType;switch(void 0===o&&(o=p.JTGLoaderAssetType.SpriteFrame),1==e&&null!=n.blurType&&(o=n.blurType),o){case p.JTGLoaderAssetType.Skeleton:switch(i.skeleton={},i.skeleton.url=function(e){for(var t="zh"==r.GData.curLanguage?"zh":"en";e.includes("&");)e=e.replace("&",t);return e}(n.skeletonUrl),i.assetType=p.JTGLoaderAssetType.Skeleton,i.skeleton.defaultSkinName=n.defaultSkinName,i.skeleton.animationCacheMode=n.animationCacheMode,e){case u.default.STATE_DEFAULT:i.skeleton.defautAniName=n.normalAniName;break;case u.default.STATE_ROLLING:this.isBlur?i.skeleton.defautAniName=n.blurAniName:i.skeleton.defautAniName=n.normalAniName;break;case u.default.STATE_OVER:this.isFade&&this.isFadeMask?i.skeleton.defautAniName=n.fadeAniName:i.skeleton.defautAniName=n.normalAniName}i.skeleton.premultipliedAlpha=n.premultipliedAlpha||!1,n.langTexUrl&&(i.finishLoadCallback=function(){s.default.replaceNewAniTex(t.skinLoader._content3,n.langTexUrl,"",!1,r.GData.bundleName)});break;case p.JTGLoaderAssetType.SpriteFrame:i.sprite={},i.assetType=p.JTGLoaderAssetType.SpriteFrame;var a=void 0;switch(e){case u.default.STATE_DEFAULT:a=c.default.instance.getElementImageConfig(this.data,e);break;case u.default.STATE_ROLLING:a=this.isBlur?c.default.instance.getElementImageConfig(this.data,e):c.default.instance.getElementImageConfig(this.data,u.default.STATE_DEFAULT);break;case u.default.STATE_OVER:this.isFade?(a=c.default.instance.getElementImageConfig(this.data,e),this.isFadeMask&&(a.url=a.url+"#fadeMask")):a=c.default.instance.getElementImageConfig(this.data,u.default.STATE_DEFAULT)}this._skinLoader.url=a.url,this._skinLoader.scale=a.scale,this._skinLoader.spriteTrim=a.trim;break;case p.JTGLoaderAssetType.Clip:i.clip={},i.assetType=p.JTGLoaderAssetType.Clip;for(var l=[],h=0;h<n.frameClipUrl.length;h++)l.push(n.frameClipUrl[h]);i.clip.SpriteAtlasUrl=l,i.clip.sample=n.sample,i.clip.speed=n.speed,i.clip.scale=n.clipScale||1;break;case p.JTGLoaderAssetType.DragonBones:switch(i.assetType=p.JTGLoaderAssetType.DragonBones,i.dragonBones={},i.dragonBones.assetUrl=n.dragonAssetUrl,i.dragonBones.atlasAssetUrl=n.dragonAssetAtlasUrl,e){case u.default.STATE_DEFAULT:i.dragonBones.armature=n.normalDragonArmature,i.dragonBones.animation=n.normalDragonAnimation;break;case u.default.STATE_ROLLING:this.isBlur?(i.dragonBones.armature=n.blurDragonArmature,i.dragonBones.animation=n.blurDragonAnimation):(i.dragonBones.armature=n.normalDragonArmature,i.dragonBones.animation=n.normalDragonAnimation);break;case u.default.STATE_OVER:this.isFade&&this.isFadeMask?(i.dragonBones.armature=n.fadeDragonArmature,i.dragonBones.animation=n.fadeDragonAnimation):(i.dragonBones.armature=n.normalDragonArmature,i.dragonBones.animation=n.normalDragonAnimation)}}i.assetType!=p.JTGLoaderAssetType.SpriteFrame&&this._skinLoader.setAsset(i),this.currentFrame=e,this._isPlaying=!1,this.onDataOrStageChange()}else console.error("can not find spin id : ",this.data)}},t.prototype.reset=function(){this._skinLoader.playing=!1,this._skinLoader.scaleX=this._skinLoader.scaleY=1,this._skinLoader.opacity=255,this._skinLoader.y=0,this.playCount=0,this._isPlaying=!1,this.gotoAndStop(0)},t.prototype.isResetBeforeScrolling=function(){return!1},t.winLabelTemp=null,t}(l.default);n.default=f,cc._RF.pop()},{"../../../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../../../slot_common/common/utils/GData":"GData","../../../slot_common/common/utils/ReplaceSkeletonTex":"ReplaceSkeletonTex","../../../slot_common/slotMachine/script/MainView/BaseSpinSlotView":"BaseSpinSlotView","../../../slot_common/slotMachine/script/MainView/SpinElementManager":"SpinElementManager","../../../slot_common/slotMachine/script/Scroller/com/base/JTItemRender":"JTItemRender","../../../slot_common/slotMachine/script/Scroller/renders/JTGLoader":"JTGLoader","../../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils"}],Timer:[function(e,t,n){"use strict";cc._RF.push(t,"a7a9flYpcRG3ZBazoroSrR9","Timer"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("./ObjectPool"),o=function(){function e(){}return Object.defineProperty(e,"isPause",{get:function(){return e._isPause},set:function(t){e._isPause=t},enumerable:!1,configurable:!0}),e._getVO=function(t,n){for(var i=0;i<e._list.length;i++)if(e._list[i].caller==t&&e._list[i].callback==n)return e._list[i];return null},e.onTimer=function(t){if(e.dt=t,!e._isPause){for(var n,i=e._list.concat(),o=[],a=i.length-1;a>=0;a--)if(!(n=i[a]).pause&&(n.time+=t,n.time>=n.delay)){if(n.callback&&n.callback.apply(n.caller),n.count>0&&(n.count--,n.count<=0)){o.push(n);continue}n.time-=n.delay}for(var r=0;r<o.length;r++)n=o[r],e._list.splice(e._list.indexOf(n),1),n.clear();i=void 0,o=void 0}},e.pause=function(t,n){var i=e._getVO(t,n);i&&(i.pause=!0)},e.pauseAll=function(){for(var t=e._list.length-1;t>=0;t--)e._list[t].pause=!0},e.resume=function(t,n){var i=e._getVO(t,n);i&&(i.pause=!1)},e.resumeAll=function(){for(var t=e._list.length-1;t>=0;t--)e._list[t].pause=!0},e.once=function(t,n,i){e.loop(t,n,i,1)},e.loop=function(t,n,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var s=e._getVO(t,n);s||((s=i.default.get("TimeVO"))||(s=new a),e._list.unshift(s)),s.caller=t,s.callback=n,s.time=0,s.delay=o,s.pause=!1,s.count=r},e.frameLoop=function(t,n,i){void 0===i&&(i=0),e.loop(t,n,0,i)},e.clear=function(t,n){for(var i=e._list.length-1;i>=0;i--){var o=e._list[i];if(o.caller==t&&o.callback==n){e._list.splice(i,1),o.clear();break}}},e.clearAll=function(){for(var t=0;t<e._list.length;t++)e._list[t].clear();e._list.length=0},e._list=[],e._isPause=!1,e}();n.default=o;var a=function(){function e(){}return e.prototype.clear=function(){this.caller=void 0,this.callback=void 0,i.default.put("TimeVO",this)},e}();cc._RF.pop()},{"./ObjectPool":"ObjectPool"}],TopUi:[function(e,t,n){"use strict";cc._RF.push(t,"f0c1cEMKpZNCKyAWhJDJSdN","TopUi");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/main/BaseView"),s=e("./../../slot_common/common/utils/Layout"),l=cc._decorator,c=l.ccclass,u=l.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameName=null,t.times=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.resize.call(this),this.schedule(this.updateTimeTxt,1),this.gameName.string=game.LanguageManager.getInstance().getSrcStr("game_"+core.Global.clientGameId)},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this),this.unschedule(this.updateTimeTxt)},t.prototype.updateTimeTxt=function(){var e=(new Date).toTimeString();this.times.string=e.substring(0,8)},t.prototype.layoutLandscape=function(){this.initLayout()},t.prototype.layoutPortrait=function(){this.initLayout()},t.prototype.initLayout=function(){s.Layout.setWidget(this.gameName.node,{landscape:{isAbsoluteLeft:!0,left:24},portrait:{isAbsoluteLeft:!0,left:24}}),s.Layout.setWidget(this.times.node,{landscape:{isAbsoluteRight:!0,right:24},portrait:{isAbsoluteRight:!0,right:24}})},a([u({type:cc.Label,tooltip:"\u6e38\u620f\u540d\u79f0"})],t.prototype,"gameName",void 0),a([u({type:cc.Label,tooltip:"\u65f6\u95f4"})],t.prototype,"times",void 0),a([c],t)}(r.default);n.default=p,cc._RF.pop()},{"../../slot_common/main/BaseView":"BaseView","./../../slot_common/common/utils/Layout":"Layout"}],TurnCoinSlot:[function(e,t,n){"use strict";cc._RF.push(t,"5b9be0VwLNCQ7G+9yvNXkxb","TurnCoinSlot");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/script/CommonConst"),s=e("../../slot_common/slotMachine/script/SlotManager/FreeGameManager"),l=e("../../slot_common/slotMachine/script/SlotManager/BonusGameManager"),c=cc._decorator,u=c.ccclass,p=c.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn=null,t.ani=null,t}return o(t,e),t.prototype.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.resize(),this.layout(),this.btn.on(cc.Node.EventType.TOUCH_MOVE,this.iconTouchMove,this),game.Utils.setWidget(this.node,{right:5,bottom:350})},t.prototype.onEnable=function(){var t=this;e.prototype.onEnable&&e.prototype.onEnable.call(this),this.ani.setAnimation(0,"fadein",!1),this.ani.setCompleteListener(function(){t.ani.setCompleteListener(null),t.ani.setAnimation(0,"loop",!0)})},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this),this.btn.off(cc.Node.EventType.TOUCH_MOVE,this.iconTouchMove,this)},t.prototype.layout=function(){e.prototype.layout&&e.prototype.layout.call(this)},t.prototype.onClick=function(){s.default.instance.isTreateNewFree||s.default.instance.isTreateFromFreeGame||l.default.instance.isTreateNewBonus||(game.SoundManager.getInstance().playBtnSound(),game.UIManager.getInstance().open(r.UIID.UI_TURN_COIN_VIEW,this.node))},t.prototype.iconTouchMove=function(e){if(this.node){var t=cc.Canvas.instance.node.convertToNodeSpaceAR(e.getLocation()),n=(cc.Canvas.instance.node.width,cc.Canvas.instance.node.height);-n>>1<t.y&&t.y<n>>1&&this.node.setPosition(t)}},a([p(cc.Node)],t.prototype,"btn",void 0),a([p(sp.Skeleton)],t.prototype,"ani",void 0),a([u],t)}(game.View);n.default=h,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager"}],TurnCoinView:[function(e,t,n){"use strict";cc._RF.push(t,"dba95ewG/tBZ5qUqZRX8q5v","TurnCoinView");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.IMaterialTypeTurnCoinView=void 0;var r,s=e("../../../main/script/CommonConst"),l=e("../../common/component/SlotMController"),c=e("../../common/enum/CommonEnum"),u=e("../../common/utils/GData"),p=e("../../common/utils/Layout"),h=e("../../slotMachine/script/SlotConfigs/GameEventNames"),d=e("../../slotMachine/script/SlotManager/PlayerManager"),f=e("../../slotMachine/script/SlotManager/SpinManager"),m=e("../../slotMachine/script/SlotUtils/Handle"),g=e("../../slotMachine/script/SlotUtils/SlotUtils"),_=e("../../sound/script/SoundMger"),y=cc._decorator,T=y.ccclass,S=y.property;(function(e){e[e.GRAY=1]="GRAY",e[e.NORMAL=2]="NORMAL"})(r=n.IMaterialTypeTurnCoinView||(n.IMaterialTypeTurnCoinView={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg=null,t.scaleNode=null,t.sky=null,t.nodeBlocks=null,t.spineLand=null,t.spineCylinder=null,t.spineFlower=null,t.spineCube=null,t.spineCoin=null,t.spineRole=null,t.guanbi=null,t.operateNode=null,t.nodeAvatar=null,t.nodeNum=null,t.nodeCashOut=null,t.avatarBtn=null,t.numBtn=null,t.gameIllustrate=null,t.curBase=null,t.nextReward=null,t.exchangeBtn=null,t.settlementNode1=null,t.settlementNode2=null,t.hashNode=null,t.serverHash=null,t.clientSeed=null,t.randomNum=null,t.gongpingxingBtn=null,t.refreshBtn=null,t.startMask=null,t.btnCall=null,t.openBtnNode=null,t.isWin=!1,t.isLoop=!1,t.isGbClick=!0,t.isNumClick=!0,t.isExchange=!1,t.isHashClick=!0,t.isStartPlay=!1,t.isCloseView=!1,t.isResultshow=!1,t.isAvatarClick=!0,t.isStartLayout=!0,t.isExchangeClick=!0,t.lastRoundResultAvatar=!0,t.nextNum=0,t.startNum=0,t._RefreshNextNum=0,t._RefreshStartNum=0,t.closeTimeout=null,t.doubleCoin=null,t.currentResult=null,t.lastDoublCoin=null,t.isSpineRoleOver=!1,t}return o(t,e),t.prototype.onLoad=function(){this.resize()},t.prototype.start=function(){var t=this;e.prototype.start&&e.prototype.start.call(this),this.spineRole.setCompleteListener(function(){t.spineRole.setAnimation(0,"idle",!0),t.isSpineRoleOver||(t.isSpineRoleOver=!0)})},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t&&(this.openBtnNode=t[0],this.refreshBtn.active=!0,this.resize(),this.addEvent(),this.stertInit(),this.setReceiveCallBack(),f.default.instance.spinTouchEnable=!1,_.SoundMger.instance.playMusicSlotCommon(c.SOUND_NAME.MariaoBgMusic),setTimeout(function(){_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.TurnCoinGameIn)},100),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_RENEW_BUY_FREE_BTN,!1),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_CLOSE_BUY_FREE_VIEW))},t.prototype.onClose=function(){f.default.instance.spinTouchEnable=!0},t.prototype.addEvent=function(){this.guanbi.on(cc.Node.EventType.TOUCH_END,this.close,this),this.avatarBtn.on(cc.Node.EventType.TOUCH_END,this.onAvatar,this),this.numBtn.on(cc.Node.EventType.TOUCH_END,this.onNum,this),this.exchangeBtn.on(cc.Node.EventType.TOUCH_END,this.onExchange,this),this.gongpingxingBtn.on(cc.Node.EventType.TOUCH_END,this.onOpenHash,this),this.refreshBtn.on(cc.Node.EventType.TOUCH_END,this.onRefresh,this)},t.prototype.allInit=function(){this.recoverBtn(),this.isWin=!1,this.isLoop=!1,this.isGbClick=!0,this.isNumClick=!0,this.isHashClick=!0,this.isExchange=!1,this.isStartPlay=!1,this.isResultshow=!1,this.currentResult=null,this.isAvatarClick=!0,this.isStartLayout=!0,this.isExchangeClick=!1,this.lastRoundResultAvatar=!0,this.node.opacity=255,this.guanbi.opacity=0,this.operateNode.opacity=0,this.nodeAvatar.opacity=0,this.nodeNum.opacity=0,this.nodeCashOut.opacity=0,this.avatarBtn.opacity=0,this.numBtn.opacity=0,this.gameIllustrate.opacity=0,this.settlementNode1.active=!1,this.settlementNode2.active=!1,this.settlementNode1.getComponent(cc.ParticleSystem).resetSystem(),this.settlementNode2.children[0].getComponent(cc.ParticleSystem).resetSystem(),this.settlementNode2.children[1].getComponent(cc.ParticleSystem).resetSystem()},t.prototype.setReceiveCallBack=function(){this.netNode=game.NetManager.getInstance().getNetNode(),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.doubleCoinResp],this.doubleCoinResp,this),this.netNode.setResponeHandler([protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.doubleCoinInfoResp],this.doubleCoinInfoResp,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy&&e.prototype.onDestroy.call(this),this.guanbi.off(cc.Node.EventType.TOUCH_END,this.close,this),this.avatarBtn.off(cc.Node.EventType.TOUCH_END,this.onAvatar,this),this.numBtn.off(cc.Node.EventType.TOUCH_END,this.onNum,this),this.exchangeBtn.off(cc.Node.EventType.TOUCH_END,this.onExchange,this),this.gongpingxingBtn.off(cc.Node.EventType.TOUCH_END,this.onOpenHash,this),this.refreshBtn.off(cc.Node.EventType.TOUCH_END,this.onRefresh,this)},t.prototype.stertInit=function(){var e=this;this.isSpineRoleOver=!1,this.isCloseView=!1,this.allInit(),this.sky.opacity=0,this.spineCube.node.opacity=0,this.nodeBlocks.opacity=0,this.spineCoin.node.active=!1,this.spineRole.node.active=!1,this.spineLand.node.active=!1,this.spineFlower.node.active=!1,this.spineCylinder.node.active=!1,this.doubleCoin=f.default.instance.doubleCoin,this.doubleCoin&&(this._RefreshStartNum=Number(this.doubleCoin.curBase),this._RefreshNextNum=Number(this.doubleCoin.nextReward),this.startNum=Number(this.doubleCoin.curBase),this.nextNum=Number(this.doubleCoin.nextReward),this.curBase.string=f.default.instance.isLastView?"0.00":g.default.formatNumber(Number(this.doubleCoin.curBase)),this.nextReward.string=f.default.instance.isLastView?"0.00":g.default.formatNumber(Number(this.doubleCoin.nextReward)),this.grayAllChildren(this.exchangeBtn,r.GRAY),this.exchangeBtn.getComponent(cc.Button).interactable=!1,f.default.instance.isLastView&&this.lastView(),f.default.instance.isLastView||(f.default.instance.throwTimes=0),this.onStartTween(),this.hashView(),this.gradientView(this.sky,255),this.spineCoin.node.active=!0,this.spineCoin.setAnimation(0,"none",!1),this.spineRole.node.active=!0,this.spineLand.node.active=!0,this.spineFlower.node.active=!0,this.spineCylinder.node.active=!0,_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Mariao_in),this.spineRole.setAnimation(0,"fadeIn",!1),this.spineLand.setAnimation(0,"fadeIn",!1),this.spineFlower.setAnimation(0,"fadeIn",!1),this.spineCylinder.setAnimation(0,"fadeIn",!1),this.spineFlower.setCompleteListener(function(){e.spineFlower.setCompleteListener(null),e.spineFlower.setAnimation(0,"idle",!0)}),this.scheduleOnce(this.onStartTween,.4))},t.prototype.closeInit=function(){this.unscheduleAllCallbacks(),this.allInit(),this.isCloseView=!0,this.doubleCoin=null,this._RefreshStartNum=0,this._RefreshNextNum=0,this.startNum=0,this.nextNum=0,this.curBase.string="0.00",this.nextReward.string="0.00",this.closeTimeout&&this.closeTimeout.stop(),this.closeTimeout=null,_.SoundMger.instance.playMusic(c.SOUND_NAME.Game_Back_Music),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_TRUN_COIN_VIEW_CLOSE_EXPAND),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_RENEW_BUY_FREE_BTN,!0)},t.prototype.lastView=function(){this.doubleCoinInfoReq()},t.prototype.hashView=function(){this.doubleCoin.serverHash?(this.hashNode.active=!0,this.serverHash.string=this.doubleCoin.serverHash.slice(0,16)+"......"+this.doubleCoin.serverHash.slice(-16),this.clientSeed.string=this.doubleCoin.clientSeed,this.randomNum.string=String(this.doubleCoin.randomNum)):this.hashNode.active=!1},t.prototype.layout=function(){e.prototype.layout&&e.prototype.layout.call(this),this.updateUi(),this.node.getComponent(l.default).stateIndex=game.ComUtils.isCanvasLand()?0:1,this.isStartLayout=!1;var t,n,i,o=this.scaleNode;t=(n=cc.winSize.width/this.node.width)<(i=cc.winSize.height/this.node.height)?n:i,o.setScale(t)},t.prototype.onStartTween=function(){this.isLoop||this.updateUi(),this.isLoop=!0,this.isCloseView||(this.hashView(),this.guanbi.opacity=255,this.delayToShowNode(this.spineCube.node,.5),this.delayToShowNode(this.nodeBlocks,.5),this.operateNode.opacity=255,this.delayToShowNode(this.nodeAvatar,1/6+.5),this.delayToShowNode(this.nodeNum,1/6+.5),this.delayToShowNode(this.nodeCashOut,1/6*2+.5),this.delayToShowNode(this.avatarBtn,1),this.delayToShowNode(this.numBtn,1),this.delayToShowNode(this.gameIllustrate,1/6*4+.5))},t.prototype.delayToShowNode=function(e,t){var n=this;this.scheduleOnce(function(){n.gradientView(e,255)},t)},t.prototype.onCloseTween=function(){var e=this;this.updateUi(),this.gradientView(this.guanbi,0),this.gradientView(this.operateNode,0),this.gradientView(this.gameIllustrate,0),_.SoundMger.instance.stopEffectSlotCommon(c.SOUND_NAME.MariaoSettleEnd),this.isCloseView||cc.tween(this.node).call(function(){null!=e.currentResult&&e.openBtnNode&&(e.openBtnNode.active=!1)}).to(.5,{opacity:0}).call(function(){e.isCloseView||(e.closeInit(),f.default.instance.spinTouchEnable=!0,_.SoundMger.instance.stopMusicSlotCommon(c.SOUND_NAME.MariaoBgMusic),game.UIManager.getInstance().closeByUIID(s.UIID.UI_TURN_COIN_VIEW))}).start()},t.prototype.gradientView=function(e,t){void 0===t&&(t=255);var n=255==t?.5:.3;cc.tween(e).to(n,{opacity:t},{easing:"easeOut"}).start()},t.prototype.updateUi=function(){p.Layout.isLandscape,core.Global.gameBrand,core.GAME_BRAND.PG},t.prototype.onAvatar=function(){this.isAvatarClick&&this.isSpineRoleOver&&(_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.ClickHeadOrNum),this.btnTween(this.avatarBtn),this.isExchange||this.doubleCoinReq(protoSlot.doubleCoinReqType.guess,protoSlot.doubleCoinResult.football))},t.prototype.onNum=function(){this.isNumClick&&this.isSpineRoleOver&&(_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.ClickHeadOrNum),this.btnTween(this.numBtn),this.isExchange||this.doubleCoinReq(protoSlot.doubleCoinReqType.guess,protoSlot.doubleCoinResult.basketball))},t.prototype.onExchange=function(){this.isExchangeClick&&this.isSpineRoleOver&&(_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Click_DH),this.btnTween(this.exchangeBtn),this.isExchange||this.doubleCoinReq(protoSlot.doubleCoinReqType.get))},t.prototype.btnTween=function(e){cc.tween(e).to(.05,{scale:1.2}).delay(.03).to(.05,{scale:1}).start()},t.prototype.onRefresh=function(){_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Click_Effect),this.btnTween(this.refreshBtn),this.doubleCoinReq(protoSlot.doubleCoinReqType.refresh_client_seed)},t.prototype.doubleCoinReq=function(e,t){void 0===t&&(t=protoSlot.doubleCoinResult.football);var n=game.NetManager.getInstance().getNetNode(),i=new protoSlot.doubleCoinReq;i.reqType=e,i.guessResult=t,e==protoSlot.doubleCoinReqType.guess&&(this.refreshBtn.active=!1,this.isStartPlay=!0,this.disabledBtn(t==protoSlot.doubleCoinResult.football)),console.log("reqType:",e,"guessResult:",t,"data:",i);var o=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.doubleCoinReq,protoSlot.doubleCoinReq,i);n.send(o)},t.prototype.doubleCoinResp=function(e){var t=this;console.log("===========\u7ed3\u679c\u8fd4\u56de",e);var n=core.ProtocolHelper.buffDecode(protoSlot.doubleCoinResp,e);if(game.LogManager.getInstance().log("doubleCoinResp",n),this.doubleCoin=n.doubleCoin,n.reqType==protoSlot.doubleCoinReqType.guess)this.isWin=n.doubleCoin.curBase>0,this.currentResult=n,f.default.instance.throwTimes++,this.coinAni(n.result==protoSlot.doubleCoinResult.football),this.isWin||(f.default.instance.isLastView=!0,this.updateCoin(Number(d.default.instance.showCoin-Number(f.default.instance.doubleCoin.curBase))));else if(n.reqType==protoSlot.doubleCoinReqType.get){this.isExchange=!0,this.viewStreamer(),1==u.GData.skinId&&(this.settlementNode2.active=!0),f.default.instance.isLastView=!0;var i=new m.Handler;this.scheduleOnce(function(){t.isCloseView||game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_SETTLEMENT_ANI_PLAY,Number(t.currentResult.doubleCoin.curBase),i)},1.2),console.log("role---win"),this.spineRole.setAnimation(0,"win",!1),_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Mariao_win),this.scheduleOnce(function(){t.isCloseView||(t.coinNum(t.startNum,0,!0),t.coinNum(t.nextNum,0,!1),_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.MariaoSettleEnd),t.closeTimeout=t.scheduleOnce(function(){t.isCloseView||(t.settlementNode2.active=!1,t.onCloseTween&&t.onCloseTween())},4))},2),this.isGbClick=!0,this.isStartPlay=!1,this.updateCoin(Number(n.balance)),this.doubleCoinInfoReq()}else n.reqType==protoSlot.doubleCoinReqType.refresh_client_seed&&this.hashView();g.default.isShowDoubleCoinResp=!0},t.prototype.doubleCoinInfoReq=function(){this.isAvatarClick=this.isNumClick=this.isExchangeClick=!1,this.grayAllChildren(this.avatarBtn,r.GRAY),this.grayAllChildren(this.numBtn,r.GRAY),this.grayAllChildren(this.exchangeBtn,r.GRAY),this.avatarBtn.getComponent(cc.Button).interactable=!1,this.numBtn.getComponent(cc.Button).interactable=!1,this.exchangeBtn.getComponent(cc.Button).interactable=!1;var e=game.NetManager.getInstance().getNetNode(),t=new protoSlot.doubleCoinInfoReq,n=core.ProtocolHelper.createGameSockBuff(protoSlot.cmd.msg_slot_spin,protoSlot.slot_spin_cmd.doubleCoinInfoReq,protoSlot.doubleCoinInfoReq,t);e.send(n),console.log("\u670d\u52a1\u5668\u79cd\u5b50\u8bf7\u6c42--")},t.prototype.doubleCoinInfoResp=function(e){var t=core.ProtocolHelper.buffDecode(protoSlot.doubleCoinInfoResp,e);game.LogManager.getInstance().log("doubleCoinInfoResp",t),this.lastDoublCoin=t.lastDoubleCoin},t.prototype.coinAni=function(e){var t=this;setTimeout(function(){t.isCloseView},.3),console.log("role---hit"),this.spineRole.clearTracks(),this.spineRole.setAnimation(0,"hit",!1),_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Mariao_hit),this.spineCube.setAnimation(0,"hit",!1);var n=e?"coin_face":"coin_text";this.spineCoin.setAnimation(0,n,!1),this.lastRoundResultAvatar=e,this.scheduleOnce(function(){t.isCloseView||(t.isResultshow=!0,t.isWin?(console.log("role---win"),t.spineRole.setAnimation(0,"win",!1),_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Mariao_win),t.viewStreamer(),t.scheduleOnce(function(){t.isCloseView||(t.recoverBtn(),t.onBtnView(t.currentResult.result==protoSlot.doubleCoinResult.football?t.avatarBtn:t.numBtn),t.coinNum(t.startNum,t.currentResult.doubleCoin.curBase,!0),t.coinNum(t.nextNum,t.currentResult.doubleCoin.nextReward,!1),t.startNum=t.currentResult.doubleCoin.curBase,t.nextNum=t.currentResult.doubleCoin.nextReward)},1.2)):(t.doubleCoinInfoReq(),t.recoverBtn(),t.isStartPlay=!1,t.coinNum(t.startNum,0,!0),t.coinNum(t.nextNum,0,!1),_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.MariaoOverEffect),t.scheduleOnce(function(){_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.MariaoSettleEnd)},.5),t.closeTimeout=t.scheduleOnce(function(){t.isCloseView||t.onCloseTween&&t.onCloseTween()},3.5)))},1)},t.prototype.updateCoin=function(e){console.log("\u66f4\u65b0\u73a9\u5bb6\u91d1\u5e01---------------",e),d.default.instance.syncShowingCoin(e),d.default.instance.updateRealCoin(e),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_RESET_SCROLLER),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_SLOT_REFSH_BALANCE),game.EventManager.getInstance().raiseEvent(h.GameEventNames.EVENT_FORCE_UPDATE_WINSCORE,0)},Object.defineProperty(t.prototype,"RefreshStartNum",{get:function(){return this._RefreshStartNum},set:function(e){this._RefreshStartNum=e,this.curBase.string=g.default.formatNumber(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RefreshNextNum",{get:function(){return this._RefreshNextNum},set:function(e){this._RefreshNextNum=e,this.nextReward.string=g.default.formatNumber(e)},enumerable:!1,configurable:!0}),t.prototype.coinNum=function(e,t,n){void 0===n&&(n=!0),console.log("start-",e,"end-",t);var i=Number(e),o=Number(t);n?(this._RefreshStartNum=i,this.curBase.string=g.default.formatNumber(i),cc.tween(this).to(1,{RefreshStartNum:o}).start()):(this._RefreshNextNum=i,this.nextReward.string=g.default.formatNumber(i),cc.tween(this).to(1,{RefreshNextNum:o}).start())},t.prototype.onOpenHash=function(){if(this.isHashClick){var e;clearTimeout(this.closeTimeout),_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Click_Effect),this.btnTween(this.gongpingxingBtn),e=!!this.lastDoublCoin;var t=new protoSlot.doubleCoinType;t=e?this.lastDoublCoin:this.doubleCoin;var n=new protoReport.layout_hash_type;(null==t?void 0:t.randomNum)&&(n.nonce=t.randomNum),(null==t?void 0:t.serverSeed)&&(n.serverSeed=t.serverSeed),(null==t?void 0:t.clientSeed)&&(n.clientSeed=t.clientSeed),(null==t?void 0:t.serverHash)&&(n.serverSeedHash=t.serverHash);var i=f.default.instance.throwTimes,o={toggleIndex:2,game_id:1e6,hashDataGame:[null,n],throwTimes:e?i>0?i:1:0};game.UIManager.getInstance().open(core.COREUIID.UI_SLOT_GAME_HASH_VERIFICATION_INSTRUCTIONS,o)}},t.prototype.viewStreamer=function(){var e=this;this.settlementNode1.active=!0,this.scheduleOnce(function(){e.isCloseView||(e.settlementNode1.active=!1,e.settlementNode1.getComponent(cc.ParticleSystem).resetSystem())},1.2)},t.prototype.onBtnView=function(e){cc.tween(e).to(.4,{opacity:50}).to(.4,{opacity:255}).to(.4,{opacity:50}).to(.4,{opacity:255}).start()},t.prototype.disabledBtn=function(e){this.isAvatarClick=this.isNumClick=this.isGbClick=this.isExchangeClick=this.isHashClick=!1,this.avatarBtn.getComponent(cc.Button).interactable=e,this.numBtn.getComponent(cc.Button).interactable=!e,this.exchangeBtn.getComponent(cc.Button).interactable=!1,this.grayAllChildren(this.numBtn,e?r.GRAY:r.NORMAL),this.grayAllChildren(this.avatarBtn,e?r.NORMAL:r.GRAY),this.grayAllChildren(this.exchangeBtn,r.GRAY)},t.prototype.recoverBtn=function(){this.isCloseView||(this.isGbClick=this.isHashClick=!0,!this.isWin&&this.isStartPlay||(this.isExchangeClick=!0,this.isAvatarClick=this.isNumClick=!0,this.avatarBtn.getComponent(cc.Button).interactable=!0,this.numBtn.getComponent(cc.Button).interactable=!0,this.exchangeBtn.getComponent(cc.Button).interactable=!0,this.grayAllChildren(this.avatarBtn,r.NORMAL),this.grayAllChildren(this.numBtn,r.NORMAL),this.grayAllChildren(this.exchangeBtn,r.NORMAL)))},t.prototype.close=function(e){void 0===e&&(e=!0),this.isCloseView||(e&&_.SoundMger.instance.playEffectSlotCommon(c.SOUND_NAME.Click_Effect),e&&this.btnTween(this.guanbi),this.isStartPlay&&this.isWin&&this.isResultshow?this.isExchange||this.doubleCoinReq(protoSlot.doubleCoinReqType.get):this.isGbClick&&(this.isExchange||(this.isGbClick=!1,this.settlementNode2.active=!1,this.onCloseTween())))},t.prototype.grayAllChildren=function(e,t){for(var n=e.getComponentsInChildren(cc.RenderComponent),i=null,o=e._IgrayMaterial,a=e._InormalMaterial,s=0;s<n.length;s++){var l=n[s];(l.node.getComponent(cc.Sprite)||l.node.getComponent(cc.Label))&&(t==r.GRAY?((i=o)||(i=cc.Material.getBuiltinMaterial("2d-gray-sprite")),i=o=cc.MaterialVariant.create(i,l)):((i=a)||(i=cc.Material.getBuiltinMaterial("2d-sprite")),i=a=cc.MaterialVariant.create(i,l)),l.setMaterial(0,i))}},a([S(cc.Node)],t.prototype,"bg",void 0),a([S(cc.Node)],t.prototype,"scaleNode",void 0),a([S(cc.Node)],t.prototype,"sky",void 0),a([S(cc.Node)],t.prototype,"nodeBlocks",void 0),a([S({type:sp.Skeleton,tooltip:"\u5730\u9762\u52a8\u753b"})],t.prototype,"spineLand",void 0),a([S({type:sp.Skeleton,tooltip:"\u7ba1\u5b50\u52a8\u753b"})],t.prototype,"spineCylinder",void 0),a([S({type:sp.Skeleton,tooltip:"\u82b1\u52a8\u753b"})],t.prototype,"spineFlower",void 0),a([S({type:sp.Skeleton,tooltip:"\u91d1\u7816\u52a8\u753b"})],t.prototype,"spineCube",void 0),a([S({type:sp.Skeleton,tooltip:"\u91d1\u5e01\u52a8\u753b"})],t.prototype,"spineCoin",void 0),a([S({type:sp.Skeleton,tooltip:"\u4eba\u7269\u52a8\u753b"})],t.prototype,"spineRole",void 0),a([S(cc.Node)],t.prototype,"guanbi",void 0),a([S(cc.Node)],t.prototype,"operateNode",void 0),a([S({type:cc.Node,tooltip:"\u5934\u50cf\u6536\u76ca"})],t.prototype,"nodeAvatar",void 0),a([S({type:cc.Node,tooltip:"\u6570\u5b57\u6536\u76ca"})],t.prototype,"nodeNum",void 0),a([S({type:cc.Node,tooltip:"\u6309\u94ae\u5151\u6362"})],t.prototype,"nodeCashOut",void 0),a([S({type:cc.Node,tooltip:"\u6309\u94ae\u5934\u50cf"})],t.prototype,"avatarBtn",void 0),a([S({type:cc.Node,tooltip:"\u6309\u94ae\u6570\u5b57"})],t.prototype,"numBtn",void 0),a([S({type:cc.Node,tooltip:"\u4fe1\u606f"})],t.prototype,"gameIllustrate",void 0),a([S(cc.Label)],t.prototype,"curBase",void 0),a([S(cc.Label)],t.prototype,"nextReward",void 0),a([S(cc.Node)],t.prototype,"exchangeBtn",void 0),a([S(cc.Node)],t.prototype,"settlementNode1",void 0),a([S(cc.Node)],t.prototype,"settlementNode2",void 0),a([S(cc.Node)],t.prototype,"hashNode",void 0),a([S(cc.Label)],t.prototype,"serverHash",void 0),a([S(cc.Label)],t.prototype,"clientSeed",void 0),a([S(cc.Label)],t.prototype,"randomNum",void 0),a([S(cc.Node)],t.prototype,"gongpingxingBtn",void 0),a([S(cc.Node)],t.prototype,"refreshBtn",void 0),a([S(cc.Node)],t.prototype,"startMask",void 0),a([T],t)}(game.View);n.default=E,cc._RF.pop()},{"../../../main/script/CommonConst":"CommonConst","../../common/component/SlotMController":"SlotMController","../../common/enum/CommonEnum":"CommonEnum","../../common/utils/GData":"GData","../../common/utils/Layout":"Layout","../../slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../../slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slotMachine/script/SlotUtils/Handle":"Handle","../../slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../sound/script/SoundMger":"SoundMger"}],TurnSettingUIAnimation:[function(e,t,n){"use strict";cc._RF.push(t,"973aeP4fKJGfoMaMcYqj8T8","TurnSettingUIAnimation");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0}),n.TurnSettingUIAnimation=void 0;var r=e("./FadeUIAnimation"),s=cc._decorator,l=s.ccclass,c=(s.property,s.menu,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),a([l],t)}(r.FadeUIAnimation));n.TurnSettingUIAnimation=c,cc._RF.pop()},{"./FadeUIAnimation":"FadeUIAnimation"}],TurnSetting:[function(e,t,n){"use strict";cc._RF.push(t,"ada5djIJG5FJ5NjFUiQIHN2","TurnSetting");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../main/script/CommonConst"),s=e("../../score/script/ScoreBase"),l=e("../../slot_common/common/enum/CommonEnum"),c=e("../../slot_common/common/utils/GData"),u=e("../../slot_common/main/BaseView"),p=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),h=e("../../slot_common/slotMachine/script/SlotManager/PlayerManager"),d=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),f=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),m=e("../../slot_common/sound/script/SoundMger"),g=cc._decorator,_=g.ccclass,y=g.property,T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.autorotationCtrl=[],t.timesLabel=[],t.defaultColor="#D9D9DA",t.themeColor="#FFFFFF",t.nodes=[],t.winScore=null,t.allScore=null,t.betScore=null,t.touchLayer=null,t.fastBtn=null,t.normalBtn=null,t.fastIcon=null,t.statBtn=null,t.touchIndex=-1,t.opacityNumGrey=80,t.opacityNumLight=230,t.time=0,t.times=[],t.dataGame=null,t}return o(t,e),t.prototype.onLoad=function(){this.node.active=!1},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<this.autorotationCtrl.length;i++)2==c.GData.getParameter("main").settingStyle&&(this.autorotationCtrl[i].children[2].active=!1)},t.prototype.start=function(){this.dataGame=c.GData.getParameter("DataGame"),this.times=this.dataGame.data[this.dataGame.ids[0]].autoSpinTimes,this.time=this.times[0],this.themeColor=c.GData.getParameter("main").themeColor,this.autorotationCtrl=cc.find("fadeNode/autorotationCtrl",this.node).children;for(var e=0;e<this.autorotationCtrl.length;e++){var t=this.autorotationCtrl[e].getChildByName("New Label").getComponent(cc.Label);t.string=""+this.times[e],this.autorotationCtrl[e].name="time_"+e,this.autorotationCtrl[e].getComponent(cc.Button).node.on("click",this.callback,this),this.timesLabel.push(t)}this.loadTurnSetting(this.timesLabel,this.autorotationCtrl),this.statBtn.on("click",this.onClickStart,this),cc.find("fadeNode/closeBtn",this.node).on("click",this.popDown,this),this.fastBtn&&this.fastBtn.on("click",this.onClickFastBtn,this),this.normalBtn&&this.normalBtn.on("click",this.onClickNormalBtn,this),this.fastBtn&&(d.default.instance.isInTurbo=!1,this.updateTurboState()),this.touchLayer.on("click",this.popDown,this),this.resize();for(var n=0,i=this.nodes;n<i.length;n++)i[n].color=cc.Color.WHITE.fromHEX(this.themeColor);this.winScore.string=f.default.formatNumber(0,2,100,!0),s.default.instance&&(this.winScore.string=f.default.formatNumber(s.default.instance.totalWin,2,100,!0)),game.EventManager.getInstance().addEventListener(r.CommonEventNames.EVENT_WINSCORE_CHANGE,this.onWinscoreChange,this)},t.prototype.onWinscoreChange=function(e,t){this.winScore.string=f.default.formatNumber(t,2,100,!0)},t.prototype.onEnable=function(){this.touchIndex=-1,this.allScore.string=f.default.formatNumber(Number(h.default.instance.showCoin),2,100,!0),this.betScore&&(this.betScore.string=f.default.formatNumber(d.default.instance.betCost,2,100,!0));for(var e=0,t=this.timesLabel;e<t.length;e++){var n=t[e];n.node.opacity=this.opacityNumGrey,n.node.color=cc.Color.WHITE.fromHEX(this.defaultColor)}this.statBtn.getComponent(cc.Button).interactable=!1,this.statBtn.opacity=70},t.prototype.popDown=function(){m.SoundMger.instance.playEffect(l.SOUND_NAME.Currency_Button);var e=r.UIID["UI_TRUN_SETTING_TYPE_"+c.GData.getParameter("main").settingStyle];game.UIManager.getInstance().closeByUIID(e)},t.prototype.loadTurnSetting=function(e,t){this.autorotationCtrl=t;for(var n=0;n<t.length;n++)-1!=this.times[n]&&n<e.length&&(e[n].string=this.times[n].toString()),t[n].name="time_"+n,t[n].getComponent(cc.Button).node.on("click",this.callback,this),t[n].getComponent(cc.Button).node.on(cc.Node.EventType.MOUSE_ENTER,this.touchEvent,this),t[n].getComponent(cc.Button).node.on(cc.Node.EventType.MOUSE_LEAVE,this.touchEvent,this)},t.prototype.touchEvent=function(e){if(2!=c.GData.getParameter("main").settingStyle)for(var t=0;t<this.autorotationCtrl.length;t++)e.target.name==this.autorotationCtrl[t].name&&this.touchIndex!=t&&(this.timesLabel[t].node.opacity=this.opacityNumGrey,"mouseleave"!=e.type?this.timesLabel[t].node.color=cc.Color.WHITE.fromHEX(this.themeColor):this.timesLabel[t].node.color=cc.Color.WHITE.fromHEX(this.defaultColor))},t.prototype.callback=function(e){for(var t=0;t<this.autorotationCtrl.length;t++)e.node.name==this.autorotationCtrl[t].name?(2==c.GData.getParameter("main").settingStyle&&(this.autorotationCtrl[t].children[2].active=!0),this.time=this.times[t],this.touchIndex=t,this.timesLabel[t].node.opacity=this.opacityNumLight,this.timesLabel[t].node.color=cc.Color.WHITE.fromHEX(this.themeColor)):(this.timesLabel[t].node.opacity=this.opacityNumGrey,this.timesLabel[t].node.color=cc.Color.WHITE.fromHEX(this.defaultColor));this.statBtn.getComponent(cc.Button).interactable=!0,this.statBtn.opacity=this.opacityNumLight,m.SoundMger.instance.playEffect(l.SOUND_NAME.Currency_Button)},t.prototype.updateTurboState=function(){var e=d.default.instance.isInTurbo;this.fastBtn.opacity=e?255:120,this.fastBtn.getChildByName("selected").active=e,this.fastBtn.getChildByName("normal").active=!e,this.normalBtn.opacity=e?120:255,this.normalBtn.getChildByName("selected").active=!e,this.normalBtn.getChildByName("normal").active=e,this.fastIcon.getChildByName("on").active=e,this.fastIcon.getChildByName("off").active=!e},t.prototype.onClickNormalBtn=function(){d.default.instance.isInTurbo=!1,this.updateTurboState(),game.EventManager.getInstance().raiseEvent(p.GameEventNames.EVENT_CLICK_AUTO)},t.prototype.onClickFastBtn=function(){d.default.instance.isInTurbo=!0,this.updateTurboState(),game.EventManager.getInstance().raiseEvent(p.GameEventNames.EVENT_CLICK_AUTO)},t.prototype.onClickStart=function(){m.SoundMger.instance.playEffect(l.SOUND_NAME.Currency_Button),d.default.instance.autoTimes=this.time,game.EventManager.getInstance().raiseEvent(p.GameEventNames.EVENT_PLAYER_CLICKED_MULTI_START_BTN),this.popDown()},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(r.CommonEventNames.EVENT_WINSCORE_CHANGE,this.onWinscoreChange,this)},a([y(cc.Node)],t.prototype,"nodes",void 0),a([y(cc.Label)],t.prototype,"winScore",void 0),a([y(cc.Label)],t.prototype,"allScore",void 0),a([y(cc.Label)],t.prototype,"betScore",void 0),a([y(cc.Node)],t.prototype,"touchLayer",void 0),a([y(cc.Node)],t.prototype,"fastBtn",void 0),a([y(cc.Node)],t.prototype,"normalBtn",void 0),a([y(cc.Node)],t.prototype,"fastIcon",void 0),a([y(cc.Node)],t.prototype,"statBtn",void 0),a([_],t)}(u.default);n.default=T,cc._RF.pop()},{"../../main/script/CommonConst":"CommonConst","../../score/script/ScoreBase":"ScoreBase","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../slot_common/sound/script/SoundMger":"SoundMger"}],UIBtnClickCtr:[function(e,t,n){"use strict";cc._RF.push(t,"331f1XROfJMC6phV+N6SOPn","UIBtnClickCtr"),Object.defineProperty(n,"__esModule",{value:!0});var i=e("../main/script/CommonConst"),o=function(){function e(){this.bStopClickBtn=!1,this.resetCanClickTime=10}return e.prototype.registerBtnClickCb=function(e,t,n){e&&e.on("click",this._onClickBtnCb.bind(this,t.bind(n)),n)},e.prototype.unRegisterBtnClickCb=function(e,t,n){e&&e.off("click",this._onClickBtnCb.bind(this,t.bind(n)),n)},e.prototype._onClickBtnCb=function(e,t){for(var n=this,o=[i.UIID.UI_COMPENSATE,i.UIID.UI_RULE,i.UIID.UI_BET_TYPE_1,i.UIID.UI_BET_TYPE_2,i.UIID.UI_BALANCE,i.UIID.UI_TRUN_SETTING_TYPE_1,i.UIID.UI_TRUN_SETTING_TYPE_2,core.COREUIID.UI_GAME_RECORD],a=0;a<o.length;a++){var r=o[a];if(game.UIManager.getInstance().isTopUI(r))return}this.bStopClickBtn=!0,e&&e(t),setTimeout(function(){n.bStopClickBtn=!1},this.resetCanClickTime)},e}();n.default=new o,cc._RF.pop()},{"../main/script/CommonConst":"CommonConst"}],UIUtil:[function(e,t,n){"use strict";cc._RF.push(t,"7e880nrv3NHnaHUHIAdgFjx","UIUtil"),Object.defineProperty(n,"__esModule",{value:!0}),n.UIUtil=void 0;var i=function(){function e(){}return e.convetOtherNodeSpaceAR=function(e,t,n){if(void 0===n&&(n=new cc.Vec2(0,0)),!e||!t)return null;var i=this.localConvertWorldPointAR(e,n);return this.worldConvertLocalPointAR(t,i)},e.localConvertWorldPointAR=function(e,t){return e?e.convertToWorldSpaceAR(t):null},e.worldConvertLocalPointAR=function(e,t){return e?e.convertToNodeSpaceAR(t):null},e}();n.UIUtil=i,cc._RF.pop()},{}],WinAniManager:[function(e,t,n){"use strict";cc._RF.push(t,"0fd47JqkYlIcqG9HNMpAEi6","WinAniManager");var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,i){var o,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(a<3?o(r):a>3?o(t,n,r):o(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../slot_common/common/component/AnimationExtend"),s=e("../../slot_common/common/component/CommonNumAtlasBase"),l=e("../../slot_common/common/component/FluxayTexture"),c=e("../../slot_common/common/component/ParticleSystemSpriteFramesRefresh"),u=e("../../slot_common/common/enum/CommonEnum"),p=e("../../slot_common/common/utils/GData"),h=e("../../slot_common/main/BaseView"),d=e("../../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),f=e("../../slot_common/slotMachine/script/SlotData/SDictionary"),m=e("../../slot_common/slotMachine/script/SlotManager/SlotConfigManager"),g=e("../../slot_common/slotMachine/script/SlotManager/SpinManager"),_=e("../../slot_common/slotMachine/script/SlotUtils/Handle"),y=e("../../slot_common/slotMachine/script/SlotUtils/SlotUtils"),T=e("../../slot_common/sound/script/SoundMger"),S=cc._decorator,E=S.ccclass,v=S.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.winCoinLabel=null,t.touchLayer=null,t.aniLayer=null,t.winTextLayer=null,t.fluxayMaterial=null,t.animationMap=null,t.publicAniMap=null,t.winTextMap=null,t.winFontMap=null,t.callBack=null,t.winAniType=u.WinAniType.Small,t.isLabelTween=!1,t.money=0,t._curMoney=0,t.coinLabelTween=null,t.winTextFadeInTeen=null,t.winTextFadeOutTeen=null,t.aniDataMap=null,t.customDataMap=null,t.winEndDataMap=null,t.winTextDataMap=null,t.touchEnabled=!1,t.musicVolume=0,t.step=0,t.stepList=[],t.endStopTime=5,t.clickHideTime=5,t.delayPlaySoundTween=null,t.soundType=2,t.winNumTweenAniStepTimes=[7.5,7.5,7],t.isKeepSameTagAni=!1,t.customLayer=null,t.winEndAniLayer=null,t.maxRate=60,t.isEmptyAnimation=!1,t.prePlayAnisTagArr=[],t.isPlayLastAni=!1,t}var n;return o(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this.animationMap=new f.SDictionary,this.publicAniMap=new f.SDictionary,this.winTextDataMap=new f.SDictionary,this.touchLayer=this.node.getChildByName("touchLayer"),this.winTextLayer=this.node.getChildByName("winTextLayer"),this.aniLayer=this.node.getChildByName("aniLayer"),this.customLayer=this.node.getChildByName("customLayer"),this.winEndAniLayer=this.node.getChildByName("winEndAniLayer"),this.winCoinLabel=this.node.getChildByName("coinLabel").getComponent(s.default),this.fluxayMaterial=this.node.getChildByName("emptyNode").getComponent(cc.Sprite).getMaterial(0),this.touchLayer.on("touchstart",this.onTouch,this),cc.systemEvent.on("keydown",this.onKeyDown,this),this.loadResource(),this.node.active=!1,n._instance=this,e.prototype.resize.call(this)},t.prototype.onKeyDown=function(e){1==this.node.active&&e.keyCode==cc.macro.KEY.space&&this.onTouch(null)},t.prototype.addAniNodes=function(e,t,n){if(e)for(var i=0,o=e;i<o.length;i++){var a=o[i];a.bundle=p.GData.bundleName,n||(n=this.animationMap),n.get(a.tag)||("sk"==a.type?this.loadSkeleton(a,t,n):"ps_clip"==a.type?this.loadParticleSystemClip(a,t,n):"ps"==a.type?this.loadParticleSystem(a,t,n):this.loadSpriteFrame(a,t,n))}},t.prototype.loadResource=function(){var e=this,t=p.GData.getParameter("winAnimation");if(t&&t.winAnis){this.endStopTime=null!=t.endStopTime?t.endStopTime:5,this.clickHideTime=null!=t.clickHideTime?t.clickHideTime:5;var n=t.winAnis;t.winSoundType&&t.winSoundType.type&&(this.soundType=t.winSoundType.type||2),this.winTextMap=new f.SDictionary,this.aniDataMap=new f.SDictionary,this.winFontMap=new f.SDictionary,this.customDataMap=new f.SDictionary,this.winEndDataMap=new f.SDictionary;var i=t.publicAnis;i&&this.addAniNodes(i,this.aniLayer,this.publicAniMap),t.customLayerIndex&&this.customLayer.setSiblingIndex(t.customLayerIndex),t.winEndAniLayerIndex&&this.winEndAniLayer.setSiblingIndex(t.winEndAniLayerIndex),t.winCoinLabelIndex&&this.winCoinLabel.node.setSiblingIndex(t.winCoinLabelIndex),t.winTextLayerIndex&&this.winTextLayer.setSiblingIndex(t.winTextLayerIndex),t.maxRate&&(this.maxRate=t.maxRate),t.winNumTweenAniStepTimes&&(this.winNumTweenAniStepTimes=t.winNumTweenAniStepTimes),t.isKeepSameTagAni&&(this.isKeepSameTagAni=t.isKeepSameTagAni);var o=function(t){var i,o=n[t];switch(a.addAniNodes(o.bgAnis,a.aniLayer,a.animationMap),t){case"bigWin":i=u.WinAniType.Small;break;case"superWin":i=u.WinAniType.Middle;break;case"megaWin":i=u.WinAniType.Great}var r,s=p.GData.curLanguage;o.textImage&&(o.textImage.atlas?(r=(r=o.textImage.atlas).replace("&",p.GData.curLanguage),game.ResLoader.getInstance().loadRes(r,cc.SpriteAtlas,function(n,a){var r;if(!n){var c=new cc.Node;c.active=!1,c.name=t;var u=c.addComponent(cc.Sprite);if(o.textImage.isFluxay&&(u.setMaterial(0,e.fluxayMaterial),c.addComponent(l.default)),u.spriteFrame=a.getSpriteFrame(o.textImage.spriteFrame),c.x=o.textImage.x,c.y=o.textImage.y,c.scale=o.textImage.scale?o.textImage.scale:1,(null===(r=o.textImage)||void 0===r?void 0:r.language)&&o.textImage.language[s]){var p=o.textImage.language[s];"number"==typeof p.offsetX&&(c.x+=p.offsetX),"number"==typeof p.offsetY&&(c.y+=p.offsetY),"number"==typeof p.scale&&(c.scale=p.scale)}e.winTextMap.set(i,c);var h={x:c.x,y:c.y,scale:c.scale};e.winTextDataMap.set(i,h),e.winTextLayer.addChild(c)}},p.GData.bundleName,"slot")):(r=(r=o.textImage.spriteFrame).replace("&",p.GData.curLanguage),game.ResLoader.getInstance().loadRes(r,cc.SpriteFrame,function(n,a){var r;if(!n){var c=new cc.Node;c.active=!1,c.name=t;var u=c.addComponent(cc.Sprite);if(o.textImage.isFluxay&&(u.setMaterial(0,e.fluxayMaterial),c.addComponent(l.default)),u.spriteFrame=a,c.x=o.textImage.x,c.y=o.textImage.y,c.scale=o.textImage.scale?o.textImage.scale:1,(null===(r=o.textImage)||void 0===r?void 0:r.language)&&o.textImage.language[s]){var p=o.textImage.language[s];"number"==typeof p.offsetX&&(c.x+=p.offsetX),"number"==typeof p.offsetY&&(c.y+=p.offsetY),"number"==typeof p.scale&&(c.scale=p.scale)}e.winTextMap.set(i,c);var h={x:c.x,y:c.y,scale:c.scale};e.winTextDataMap.set(i,h),e.winTextLayer.addChild(c)}},p.GData.bundleName,"slot")));var c=o.customAnis;c&&(a.addAniNodes(c,a.customLayer,a.animationMap),a.customDataMap.set(i,c));var h=o.winEndAnis;h&&(a.addAniNodes(h,a.winEndAniLayer),a.winEndDataMap.set(i,h));var d=n[t].bgAnis;d&&a.aniDataMap.set(i,d)},a=this;for(var r in n)o(r);var s=t.bigWinNumAtlas,c={config:s};this.winFontMap.set(u.WinAniType.Small,c),game.ResLoader.getInstance().loadRes(s.atlas,cc.SpriteAtlas,function(t,n){if(!t){var i=e.winFontMap.get(u.WinAniType.Small);i.atlasElment=e.generateAtlasElment(s,n),e.winCoinLabel.AtlsElment=[].concat(i.atlasElment)}},p.GData.bundleName,"slot");var h=t.superWinNumAtlas,d={config:h};this.winFontMap.set(u.WinAniType.Middle,d),game.ResLoader.getInstance().loadRes(h.atlas,cc.SpriteAtlas,function(t,n){t||(e.winFontMap.get(u.WinAniType.Middle).atlasElment=e.generateAtlasElment(h,n))},p.GData.bundleName,"slot");var m=t.megaWinNumAtlas,g={config:m};this.winFontMap.set(u.WinAniType.Great,g),game.ResLoader.getInstance().loadRes(m.atlas,cc.SpriteAtlas,function(t,n){t||(e.winFontMap.get(u.WinAniType.Great).atlasElment=e.generateAtlasElment(m,n))},p.GData.bundleName,"slot")}else this.isEmptyAnimation=!0},t.prototype.generateAtlasElment=function(e,t){for(var n=[],i=0,o=e.config;i<o.length;i++){var a=o[i],r=new s.AtlsElmentConfig;r.id=""+a.id,r.elmentSpriteFrame=t.getSpriteFrame(a.spriteFrameName),n.push(r)}return n},t.prototype.loadSkeleton=function(e,t,n){if(e){var i=new cc.Node;i.name=e.tag,t||(t=this.aniLayer),t.addChild(i);var o=i.addComponent(r.default),a=e.startAniName,s=new r.AniParam(r.ANIMATION_TYPE.SKELETON,e.skUrl,e.bundle,a),l=!1;null!=e.premultipliedAlpha&&null!=e.premultipliedAlpha&&(l=e.premultipliedAlpha),o.init(s,l),o.node.active=!1,this.setLoad(e,o);var c=e.tag;n||(n=this.animationMap),n.set(c,o)}},t.prototype.loadSpriteFrame=function(e,t,n){if(e){var i=new cc.Node;i.name=e.tag,t||(t=this.aniLayer),t.addChild(i);var o=i.addComponent(r.default),a=e.startAniName,s=e.loopAniName,l=new r.AniParam(r.ANIMATION_TYPE.SPRITE_FRAMES_CLIP,e.startSpriteFramesUrl,e.bundle,a,e.startClipSimple);o.init(l),o.node.active=!1,this.setLoad(e,o),o.addClip(e.loopSpriteFramesUrl,e.bundle,s,e.loopClipSimple);var c=e.tag;n||(n=this.animationMap),n.set(c,o)}},t.prototype.loadParticleSystemClip=function(e,t,n){var i=this;if(e){var o=e.psUrl,a=e.asUrl;o&&game.ResLoader.getInstance().loadRes(o,cc.ParticleAsset,function(o,r){if(o)console.log(o);else{var s=new cc.Node;s.name=e.tag;var l=s.addComponent(cc.ParticleSystem);l.file=r,a&&game.ResLoader.getInstance().loadRes(a,cc.SpriteAtlas,function(e,t){l.addComponent(c.default).atlas=t},p.GData.bundleName,"slot"),t||(t=i.aniLayer),t.addChild(s),s.active=!1,i.setLoadParticle(e,s);var u=e.tag;n||(n=i.animationMap),n.set(u,l)}},p.GData.bundleName,"slot")}},t.prototype.loadParticleSystem=function(e,t,n){var i=this;if(e){var o=e.psUrl,a=e.spUrl;o&&game.ResLoader.getInstance().loadRes(o,cc.ParticleAsset,function(o,r){if(o)console.log(o);else{var s=new cc.Node;s.name=e.tag;var l=s.addComponent(cc.ParticleSystem);l.file=r,a&&game.ResLoader.getInstance().loadRes(a,cc.SpriteFrame,function(e,t){if(e)return e;l.spriteFrame=t},p.GData.bundleName,"slot"),t||(t=i.aniLayer),t.addChild(s),s.active=!1,i.setLoadParticle(e,s);var c=e.tag;n||(n=i.animationMap),n.set(c,l)}},p.GData.bundleName,"slot")}},t.prototype.setLoad=function(e,t){var n=t.node,i=e;i&&(n.x=i.x||0,n.y=i.y||0,n.setScale(i.scale||1),n.zIndex=i.zIndex||0)},t.prototype.setLoadParticle=function(e,t){var n=t,i=e;i&&(n.x=i.x||0,n.y=i.y||0,n.setScale(i.scale||1),n.zIndex=i.zIndex||0)},t.prototype.playPublicAni=function(){var e=p.GData.getParameter("winAnimation").publicAnis;if(e)for(var t=function(e){var t=n.publicAniMap.get(e.tag);t=t;var i=e.loopAniName,o=e.startAniName,a=_.Handler.create(n,function(){t.play(i,!0)});t.node.active=!0,t.play(o,!1,a)},n=this,i=0,o=e;i<o.length;i++)t(o[i])},t.prototype.playAnimation=function(e,t,n){var i=this,o=this.aniDataMap.get(e);o&&this.customDataMap&&this.customDataMap.get(e)&&(o=o.concat.apply(o,this.customDataMap.get(e)));var a=t;if(o)for(var r=function(e){var o=s.animationMap.get(e.tag),r=!1,l=e.delay||0;s.isKeepSameTagAni&&(s.prePlayAnisTagArr.includes(e.tag)?r=!0:s.prePlayAnisTagArr.push(e.tag));var c=function(e,t){e.active=!0,cc.tween(e).set({opacity:0}).to(t,{opacity:255}).start()},u=t||null==e.showTweenTime?0:e.showTweenTime;if("ps_clip"==e.type)c(o.node,u),r||o.getComponent(cc.ParticleSystem).resetSystem();else if("ps"==e.type)o.getComponent(cc.ParticleSystem).custom=!0,c(o.node,u),r||o.getComponent(cc.ParticleSystem).resetSystem();else{o=o;var p=e.loopAniName,h=e.startAniName;r&&(a=!0);var d=a?p:h,f=a?null:_.Handler.create(s,function(){p?o.play(p,!0):i.scheduleOnce(function(){o.hide(),o.node.active=!1},i.endStopTime),n&&(n.run(),n=null)});c(o.node,u),s.scheduleOnce(function(){o.play(d,a,f)},l)}},s=this,l=0,c=o;l<c.length;l++)r(c[l])},t.prototype.playWinEndAni=function(){if(this.winEndDataMap){var e=this.winAniType,t=this.winEndDataMap.get(e);if(t)for(var n=function(e){var t=e.isLoop,n=e.delay||0,o=i.animationMap.get(e.tag);if("ps_clip"==e.type)o.node.active=!0,o.getComponent(cc.ParticleSystem).resetSystem();else if("ps"==e.type)o.getComponent(cc.ParticleSystem).custom=!0,o.node.active=!0,o.getComponent(cc.ParticleSystem).resetSystem();else{o=o;var a=e.loopAniName,r=e.startAniName,s=t?a:r,l=t?null:_.Handler.create(i,function(){a?o.play(a,!0):(o.hide(),o.node.active=!1)});o.node.active=!0,i.scheduleOnce(function(){o.play(s,t,l)},n)}},i=this,o=0,a=t;o<a.length;o++)n(a[o])}},t.prototype.playWinText=function(e,t){void 0===t&&(t=!1);var n=this.winTextMap.get(e);if(n){n.active=!0;var i=this.winTextDataMap.get(e);n.scale=i.scale,n.x=i.x,n.y=i.y,t||(this.winTextFadeInTeen=this.playWinTextFadeIn(n,e))}},t.prototype.playAniSound=function(e,t){var n=this;if(1==this.soundType)T.SoundMger.instance.pauseCurMusic(),T.SoundMger.instance.getClipByPath(u.SOUND_NAME.Prize_All)||T.SoundMger.instance.playEffect(u.SOUND_NAME.Prize_All,!0);else{switch(this.delayPlaySoundTween&&(this.delayPlaySoundTween.stop(),this.delayPlaySoundTween=null),T.SoundMger.instance.stopEffect(this.curWinTextSoundName),T.SoundMger.instance.stopEffect(this.curWinCoinSoundName),T.SoundMger.instance.stopEffect(this.curWinNumSoundName),e){case u.WinAniType.Small:this.curWinTextSoundName=u.SOUND_NAME.Prize_Big_Text,this.curWinCoinSoundName=u.SOUND_NAME.Prize_Big_Coin,this.curWinNumSoundName=u.SOUND_NAME.Prize_Big_Number;break;case u.WinAniType.Middle:this.curWinTextSoundName=u.SOUND_NAME.Prize_Super_Text,this.curWinCoinSoundName=u.SOUND_NAME.Prize_Super_Coin,this.curWinNumSoundName=u.SOUND_NAME.Prize_Super_Number;break;case u.WinAniType.Great:this.curWinTextSoundName=u.SOUND_NAME.Prize_Mega_Text,this.curWinCoinSoundName=u.SOUND_NAME.Prize_Mega_Coin,this.curWinNumSoundName=u.SOUND_NAME.Prize_Mega_Number}!0===t?T.SoundMger.instance.playEffect(this.curWinNumSoundName,!0):!1===t?T.SoundMger.instance.playEffect(this.curWinTextSoundName):(T.SoundMger.instance.playEffect(this.curWinTextSoundName),this.delayPlaySoundTween=cc.tween(this).delay(2).call(function(){T.SoundMger.instance.playEffect(n.curWinNumSoundName,!0)}).start())}},t.prototype.onTouch=function(){if(this.touchEnabled)return this.isLabelTween&&!this.isPlayLastAni?(T.SoundMger.instance.playEffect(u.SOUND_NAME.Prize_All_Stop),void this.playFinalAnimation()):void this.fadeOut()},Object.defineProperty(t.prototype,"curMoney",{get:function(){return this._curMoney},set:function(e){this._curMoney=e,this.winCoinLabel.node.active=e>0,this.updateCoinLabel(y.default.formatNumber(e))},enumerable:!1,configurable:!0}),t.prototype.playWinAni=function(e,t,n,i){var o=this;if(void 0===i&&(i=255),this.isEmptyAnimation)n.run();else{this.prePlayAnisTagArr.length=0,this.hideAllAniNode(),this.hideAllWinText(),this.hideAllcustomAniNode(),this.hideAllwinEndAniNode(),this.isPlayLastAni=!1,this.musicVolume=game.SoundManager.getInstance().getMusicVolume(),this.scheduleOnce(function(){o.touchEnabled=!0},.5),T.SoundMger.instance.pauseCurMusic(),this.winAniType=e,this.callBack=n,this.money=t,this.node.active=!0,this.isLabelTween=!0,this.curMoney=0,this.node.opacity=i;var a=p.GData.getParameter("winAnimation");if(a.winBlack){var r=a.winBlack.opacity||0;this.node.getChildByName("black").opacity=r}this.playWinStart(),this.playPublicAni();var s=m.default.instance.getWinAnimationCondition(1),l=m.default.instance.getWinAnimationCondition(2),c=m.default.instance.getWinAnimationCondition(3);this.playAnimation(u.WinAniType.Small,!1),this.playWinText(u.WinAniType.Small),this.playAniSound(u.WinAniType.Small),this.changeWinFont(u.WinAniType.Small),this.stepList=[g.default.instance.betCost*c,g.default.instance.betCost*l,g.default.instance.betCost*s],this.step=0,this.isLabelTween=!0,this.touchEnabled=!1,this.updateWinCoinByTween()}},t.prototype.hideAllAniNode=function(){if(this.aniLayer)for(var e=0,t=this.aniLayer.children;e<t.length;e++)t[e].active=!1},t.prototype.hideAllWinText=function(){if(this.winTextLayer)for(var e=0,t=this.winTextLayer.children;e<t.length;e++)t[e].active=!1},t.prototype.hideAllcustomAniNode=function(){if(this.customLayer)for(var e=0,t=this.customLayer.children;e<t.length;e++)t[e].active=!1},t.prototype.hideAllwinEndAniNode=function(){if(this.winEndAniLayer)for(var e=0,t=this.winEndAniLayer.children;e<t.length;e++)t[e].active=!1},t.prototype.updateWinCoinByTween=function(){if(this.coinLabelTween&&(this.coinLabelTween.stop(),this.coinLabelTween=null),this.winAniType>=this.step+2&&this.prizeStepChange(),this.step<this.stepList.length&&this.curMoney<this.money){var e=this.step+1;e=e>this.stepList.length-1?this.stepList.length-1:e;var t=this.stepList[e],n=this.winNumTweenAniStepTimes[this.step]||6;if((this.step==this.stepList.length-1||t>=this.money)&&(t=this.money),t<=this.money)if(e==this.step){if(this.money==this.stepList[e])n=0;else if(this.money>this.stepList[e]){var i=g.default.instance.betCost*this.maxRate;(i=i>this.stepList[e]?i:1.7*this.stepList[e])>t&&(n=(t-this.stepList[e])/((i-this.stepList[e])/n))}}else n=0==this.step?t/(this.stepList[e]/n):(t-this.stepList[this.step])/((this.stepList[e]-this.stepList[this.step])/n);this.playNumTweenAni(this.winCoinLabel.node,this.curMoney,t,n)}else this.isLabelTween=!1,this.numberTweenComplete(),this.onCoinIncreaseEnd()},t.prototype.playNumTweenAni=function(e,t,n,i){var o=this;e&&(this.coinLabelTween=cc.tween({num:t}).set({num:t}).to(i,{num:n},{progress:function(e,t,n,i){var a=e+(t-e)*i;return o.curMoney=a,a}}).call(function(){o.curMoney=n,o.step++,o.updateWinCoinByTween()}).start())},t.prototype.prizeStepChange=function(){var e=this;switch(this.step>0&&this.hideAllWinText(),this.step){case 1:game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_CHANGE_WIN_TYPE,u.WinAniType.Middle),this.hideAniAndText(u.WinAniType.Small),this.playAnimation(u.WinAniType.Middle,!1),this.playAniSound(u.WinAniType.Middle),this.changeWinFont(u.WinAniType.Middle),this.playWinText(u.WinAniType.Middle);break;case 2:game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_CHANGE_WIN_TYPE,u.WinAniType.Great),this.hideAniAndText(u.WinAniType.Middle),this.playAnimation(u.WinAniType.Great,!1),this.playAniSound(u.WinAniType.Great),this.changeWinFont(u.WinAniType.Great),this.scheduleOnce(function(){T.SoundMger.instance.stopEffect(e.curWinTextSoundName)},4),this.playWinText(u.WinAniType.Great)}},t.prototype.numberTweenComplete=function(){var e=this;this.delayPlaySoundTween&&(this.delayPlaySoundTween.stop(),this.delayPlaySoundTween=null),1==this.soundType?(T.SoundMger.instance.stopEffect(u.SOUND_NAME.Prize_All),this.schedule(function(){T.SoundMger.instance.resumeCurMusic()},2)):(T.SoundMger.instance.stopEffect(this.curWinTextSoundName),T.SoundMger.instance.stopEffect(this.curWinCoinSoundName),T.SoundMger.instance.stopEffect(this.curWinNumSoundName)),T.SoundMger.instance.playEffect(u.SOUND_NAME.Prize_All_Stop),this.touchEnabled=!0,this.isPlayLastAni=!0,this.playWinEndAni(),this.scheduleOnce(function(){e.fadeOut()},this.endStopTime)},t.prototype.changeWinFont=function(e){var t,n,i=this.winFontMap.get(e);this.winCoinLabel.offScale=i.config.scale||1,this.winCoinLabel.node.x=i.config.x||0,this.winCoinLabel.node.y=i.config.y||0,this.winCoinLabel.spaceX=i.config.spaceX||0,this.winCoinLabel.shrink=null===(t=i.config.shrink)||void 0===t||t,this.winCoinLabel.maxWidth=i.config.maxWidth||600,this.winCoinLabel.anchorY=null!==(n=i.config.anchorY)&&void 0!==n?n:1,this.winCoinLabel.AtlsElment=[].concat(i.atlasElment)},t.prototype.playFinalAnimation=function(){var e=this;this.isPlayLastAni=!0,this.delayPlaySoundTween&&(this.delayPlaySoundTween.stop(),this.delayPlaySoundTween=null),1==this.soundType?(T.SoundMger.instance.stopEffect(u.SOUND_NAME.Prize_All),T.SoundMger.instance.resumeCurMusic()):(T.SoundMger.instance.stopEffect(this.curWinTextSoundName),T.SoundMger.instance.stopEffect(this.curWinCoinSoundName),T.SoundMger.instance.stopEffect(this.curWinNumSoundName)),this.hideAniAndText(),this.hideAllcustomAniNode(),this.winTextFadeInTeen&&(this.winTextFadeInTeen.stop(),this.winTextFadeInTeen=null),this.winTextFadeOutTeen&&(this.winTextFadeOutTeen.stop(),this.winTextFadeOutTeen=null),this.winCoinLabel.node.active=!0,this.unscheduleAllCallbacks(),this.playAnimation(this.winAniType,!0),this.changeWinFont(this.winAniType),this.playWinText(this.winAniType,!0),this.coinLabelTween&&(this.coinLabelTween.stop(),this.coinLabelTween=null),this.touchEnabled=!1,this.isLabelTween=!1,this.curMoney=this.money,this.scheduleOnce(function(){e.touchEnabled=!0},.5),this.scheduleOnce(function(){e.fadeOut()},this.clickHideTime),this.onPlayFinalAnimation(),this.playAnimation(this.winAniType,!0),this.playWinEndAni()},t.prototype.hideAniAndText=function(e){if(void 0!==e){var t=this.aniDataMap.get(e);if(t&&this.customDataMap&&this.customDataMap.get(e)&&(t=t.concat.apply(t,this.customDataMap.get(e))),!t)return;for(var n=function(t){var n=i.animationMap.get(t.tag),o=null!=t.hideTweenTime?t.hideTweenTime:0;cc.tween(n.node).to(o,{opacity:0}).call(function(){n.node.active=!1,n.node.opacity=255}).start();var a=i.winTextMap.get(e);a&&(i.winTextFadeOutTeen=i.playWinTextFadeOut(a,e))},i=this,o=0,a=t;o<a.length;o++)n(a[o])}else{for(var r=0,s=this.aniLayer.children;r<s.length;r++){var l=s[r];this.animationMap.get(l.name)&&(l.active=!1)}for(var c=0,u=this.winTextLayer.children;c<u.length;c++)(l=u[c]).active=!1}},t.prototype.fadeOut=function(){this.touchEnabled=!1,this.coinLabelTween&&(this.coinLabelTween.stop(),this.coinLabelTween=null),this.playFadeOut(_.Handler.create(this,this.hide))},t.prototype.hide=function(){if(1==this.soundType?(T.SoundMger.instance.stopEffect(u.SOUND_NAME.Prize_All),T.SoundMger.instance.stopEffect(u.SOUND_NAME.Prize_All_Stop)):(T.SoundMger.instance.stopEffect(this.curWinTextSoundName),T.SoundMger.instance.stopEffect(this.curWinCoinSoundName),T.SoundMger.instance.stopEffect(this.curWinNumSoundName),T.SoundMger.instance.stopEffect(u.SOUND_NAME.Prize_Stop)),T.SoundMger.instance.resumeCurMusic(),this.hideAniAndText(),this.hideAllcustomAniNode(),this.hideAllwinEndAniNode(),this.unscheduleAllCallbacks(),this.prePlayAnisTagArr.length=0,game.EventManager.getInstance().raiseEvent(d.GameEventNames.EVENT_UPDATE_WIN_ANI_END),this.node.active=!1,this.callBack){var e=this.callBack;this.callBack=null,e.run()}},t.prototype.playWinStart=function(){},t.prototype.updateCoinLabel=function(e){this.winCoinLabel.string=e},t.prototype.playWinTextFadeIn=function(e){var t=e.scale;return cc.tween(e).set({scale:0}).to(.15,{scale:t}).start()},t.prototype.playWinTextFadeOut=function(e){e.active=!1},t.prototype.onPlayFinalAnimation=function(){},t.prototype.onCoinIncreaseEnd=function(){},t.prototype.playFadeOut=function(e){e.run()},t.prototype.getWinTextNode=function(){return this.winTextMap.get(this.winAniType)},t.prototype.getCustomLayerNode=function(){return this.customLayer},a([v(s.default)],t.prototype,"winCoinLabel",void 0),a([v(cc.Node)],t.prototype,"touchLayer",void 0),a([v(cc.Node)],t.prototype,"aniLayer",void 0),a([v(cc.Node)],t.prototype,"winTextLayer",void 0),a([v(cc.Material)],t.prototype,"fluxayMaterial",void 0),n=a([E],t)}(h.default);n.default=C,cc._RF.pop()},{"../../slot_common/common/component/AnimationExtend":"AnimationExtend","../../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../../slot_common/common/component/FluxayTexture":"FluxayTexture","../../slot_common/common/component/ParticleSystemSpriteFramesRefresh":"ParticleSystemSpriteFramesRefresh","../../slot_common/common/enum/CommonEnum":"CommonEnum","../../slot_common/common/utils/GData":"GData","../../slot_common/main/BaseView":"BaseView","../../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../../slot_common/slotMachine/script/SlotData/SDictionary":"SDictionary","../../slot_common/slotMachine/script/SlotManager/SlotConfigManager":"SlotConfigManager","../../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../../slot_common/slotMachine/script/SlotUtils/Handle":"Handle","../../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../../slot_common/sound/script/SoundMger":"SoundMger"}],globalTaskFlags:[function(e,t,n){"use strict";cc._RF.push(t,"33bc6aR9jhNF7wwJ48bvknC","globalTaskFlags"),Object.defineProperty(n,"__esModule",{value:!0}),n.globalTaskFlags=void 0,function(e){e[e.GLOBAL_TASK_CANCEL_WHEN_START=0]="GLOBAL_TASK_CANCEL_WHEN_START",e[e.GLOBAL_TASK_REWARDS_ANI_TASK=1]="GLOBAL_TASK_REWARDS_ANI_TASK",e[e.GLOBAL_TASK_NORMAL_REWARDS_ANI_TASK=2]="GLOBAL_TASK_NORMAL_REWARDS_ANI_TASK",e[e.GLOBAL_TASK_FREE_GAME_OVER=3]="GLOBAL_TASK_FREE_GAME_OVER",e[e.GLOBAL_TASK_DELAYED_TASK=4]="GLOBAL_TASK_DELAYED_TASK",e[e.GLOBAL_TASK_FREE_GAME_START=5]="GLOBAL_TASK_FREE_GAME_START"}(n.globalTaskFlags||(n.globalTaskFlags={})),cc._RF.pop()},{}],slot:[function(e,t,n){"use strict";cc._RF.push(t,"94b60b+dRFKyrFU5zHI3Xhe","slot"),Object.defineProperty(n,"__esModule",{value:!0}),n.slot=void 0;var i=e("../banner/SlotBanner"),o=e("../check/script/BuySpinSlot"),a=e("../check/script/HashSlot"),r=e("../check/script/TurnCoinSlot"),s=e("../common/scripts/FixedScrollView"),l=e("../common/scripts/LoadingTip"),c=e("../common/scripts/SPopupPrompt"),u=e("../compensateTable/script/CompensateControl"),p=e("../gameControl/script/ButtonColor"),h=e("../gameControl/script/GameControlBase"),d=e("../gameControl/script/PlayBtnBase"),f=e("../main/script/CommonConst"),m=e("../main/script/LoadingView"),g=e("../main/script/MainView"),_=e("../main/script/RemoteLoading"),y=e("../main/script/RotationTip"),T=e("../main/script/SlotInit"),S=e("../menu/script/Menu"),E=e("../menu/script/MyButton"),v=e("../menu/script/MyGrayMaterial"),C=e("../rule/script/RuleView"),b=e("../score/script/BetView"),R=e("../score/script/ScoreBalance"),M=e("../score/script/ScoreBase"),L=e("../score/script/ScoreItem"),N=e("../score/script/ScoresBetAmount"),I=e("../score/script/ScoresBetLevel"),O=e("../score/script/ScoresBetSize"),P=e("../slotMachine/script/MainView/AbstractMainView"),A=e("../slotMachine/script/MainView/SpinSlotView"),w=e("../slotMachine/script/Scroller/JTLogicFactroy"),G=e("../slotMachine/script/Scroller/JTPGGlobalDisplayLines"),D=e("../slotMachine/script/Scroller/JTPGScrollerGroup"),k=e("../slotMachine/script/Scroller/JTSkinnableRuntimeLineAnimationRender"),x=e("../slotMachine/script/Scroller/LineAnimation"),B=e("../slotMachine/script/Scroller/LineAnimationManager"),J=e("../slotMachine/script/Scroller/ReplaceFactory"),F=e("../slotMachine/script/Scroller/SpinElementView"),U=e("../slot_common/autoTest/SlotAutoTestConf"),j=e("../slot_common/buySpin/script/BuyFreeBtnBase"),V=e("../slot_common/buySpin/script/BuySpinView"),H=e("../slot_common/check/script/HashCiphertextSlot"),W=e("../slot_common/check/script/HashEntranceSlot"),Y=e("../slot_common/check/script/HashTimestampSlot"),K=e("../slot_common/common/component/AnimationExtend"),X=e("../slot_common/common/component/CommonNumAtlasBase"),z=e("../slot_common/common/component/CustomButton"),q=e("../slot_common/common/component/CustomButtonExtendLang"),Z=e("../slot_common/common/component/FluxayTexture"),Q=e("../slot_common/common/component/MultiDragonBonesAtlasAssets"),$=e("../slot_common/common/component/MultiPSRandomRefreshTool"),ee=e("../slot_common/common/component/ParticleSystemSpriteFramesRefresh"),te=e("../slot_common/common/component/SlotListView"),ne=e("../slot_common/common/component/SlotMController"),ie=e("../slot_common/common/component/SlotMoveDirect"),oe=e("../slot_common/common/component/SlotNodeUiConfig"),ae=e("../slot_common/common/component/SlotSliderFix"),re=e("../slot_common/common/enum/CommonEnum"),se=e("../slot_common/common/layer/LayerManage"),le=e("../slot_common/common/utils/GData"),ce=e("../slot_common/common/utils/Layout"),ue=e("../slot_common/common/utils/LayoutEx"),pe=e("../slot_common/common/utils/Marqueen"),he=e("../slot_common/common/utils/Property"),de=e("../slot_common/common/utils/ReplaceSkeletonTex"),fe=e("../slot_common/jackPot/script/JackPotGameCommon"),me=e("../slot_common/jackPot/script/JackPotShowCommon"),ge=e("../slot_common/jackPot/script/JPGameCommon"),_e=e("../slot_common/labelShader/script/LabelShader1"),ye=e("../slot_common/language/script/LanguageAnimation"),Te=e("../slot_common/language/script/LanguageCreate"),Se=e("../slot_common/language/script/LanguageDragonBones"),Ee=e("../slot_common/language/script/LanguageInfoBase"),ve=e("../slot_common/language/script/LanguageRecordSlot"),Ce=e("../slot_common/language/script/LanguageSkeleton"),be=e("../slot_common/language/script/LanguangeCompSlot"),Re=e("../slot_common/language/script/LanguangeHashSlot"),Me=e("../slot_common/main/BaseView"),Le=e("../slot_common/main/EntranceView"),Ne=e("../slot_common/main/EntranceViewBase"),Ie=e("../slot_common/main/JackPotBase"),Oe=e("../slot_common/network/NetSlotConst"),Pe=e("../slot_common/network/SlotProtoManager"),Ae=e("../slot_common/otherBetType/OtherBetType"),we=e("../slot_common/settlementAni/script/SettlementAni"),Ge=e("../slot_common/shadow/script/MathUtil"),De=e("../slot_common/shadow/script/NodePool"),ke=e("../slot_common/shadow/script/ObjectPool"),xe=e("../slot_common/shadow/script/Shadow"),Be=e("../slot_common/shadow/script/ShadowFollow"),Je=e("../slot_common/shadow/script/Timer"),Fe=e("../slot_common/slotMachine/script/MainView/AbstractBonusGameView"),Ue=e("../slot_common/slotMachine/script/MainView/BaseSpinSlotView"),je=e("../slot_common/slotMachine/script/MainView/CommonMainView"),Ve=e("../slot_common/slotMachine/script/MainView/FreeGameRatioReward"),He=e("../slot_common/slotMachine/script/MainView/SlotMachineView"),We=e("../slot_common/slotMachine/script/MainView/SpinElementManager"),Ye=e("../slot_common/slotMachine/script/Scroller/com/base/JTContainer"),Ke=e("../slot_common/slotMachine/script/Scroller/com/base/JTGComponent"),Xe=e("../slot_common/slotMachine/script/Scroller/com/base/JTGraphics"),ze=e("../slot_common/slotMachine/script/Scroller/com/base/JTGraphicsSpriteMesh"),qe=e("../slot_common/slotMachine/script/Scroller/com/base/JTGroup"),Ze=e("../slot_common/slotMachine/script/Scroller/com/base/JTImage"),Qe=e("../slot_common/slotMachine/script/Scroller/com/base/JTItemRender"),$e=e("../slot_common/slotMachine/script/Scroller/com/base/JTItemSkinLoader"),et=e("../slot_common/slotMachine/script/Scroller/com/base/JTMask"),tt=e("../slot_common/slotMachine/script/Scroller/com/base/JTSprite"),nt=e("../slot_common/slotMachine/script/Scroller/com/canvas/JTCanvasStyle"),it=e("../slot_common/slotMachine/script/Scroller/com/canvas/JTCanvasTools"),ot=e("../slot_common/slotMachine/script/Scroller/com/canvas/JTComputeUtils"),at=e("../slot_common/slotMachine/script/Scroller/com/canvas/JTGrid"),rt=e("../slot_common/slotMachine/script/Scroller/com/canvas/JTTextureBounds"),st=e("../slot_common/slotMachine/script/Scroller/com/datas/JTArrayCollection"),lt=e("../slot_common/slotMachine/script/Scroller/com/datas/JTCollection"),ct=e("../slot_common/slotMachine/script/Scroller/com/datas/JTDataInfo"),ut=e("../slot_common/slotMachine/script/Scroller/com/datas/JTElementArrayList"),pt=e("../slot_common/slotMachine/script/Scroller/com/datas/JTElementCollection"),ht=e("../slot_common/slotMachine/script/Scroller/com/datas/JTElementData"),dt=e("../slot_common/slotMachine/script/Scroller/com/datas/JTRollerData"),ft=e("../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy"),mt=e("../slot_common/slotMachine/script/Scroller/com/factorys/JTChildFactory"),gt=e("../slot_common/slotMachine/script/Scroller/com/factorys/JTFactory"),_t=e("../slot_common/slotMachine/script/Scroller/com/factorys/JTFactoryManager"),yt=e("../slot_common/slotMachine/script/Scroller/com/factorys/JTLayerFactory"),Tt=e("../slot_common/slotMachine/script/Scroller/com/factorys/JTModelFactory"),St=e("../slot_common/slotMachine/script/Scroller/com/JTConfigGroup"),Et=e("../slot_common/slotMachine/script/Scroller/com/JTScroller"),vt=e("../slot_common/slotMachine/script/Scroller/com/JTScrollerGroup"),Ct=e("../slot_common/slotMachine/script/Scroller/com/JTScrollerSettings"),bt=e("../slot_common/slotMachine/script/Scroller/com/plugins/JTChannelPipeline"),Rt=e("../slot_common/slotMachine/script/Scroller/com/plugins/JTFuturePipeline"),Mt=e("../slot_common/slotMachine/script/Scroller/com/plugins/JTLengthFixedPipeline"),Lt=e("../slot_common/slotMachine/script/Scroller/com/plugins/JTScheduledPipeline"),Nt=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTBeginRunning"),It=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTCreate"),Ot=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTOptionTransition"),Pt=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTOverRunning"),At=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTPipelineTemplate"),wt=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTProcedure"),Gt=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTRunning"),Dt=e("../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTSingleScheduledPipeline"),kt=e("../slot_common/slotMachine/script/Scroller/com/tasks/JTOptionTask"),xt=e("../slot_common/slotMachine/script/Scroller/com/tasks/JTScheduledTaskPipeline"),Bt=e("../slot_common/slotMachine/script/Scroller/com/tasks/JTTask"),Jt=e("../slot_common/slotMachine/script/Scroller/com/tasks/JTTaskFlow"),Ft=e("../slot_common/slotMachine/script/Scroller/com/tasks/JTTaskPipeline"),Ut=e("../slot_common/slotMachine/script/Scroller/extensions/JTChannelScrollerGroup"),jt=e("../slot_common/slotMachine/script/Scroller/extensions/JTControlScrollerGroup"),Vt=e("../slot_common/slotMachine/script/Scroller/extensions/JTEffectContainer"),Ht=e("../slot_common/slotMachine/script/Scroller/extensions/JTLayoutPoint"),Wt=e("../slot_common/slotMachine/script/Scroller/extensions/JTLineScroller"),Yt=e("../slot_common/slotMachine/script/Scroller/extensions/JTLineScrollerGroup"),Kt=e("../slot_common/slotMachine/script/Scroller/extensions/JTMixItemConfig"),Xt=e("../slot_common/slotMachine/script/Scroller/extensions/JTUnfixedLengthItemConfig"),zt=e("../slot_common/slotMachine/script/Scroller/flows/JT3ComboTask"),qt=e("../slot_common/slotMachine/script/Scroller/flows/JT5ComboTask"),Zt=e("../slot_common/slotMachine/script/Scroller/flows/JTAfterRewardTask"),Qt=e("../slot_common/slotMachine/script/Scroller/flows/JTBonusGameTask"),$t=e("../slot_common/slotMachine/script/Scroller/flows/JTChangeGameTask"),en=e("../slot_common/slotMachine/script/Scroller/flows/JTCombineOverTask"),tn=e("../slot_common/slotMachine/script/Scroller/flows/JTComboTask"),nn=e("../slot_common/slotMachine/script/Scroller/flows/JTCommonRewardTask"),on=e("../slot_common/slotMachine/script/Scroller/flows/JTConvertPlayLines"),an=e("../slot_common/slotMachine/script/Scroller/flows/JTDynamicCombineSplit"),rn=e("../slot_common/slotMachine/script/Scroller/flows/JTEliminateScoreTask"),sn=e("../slot_common/slotMachine/script/Scroller/flows/JTFreeGameOverTask "),ln=e("../slot_common/slotMachine/script/Scroller/flows/JTFreeGameRewardTask"),cn=e("../slot_common/slotMachine/script/Scroller/flows/JTFullLineAniTask"),un=e("../slot_common/slotMachine/script/Scroller/flows/JTGlobalDisplayLines"),pn=e("../slot_common/slotMachine/script/Scroller/flows/JTJackPotGameTask"),hn=e("../slot_common/slotMachine/script/Scroller/flows/JTLoopDisplayLines"),dn=e("../slot_common/slotMachine/script/Scroller/flows/JTNewFreeGameTask"),fn=e("../slot_common/slotMachine/script/Scroller/flows/JTParseTask"),mn=e("../slot_common/slotMachine/script/Scroller/flows/JTPerformanceTask"),gn=e("../slot_common/slotMachine/script/Scroller/flows/JTTrialGuide"),_n=e("../slot_common/slotMachine/script/Scroller/flows/JTUpLevelTask"),yn=e("../slot_common/slotMachine/script/Scroller/JTLogger"),Tn=e("../slot_common/slotMachine/script/Scroller/JTOddsUtils"),Sn=e("../slot_common/slotMachine/script/Scroller/layerSort/JTLayerSortContainer"),En=e("../slot_common/slotMachine/script/Scroller/layerSort/JTLayerSortMaskContainer"),vn=e("../slot_common/slotMachine/script/Scroller/lines/JTElementIdType"),Cn=e("../slot_common/slotMachine/script/Scroller/lines/JTLineDirection"),bn=e("../slot_common/slotMachine/script/Scroller/lines/JTLineMode"),Rn=e("../slot_common/slotMachine/script/Scroller/lines/JTLineRender"),Mn=e("../slot_common/slotMachine/script/Scroller/lines/JTLineRenderUtils"),Ln=e("../slot_common/slotMachine/script/Scroller/lines/JTLineType"),Nn=e("../slot_common/slotMachine/script/Scroller/lines/JTProduct"),In=e("../slot_common/slotMachine/script/Scroller/lines/JTRenderMode"),On=e("../slot_common/slotMachine/script/Scroller/lines/JTScatterGridRender"),Pn=e("../slot_common/slotMachine/script/Scroller/lines/JTScrollerLineParser"),An=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTAdvanceSkinnable"),wn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTAdvanceSkinnableGrid"),Gn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTAdvanceSkinnableLine"),Dn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnable"),kn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnableGrid"),xn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnableLine"),Bn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTSkinnable"),Jn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/FlashLight"),Fn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableArtGridRender"),Un=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableArtLineRender"),jn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableFlashLightLineRender"),Vn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableGridRender"),Hn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableLineButtonRender"),Wn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableLineRender"),Yn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeArtGridRender"),Kn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeArtLineRender"),Xn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeGraphicLineRender"),zn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeGraphicsSpriteMeshLineRender"),qn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeGridRender"),Zn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeLineRender"),Qn=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeMaskLineRender"),$n=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeOutGlowGraphicGridRender"),ei=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeOutGlowGraphicLineRender"),ti=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableScaleGridRender"),ni=e("../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableScaleLineRender"),ii=e("../slot_common/slotMachine/script/Scroller/masks/JTAnomalyMask"),oi=e("../slot_common/slotMachine/script/Scroller/masks/JTLineArtMask"),ai=e("../slot_common/slotMachine/script/Scroller/masks/JTLineMask"),ri=e("../slot_common/slotMachine/script/Scroller/masks/JTScrollerGroupMask"),si=e("../slot_common/slotMachine/script/Scroller/renders/JTBlackBackGround"),li=e("../slot_common/slotMachine/script/Scroller/renders/JTDefaultItemRender"),ci=e("../slot_common/slotMachine/script/Scroller/renders/JTGLoader"),ui=e("../slot_common/slotMachine/script/Scroller/rules/JTAdvanceTask"),pi=e("../slot_common/slotMachine/script/Scroller/rules/JTChangeSpeedTask"),hi=e("../slot_common/slotMachine/script/Scroller/rules/JTCombineTask"),di=e("../slot_common/slotMachine/script/Scroller/rules/JTContainerMode"),fi=e("../slot_common/slotMachine/script/Scroller/rules/JTDynamicCombineTask"),mi=e("../slot_common/slotMachine/script/Scroller/rules/JTDynamicWildTask"),gi=e("../slot_common/slotMachine/script/Scroller/rules/JTOnceWildTask"),_i=e("../slot_common/slotMachine/script/Scroller/rules/JTRetainWildTask"),yi=e("../slot_common/slotMachine/script/Scroller/rules/JTRuleTask"),Ti=e("../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskManager"),Si=e("../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskType"),Ei=e("../slot_common/slotMachine/script/Scroller/rules/JTScatterTask"),vi=e("../slot_common/slotMachine/script/Scroller/rules/JTTaskContainer"),Ci=e("../slot_common/slotMachine/script/Scroller/rules/JTWildTask"),bi=e("../slot_common/slotMachine/script/Scroller/rules/JTWildTaskContainer"),Ri=e("../slot_common/slotMachine/script/Scroller/transitions/JTEasing"),Mi=e("../slot_common/slotMachine/script/Scroller/transitions/JTOptionType"),Li=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTAnomalyPipeline"),Ni=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTBeginAnomaly"),Ii=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTCreateAnomaly"),Oi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTOverAnomaly"),Pi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTRunAnomaly"),Ai=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTBeginColumnMixScrolling"),wi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTCreateColumnMixScrolling"),Gi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTOverColumnMixScrolling"),Di=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTRunColumnMixScrolling"),ki=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTScrollingColumnMixPipeline"),xi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTBeginElastic"),Bi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTCreateElastic"),Ji=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTElasticPipeline"),Fi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTOverElastic"),Ui=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleBeginElastic"),ji=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleCreateElastic"),Vi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleElasticPipeline"),Hi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleOverElastic"),Wi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/EliminateDisappearUtils"),Yi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/EliminateEffectUtils"),Ki=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTBeginEliminate"),Xi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTBeginEliminateDisppear"),zi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTCreateEliminate"),qi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTEliminatePipeline"),Zi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTEmptyBeginEliminate"),Qi=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTOverEliminate"),$i=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTOverEliminateFallByRow"),eo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTRunEliminate"),to=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTRunEliminateFallAndDrop"),no=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTRunEliminateFallByRow"),io=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTBeginIrregular"),oo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTCreateIrregular"),ao=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTIrregularPipeline"),ro=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTOverIrregular"),so=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTRunIrregular"),lo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTBeginLouver"),co=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTCreateLouver"),uo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTLouverPipeline"),po=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTOverLouver"),ho=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleBeginLouver"),fo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleCreateLouver"),mo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleLouverPipeline"),go=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleOverLouver"),_o=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTBeginMixScrolling"),yo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTCreateMixScrolling"),To=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTOverMixScrolling"),So=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTRunMixScrolling"),Eo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTScrollingMixPipeline"),vo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTScrollingMixPipelinePlugin"),Co=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTAdvanceBeginScrolling"),bo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTBeginScrolling"),Ro=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTCreateScrolling"),Mo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTEmptyBeginScrolling"),Lo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTOverScrollEliminate"),No=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTOverScrollEliminateFallByRow"),Io=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTOverScrolling"),Oo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTRunScrolling"),Po=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTScrollingPipeline"),Ao=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTBeginUnfixedLength"),wo=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTCreateUnfixedLength"),Go=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTOverUnfixedLength"),Do=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTRunUnfixedLength"),ko=e("../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTUnfixedLengthPipeline"),xo=e("../slot_common/slotMachine/script/SlotConfigs/GameEventNames"),Bo=e("../slot_common/slotMachine/script/SlotData/DataConstant"),Jo=e("../slot_common/slotMachine/script/SlotData/DataElement"),Fo=e("../slot_common/slotMachine/script/SlotData/DataFreeLines"),Uo=e("../slot_common/slotMachine/script/SlotData/DataFreeRoller"),jo=e("../slot_common/slotMachine/script/SlotData/DataGame"),Vo=e("../slot_common/slotMachine/script/SlotData/DataGameFreeLines"),Ho=e("../slot_common/slotMachine/script/SlotData/DataPayLine"),Wo=e("../slot_common/slotMachine/script/SlotData/DataRoller"),Yo=e("../slot_common/slotMachine/script/SlotData/DataSlotRandomGrid"),Ko=e("../slot_common/slotMachine/script/SlotData/LineType"),Xo=e("../slot_common/slotMachine/script/SlotData/RollingResult"),zo=e("../slot_common/slotMachine/script/SlotData/SDictionary"),qo=e("../slot_common/slotMachine/script/SlotDefinitions/BonusGameInfo"),Zo=e("../slot_common/slotMachine/script/SlotDefinitions/FreeGameInfo"),Qo=e("../slot_common/slotMachine/script/SlotDefinitions/GameConfig"),$o=e("../slot_common/slotMachine/script/SlotDefinitions/globalTaskFlags"),ea=e("../slot_common/slotMachine/script/SlotDefinitions/SlotEnum"),ta=e("../slot_common/slotMachine/script/SlotManager/BonusGameManager"),na=e("../slot_common/slotMachine/script/SlotManager/FreeGameManager"),ia=e("../slot_common/slotMachine/script/SlotManager/GlobalQueueManager"),oa=e("../slot_common/slotMachine/script/SlotManager/JackPotGameManager"),aa=e("../slot_common/slotMachine/script/SlotManager/MultipleGameManager"),ra=e("../slot_common/slotMachine/script/SlotManager/PlayerManager"),sa=e("../slot_common/slotMachine/script/SlotManager/SlotConfigManager"),la=e("../slot_common/slotMachine/script/SlotManager/SlotGameManager"),ca=e("../slot_common/slotMachine/script/SlotManager/SlotTimeManager"),ua=e("../slot_common/slotMachine/script/SlotManager/SpinManager"),pa=e("../slot_common/slotMachine/script/SlotUtils/Handle"),ha=e("../slot_common/slotMachine/script/SlotUtils/SlotUtils"),da=e("../slot_common/sound/script/SoundMger"),fa=e("../slot_common/turnCoin/script/TurnCoinView"),ma=e("../topUi/scripts/TopUi"),ga=e("../turnSetting/script/TurnSetting"),_a=e("../uiAnimation/BalanceUIAnimation"),ya=e("../uiAnimation/BetUIAnimation"),Ta=e("../uiAnimation/CompensateUIAnimation"),Sa=e("../uiAnimation/FadeUIAnimation"),Ea=e("../uiAnimation/RuleUIAnimation"),va=e("../uiAnimation/TurnSettingUIAnimation"),Ca=e("../util/UIUtil"),ba=e("../winAnimations/script/WinAniManager"),Ra=function(){};n.slot=Ra,Ra.SlotBanner=i.default,Ra.BuySpinSlot=o.default,Ra.HashSlot=a.default,Ra.TurnCoinSlot=r.default,Ra.FixedScrollView=s.default,Ra.LoadingTip=l.default,Ra.SPopupPrompt=c.default,Ra.CompensateControl=u.default,Ra.ButtonColor=p.default,Ra.EButtonName=p.EButtonName,Ra.GameControlBase=h.default,Ra.fastBtn_status=h.fastBtn_status,Ra.ctlBtn_status=h.ctlBtn_status,Ra.PlayBtnBase=d.default,Ra.UIID=f.UIID,Ra.CommonEventNames=f.CommonEventNames,Ra.LoadingView=m.default,Ra.MainView=g.default,Ra.RemoteLoading=_.default,Ra.RotationTip=y.default,Ra.SlotInit=T.default,Ra.Menu=S.default,Ra.MyButton=E.default,Ra.IMaterialType=E.IMaterialType,Ra.MyGrayMaterial=v.default,Ra.RuleView=C.default,Ra.BetView=b.default,Ra.BetSettingType=b.BetSettingType,Ra.ScoreBalance=R.default,Ra.ScoreBase=M.default,Ra.ScoreItem=L.ScoreItem,Ra.ScoresBetAmount=N.default,Ra.ScoresBetLevel=I.default,Ra.ScoresBetSize=O.default,Ra.AbstractMainView=P.AbstractMainView,Ra.SpinSlotView=A.default,Ra.JTLogicFactroy=w.default,Ra.JTPGGlobalDisplayLines=G.default,Ra.JTPGScrollerGroup=D.default,Ra.JTSkinnableRuntimeLineAnimationRender=k.default,Ra.LineAnimation=x.default,Ra.LineAnimationManager=B.default,Ra.ReplaceFactory=J.ReplaceFactory,Ra.SpinElementView=F.default,Ra.SlotAutoTestConf=U.default,Ra.SlotAutoTestKey=U.SlotAutoTestKey,Ra.BuyFreeBtnBase=j.default,Ra.BuySpinView=V.default,Ra.HashCiphertextSlot=H.default,Ra.HashEntranceSlot=W.default,Ra.HashTimestampSlot=Y.default,Ra.AnimationExtend=K.default,Ra.ANIMATION_TYPE=K.ANIMATION_TYPE,Ra.AniParam=K.AniParam,Ra.CommonNumAtlasBase=X.default,Ra.AtlsElmentConfig=X.AtlsElmentConfig,Ra.CustomButton=z.default,Ra.CustomBtnTransition=z.CustomBtnTransition,Ra.CustomBtnState=z.CustomBtnState,Ra.CustomBtnLongTouchType=z.CustomBtnLongTouchType,Ra.StateSprite=z.StateSprite,Ra.StateColor=z.StateColor,Ra.CustomButtonExtendLang=q.default,Ra.FluxayTexture=Z.default,Ra.MultiDragonBonesAtlasAssets=Q.default,Ra.MultiPSRandomRefreshTool=$.default,Ra.ParticleSystemSpriteFramesRefresh=ee.default,Ra.SlotListView=te.default,Ra.SlotMController=ne.default,Ra.MoveDirect=ie.default,Ra.SlotNodeUiConfig=oe.default,Ra.SlotSliderFix=ae.default,Ra.LAYOUT=re.LAYOUT,Ra.Orientation=re.Orientation,Ra.CANVAS_SIZE=re.CANVAS_SIZE,Ra.NODE_TYPE=re.NODE_TYPE,Ra.MENU_TYPE=re.MENU_TYPE,Ra.MENU_EVENT_TYPE=re.MENU_EVENT_TYPE,Ra.SOUND_NAME=re.SOUND_NAME,Ra.MAIN_NODE_NAME=re.MAIN_NODE_NAME,Ra.WinAniType=re.WinAniType,Ra.LayerManage=se.LayerManage,Ra.GData=le.GData,Ra.Layout=ce.Layout,Ra.LayoutType=ue.LayoutType,Ra.LayoutEx=ue.LayoutEx,Ra.Marqueen=pe.default,Ra.Property=he.Property,Ra.ReplaceSkeletonTex=de.default,Ra.JackPotGameCommon=fe.default,Ra.JackPotShowCommon=me.default,Ra.JPGameCommon=ge.default,Ra.JP_EFFECT=ge.JP_EFFECT,Ra.LabelShader1=_e.default,Ra.LanguageAnimation=ye.default,Ra.languageAnimationClipDataInfo=ye.languageAnimationClipDataInfo,Ra.LanguageCreate=Te.LanguageCreate,Ra.LanguageDragonBones=Se.default,Ra.DragonLanguageMode=Se.DragonLanguageMode,Ra.languageDragonCfgDataInfo=Se.languageDragonCfgDataInfo,Ra.LanguageInfoBase=Ee.default,Ra.LanguageRecordSlot=ve.default,Ra.LanguageSkeleton=Ce.default,Ra.SkLanguageMode=Ce.SkLanguageMode,Ra.languageSkCfgDataInfo=Ce.languageSkCfgDataInfo,Ra.LanguangeCompSlot=be.default,Ra.LanguangeHashSlot=Re.default,Ra.BaseView=Me.default,Ra.EntranceView=Le.default,Ra.EntranceViewBase=Ne.default,Ra.JackPotBase=Ie.default,Ra.NetSlotConst=Oe.default,Ra.SlotProtoManager=Pe.default,Ra.OtherBetType=Ae.default,Ra.SettlementAni=we.default,Ra.MathUtil=Ge.default,Ra.NodePool=De.default,Ra.ObjectPool=ke.default,Ra.Shadow=xe.default,Ra.ShadowFollow=Be.default,Ra.Timer=Je.default,Ra.AbstractBonusGameView=Fe.default,Ra.BaseSpinSlotView=Ue.default,Ra.SpinSlotData=Ue.SpinSlotData,Ra.SpinSlotHiddenSection=Ue.SpinSlotHiddenSection,Ra.SpinSlotAniType=Ue.SpinSlotAniType,Ra.CommonMainView=je.CommonMainView,Ra.FreeGameRatioReward=Ve.FreeGameRatioReward,Ra.SlotMachineView=He.default,Ra.SpinElementManager=We.default,Ra.JTContainer=Ye.default,Ra.JTGComponent=Ke.default,Ra.JTGraphics=Xe.default,Ra.JTGraphicsSpriteMesh=ze.default,Ra.JTGroup=qe.default,Ra.JTImage=Ze.default,Ra.JTItemRender=Qe.default,Ra.JTItemSkinLoader=$e.default,Ra.JTMask=et.default,Ra.JTSprite=tt.default,Ra.LineStyle=nt.LineStyle,Ra.JTCanvasStyle=nt.JTCanvasStyle,Ra.JTCanvasTools=it.default,Ra.JTComputeUtils=ot.default,Ra.JTGrid=at.default,Ra.JTTextureBounds=rt.default,Ra.JTArrayCollection=st.default,Ra.JTCollection=lt.default,Ra.JTDataInfo=ct.default,Ra.JTElementArrayList=ut.default,Ra.JTElementCollection=pt.default,Ra.JTElementData=ht.default,Ra.JTRollerData=dt.default,Ra.JTBaseLogicFactroy=ft.default,Ra.JTTaskPriority=ft.JTTaskPriority,Ra.JTChildFactory=mt.default,Ra.JTFactory=gt.default,Ra.JTFactoryManager=_t.default,Ra.JTLayerFactory=yt.default,Ra.JTModelFactory=Tt.default,Ra.JTConfigGroup=St.default,Ra.JTScroller=Et.default,Ra.JTScrollerGroup=vt.default,Ra.JTScrollerSettings=Ct.default,Ra.JTChannelPipeline=bt.default,Ra.JTFuturePipeline=Rt.default,Ra.JTLengthFixedPipeline=Mt.default,Ra.JTScheduledPipeline=Lt.default,Ra.JTBeginRunning=Nt.default,Ra.JTCreate=It.default,Ra.JTOptionTransition=Ot.default,Ra.JTOverRunning=Pt.default,Ra.JTPipelineTemplate=At.JTPipelineTemplate,Ra.JTTaskInfo=At.JTTaskInfo,Ra.JTProcedure=wt.default,Ra.JTRunning=Gt.default,Ra.JTSingleScheduledPipeline=Dt.default,Ra.JTOptionTask=kt.default,Ra.JTScheduledTaskPipeline=xt.default,Ra.JTTask=Bt.default,Ra.JTTaskFlow=Jt.default,Ra.JTTaskPipeline=Ft.default,Ra.JTChannelScrollerGroup=Ut.default,Ra.JTControlScrollerGroup=jt.default,Ra.JTEffectContainer=Vt.default,Ra.JTLayoutPoint=Ht.default,Ra.JTLineScroller=Wt.default,Ra.JTLineScrollerGroup=Yt.default,Ra.JTMixItemConfig=Kt.default,Ra.JTUnfixedLengthItemConfig=Xt.default,Ra.JTExpandScrollerInfo=Xt.JTExpandScrollerInfo,Ra.JT3ComboTask=zt.default,Ra.JT5ComboTask=qt.default,Ra.JTAfterRewardTask=Zt.default,Ra.JTBonusGameTask=Qt.default,Ra.JTChangeGameTask=$t.default,Ra.JTCombineOverTask=en.default,Ra.JTComboTask=tn.default,Ra.JTCommonRewardTask=nn.default,Ra.JTConvertPlayLines=on.default,Ra.JTDynamicCombineSplit=an.default,Ra.JTEliminateScoreTask=rn.default,Ra.JTFreeGameOverTask=sn.default,Ra.JTFreeGameRewardTask=ln.default,Ra.JTFullLineAniTask=cn.default,Ra.JTGlobalDisplayLines=un.default,Ra.JTJackPotGameTask=pn.default,Ra.JTLoopDisplayLines=hn.default,Ra.JTNewFreeGameTask=dn.default,Ra.JTParseTask=fn.default,Ra.JTPerformanceTask=mn.default,Ra.JTTrialGuide=gn.default,Ra.JTUpLevelTask=_n.default,Ra.JTLogger=yn.default,Ra.JTOddsUtils=Tn.default,Ra.JTLayerSortContainer=Sn.default,Ra.JTLayerSortMaskContainer=En.default,Ra.JTElementIdType=vn.default,Ra.JTLineDirection=Cn.default,Ra.JTLineMode=bn.default,Ra.JTLineRender=Rn.default,Ra.JTLineRenderUtils=Mn.default,Ra.JTLineType=Ln.default,Ra.JTProduct=Nn.default,Ra.JTRenderMode=In.default,Ra.JTScatterGridRender=On.default,Ra.JTScrollerLineParser=Pn.default,Ra.JTLineInfo=Pn.JTLineInfo,Ra.JTAdvanceSkinnable=An.default,Ra.JTAdvanceSkinnableGrid=wn.default,Ra.JTAdvanceSkinnableLine=Gn.default,Ra.JTRuntimeSkinnable=Dn.default,Ra.JTRuntimeSkinnableGrid=kn.default,Ra.JTRuntimeSkinnableLine=xn.default,Ra.JTSkinnable=Bn.default,Ra.FlashLight=Jn.default,Ra.JTSkinnableGridArtRender=Fn.default,Ra.JTSkinnableArtLineRender=Un.default,Ra.JTSkinnableFlashLightLineRender=jn.default,Ra.JTSkinnableGridRender=Vn.default,Ra.JTSkinnableLineButtonRender=Hn.default,Ra.JTSkinnableLineRender=Wn.default,Ra.JTSkinnableRuntimeArtGridRender=Yn.default,Ra.JTSkinnableRuntimeArtLineRender=Kn.default,Ra.JTSkinnableRuntimeGraphicLineRender=Xn.default,Ra.JTSkinnableRuntimeGraphicsSpriteMeshLineRender=zn.default,Ra.JTSkinnableRuntimeGridRender=qn.default,Ra.JTSkinnableRuntimeLineRender=Zn.default,Ra.JTSkinnableRuntimeMaskLineRender=Qn.default,Ra.JTSkinnableRuntimeOutGlowGraphicGridRender=$n.default,Ra.JTSkinnableRuntimeOutGlowGraphicLineRender=ei.default,Ra.JTSkinnableScaleGridRender=ti.default,Ra.JTSkinnableScaleLineRender=ni.default,Ra.JTAnomalyMask=ii.default,Ra.JTLineArtMask=oi.default,Ra.JTLineMask=ai.default,Ra.JTScrollerGroupMask=ri.default,Ra.JTBlackBackGround=si.default,Ra.JTDefaultItemRender=li.default,Ra.JTGLoader=ci.default,Ra.JTGLoaderAssetType=ci.JTGLoaderAssetType,Ra.resType=ci.resType,Ra.JTAdvanceTask=ui.default,Ra.JTChangeSpeedTask=pi.default,Ra.JTCombineTask=hi.default,Ra.JTCombineState=hi.JTCombineState,Ra.JTContainerMode=di.default,Ra.JTDynamicCombineTask=fi.default,Ra.JTDynamicWildTask=mi.default,Ra.JTOnceWildTask=gi.default,Ra.JTRetainWildTask=_i.JTRetainWildTask,Ra.JTRetainWildConfig=_i.JTRetainWildConfig,Ra.JTRuleTask=yi.default,Ra.JTRuleTaskManager=Ti.default,Ra.JTRuleTaskType=Si.default,Ra.JTScatterTask=Ei.default,Ra.JTTaskContainer=vi.default,Ra.JTWildTask=Ci.JTWildTask,Ra.JTWildInfo=Ci.JTWildInfo,Ra.JTWildConfig=Ci.JTWildConfig,Ra.JTWildTaskContainer=bi.default,Ra.JTEasing=Ri.default,Ra.JTEasingType=Ri.JTEasingType,Ra.JTOptionType=Mi.default,Ra.JTAnomalyPipeline=Li.default,Ra.JTBeginAnomaly=Ni.default,Ra.JTCreateAnomaly=Ii.default,Ra.JTOverAnomaly=Oi.default,Ra.JTRunAnomaly=Pi.default,Ra.JTBeginColumnMixScrolling=Ai.default,Ra.JTCreateColumnMixScrolling=wi.default,Ra.JTOverColumnMixScrolling=Gi.default,Ra.JTRunColumnMixScrolling=Di.default,Ra.JTScrollingColumnMixPipeline=ki.default,Ra.JTBeginElastic=xi.default,Ra.JTCreateElastic=Bi.default,Ra.JTElasticPipeline=Ji.default,Ra.JTOverElastic=Fi.default,Ra.JTSingleBeginElastic=Ui.default,Ra.JTSingleCreateElastic=ji.default,Ra.JTSingleElasticPipeline=Vi.default,Ra.JTSingleOverElastic=Hi.default,Ra.EliminateDisappearUtils=Wi.default,Ra.EliminateEffectUtils=Yi.default,Ra.JTBeginEliminate=Ki.default,Ra.JTBeginEliminateDisppear=Xi.default,Ra.JTCreateEliminate=zi.default,Ra.JTEliminatePipeline=qi.default,Ra.JTEmptyBeginEliminate=Zi.default,Ra.JTOverEliminate=Qi.default,Ra.JTOverEliminateFallByRow=$i.default,Ra.JTRunEliminate=eo.default,Ra.JTRunEliminateFallAndDrop=to.default,Ra.JTRunEliminateFallByRow=no.default,Ra.JTBeginIrregular=io.default,Ra.JTCreateIrregular=oo.default,Ra.JTIrregularPipeline=ao.default,Ra.JTOverIrregular=ro.default,Ra.JTRunIrregular=so.default,Ra.JTBeginLouver=lo.default,Ra.JTCreateLouver=co.default,Ra.JTLouverPipeline=uo.default,Ra.JTOverLouver=po.default,Ra.JTSingleBeginLouver=ho.default,Ra.JTSingleCreateLouver=fo.default,Ra.JTSingleLouverPipeline=mo.default,Ra.JTSingleOverLouver=go.default,Ra.JTBeginMixScrolling=_o.default,Ra.JTCreateMixScrolling=yo.default,Ra.JTOverMixScrolling=To.default,Ra.JTRunMixScrolling=So.default,Ra.JTScrollingMixPipeline=Eo.default,Ra.JTScrollingMixPipelinePlugin=vo.default,Ra.JTAdvanceBeginScrolling=Co.default,Ra.JTBeginScrolling=bo.default,Ra.JTCreateScrolling=Ro.default,Ra.JTEmptyBeginScrolling=Mo.default,Ra.JTOverScrollEliminate=Lo.default,Ra.JTOverScrollEliminateFallByRow=No.default,Ra.JTOverScrolling=Io.default,Ra.JTRunScrolling=Oo.default,Ra.JTScrollingPipeline=Po.default,Ra.JTBeginUnfixedLength=Ao.default,Ra.JTCreateUnfixedLength=wo.default,Ra.JTOverUnfixedLength=Go.default,Ra.JTRunUnfixedLength=Do.default,Ra.JTUnfixedLengthPipeline=ko.default,Ra.GameEventNames=xo.GameEventNames,Ra.DataConstant=Bo.default,Ra.DataElement=Jo.default,Ra.DataFreeLines=Fo.default,Ra.DataFreeRoller=Uo.default,Ra.DataGame=jo.default,Ra.DataGameFreeLines=Vo.default,Ra.DataPayLine=Ho.default,Ra.DataRoller=Wo.default,Ra.DataSlotRandomGrid=Yo.default,Ra.LineType=Ko.LineType,Ra.RollingResult=Xo.default,Ra.SDictionary=zo.SDictionary,Ra.BonusGameInfo=qo.default,Ra.FreeGameInfo=Zo.default,Ra.GameConfig=Qo.default,Ra.globalTaskFlags=$o.globalTaskFlags,Ra.SlotOrientation=ea.SlotOrientation,Ra.DrawLineType=ea.DrawLineType,Ra.WinJPPoolInjectPoint=ea.WinJPPoolInjectPoint,Ra.SoundAssetsConfig=ea.SoundAssetsConfig,Ra.WinType=ea.WinType,Ra.RollingDirection=ea.RollingDirection,Ra.OperationState=ea.OperationState,Ra.RewardsType=ea.RewardsType,Ra.GameMode=ea.GameMode,Ra.BonusGameManager=ta.default,Ra.FreeGameManager=na.default,Ra.GlobalQueueManager=ia.default,Ra.JackPotGameManager=oa.default,Ra.MultipleGameManager=aa.default,Ra.PlayerManager=ra.default,Ra.SlotConfigManager=sa.default,Ra.SlotGameManager=la.default,Ra.SlotTimeManager=ca.default,Ra.TimeHander=ca.TimeHander,Ra.SpinManager=ua.default,Ra.GameType=ua.GameType,Ra.Handler=pa.Handler,Ra.SlotUtils=ha.default,Ra.SoundMger=da.SoundMger,Ra.TurnCoinView=fa.default,Ra.IMaterialTypeTurnCoinView=fa.IMaterialTypeTurnCoinView,Ra.TopUi=ma.default,Ra.TurnSetting=ga.default,Ra.BalanceUIAnimation=_a.BalanceUIAnimation,Ra.BetUIAnimation=ya.BetUIAnimation,Ra.CompensateUIAnimation=Ta.CompensateUIAnimation,Ra.FadeUIAnimation=Sa.FadeUIAnimation,Ra.RuleUIAnimation=Ea.RuleUIAnimation,Ra.TurnSettingUIAnimation=va.TurnSettingUIAnimation,Ra.UIUtil=Ca.UIUtil,Ra.WinAniManager=ba.default,window.slot=Ra,cc._RF.pop()},{"../banner/SlotBanner":"SlotBanner","../check/script/BuySpinSlot":"BuySpinSlot","../check/script/HashSlot":"HashSlot","../check/script/TurnCoinSlot":"TurnCoinSlot","../common/scripts/FixedScrollView":"FixedScrollView","../common/scripts/LoadingTip":"LoadingTip","../common/scripts/SPopupPrompt":"SPopupPrompt","../compensateTable/script/CompensateControl":"CompensateControl","../gameControl/script/ButtonColor":"ButtonColor","../gameControl/script/GameControlBase":"GameControlBase","../gameControl/script/PlayBtnBase":"PlayBtnBase","../main/script/CommonConst":"CommonConst","../main/script/LoadingView":"LoadingView","../main/script/MainView":"MainView","../main/script/RemoteLoading":"RemoteLoading","../main/script/RotationTip":"RotationTip","../main/script/SlotInit":"SlotInit","../menu/script/Menu":"Menu","../menu/script/MyButton":"MyButton","../menu/script/MyGrayMaterial":"MyGrayMaterial","../rule/script/RuleView":"RuleView","../score/script/BetView":"BetView","../score/script/ScoreBalance":"ScoreBalance","../score/script/ScoreBase":"ScoreBase","../score/script/ScoreItem":"ScoreItem","../score/script/ScoresBetAmount":"ScoresBetAmount","../score/script/ScoresBetLevel":"ScoresBetLevel","../score/script/ScoresBetSize":"ScoresBetSize","../slotMachine/script/MainView/AbstractMainView":"AbstractMainView","../slotMachine/script/MainView/SpinSlotView":"SpinSlotView","../slotMachine/script/Scroller/JTLogicFactroy":"JTLogicFactroy","../slotMachine/script/Scroller/JTPGGlobalDisplayLines":"JTPGGlobalDisplayLines","../slotMachine/script/Scroller/JTPGScrollerGroup":"JTPGScrollerGroup","../slotMachine/script/Scroller/JTSkinnableRuntimeLineAnimationRender":"JTSkinnableRuntimeLineAnimationRender","../slotMachine/script/Scroller/LineAnimation":"LineAnimation","../slotMachine/script/Scroller/LineAnimationManager":"LineAnimationManager","../slotMachine/script/Scroller/ReplaceFactory":"ReplaceFactory","../slotMachine/script/Scroller/SpinElementView":"SpinElementView","../slot_common/autoTest/SlotAutoTestConf":"SlotAutoTestConf","../slot_common/buySpin/script/BuyFreeBtnBase":"BuyFreeBtnBase","../slot_common/buySpin/script/BuySpinView":"BuySpinView","../slot_common/check/script/HashCiphertextSlot":"HashCiphertextSlot","../slot_common/check/script/HashEntranceSlot":"HashEntranceSlot","../slot_common/check/script/HashTimestampSlot":"HashTimestampSlot","../slot_common/common/component/AnimationExtend":"AnimationExtend","../slot_common/common/component/CommonNumAtlasBase":"CommonNumAtlasBase","../slot_common/common/component/CustomButton":"CustomButton","../slot_common/common/component/CustomButtonExtendLang":"CustomButtonExtendLang","../slot_common/common/component/FluxayTexture":"FluxayTexture","../slot_common/common/component/MultiDragonBonesAtlasAssets":"MultiDragonBonesAtlasAssets","../slot_common/common/component/MultiPSRandomRefreshTool":"MultiPSRandomRefreshTool","../slot_common/common/component/ParticleSystemSpriteFramesRefresh":"ParticleSystemSpriteFramesRefresh","../slot_common/common/component/SlotListView":"SlotListView","../slot_common/common/component/SlotMController":"SlotMController","../slot_common/common/component/SlotMoveDirect":"SlotMoveDirect","../slot_common/common/component/SlotNodeUiConfig":"SlotNodeUiConfig","../slot_common/common/component/SlotSliderFix":"SlotSliderFix","../slot_common/common/enum/CommonEnum":"CommonEnum","../slot_common/common/layer/LayerManage":"LayerManage","../slot_common/common/utils/GData":"GData","../slot_common/common/utils/Layout":"Layout","../slot_common/common/utils/LayoutEx":"LayoutEx","../slot_common/common/utils/Marqueen":"Marqueen","../slot_common/common/utils/Property":"Property","../slot_common/common/utils/ReplaceSkeletonTex":"ReplaceSkeletonTex","../slot_common/jackPot/script/JPGameCommon":"JPGameCommon","../slot_common/jackPot/script/JackPotGameCommon":"JackPotGameCommon","../slot_common/jackPot/script/JackPotShowCommon":"JackPotShowCommon","../slot_common/labelShader/script/LabelShader1":"LabelShader1","../slot_common/language/script/LanguageAnimation":"LanguageAnimation","../slot_common/language/script/LanguageCreate":"LanguageCreate","../slot_common/language/script/LanguageDragonBones":"LanguageDragonBones","../slot_common/language/script/LanguageInfoBase":"LanguageInfoBase","../slot_common/language/script/LanguageRecordSlot":"LanguageRecordSlot","../slot_common/language/script/LanguageSkeleton":"LanguageSkeleton","../slot_common/language/script/LanguangeCompSlot":"LanguangeCompSlot","../slot_common/language/script/LanguangeHashSlot":"LanguangeHashSlot","../slot_common/main/BaseView":"BaseView","../slot_common/main/EntranceView":"EntranceView","../slot_common/main/EntranceViewBase":"EntranceViewBase","../slot_common/main/JackPotBase":"JackPotBase","../slot_common/network/NetSlotConst":"NetSlotConst","../slot_common/network/SlotProtoManager":"SlotProtoManager","../slot_common/otherBetType/OtherBetType":"OtherBetType","../slot_common/settlementAni/script/SettlementAni":"SettlementAni","../slot_common/shadow/script/MathUtil":"MathUtil","../slot_common/shadow/script/NodePool":"NodePool","../slot_common/shadow/script/ObjectPool":"ObjectPool","../slot_common/shadow/script/Shadow":"Shadow","../slot_common/shadow/script/ShadowFollow":"ShadowFollow","../slot_common/shadow/script/Timer":"Timer","../slot_common/slotMachine/script/MainView/AbstractBonusGameView":"AbstractBonusGameView","../slot_common/slotMachine/script/MainView/BaseSpinSlotView":"BaseSpinSlotView","../slot_common/slotMachine/script/MainView/CommonMainView":"CommonMainView","../slot_common/slotMachine/script/MainView/FreeGameRatioReward":"FreeGameRatioReward","../slot_common/slotMachine/script/MainView/SlotMachineView":"SlotMachineView","../slot_common/slotMachine/script/MainView/SpinElementManager":"SpinElementManager","../slot_common/slotMachine/script/Scroller/JTLogger":"JTLogger","../slot_common/slotMachine/script/Scroller/JTOddsUtils":"JTOddsUtils","../slot_common/slotMachine/script/Scroller/com/JTConfigGroup":"JTConfigGroup","../slot_common/slotMachine/script/Scroller/com/JTScroller":"JTScroller","../slot_common/slotMachine/script/Scroller/com/JTScrollerGroup":"JTScrollerGroup","../slot_common/slotMachine/script/Scroller/com/JTScrollerSettings":"JTScrollerSettings","../slot_common/slotMachine/script/Scroller/com/base/JTContainer":"JTContainer","../slot_common/slotMachine/script/Scroller/com/base/JTGComponent":"JTGComponent","../slot_common/slotMachine/script/Scroller/com/base/JTGraphics":"JTGraphics","../slot_common/slotMachine/script/Scroller/com/base/JTGraphicsSpriteMesh":"JTGraphicsSpriteMesh","../slot_common/slotMachine/script/Scroller/com/base/JTGroup":"JTGroup","../slot_common/slotMachine/script/Scroller/com/base/JTImage":"JTImage","../slot_common/slotMachine/script/Scroller/com/base/JTItemRender":"JTItemRender","../slot_common/slotMachine/script/Scroller/com/base/JTItemSkinLoader":"JTItemSkinLoader","../slot_common/slotMachine/script/Scroller/com/base/JTMask":"JTMask","../slot_common/slotMachine/script/Scroller/com/base/JTSprite":"JTSprite","../slot_common/slotMachine/script/Scroller/com/canvas/JTCanvasStyle":"JTCanvasStyle","../slot_common/slotMachine/script/Scroller/com/canvas/JTCanvasTools":"JTCanvasTools","../slot_common/slotMachine/script/Scroller/com/canvas/JTComputeUtils":"JTComputeUtils","../slot_common/slotMachine/script/Scroller/com/canvas/JTGrid":"JTGrid","../slot_common/slotMachine/script/Scroller/com/canvas/JTTextureBounds":"JTTextureBounds","../slot_common/slotMachine/script/Scroller/com/datas/JTArrayCollection":"JTArrayCollection","../slot_common/slotMachine/script/Scroller/com/datas/JTCollection":"JTCollection","../slot_common/slotMachine/script/Scroller/com/datas/JTDataInfo":"JTDataInfo","../slot_common/slotMachine/script/Scroller/com/datas/JTElementArrayList":"JTElementArrayList","../slot_common/slotMachine/script/Scroller/com/datas/JTElementCollection":"JTElementCollection","../slot_common/slotMachine/script/Scroller/com/datas/JTElementData":"JTElementData","../slot_common/slotMachine/script/Scroller/com/datas/JTRollerData":"JTRollerData","../slot_common/slotMachine/script/Scroller/com/factorys/JTBaseLogicFactroy":"JTBaseLogicFactroy","../slot_common/slotMachine/script/Scroller/com/factorys/JTChildFactory":"JTChildFactory","../slot_common/slotMachine/script/Scroller/com/factorys/JTFactory":"JTFactory","../slot_common/slotMachine/script/Scroller/com/factorys/JTFactoryManager":"JTFactoryManager","../slot_common/slotMachine/script/Scroller/com/factorys/JTLayerFactory":"JTLayerFactory","../slot_common/slotMachine/script/Scroller/com/factorys/JTModelFactory":"JTModelFactory","../slot_common/slotMachine/script/Scroller/com/plugins/JTChannelPipeline":"JTChannelPipeline","../slot_common/slotMachine/script/Scroller/com/plugins/JTFuturePipeline":"JTFuturePipeline","../slot_common/slotMachine/script/Scroller/com/plugins/JTLengthFixedPipeline":"JTLengthFixedPipeline","../slot_common/slotMachine/script/Scroller/com/plugins/JTScheduledPipeline":"JTScheduledPipeline","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTBeginRunning":"JTBeginRunning","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTCreate":"JTCreate","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTOptionTransition":"JTOptionTransition","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTOverRunning":"JTOverRunning","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTPipelineTemplate":"JTPipelineTemplate","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTProcedure":"JTProcedure","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTRunning":"JTRunning","../slot_common/slotMachine/script/Scroller/com/plugins/procedure/JTSingleScheduledPipeline":"JTSingleScheduledPipeline","../slot_common/slotMachine/script/Scroller/com/tasks/JTOptionTask":"JTOptionTask","../slot_common/slotMachine/script/Scroller/com/tasks/JTScheduledTaskPipeline":"JTScheduledTaskPipeline","../slot_common/slotMachine/script/Scroller/com/tasks/JTTask":"JTTask","../slot_common/slotMachine/script/Scroller/com/tasks/JTTaskFlow":"JTTaskFlow","../slot_common/slotMachine/script/Scroller/com/tasks/JTTaskPipeline":"JTTaskPipeline","../slot_common/slotMachine/script/Scroller/extensions/JTChannelScrollerGroup":"JTChannelScrollerGroup","../slot_common/slotMachine/script/Scroller/extensions/JTControlScrollerGroup":"JTControlScrollerGroup","../slot_common/slotMachine/script/Scroller/extensions/JTEffectContainer":"JTEffectContainer","../slot_common/slotMachine/script/Scroller/extensions/JTLayoutPoint":"JTLayoutPoint","../slot_common/slotMachine/script/Scroller/extensions/JTLineScroller":"JTLineScroller","../slot_common/slotMachine/script/Scroller/extensions/JTLineScrollerGroup":"JTLineScrollerGroup","../slot_common/slotMachine/script/Scroller/extensions/JTMixItemConfig":"JTMixItemConfig","../slot_common/slotMachine/script/Scroller/extensions/JTUnfixedLengthItemConfig":"JTUnfixedLengthItemConfig","../slot_common/slotMachine/script/Scroller/flows/JT3ComboTask":"JT3ComboTask","../slot_common/slotMachine/script/Scroller/flows/JT5ComboTask":"JT5ComboTask","../slot_common/slotMachine/script/Scroller/flows/JTAfterRewardTask":"JTAfterRewardTask","../slot_common/slotMachine/script/Scroller/flows/JTBonusGameTask":"JTBonusGameTask","../slot_common/slotMachine/script/Scroller/flows/JTChangeGameTask":"JTChangeGameTask","../slot_common/slotMachine/script/Scroller/flows/JTCombineOverTask":"JTCombineOverTask","../slot_common/slotMachine/script/Scroller/flows/JTComboTask":"JTComboTask","../slot_common/slotMachine/script/Scroller/flows/JTCommonRewardTask":"JTCommonRewardTask","../slot_common/slotMachine/script/Scroller/flows/JTConvertPlayLines":"JTConvertPlayLines","../slot_common/slotMachine/script/Scroller/flows/JTDynamicCombineSplit":"JTDynamicCombineSplit","../slot_common/slotMachine/script/Scroller/flows/JTEliminateScoreTask":"JTEliminateScoreTask","../slot_common/slotMachine/script/Scroller/flows/JTFreeGameOverTask ":"JTFreeGameOverTask ","../slot_common/slotMachine/script/Scroller/flows/JTFreeGameRewardTask":"JTFreeGameRewardTask","../slot_common/slotMachine/script/Scroller/flows/JTFullLineAniTask":"JTFullLineAniTask","../slot_common/slotMachine/script/Scroller/flows/JTGlobalDisplayLines":"JTGlobalDisplayLines","../slot_common/slotMachine/script/Scroller/flows/JTJackPotGameTask":"JTJackPotGameTask","../slot_common/slotMachine/script/Scroller/flows/JTLoopDisplayLines":"JTLoopDisplayLines","../slot_common/slotMachine/script/Scroller/flows/JTNewFreeGameTask":"JTNewFreeGameTask","../slot_common/slotMachine/script/Scroller/flows/JTParseTask":"JTParseTask","../slot_common/slotMachine/script/Scroller/flows/JTPerformanceTask":"JTPerformanceTask","../slot_common/slotMachine/script/Scroller/flows/JTTrialGuide":"JTTrialGuide","../slot_common/slotMachine/script/Scroller/flows/JTUpLevelTask":"JTUpLevelTask","../slot_common/slotMachine/script/Scroller/layerSort/JTLayerSortContainer":"JTLayerSortContainer","../slot_common/slotMachine/script/Scroller/layerSort/JTLayerSortMaskContainer":"JTLayerSortMaskContainer","../slot_common/slotMachine/script/Scroller/lines/JTElementIdType":"JTElementIdType","../slot_common/slotMachine/script/Scroller/lines/JTLineDirection":"JTLineDirection","../slot_common/slotMachine/script/Scroller/lines/JTLineMode":"JTLineMode","../slot_common/slotMachine/script/Scroller/lines/JTLineRender":"JTLineRender","../slot_common/slotMachine/script/Scroller/lines/JTLineRenderUtils":"JTLineRenderUtils","../slot_common/slotMachine/script/Scroller/lines/JTLineType":"JTLineType","../slot_common/slotMachine/script/Scroller/lines/JTProduct":"JTProduct","../slot_common/slotMachine/script/Scroller/lines/JTRenderMode":"JTRenderMode","../slot_common/slotMachine/script/Scroller/lines/JTScatterGridRender":"JTScatterGridRender","../slot_common/slotMachine/script/Scroller/lines/JTScrollerLineParser":"JTScrollerLineParser","../slot_common/slotMachine/script/Scroller/lines/skinnables/FlashLight":"FlashLight","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableArtGridRender":"JTSkinnableArtGridRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableArtLineRender":"JTSkinnableArtLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableFlashLightLineRender":"JTSkinnableFlashLightLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableGridRender":"JTSkinnableGridRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableLineButtonRender":"JTSkinnableLineButtonRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableLineRender":"JTSkinnableLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeArtGridRender":"JTSkinnableRuntimeArtGridRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeArtLineRender":"JTSkinnableRuntimeArtLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeGraphicLineRender":"JTSkinnableRuntimeGraphicLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeGraphicsSpriteMeshLineRender":"JTSkinnableRuntimeGraphicsSpriteMeshLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeGridRender":"JTSkinnableRuntimeGridRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeLineRender":"JTSkinnableRuntimeLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeMaskLineRender":"JTSkinnableRuntimeMaskLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeOutGlowGraphicGridRender":"JTSkinnableRuntimeOutGlowGraphicGridRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableRuntimeOutGlowGraphicLineRender":"JTSkinnableRuntimeOutGlowGraphicLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableScaleGridRender":"JTSkinnableScaleGridRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/JTSkinnableScaleLineRender":"JTSkinnableScaleLineRender","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTAdvanceSkinnable":"JTAdvanceSkinnable","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTAdvanceSkinnableGrid":"JTAdvanceSkinnableGrid","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTAdvanceSkinnableLine":"JTAdvanceSkinnableLine","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnable":"JTRuntimeSkinnable","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnableGrid":"JTRuntimeSkinnableGrid","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTRuntimeSkinnableLine":"JTRuntimeSkinnableLine","../slot_common/slotMachine/script/Scroller/lines/skinnables/base/JTSkinnable":"JTSkinnable","../slot_common/slotMachine/script/Scroller/masks/JTAnomalyMask":"JTAnomalyMask","../slot_common/slotMachine/script/Scroller/masks/JTLineArtMask":"JTLineArtMask","../slot_common/slotMachine/script/Scroller/masks/JTLineMask":"JTLineMask","../slot_common/slotMachine/script/Scroller/masks/JTScrollerGroupMask":"JTScrollerGroupMask","../slot_common/slotMachine/script/Scroller/renders/JTBlackBackGround":"JTBlackBackGround","../slot_common/slotMachine/script/Scroller/renders/JTDefaultItemRender":"JTDefaultItemRender","../slot_common/slotMachine/script/Scroller/renders/JTGLoader":"JTGLoader","../slot_common/slotMachine/script/Scroller/rules/JTAdvanceTask":"JTAdvanceTask","../slot_common/slotMachine/script/Scroller/rules/JTChangeSpeedTask":"JTChangeSpeedTask","../slot_common/slotMachine/script/Scroller/rules/JTCombineTask":"JTCombineTask","../slot_common/slotMachine/script/Scroller/rules/JTContainerMode":"JTContainerMode","../slot_common/slotMachine/script/Scroller/rules/JTDynamicCombineTask":"JTDynamicCombineTask","../slot_common/slotMachine/script/Scroller/rules/JTDynamicWildTask":"JTDynamicWildTask","../slot_common/slotMachine/script/Scroller/rules/JTOnceWildTask":"JTOnceWildTask","../slot_common/slotMachine/script/Scroller/rules/JTRetainWildTask":"JTRetainWildTask","../slot_common/slotMachine/script/Scroller/rules/JTRuleTask":"JTRuleTask","../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskManager":"JTRuleTaskManager","../slot_common/slotMachine/script/Scroller/rules/JTRuleTaskType":"JTRuleTaskType","../slot_common/slotMachine/script/Scroller/rules/JTScatterTask":"JTScatterTask","../slot_common/slotMachine/script/Scroller/rules/JTTaskContainer":"JTTaskContainer","../slot_common/slotMachine/script/Scroller/rules/JTWildTask":"JTWildTask","../slot_common/slotMachine/script/Scroller/rules/JTWildTaskContainer":"JTWildTaskContainer","../slot_common/slotMachine/script/Scroller/transitions/JTEasing":"JTEasing","../slot_common/slotMachine/script/Scroller/transitions/JTOptionType":"JTOptionType","../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTAnomalyPipeline":"JTAnomalyPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTBeginAnomaly":"JTBeginAnomaly","../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTCreateAnomaly":"JTCreateAnomaly","../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTOverAnomaly":"JTOverAnomaly","../slot_common/slotMachine/script/Scroller/transitions/procedure/anomaly/JTRunAnomaly":"JTRunAnomaly","../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTBeginColumnMixScrolling":"JTBeginColumnMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTCreateColumnMixScrolling":"JTCreateColumnMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTOverColumnMixScrolling":"JTOverColumnMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTRunColumnMixScrolling":"JTRunColumnMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/columnmix/JTScrollingColumnMixPipeline":"JTScrollingColumnMixPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTBeginElastic":"JTBeginElastic","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTCreateElastic":"JTCreateElastic","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTElasticPipeline":"JTElasticPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTOverElastic":"JTOverElastic","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleBeginElastic":"JTSingleBeginElastic","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleCreateElastic":"JTSingleCreateElastic","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleElasticPipeline":"JTSingleElasticPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/elastic/JTSingleOverElastic":"JTSingleOverElastic","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/EliminateDisappearUtils":"EliminateDisappearUtils","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/EliminateEffectUtils":"EliminateEffectUtils","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTBeginEliminate":"JTBeginEliminate","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTBeginEliminateDisppear":"JTBeginEliminateDisppear","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTCreateEliminate":"JTCreateEliminate","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTEliminatePipeline":"JTEliminatePipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTEmptyBeginEliminate":"JTEmptyBeginEliminate","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTOverEliminate":"JTOverEliminate","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTOverEliminateFallByRow":"JTOverEliminateFallByRow","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTRunEliminate":"JTRunEliminate","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTRunEliminateFallAndDrop":"JTRunEliminateFallAndDrop","../slot_common/slotMachine/script/Scroller/transitions/procedure/eliminate/JTRunEliminateFallByRow":"JTRunEliminateFallByRow","../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTBeginIrregular":"JTBeginIrregular","../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTCreateIrregular":"JTCreateIrregular","../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTIrregularPipeline":"JTIrregularPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTOverIrregular":"JTOverIrregular","../slot_common/slotMachine/script/Scroller/transitions/procedure/irregular/JTRunIrregular":"JTRunIrregular","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTBeginLouver":"JTBeginLouver","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTCreateLouver":"JTCreateLouver","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTLouverPipeline":"JTLouverPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTOverLouver":"JTOverLouver","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleBeginLouver":"JTSingleBeginLouver","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleCreateLouver":"JTSingleCreateLouver","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleLouverPipeline":"JTSingleLouverPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/louver/JTSingleOverLouver":"JTSingleOverLouver","../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTBeginMixScrolling":"JTBeginMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTCreateMixScrolling":"JTCreateMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTOverMixScrolling":"JTOverMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTRunMixScrolling":"JTRunMixScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTScrollingMixPipeline":"JTScrollingMixPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/mix/JTScrollingMixPipelinePlugin":"JTScrollingMixPipelinePlugin","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTAdvanceBeginScrolling":"JTAdvanceBeginScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTBeginScrolling":"JTBeginScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTCreateScrolling":"JTCreateScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTEmptyBeginScrolling":"JTEmptyBeginScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTOverScrollEliminate":"JTOverScrollEliminate","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTOverScrollEliminateFallByRow":"JTOverScrollEliminateFallByRow","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTOverScrolling":"JTOverScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTRunScrolling":"JTRunScrolling","../slot_common/slotMachine/script/Scroller/transitions/procedure/scrolling/JTScrollingPipeline":"JTScrollingPipeline","../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTBeginUnfixedLength":"JTBeginUnfixedLength","../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTCreateUnfixedLength":"JTCreateUnfixedLength","../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTOverUnfixedLength":"JTOverUnfixedLength","../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTRunUnfixedLength":"JTRunUnfixedLength","../slot_common/slotMachine/script/Scroller/transitions/procedure/unfixedLength/JTUnfixedLengthPipeline":"JTUnfixedLengthPipeline","../slot_common/slotMachine/script/SlotConfigs/GameEventNames":"GameEventNames","../slot_common/slotMachine/script/SlotData/DataConstant":"DataConstant","../slot_common/slotMachine/script/SlotData/DataElement":"DataElement","../slot_common/slotMachine/script/SlotData/DataFreeLines":"DataFreeLines","../slot_common/slotMachine/script/SlotData/DataFreeRoller":"DataFreeRoller","../slot_common/slotMachine/script/SlotData/DataGame":"DataGame","../slot_common/slotMachine/script/SlotData/DataGameFreeLines":"DataGameFreeLines","../slot_common/slotMachine/script/SlotData/DataPayLine":"DataPayLine","../slot_common/slotMachine/script/SlotData/DataRoller":"DataRoller","../slot_common/slotMachine/script/SlotData/DataSlotRandomGrid":"DataSlotRandomGrid","../slot_common/slotMachine/script/SlotData/LineType":"LineType","../slot_common/slotMachine/script/SlotData/RollingResult":"RollingResult","../slot_common/slotMachine/script/SlotData/SDictionary":"SDictionary","../slot_common/slotMachine/script/SlotDefinitions/BonusGameInfo":"BonusGameInfo","../slot_common/slotMachine/script/SlotDefinitions/FreeGameInfo":"FreeGameInfo","../slot_common/slotMachine/script/SlotDefinitions/GameConfig":"GameConfig","../slot_common/slotMachine/script/SlotDefinitions/SlotEnum":"SlotEnum","../slot_common/slotMachine/script/SlotDefinitions/globalTaskFlags":"globalTaskFlags","../slot_common/slotMachine/script/SlotManager/BonusGameManager":"BonusGameManager","../slot_common/slotMachine/script/SlotManager/FreeGameManager":"FreeGameManager","../slot_common/slotMachine/script/SlotManager/GlobalQueueManager":"GlobalQueueManager","../slot_common/slotMachine/script/SlotManager/JackPotGameManager":"JackPotGameManager","../slot_common/slotMachine/script/SlotManager/MultipleGameManager":"MultipleGameManager","../slot_common/slotMachine/script/SlotManager/PlayerManager":"PlayerManager","../slot_common/slotMachine/script/SlotManager/SlotConfigManager":"SlotConfigManager","../slot_common/slotMachine/script/SlotManager/SlotGameManager":"SlotGameManager","../slot_common/slotMachine/script/SlotManager/SlotTimeManager":"SlotTimeManager","../slot_common/slotMachine/script/SlotManager/SpinManager":"SpinManager","../slot_common/slotMachine/script/SlotUtils/Handle":"Handle","../slot_common/slotMachine/script/SlotUtils/SlotUtils":"SlotUtils","../slot_common/sound/script/SoundMger":"SoundMger","../slot_common/turnCoin/script/TurnCoinView":"TurnCoinView","../topUi/scripts/TopUi":"TopUi","../turnSetting/script/TurnSetting":"TurnSetting","../uiAnimation/BalanceUIAnimation":"BalanceUIAnimation","../uiAnimation/BetUIAnimation":"BetUIAnimation","../uiAnimation/CompensateUIAnimation":"CompensateUIAnimation","../uiAnimation/FadeUIAnimation":"FadeUIAnimation","../uiAnimation/RuleUIAnimation":"RuleUIAnimation","../uiAnimation/TurnSettingUIAnimation":"TurnSettingUIAnimation","../util/UIUtil":"UIUtil","../winAnimations/script/WinAniManager":"WinAniManager"}]},{},["SlotBanner","BuySpinSlot","HashSlot","TurnCoinSlot","FixedScrollView","LoadingTip","SPopupPrompt","CompensateControl","ButtonColor","GameControlBase","PlayBtnBase","CommonConst","LoadingView","MainView","RemoteLoading","RotationTip","SlotInit","Menu","MyButton","MyGrayMaterial","RuleView","BetView","ScoreBalance","ScoreBase","ScoreItem","ScoresBetAmount","ScoresBetLevel","ScoresBetSize","slot","AbstractMainView","SpinSlotView","JTLogicFactroy","JTPGGlobalDisplayLines","JTPGScrollerGroup","JTSkinnableRuntimeLineAnimationRender","LineAnimation","LineAnimationManager","ReplaceFactory","SpinElementView","SlotAutoTestConf","BuyFreeBtnBase","BuySpinView","HashCiphertextSlot","HashEntranceSlot","HashTimestampSlot","AnimationExtend","CommonNumAtlasBase","CustomButton","CustomButtonExtendLang","FluxayTexture","MultiDragonBonesAtlasAssets","MultiPSRandomRefreshTool","ParticleSystemSpriteFramesRefresh","SlotListView","SlotMController","SlotMoveDirect","SlotNodeUiConfig","SlotSliderFix","CommonEnum","LayerManage","GData","Layout","LayoutEx","Marqueen","Property","ReplaceSkeletonTex","JPGameCommon","JackPotGameCommon","JackPotShowCommon","LabelShader1","LanguageAnimation","LanguageCreate","LanguageDragonBones","LanguageInfoBase","LanguageRecordSlot","LanguageSkeleton","LanguangeCompSlot","LanguangeHashSlot","BaseView","EntranceView","EntranceViewBase","JackPotBase","NetSlotConst","SlotProtoManager","OtherBetType","SettlementAni","MathUtil","NodePool","ObjectPool","Shadow","ShadowFollow","Timer","AbstractBonusGameView","BaseSpinSlotView","CommonMainView","FreeGameRatioReward","SlotMachineView","SpinElementManager","JTLogger","JTOddsUtils","JTConfigGroup","JTScroller","JTScrollerGroup","JTScrollerSettings","JTContainer","JTGComponent","JTGraphics","JTGraphicsSpriteMesh","JTGroup","JTImage","JTItemRender","JTItemSkinLoader","JTMask","JTSprite","JTCanvasStyle","JTCanvasTools","JTComputeUtils","JTGrid","JTTextureBounds","JTArrayCollection","JTCollection","JTDataInfo","JTElementArrayList","JTElementCollection","JTElementData","JTRollerData","JTBaseLogicFactroy","JTChildFactory","JTFactory","JTFactoryManager","JTLayerFactory","JTModelFactory","JTChannelPipeline","JTFuturePipeline","JTLengthFixedPipeline","JTScheduledPipeline","JTBeginRunning","JTCreate","JTOptionTransition","JTOverRunning","JTPipelineTemplate","JTProcedure","JTRunning","JTSingleScheduledPipeline","JTOptionTask","JTScheduledTaskPipeline","JTTask","JTTaskFlow","JTTaskPipeline","JTChannelScrollerGroup","JTControlScrollerGroup","JTEffectContainer","JTLayoutPoint","JTLineScroller","JTLineScrollerGroup","JTMixItemConfig","JTUnfixedLengthItemConfig","JT3ComboTask","JT5ComboTask","JTAfterRewardTask","JTBonusGameTask","JTChangeGameTask","JTCombineOverTask","JTComboTask","JTCommonRewardTask","JTConvertPlayLines","JTDynamicCombineSplit","JTEliminateScoreTask","JTFreeGameOverTask ","JTFreeGameRewardTask","JTFullLineAniTask","JTGlobalDisplayLines","JTJackPotGameTask","JTLoopDisplayLines","JTNewFreeGameTask","JTParseTask","JTPerformanceTask","JTTrialGuide","JTUpLevelTask","JTLayerSortContainer","JTLayerSortMaskContainer","JTElementIdType","JTLineDirection","JTLineMode","JTLineRender","JTLineRenderUtils","JTLineType","JTProduct","JTRenderMode","JTScatterGridRender","JTScrollerLineParser","FlashLight","JTSkinnableArtGridRender","JTSkinnableArtLineRender","JTSkinnableFlashLightLineRender","JTSkinnableGridRender","JTSkinnableLineButtonRender","JTSkinnableLineRender","JTSkinnableRuntimeArtGridRender","JTSkinnableRuntimeArtLineRender","JTSkinnableRuntimeGraphicLineRender","JTSkinnableRuntimeGraphicsSpriteMeshLineRender","JTSkinnableRuntimeGridRender","JTSkinnableRuntimeLineRender","JTSkinnableRuntimeMaskLineRender","JTSkinnableRuntimeOutGlowGraphicGridRender","JTSkinnableRuntimeOutGlowGraphicLineRender","JTSkinnableScaleGridRender","JTSkinnableScaleLineRender","JTAdvanceSkinnable","JTAdvanceSkinnableGrid","JTAdvanceSkinnableLine","JTRuntimeSkinnable","JTRuntimeSkinnableGrid","JTRuntimeSkinnableLine","JTSkinnable","JTAnomalyMask","JTLineArtMask","JTLineMask","JTScrollerGroupMask","JTBlackBackGround","JTDefaultItemRender","JTGLoader","JTAdvanceTask","JTChangeSpeedTask","JTCombineTask","JTContainerMode","JTDynamicCombineTask","JTDynamicWildTask","JTOnceWildTask","JTRetainWildTask","JTRuleTask","JTRuleTaskManager","JTRuleTaskType","JTScatterTask","JTTaskContainer","JTWildTask","JTWildTaskContainer","JTEasing","JTOptionType","JTAnomalyPipeline","JTBeginAnomaly","JTCreateAnomaly","JTOverAnomaly","JTRunAnomaly","JTBeginColumnMixScrolling","JTCreateColumnMixScrolling","JTOverColumnMixScrolling","JTRunColumnMixScrolling","JTScrollingColumnMixPipeline","JTBeginElastic","JTCreateElastic","JTElasticPipeline","JTOverElastic","JTSingleBeginElastic","JTSingleCreateElastic","JTSingleElasticPipeline","JTSingleOverElastic","EliminateDisappearUtils","EliminateEffectUtils","JTBeginEliminate","JTBeginEliminateDisppear","JTCreateEliminate","JTEliminatePipeline","JTEmptyBeginEliminate","JTOverEliminate","JTOverEliminateFallByRow","JTRunEliminate","JTRunEliminateFallAndDrop","JTRunEliminateFallByRow","JTBeginIrregular","JTCreateIrregular","JTIrregularPipeline","JTOverIrregular","JTRunIrregular","JTBeginLouver","JTCreateLouver","JTLouverPipeline","JTOverLouver","JTSingleBeginLouver","JTSingleCreateLouver","JTSingleLouverPipeline","JTSingleOverLouver","JTBeginMixScrolling","JTCreateMixScrolling","JTOverMixScrolling","JTRunMixScrolling","JTScrollingMixPipeline","JTScrollingMixPipelinePlugin","JTAdvanceBeginScrolling","JTBeginScrolling","JTCreateScrolling","JTEmptyBeginScrolling","JTOverScrollEliminate","JTOverScrollEliminateFallByRow","JTOverScrolling","JTRunScrolling","JTScrollingPipeline","JTBeginUnfixedLength","JTCreateUnfixedLength","JTOverUnfixedLength","JTRunUnfixedLength","JTUnfixedLengthPipeline","GameEventNames","DataConstant","DataElement","DataFreeLines","DataFreeRoller","DataGame","DataGameFreeLines","DataPayLine","DataRoller","DataSlotRandomGrid","LineType","RollingResult","SDictionary","BonusGameInfo","FreeGameInfo","GameConfig","SlotEnum","globalTaskFlags","BonusGameManager","FreeGameManager","GlobalQueueManager","JackPotGameManager","MultipleGameManager","PlayerManager","SimpleManagerTemplate","SlotConfigManager","SlotGameManager","SlotTimeManager","SpinManager","Handle","SlotUtils","SoundMger","TurnCoinView","TopUi","TurnSetting","BalanceUIAnimation","BetUIAnimation","CompensateUIAnimation","FadeUIAnimation","RuleUIAnimation","TurnSettingUIAnimation","UIBtnClickCtr","UIUtil","WinAniManager"]);